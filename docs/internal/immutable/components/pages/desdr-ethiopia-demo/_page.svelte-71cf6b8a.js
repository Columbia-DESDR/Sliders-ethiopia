import{S as Ue,i as We,s as Je,D as Qe,k as z,a as K,l as H,m as q,h as k,c as Z,n as A,b as R,E as V,F as Ye,G as Ke,H as Ze,f as $,t as te,X as ke,a3 as ft,a4 as ct,a5 as Qt,J as ce,a6 as oe,K as pe,v as Be,C as Sn,a7 as Ln,a8 as Ni,a9 as G,O as ie,aa as vt,a0 as Ot,T as it,q as ue,r as fe,u as Ce,e as dt,U as Yt,g as Oi,d as Ci,V as Ti,x as Se,y as Ae,z as Me,A as De,a1 as ii,ab as Bi,ac as Li,Q as Le,L as An,Y as zt,_ as ai,R as Vn,M as Vi,N as Pi,P as qi,o as Fi}from"../../../chunks/index-7cc81915.js";import{j as Pn,r as ji,k as zi,l as hn,n as qn,o as Fn,p as Hi,_ as jn,q as si,s as et,t as Ri,u as zn,v as Ui,w as Wi,x as gt,y as Ji,z as Mn,A as Dn,C as xi,D as Gi,E as Xi,m as Qi,F as wt,G as oi,J as Yi,K as li,L as Ki,M as Zi,N as $i,O as Ft,P as ea,f as Hn,c as ta,Q as ge,B as na,b as Rn,I as ra,i as Un,a as ia,d as aa,e as sa,g as oa,h as Mt,H as la,S as ua}from"../../../chunks/model_out-a4023712.js";import{D as me}from"../../../chunks/util-51240e5c.js";import{_ as fa}from"../../../chunks/preload-helper-41c905a7.js";function ut(e){return typeof e=="string"?new Pn([[document.querySelector(e)]],[document.documentElement]):new Pn([[e]],ji)}function jt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ca(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ui(e){let t,n,r;e.length!==2?(t=jt,n=(o,u)=>jt(e(o),u),r=(o,u)=>e(o)-u):(t=e===jt||e===ca?e:da,n=e,r=e);function i(o,u,l=0,f=o.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;n(o[c],u)<0?l=c+1:f=c}while(l<f)}return l}function a(o,u,l=0,f=o.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;n(o[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function s(o,u,l=0,f=o.length){const c=i(o,u,l,f-1);return c>l&&r(o[c-1],u)>-r(o[c],u)?c-1:c}return{left:i,center:s,right:a}}function da(){return 0}function ha(e){return e===null?NaN:+e}const ga=ui(jt),ma=ga.right;ui(ha).center;const pa=ma;class Wn extends Map{constructor(t,n=ya){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Jn(this,t))}has(t){return super.has(Jn(this,t))}set(t,n){return super.set(_a(this,t),n)}delete(t){return super.delete(ba(this,t))}}function Jn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _a({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ba({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ya(e){return e!==null&&typeof e=="object"?e.valueOf():e}const va=Math.sqrt(50),wa=Math.sqrt(10),ka=Math.sqrt(2);function Ht(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=va?10:a>=wa?5:a>=ka?2:1;let o,u,l;return i<0?(l=Math.pow(10,-i)/s,o=Math.round(e*l),u=Math.round(t*l),o/l<e&&++o,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*s,o=Math.round(e/l),u=Math.round(t/l),o*l<e&&++o,u*l>t&&--u),u<o&&.5<=n&&n<2?Ht(e,t,n*2):[o,u,l]}function Ea(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Ht(t,e,n):Ht(e,t,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)u[l]=(a-l)/-s;else for(let l=0;l<o;++l)u[l]=(a-l)*s;else if(s<0)for(let l=0;l<o;++l)u[l]=(i+l)/-s;else for(let l=0;l<o;++l)u[l]=(i+l)*s;return u}function gn(e,t,n){return t=+t,e=+e,n=+n,Ht(e,t,n)[2]}function Sa(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gn(t,e,n):gn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Aa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function In(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Gn=Symbol("implicit");function mt(){var e=new Wn,t=[],n=[],r=Gn;function i(a){let s=e.get(a);if(s===void 0){if(r!==Gn)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Wn;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mt(t,n).unknown(r)},In.apply(i,arguments),i}function kt(){var e=mt().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,u=0,l=0,f=.5;delete e.unknown;function c(){var d=t().length,h=i<r,_=h?i:r,v=h?r:i;a=(v-_)/Math.max(1,d-u+l*2),o&&(a=Math.floor(a)),_+=(v-_-a*(d-u))*f,s=a*(1-u),o&&(_=Math.round(_),s=Math.round(s));var S=Aa(d).map(function(b){return _+a*b});return n(h?S.reverse():S)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),c()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),c()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,c()):l},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return kt(t(),[r,i]).round(o).paddingInner(u).paddingOuter(l).align(f)},In.apply(c(),arguments)}function Da(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Ia(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Na(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Bt(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Oa(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ca(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bt(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function Bt(e,t){var n=typeof t,r;return t==null||n==="boolean"?zi(t):(n==="number"?hn:n==="string"?(r=qn(t))?(t=r,Fn):Hi:t instanceof qn?Fn:t instanceof Date?Oa:Ia(t)?Da:Array.isArray(t)?Na:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ca:hn)(e,t)}function fi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ta(e){return function(){return e}}function Ba(e){return+e}var Xn=[0,1];function lt(e){return e}function mn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ta(isNaN(t)?NaN:.5)}function La(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Va(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=mn(i,r),a=n(s,a)):(r=mn(r,i),a=n(a,s)),function(o){return a(r(o))}}function Pa(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=mn(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var u=pa(e,o,1,r)-1;return a[u](i[u](o))}}function qa(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Fa(){var e=Xn,t=Xn,n=Bt,r,i,a,s=lt,o,u,l;function f(){var d=Math.min(e.length,t.length);return s!==lt&&(s=La(e[0],e[d-1])),o=d>2?Pa:Va,u=l=null,c}function c(d){return d==null||isNaN(d=+d)?a:(u||(u=o(e.map(r),t,n)))(r(s(d)))}return c.invert=function(d){return s(i((l||(l=o(t,e.map(r),hn)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Ba),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=fi,f()},c.clamp=function(d){return arguments.length?(s=d?!0:lt,f()):s!==lt},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,h){return r=d,i=h,f()}}function ja(){return Fa()(lt,lt)}function za(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Et(e){return e=Rt(Math.abs(e)),e?e[1]:NaN}function Ha(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Ra(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ua=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ut(e){if(!(t=Ua.exec(e)))throw new Error("invalid format: "+e);var t;return new Nn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ut.prototype=Nn.prototype;function Nn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wa(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ci;function Ja(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(ci=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rt(e,Math.max(0,t+a-1))[0]}function Qn(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:za,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qn(e*100,t),r:Qn,s:Ja,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Kn(e){return e}var Zn=Array.prototype.map,$n=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xa(e){var t=e.grouping===void 0||e.thousands===void 0?Kn:Ha(Zn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Kn:Ra(Zn.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(c){c=Ut(c);var d=c.fill,h=c.align,_=c.sign,v=c.symbol,S=c.zero,b=c.width,y=c.comma,m=c.precision,g=c.trim,p=c.type;p==="n"?(y=!0,p="g"):Yn[p]||(m===void 0&&(m=12),g=!0,p="g"),(S||d==="0"&&h==="=")&&(S=!0,d="0",h="=");var C=v==="$"?n:v==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",E=v==="$"?r:/[%p]/.test(p)?s:"",O=Yn[p],j=/[defgprs%]/.test(p);m=m===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(D){var M=C,L=E,B,N,Q;if(p==="c")L=O(D)+L,D="";else{D=+D;var we=D<0||1/D<0;if(D=isNaN(D)?u:O(Math.abs(D),m),g&&(D=Wa(D)),we&&+D==0&&_!=="+"&&(we=!1),M=(we?_==="("?_:o:_==="-"||_==="("?"":_)+M,L=(p==="s"?$n[8+ci/3]:"")+L+(we&&_==="("?")":""),j){for(B=-1,N=D.length;++B<N;)if(Q=D.charCodeAt(B),48>Q||Q>57){L=(Q===46?i+D.slice(B+1):D.slice(B))+L,D=D.slice(0,B);break}}}y&&!S&&(D=t(D,1/0));var W=M.length+D.length+L.length,ne=W<b?new Array(b-W+1).join(d):"";switch(y&&S&&(D=t(ne+D,ne.length?b-L.length:1/0),ne=""),h){case"<":D=M+D+L+ne;break;case"=":D=M+ne+D+L;break;case"^":D=ne.slice(0,W=ne.length>>1)+M+D+L+ne.slice(W);break;default:D=ne+M+D+L;break}return a(D)}return P.toString=function(){return c+""},P}function f(c,d){var h=l((c=Ut(c),c.type="f",c)),_=Math.max(-8,Math.min(8,Math.floor(Et(d)/3)))*3,v=Math.pow(10,-_),S=$n[8+_/3];return function(b){return h(v*b)+S}}return{format:l,formatPrefix:f}}var Lt,Kt,di;Ga({thousands:",",grouping:[3],currency:["$",""]});function Ga(e){return Lt=xa(e),Kt=Lt.format,di=Lt.formatPrefix,Lt}function Xa(e){return Math.max(0,-Et(Math.abs(e)))}function Qa(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Et(t)/3)))*3-Et(Math.abs(e)))}function Ya(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Et(t)-Et(e))+1}function Ka(e,t,n,r){var i=Sa(e,t,n),a;switch(r=Ut(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Qa(i,s))&&(r.precision=a),di(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Ya(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Xa(i))&&(r.precision=a-(r.type==="%")*2);break}}return Kt(r)}function hi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ea(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ka(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],u,l,f=10;for(o<s&&(l=s,s=o,o=l,l=i,i=a,a=l);f-- >0;){if(l=gn(s,o,n),l===u)return r[i]=s,r[a]=o,t(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;u=l}return e},e}function St(){var e=ja();return e.copy=function(){return qa(e,St())},In.apply(e,arguments),hi(e)}function Za(){var e=0,t=1,n,r,i,a,s=lt,o=!1,u;function l(c){return c==null||isNaN(c=+c)?u:s(i===0?.5:(c=(a(c)-n)*i,o?Math.max(0,Math.min(1,c)):c))}l.domain=function(c){return arguments.length?([e,t]=c,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(c){return arguments.length?(o=!!c,l):o},l.interpolator=function(c){return arguments.length?(s=c,l):s};function f(c){return function(d){var h,_;return arguments.length?([h,_]=d,s=c(h,_),l):[s(0),s(1)]}}return l.range=f(Bt),l.rangeRound=f(fi),l.unknown=function(c){return arguments.length?(u=c,l):u},function(c){return a=c,n=c(e),r=c(t),i=n===r?0:1/(r-n),l}}function $a(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gi(){var e=hi(Za()(lt));return e.copy=function(){return $a(e,gi())},Ma.apply(e,arguments)}function mi(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var o;s<t.length&&(!jn(t[s])||i>=arguments.length)?o=t[s]:(o=arguments[i],i+=1),r[s]=o,jn(o)||(a-=1),s+=1}return a<=0?n.apply(this,r):si(a,mi(e,r,n))}}var es=et(function(t,n){return t===1?Ri(n):si(t,mi(t,[],n))});const ts=es;function ns(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var rs=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=zn.init,e.prototype["@@transducer/result"]=zn.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),is=et(function(t,n){return new rs(t,n)});const as=is;var ss=et(Ui(["fantasy-land/map","map"],as,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return ts(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return Wi(function(r,i){return r[i]=t(n[i]),r},{},gt(n));default:return ns(t,n)}}));const os=ss,Zt=Number.isInteger||function(t){return t<<0===t};var ls=et(function(t,n){var r=t<0?n.length+t:t;return Ji(n)?n.charAt(r):n[r]});const pi=ls;var us=et(function(t,n){if(n!=null)return Zt(t)?pi(t,n):n[t]});const fs=us;var cs=et(function(t,n){return os(fs(t),n)});const pn=cs;function ds(e,t,n){if(Zt(e)&&Mn(n)){var r=[].concat(n);return r[e]=t,r}var i={};for(var a in n)i[a]=n[a];return i[e]=t,i}var hs=et(function(t,n){return n==null||n!==n?t:n});const gs=hs;var ms=et(function(t,n){for(var r=gt(n),i=0;i<r.length;){var a=r[i];t(n[a],a,n),i+=1}return n});const Wt=ms;function er(e){return Object.prototype.toString.call(e)==="[object Number]"}var ps=et(function(t,n){return t.map(function(r){for(var i=n,a=0,s;a<r.length;){if(i==null)return;s=r[a],i=Zt(s)?pi(s,i):i[s],a+=1}return i})});const _s=ps;var bs=et(function(t,n){return _s([t],n)[0]});const _i=bs;function ys(e,t,n){if(Zt(e)&&Mn(n)){var r=[].concat(n);return r[e]=t(r[e]),r}var i={};for(var a in n)i[a]=n[a];return i[e]=t(i[e]),i}var vs=Dn(function e(t,n,r){if(!xi(r)&&!Mn(r)||t.length===0)return r;var i=t[0];if(!Gi(i,r))return r;if(t.length===1)return ys(i,n,r);var a=e(Array.prototype.slice.call(t,1),n,r[i]);return a===r[i]?r:ds(i,a,r)});const ws=vs;var ks=Dn(function(t,n,r){return ws([t],n,r)});const tr=ks;var Es=Dn(function(t,n,r){return gs(t,_i(n,r))});const Ss=Es;var As=et(function(t,n){if(!(er(t)&&er(n)))throw new TypeError("Both arguments to range must be numbers");for(var r=[],i=t;i<n;)r.push(i),i+=1;return r});const Ms=As;function Ds(e){return e}var nn=1,rn=2,_n=3,It=4,nr=1e-6;function Is(e){return"translate("+e+",0)"}function Ns(e){return"translate(0,"+e+")"}function Os(e){return t=>+e(t)}function Cs(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Ts(){return!this.__axis}function bi(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===nn||e===It?-1:1,f=e===It||e===rn?"x":"y",c=e===nn||e===_n?Is:Ns;function d(h){var _=r??(t.ticks?t.ticks.apply(t,n):t.domain()),v=i??(t.tickFormat?t.tickFormat.apply(t,n):Ds),S=Math.max(a,0)+o,b=t.range(),y=+b[0]+u,m=+b[b.length-1]+u,g=(t.bandwidth?Cs:Os)(t.copy(),u),p=h.selection?h.selection():h,C=p.selectAll(".domain").data([null]),E=p.selectAll(".tick").data(_,t).order(),O=E.exit(),j=E.enter().append("g").attr("class","tick"),P=E.select("line"),D=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(j),P=P.merge(j.append("line").attr("stroke","currentColor").attr(f+"2",l*a)),D=D.merge(j.append("text").attr("fill","currentColor").attr(f,l*S).attr("dy",e===nn?"0em":e===_n?"0.71em":"0.32em")),h!==p&&(C=C.transition(h),E=E.transition(h),P=P.transition(h),D=D.transition(h),O=O.transition(h).attr("opacity",nr).attr("transform",function(M){return isFinite(M=g(M))?c(M+u):this.getAttribute("transform")}),j.attr("opacity",nr).attr("transform",function(M){var L=this.parentNode.__axis;return c((L&&isFinite(L=L(M))?L:g(M))+u)})),O.remove(),C.attr("d",e===It||e===rn?s?"M"+l*s+","+y+"H"+u+"V"+m+"H"+l*s:"M"+u+","+y+"V"+m:s?"M"+y+","+l*s+"V"+u+"H"+m+"V"+l*s:"M"+y+","+u+"H"+m),E.attr("opacity",1).attr("transform",function(M){return c(g(M)+u)}),P.attr(f+"2",l*a),D.attr(f,l*S).text(v),p.filter(Ts).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===rn?"start":e===It?"end":"middle"),p.each(function(){this.__axis=g})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=s=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(s=+h,d):s},d.tickPadding=function(h){return arguments.length?(o=+h,d):o},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function $t(e){return bi(_n,e)}function en(e){return bi(It,e)}const bn=Math.PI,yn=2*bn,ht=1e-6,Bs=yn-ht;function yi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ls(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yi;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vs{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yi:Ls(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-t,l=i-n,f=s-t,c=o-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>ht)if(!(Math.abs(c*u-l*f)>ht)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,_=i-o,v=u*u+l*l,S=h*h+_*_,b=Math.sqrt(v),y=Math.sqrt(d),m=a*Math.tan((bn-Math.acos((v+d-S)/(2*b*y)))/2),g=m/y,p=m/b;Math.abs(g-1)>ht&&this._append`L${t+g*f},${n+g*c}`,this._append`A${a},${a},0,0,${+(c*h>f*_)},${this._x1=t+p*u},${this._y1=n+p*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),l=t+o,f=n+u,c=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>ht||Math.abs(this._y1-f)>ht)&&this._append`L${l},${f}`,r&&(d<0&&(d=d%yn+yn),d>Bs?this._append`A${r},${r},0,1,${c},${t-o},${n-u}A${r},${r},0,1,${c},${this._x1=l},${this._y1=f}`:d>ht&&this._append`A${r},${r},0,${+(d>=bn)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ps(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Ct=Ps("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function pt(e){return function(){return e}}function qs(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Vs(t)}function Fs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vi(e){this._context=e}vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function js(e){return new vi(e)}function zs(e){return e[0]}function Hs(e){return e[1]}function Rs(e,t){var n=pt(!0),r=null,i=js,a=null,s=qs(o);e=typeof e=="function"?e:e===void 0?zs:pt(e),t=typeof t=="function"?t:t===void 0?Hs:pt(t);function o(u){var l,f=(u=Fs(u)).length,c,d=!1,h;for(r==null&&(a=i(h=s())),l=0;l<=f;++l)!(l<f&&n(c=u[l],l,u))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,u),+t(c,l,u));if(h)return a=null,h+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:pt(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:pt(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:pt(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}var Jt={},Us={get exports(){return Jt},set exports(e){Jt=e}},Ws=Us.exports={};Ws.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Js=function(e){var t=e.stateHandler.getState;function n(s){var o=t(s);return o&&!!o.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,o){t(s).busy=!!o}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},xs=function(e){var t={};function n(s){var o=e.get(s);return o===void 0?[]:t[o]||[]}function r(s,o){var u=e.get(s);t[u]||(t[u]=[]),t[u].push(o)}function i(s,o){for(var u=n(s),l=0,f=u.length;l<f;++l)if(u[l]===o){u.splice(l,1);break}}function a(s){var o=n(s);o&&(o.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},Gs=function(){var e=1;function t(){return e++}return{generate:t}},Xs=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return s.id=o,o}return{get:r,set:i}},Qs=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var o=console[a];if(o.apply)o.apply(console,arguments);else for(var u=0;u<arguments.length;u++)o(arguments[u])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},xt={},Ys={get exports(){return xt},set exports(e){xt=e}},wi=Ys.exports={};wi.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};wi.isLegacyOpera=function(){return!!window.opera};var vn={},Ks={get exports(){return vn},set exports(e){vn=e}},Zs=Ks.exports={};Zs.getOption=$s;function $s(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var rr=vn,eo=function(t){t=t||{};var n=t.reporter,r=rr.getOption(t,"async",!0),i=rr.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=ir(),s,o=!1;function u(_,v){!o&&i&&r&&a.size()===0&&c(),a.add(_,v)}function l(){for(o=!0;a.size();){var _=a;a=ir(),_.process()}o=!1}function f(_){o||(_===void 0&&(_=r),s&&(d(s),s=null),_?c():l())}function c(){s=h(l)}function d(_){var v=clearTimeout;return v(_)}function h(_){var v=function(S){return setTimeout(S,0)};return v(_)}return{add:u,force:f}};function ir(){var e={},t=0,n=0,r=0;function i(o,u){u||(u=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(u),t++}function a(){for(var o=r;o<=n;o++)for(var u=e[o],l=0;l<u.length;l++){var f=u[l];f()}}function s(){return t}return{add:i,process:a,size:s}}var On="_erd";function to(e){return e[On]={},ki(e)}function ki(e){return e[On]}function no(e){delete e[On]}var ro={initState:to,getState:ki,cleanState:no},Dt=xt,io=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,f){function c(){f(l)}if(Dt.isIE(8))r(l).object={proxy:c},l.attachEvent("onresize",c);else{var d=o(l);if(!d)throw new Error("Element is not detectable by this strategy.");d.contentDocument.defaultView.addEventListener("resize",c)}}function a(l){var f=e.important?" !important; ":"; ";return(l.join(f)+f).trim()}function s(l,f,c){c||(c=f,f=l,l=null),l=l||{},l.debug;function d(h,_){var v=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),S=!1,b=window.getComputedStyle(h),y=h.offsetWidth,m=h.offsetHeight;r(h).startSize={width:y,height:m};function g(){function p(){if(b.position==="static"){h.style.setProperty("position","relative",l.important?"important":"");var O=function(j,P,D,M){function L(N){return N.replace(/[^-\d\.]/g,"")}var B=D[M];B!=="auto"&&L(B)!=="0"&&(j.warn("An element that is positioned static has style."+M+"="+B+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+M+" will be set to 0. Element: ",P),P.style.setProperty(M,"0",l.important?"important":""))};O(t,h,b,"top"),O(t,h,b,"right"),O(t,h,b,"bottom"),O(t,h,b,"left")}}function C(){S||p();function O(P,D){if(!P.contentDocument){var M=r(P);M.checkForObjectDocumentTimeoutId&&window.clearTimeout(M.checkForObjectDocumentTimeoutId),M.checkForObjectDocumentTimeoutId=setTimeout(function(){M.checkForObjectDocumentTimeoutId=0,O(P,D)},100);return}D(P.contentDocument)}var j=this;O(j,function(D){_(h)})}b.position!==""&&(p(),S=!0);var E=document.createElement("object");E.style.cssText=v,E.tabIndex=-1,E.type="text/html",E.setAttribute("aria-hidden","true"),E.onload=C,Dt.isIE()||(E.data="about:blank"),r(h)&&(h.appendChild(E),r(h).object=E,Dt.isIE()&&(E.data="about:blank"))}n?n.add(g):g()}Dt.isIE(8)?c(f):d(f,c)}function o(l){return r(l).object}function u(l){if(r(l)){var f=o(l);f&&(Dt.isIE(8)?l.detachEvent("onresize",f.proxy):l.removeChild(f),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:s,addListener:i,uninstall:u}},ao=Jt.forEach,so=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=f(),s="erd_scroll_detection_scrollbar_style",o="erd_scroll_detection_container";function u(g){c(g,s,o)}u(window.document);function l(g){var p=e.important?" !important; ":"; ";return(g.join(p)+p).trim()}function f(){var g=500,p=500,C=document.createElement("div");C.style.cssText=l(["position: absolute","width: "+g*2+"px","height: "+p*2+"px","visibility: hidden","margin: 0","padding: 0"]);var E=document.createElement("div");E.style.cssText=l(["position: absolute","width: "+g+"px","height: "+p+"px","overflow: scroll","visibility: none","top: "+-g*3+"px","left: "+-p*3+"px","visibility: hidden","margin: 0","padding: 0"]),E.appendChild(C),document.body.insertBefore(E,document.body.firstChild);var O=g-E.clientWidth,j=p-E.clientHeight;return document.body.removeChild(E),{width:O,height:j}}function c(g,p,C){function E(D,M){M=M||function(B){g.head.appendChild(B)};var L=g.createElement("style");return L.innerHTML=D,L.id=p,M(L),L}if(!g.getElementById(p)){var O=C+"_animation",j=C+"_animation_active",P=`/* Created by the element-resize-detector library. */
`;P+="."+C+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,P+="."+j+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+O,"animation-name: "+O])+` }
`,P+="@-webkit-keyframes "+O+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,P+="@keyframes "+O+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",E(P)}}function d(g){g.className+=" "+o+"_animation_active"}function h(g,p,C){if(g.addEventListener)g.addEventListener(p,C);else if(g.attachEvent)g.attachEvent("on"+p,C);else return t.error("[scroll] Don't know how to add event listeners.")}function _(g,p,C){if(g.removeEventListener)g.removeEventListener(p,C);else if(g.detachEvent)g.detachEvent("on"+p,C);else return t.error("[scroll] Don't know how to remove event listeners.")}function v(g){return r(g).container.childNodes[0].childNodes[0].childNodes[0]}function S(g){return r(g).container.childNodes[0].childNodes[0].childNodes[1]}function b(g,p){var C=r(g).listeners;if(!C.push)throw new Error("Cannot add listener to an element that is not detectable.");r(g).listeners.push(p)}function y(g,p,C){C||(C=p,p=g,g=null),g=g||{};function E(){if(g.debug){var F=Array.prototype.slice.call(arguments);if(F.unshift(i.get(p),"Scroll: "),t.log.apply)t.log.apply(null,F);else for(var J=0;J<F.length;J++)t.log(F[J])}}function O(F){function J(ee){var le=ee.getRootNode&&ee.getRootNode().contains(ee);return ee===ee.ownerDocument.body||ee.ownerDocument.body.contains(ee)||le}return!J(F)||window.getComputedStyle(F)===null}function j(F){var J=r(F).container.childNodes[0],ee=window.getComputedStyle(J);return!ee.width||ee.width.indexOf("px")===-1}function P(){var F=window.getComputedStyle(p),J={};return J.position=F.position,J.width=p.offsetWidth,J.height=p.offsetHeight,J.top=F.top,J.right=F.right,J.bottom=F.bottom,J.left=F.left,J.widthCSS=F.width,J.heightCSS=F.height,J}function D(){var F=P();r(p).startSize={width:F.width,height:F.height},E("Element start size",r(p).startSize)}function M(){r(p).listeners=[]}function L(){if(E("storeStyle invoked."),!r(p)){E("Aborting because element has been uninstalled");return}var F=P();r(p).style=F}function B(F,J,ee){r(F).lastWidth=J,r(F).lastHeight=ee}function N(F){return v(F).childNodes[0]}function Q(){return 2*a.width+1}function we(){return 2*a.height+1}function W(F){return F+10+Q()}function ne(F){return F+10+we()}function X(F){return F*2+Q()}function Ie(F){return F*2+we()}function de(F,J,ee){var le=v(F),I=S(F),U=W(J),Pe=ne(ee),he=X(J),Y=Ie(ee);le.scrollLeft=U,le.scrollTop=Pe,I.scrollLeft=he,I.scrollTop=Y}function Ve(){var F=r(p).container;if(!F){F=document.createElement("div"),F.className=o,F.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(p).container=F,d(F),p.appendChild(F);var J=function(){r(p).onRendered&&r(p).onRendered()};h(F,"animationstart",J),r(p).onAnimationStart=J}return F}function _e(){function F(){var ve=r(p).style;if(ve.position==="static"){p.style.setProperty("position","relative",g.important?"important":"");var je=function(Ge,Xe,nt,w){function x(se){return se.replace(/[^-\d\.]/g,"")}var ae=nt[w];ae!=="auto"&&x(ae)!=="0"&&(Ge.warn("An element that is positioned static has style."+w+"="+ae+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+w+" will be set to 0. Element: ",Xe),Xe.style[w]=0)};je(t,p,ve,"top"),je(t,p,ve,"right"),je(t,p,ve,"bottom"),je(t,p,ve,"left")}}function J(ve,je,Ge,Xe){return ve=ve?ve+"px":"0",je=je?je+"px":"0",Ge=Ge?Ge+"px":"0",Xe=Xe?Xe+"px":"0",["left: "+ve,"top: "+je,"right: "+Xe,"bottom: "+Ge]}if(E("Injecting elements"),!r(p)){E("Aborting because element has been uninstalled");return}F();var ee=r(p).container;ee||(ee=Ve());var le=a.width,I=a.height,U=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Pe=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(J(-(1+le),-(1+I),-I,-le))),he=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Y=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Ne=l(["position: absolute","left: 0","top: 0"]),ze=l(["position: absolute","width: 200%","height: 200%"]),Ee=document.createElement("div"),ye=document.createElement("div"),qe=document.createElement("div"),xe=document.createElement("div"),Fe=document.createElement("div"),He=document.createElement("div");Ee.dir="ltr",Ee.style.cssText=U,Ee.className=o,ye.className=o,ye.style.cssText=Pe,qe.style.cssText=he,xe.style.cssText=Ne,Fe.style.cssText=Y,He.style.cssText=ze,qe.appendChild(xe),Fe.appendChild(He),ye.appendChild(qe),ye.appendChild(Fe),Ee.appendChild(ye),ee.appendChild(Ee);function at(){var ve=r(p);ve&&ve.onExpand?ve.onExpand():E("Aborting expand scroll handler: element has been uninstalled")}function Re(){var ve=r(p);ve&&ve.onShrink?ve.onShrink():E("Aborting shrink scroll handler: element has been uninstalled")}h(qe,"scroll",at),h(Fe,"scroll",Re),r(p).onExpandScroll=at,r(p).onShrinkScroll=Re}function T(){function F(he,Y,Ne){var ze=N(he),Ee=W(Y),ye=ne(Ne);ze.style.setProperty("width",Ee+"px",g.important?"important":""),ze.style.setProperty("height",ye+"px",g.important?"important":"")}function J(he){var Y=p.offsetWidth,Ne=p.offsetHeight,ze=Y!==r(p).lastWidth||Ne!==r(p).lastHeight;E("Storing current size",Y,Ne),B(p,Y,Ne),n.add(0,function(){if(ze){if(!r(p)){E("Aborting because element has been uninstalled");return}if(!ee()){E("Aborting because element container has not been initialized");return}if(g.debug){var ye=p.offsetWidth,qe=p.offsetHeight;(ye!==Y||qe!==Ne)&&t.warn(i.get(p),"Scroll: Size changed before updating detector elements.")}F(p,Y,Ne)}}),n.add(1,function(){if(!r(p)){E("Aborting because element has been uninstalled");return}if(!ee()){E("Aborting because element container has not been initialized");return}de(p,Y,Ne)}),ze&&he&&n.add(2,function(){if(!r(p)){E("Aborting because element has been uninstalled");return}if(!ee()){E("Aborting because element container has not been initialized");return}he()})}function ee(){return!!r(p).container}function le(){function he(){return r(p).lastNotifiedWidth===void 0}E("notifyListenersIfNeeded invoked");var Y=r(p);if(he()&&Y.lastWidth===Y.startSize.width&&Y.lastHeight===Y.startSize.height)return E("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Y.lastWidth===Y.lastNotifiedWidth&&Y.lastHeight===Y.lastNotifiedHeight)return E("Not notifying: Size already notified");E("Current size not notified, notifying..."),Y.lastNotifiedWidth=Y.lastWidth,Y.lastNotifiedHeight=Y.lastHeight,ao(r(p).listeners,function(Ne){Ne(p)})}function I(){if(E("startanimation triggered."),j(p)){E("Ignoring since element is still unrendered...");return}E("Element rendered.");var he=v(p),Y=S(p);(he.scrollLeft===0||he.scrollTop===0||Y.scrollLeft===0||Y.scrollTop===0)&&(E("Scrollbars out of sync. Updating detector elements..."),J(le))}function U(){if(E("Scroll detected."),j(p)){E("Scroll event fired while unrendered. Ignoring...");return}J(le)}if(E("registerListenersAndPositionElements invoked."),!r(p)){E("Aborting because element has been uninstalled");return}r(p).onRendered=I,r(p).onExpand=U,r(p).onShrink=U;var Pe=r(p).style;F(p,Pe.width,Pe.height)}function re(){if(E("finalizeDomMutation invoked."),!r(p)){E("Aborting because element has been uninstalled");return}var F=r(p).style;B(p,F.width,F.height),de(p,F.width,F.height)}function Te(){C(p)}function be(){E("Installing..."),M(),D(),n.add(0,L),n.add(1,_e),n.add(2,T),n.add(3,re),n.add(4,Te)}E("Making detectable..."),O(p)?(E("Element is detached"),Ve(),E("Waiting until element is attached..."),r(p).onRendered=function(){E("Element is now attached"),be()}):be()}function m(g){var p=r(g);p&&(p.onExpandScroll&&_(v(g),"scroll",p.onExpandScroll),p.onShrinkScroll&&_(S(g),"scroll",p.onShrinkScroll),p.onAnimationStart&&_(p.container,"animationstart",p.onAnimationStart),p.container&&g.removeChild(p.container))}return{makeDetectable:y,addListener:b,uninstall:m,initDocument:u}},Nt=Jt.forEach,oo=Js,lo=xs,uo=Gs,fo=Xs,co=Qs,ar=xt,ho=eo,st=ro,go=io,mo=so;function sr(e){return Array.isArray(e)||e.length!==void 0}function or(e){if(Array.isArray(e))return e;var t=[];return Nt(e,function(n){t.push(n)}),t}function lr(e){return e&&e.nodeType===1}var po=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=uo(),r=fo({idGenerator:n,stateHandler:st});t=r}var i=e.reporter;if(!i){var a=i===!1;i=co(a)}var s=ot(e,"batchProcessor",ho({reporter:i})),o={};o.callOnAdd=!!ot(e,"callOnAdd",!0),o.debug=!!ot(e,"debug",!1);var u=lo(t),l=oo({stateHandler:st}),f,c=ot(e,"strategy","object"),d=ot(e,"important",!1),h={reporter:i,batchProcessor:s,stateHandler:st,idHandler:t,important:d};if(c==="scroll"&&(ar.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),c="object"):ar.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),c="object")),c==="scroll")f=mo(h);else if(c==="object")f=go(h);else throw new Error("Invalid strategy name: "+c);var _={};function v(y,m,g){function p(D){var M=u.get(D);Nt(M,function(B){B(D)})}function C(D,M,L){u.add(M,L),D&&L(M)}if(g||(g=m,m=y,y={}),!m)throw new Error("At least one element required.");if(!g)throw new Error("Listener required.");if(lr(m))m=[m];else if(sr(m))m=or(m);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var E=0,O=ot(y,"callOnAdd",o.callOnAdd),j=ot(y,"onReady",function(){}),P=ot(y,"debug",o.debug);Nt(m,function(M){st.getState(M)||(st.initState(M),t.set(M));var L=t.get(M);if(P&&i.log("Attaching listener to element",L,M),!l.isDetectable(M)){if(P&&i.log(L,"Not detectable."),l.isBusy(M)){P&&i.log(L,"System busy making it detectable"),C(O,M,g),_[L]=_[L]||[],_[L].push(function(){E++,E===m.length&&j()});return}return P&&i.log(L,"Making detectable..."),l.markBusy(M,!0),f.makeDetectable({debug:P,important:d},M,function(N){if(P&&i.log(L,"onElementDetectable"),st.getState(N)){l.markAsDetectable(N),l.markBusy(N,!1),f.addListener(N,p),C(O,N,g);var Q=st.getState(N);if(Q&&Q.startSize){var we=N.offsetWidth,W=N.offsetHeight;(Q.startSize.width!==we||Q.startSize.height!==W)&&p(N)}_[L]&&Nt(_[L],function(ne){ne()})}else P&&i.log(L,"Element uninstalled before being detectable.");delete _[L],E++,E===m.length&&j()})}P&&i.log(L,"Already detecable, adding listener."),C(O,M,g),E++}),E===m.length&&j()}function S(y){if(!y)return i.error("At least one element is required.");if(lr(y))y=[y];else if(sr(y))y=or(y);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Nt(y,function(m){u.removeAllListeners(m),f.uninstall(m),st.cleanState(m)})}function b(y){f.initDocument&&f.initDocument(y)}return{listenTo:v,removeListener:u.removeListener,removeAllListeners:u.removeAllListeners,uninstall:S,initDocument:b}};function ot(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var Vt=po({strategy:"scroll"});function tn(e,t){Vt.listenTo(e,t);var n=t;return{update:function(r){Vt.removeListener(e,n),Vt.listenTo(e,r),n=r},destroy:function(){Vt.removeListener(e,n)}}}class Pt extends Xi{constructor(){super(),this.overlays={}}async execute(t,n){this.overlays=Qi(this.overlays,t),this.emit("data",this.overlays,"overlay")}}const _o=e=>({}),ur=e=>({}),bo=e=>({}),fr=e=>({}),yo=e=>({}),cr=e=>({}),vo=e=>({}),dr=e=>({}),wo=e=>({}),hr=e=>({}),ko=e=>({}),gr=e=>({}),Eo=e=>({}),mr=e=>({}),So=e=>({}),pr=e=>({}),Ao=e=>({}),_r=e=>({}),Mo=e=>({}),br=e=>({}),Do=e=>({}),yr=e=>({}),Io=e=>({}),vr=e=>({});function No(e){let t,n,r,i,a,s,o,u,l,f,c,d,h,_,v,S,b,y,m,g,p,C,E,O;const j=e[1].header,P=Qe(j,e,e[0],vr),D=e[1].alert,M=Qe(D,e,e[0],yr),L=e[1].dropdown1,B=Qe(L,e,e[0],br),N=e[1].dropdown2,Q=Qe(N,e,e[0],_r),we=e[1].chart1,W=Qe(we,e,e[0],pr),ne=e[1].chart2,X=Qe(ne,e,e[0],mr),Ie=e[1].chart3,de=Qe(Ie,e,e[0],gr),Ve=e[1].chart4,_e=Qe(Ve,e,e[0],hr),T=e[1].slider1,re=Qe(T,e,e[0],dr),Te=e[1].slider2,be=Qe(Te,e,e[0],cr),F=e[1].slider3,J=Qe(F,e,e[0],fr),ee=e[1].slider4,le=Qe(ee,e,e[0],ur);return{c(){t=z("div"),n=z("div"),P&&P.c(),r=K(),i=z("div"),M&&M.c(),a=K(),s=z("div"),B&&B.c(),o=K(),Q&&Q.c(),u=K(),l=z("div"),W&&W.c(),f=K(),c=z("div"),X&&X.c(),d=K(),h=z("div"),de&&de.c(),_=K(),v=z("div"),_e&&_e.c(),S=K(),b=z("div"),re&&re.c(),y=K(),m=z("div"),be&&be.c(),g=K(),p=z("div"),J&&J.c(),C=K(),E=z("div"),le&&le.c(),this.h()},l(I){t=H(I,"DIV",{class:!0});var U=q(t);n=H(U,"DIV",{class:!0});var Pe=q(n);P&&P.l(Pe),Pe.forEach(k),r=Z(U),i=H(U,"DIV",{class:!0});var he=q(i);M&&M.l(he),he.forEach(k),a=Z(U),s=H(U,"DIV",{class:!0});var Y=q(s);B&&B.l(Y),o=Z(Y),Q&&Q.l(Y),Y.forEach(k),u=Z(U),l=H(U,"DIV",{class:!0});var Ne=q(l);W&&W.l(Ne),Ne.forEach(k),f=Z(U),c=H(U,"DIV",{class:!0});var ze=q(c);X&&X.l(ze),ze.forEach(k),d=Z(U),h=H(U,"DIV",{class:!0});var Ee=q(h);de&&de.l(Ee),Ee.forEach(k),_=Z(U),v=H(U,"DIV",{class:!0});var ye=q(v);_e&&_e.l(ye),ye.forEach(k),S=Z(U),b=H(U,"DIV",{class:!0});var qe=q(b);re&&re.l(qe),qe.forEach(k),y=Z(U),m=H(U,"DIV",{class:!0});var xe=q(m);be&&be.l(xe),xe.forEach(k),g=Z(U),p=H(U,"DIV",{class:!0});var Fe=q(p);J&&J.l(Fe),Fe.forEach(k),C=Z(U),E=H(U,"DIV",{class:!0});var He=q(E);le&&le.l(He),He.forEach(k),U.forEach(k),this.h()},h(){A(n,"class","mx-auto"),A(i,"class",""),A(s,"class","mx-auto"),A(l,"class",""),A(c,"class",""),A(h,"class",""),A(v,"class",""),A(b,"class",""),A(m,"class",""),A(p,"class",""),A(E,"class",""),A(t,"class","px-5 py-2 bg-white border-solid border-2 border-black")},m(I,U){R(I,t,U),V(t,n),P&&P.m(n,null),V(t,r),V(t,i),M&&M.m(i,null),V(t,a),V(t,s),B&&B.m(s,null),V(s,o),Q&&Q.m(s,null),V(t,u),V(t,l),W&&W.m(l,null),V(t,f),V(t,c),X&&X.m(c,null),V(t,d),V(t,h),de&&de.m(h,null),V(t,_),V(t,v),_e&&_e.m(v,null),V(t,S),V(t,b),re&&re.m(b,null),V(t,y),V(t,m),be&&be.m(m,null),V(t,g),V(t,p),J&&J.m(p,null),V(t,C),V(t,E),le&&le.m(E,null),O=!0},p(I,[U]){P&&P.p&&(!O||U&1)&&Ye(P,j,I,I[0],O?Ze(j,I[0],U,Io):Ke(I[0]),vr),M&&M.p&&(!O||U&1)&&Ye(M,D,I,I[0],O?Ze(D,I[0],U,Do):Ke(I[0]),yr),B&&B.p&&(!O||U&1)&&Ye(B,L,I,I[0],O?Ze(L,I[0],U,Mo):Ke(I[0]),br),Q&&Q.p&&(!O||U&1)&&Ye(Q,N,I,I[0],O?Ze(N,I[0],U,Ao):Ke(I[0]),_r),W&&W.p&&(!O||U&1)&&Ye(W,we,I,I[0],O?Ze(we,I[0],U,So):Ke(I[0]),pr),X&&X.p&&(!O||U&1)&&Ye(X,ne,I,I[0],O?Ze(ne,I[0],U,Eo):Ke(I[0]),mr),de&&de.p&&(!O||U&1)&&Ye(de,Ie,I,I[0],O?Ze(Ie,I[0],U,ko):Ke(I[0]),gr),_e&&_e.p&&(!O||U&1)&&Ye(_e,Ve,I,I[0],O?Ze(Ve,I[0],U,wo):Ke(I[0]),hr),re&&re.p&&(!O||U&1)&&Ye(re,T,I,I[0],O?Ze(T,I[0],U,vo):Ke(I[0]),dr),be&&be.p&&(!O||U&1)&&Ye(be,Te,I,I[0],O?Ze(Te,I[0],U,yo):Ke(I[0]),cr),J&&J.p&&(!O||U&1)&&Ye(J,F,I,I[0],O?Ze(F,I[0],U,bo):Ke(I[0]),fr),le&&le.p&&(!O||U&1)&&Ye(le,ee,I,I[0],O?Ze(ee,I[0],U,_o):Ke(I[0]),ur)},i(I){O||($(P,I),$(M,I),$(B,I),$(Q,I),$(W,I),$(X,I),$(de,I),$(_e,I),$(re,I),$(be,I),$(J,I),$(le,I),O=!0)},o(I){te(P,I),te(M,I),te(B,I),te(Q,I),te(W,I),te(X,I),te(de,I),te(_e,I),te(re,I),te(be,I),te(J,I),te(le,I),O=!1},d(I){I&&k(t),P&&P.d(I),M&&M.d(I),B&&B.d(I),Q&&Q.d(I),W&&W.d(I),X&&X.d(I),de&&de.d(I),_e&&_e.d(I),re&&re.d(I),be&&be.d(I),J&&J.d(I),le&&le.d(I)}}}function Oo(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class qt extends Ue{constructor(t){super(),We(this,t,Oo,No,Je,{})}}function Co(e){let t,n,r,i,a,s,o,u;return{c(){t=z("div"),n=K(),r=z("div"),i=ft("svg"),a=ft("g"),this.h()},l(l){t=H(l,"DIV",{}),q(t).forEach(k),n=Z(l),r=H(l,"DIV",{id:!0});var f=q(r);i=ct(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=q(i);a=ct(c,"g",{transform:!0}),q(a).forEach(k),c.forEach(k),f.forEach(k),this.h()},h(){A(a,"transform",s=`translate(${e[2].margin.left},${e[2].margin.top})`),A(i,"class",""),A(i,"viewBox","0 0 800 300"),A(i,"width","100%"),A(i,"height","100%"),A(r,"id",e[0])},m(l,f){R(l,t,f),R(l,n,f),R(l,r,f),V(r,i),V(i,a),e[10](a),o||(u=Qt(tn.call(null,t,To)),o=!0)},p(l,[f]){f&4&&s!==(s=`translate(${l[2].margin.left},${l[2].margin.top})`)&&A(a,"transform",s),f&1&&A(r,"id",l[0])},i:ce,o:ce,d(l){l&&k(t),l&&k(n),l&&k(r),e[10](null),o=!1,u()}}}let wr=800,kr=300;function To(){}function Bo(e,t,n){let r,{name:i,title:a,xAttr:s,yAttr:o,xDomainMin:u=null,xDomainMax:l=null}=t,f=oe("dims");pe(e,f,b=>n(2,r=b));let c={},d=[],h;function _(b,y){let m=ut(h);if(console.log("func render with name",y),console.log(d),y=="overlay"?c=b??c:d=b??d,!d||d.length==0||y==null)return;console.log("line grouped stuff",wr,kr),m.selectAll("*").remove();let g=r.margin,p=wr-g.left-g.right,C=kr-g.top-g.bottom,E=St().range([0,p]),O=St().range([C,0]),j=$t(E).tickFormat(Kt("d")).ticks(d.length),P=en(O).ticks(10);d=d.map(tr(s,parseInt)),d=d.map(tr(o,parseInt)),(u===null||l===null)&&(n(4,u=d[0][s]),n(5,l=xn(pn(s,d)))),E.domain([u,l]),O.domain([0,xn(pn(o,d))]),m.append("g").attr("class","x axis").attr("transform","translate(0,"+C+")").call(j).selectAll("text").style("text-anchor","end").attr("dx","-0.5em").attr("dy","0.55em").attr("transform","rotate(-45)"),m.append("g").attr("class","y axis").call(P).append("text").attr("transform","rotate(-90)").attr("y",5).attr("dy",".71em").style("text-anchor","end").text(`${o}`),m.append("text").attr("x",p/2).attr("y",0-g.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(`${a}`),m.append("path").classed("content",!0).datum(d).attr("fill","none").attr("stroke","#69b3a2").attr("stroke-width",1.5).attr("d",Rs().x(M=>E(M[s])).y(M=>O(M[o])));let D=[];m.append("g").classed("content",!0).selectAll("dot").data(d).attr("class","dot").enter().append("circle").attr("cx",M=>(D.push(E(M[s])),E(M[s]))).attr("cy",M=>O(M[o])).attr("r",5).attr("fill","#69b3a2").append("title").text(M=>`${s}: ${M[s]}
 ${o}: ${M[o]}`),v(E,O)}function v(b,y,m){let g=ut(h);g.selectAll(".overlay").remove();let p=mt(Ct).domain(gt(c));Wt(({left:C,right:E},O)=>{g.append("rect").classed("overlay",!0).attr("x",b(C)).attr("width",b(E)-b(C)).attr("height",y(0)).attr("fill",p(O)).attr("opacity",.1)},c)}function S(b){Be[b?"unshift":"push"](()=>{h=b,n(1,h)})}return e.$$set=b=>{"name"in b&&n(0,i=b.name),"title"in b&&n(6,a=b.title),"xAttr"in b&&n(7,s=b.xAttr),"yAttr"in b&&n(8,o=b.yAttr),"xDomainMin"in b&&n(4,u=b.xDomainMin),"xDomainMax"in b&&n(5,l=b.xDomainMax)},[i,h,r,f,u,l,a,s,o,_,S]}class Lo extends Ue{constructor(t){super(),We(this,t,Bo,Co,Je,{name:0,title:6,xAttr:7,yAttr:8,xDomainMin:4,xDomainMax:5,render:9})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ke()}get title(){return this.$$.ctx[6]}set title(t){this.$$set({title:t}),ke()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),ke()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),ke()}get xDomainMin(){return this.$$.ctx[4]}set xDomainMin(t){this.$$set({xDomainMin:t}),ke()}get xDomainMax(){return this.$$.ctx[5]}set xDomainMax(t){this.$$set({xDomainMax:t}),ke()}get render(){return this.$$.ctx[9]}}function Er(e){return Object.prototype.toString.call(e)==="[object Date]"}function wn(e,t,n,r){if(typeof n=="number"||Er(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,o=e.opts.damping*a,u=(s-o)*e.inv_mass,l=(a+u)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,Er(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>wn(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=wn(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Vo(e,t={}){const n=Sn(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,o,u,l=e,f=e,c=1,d=0,h=!1;function _(S,b={}){f=S;const y=u={};return e==null||b.hard||v.stiffness>=1&&v.damping>=1?(h=!0,s=Ln(),l=S,n.set(e=f),Promise.resolve()):(b.soft&&(d=1/((b.soft===!0?.5:+b.soft)*60),c=0),o||(s=Ln(),h=!1,o=Ni(m=>{if(h)return h=!1,o=null,!1;c=Math.min(c+d,1);const g={inv_mass:c,opts:v,settled:!0,dt:(m-s)*60/1e3},p=wn(g,l,e,f);return s=m,l=e,n.set(e=p),g.settled&&(o=null),!g.settled})),new Promise(m=>{o.promise.then(()=>{y===u&&m()})}))}const v={set:_,update:(S,b)=>_(S(f,e),b),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return v}function Sr(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function Ar(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&Mr(e);return{c(){t=z("span"),a&&a.c(),this.h()},l(s){t=H(s,"SPAN",{class:!0,style:!0});var o=q(t);a&&a.l(o),o.forEach(k),this.h()},h(){A(t,"class","pip first"),A(t,"style",n=e[14]+": 0%;"),G(t,"selected",e[18](e[0])),G(t,"in-range",e[17](e[0]))},m(s,o){R(s,t,o),a&&a.m(t,null),r||(i=[ie(t,"click",function(){vt(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}),ie(t,"touchend",Ot(function(){vt(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}))],r=!0)},p(s,o){e=s,e[6]==="label"||e[7]==="label"?a?a.p(e,o):(a=Mr(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&16384&&n!==(n=e[14]+": 0%;")&&A(t,"style",n),o&262145&&G(t,"selected",e[18](e[0])),o&131073&&G(t,"in-range",e[17](e[0]))},d(s){s&&k(t),a&&a.d(),r=!1,it(i)}}}function Mr(e){let t,n=e[12](e[16](e[0]),0,0)+"",r,i=e[10]&&Dr(e),a=e[11]&&Ir(e);return{c(){t=z("span"),i&&i.c(),r=ue(n),a&&a.c(),this.h()},l(s){t=H(s,"SPAN",{class:!0});var o=q(t);i&&i.l(o),r=fe(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){A(t,"class","pipVal")},m(s,o){R(s,t,o),i&&i.m(t,null),V(t,r),a&&a.m(t,null)},p(s,o){s[10]?i?i.p(s,o):(i=Dr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o&69633&&n!==(n=s[12](s[16](s[0]),0,0)+"")&&Ce(r,n),s[11]?a?a.p(s,o):(a=Ir(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function Dr(e){let t,n;return{c(){t=z("span"),n=ue(e[10]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[10]),i.forEach(k),this.h()},h(){A(t,"class","pipVal-prefix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i&1024&&Ce(n,r[10])},d(r){r&&k(t)}}}function Ir(e){let t,n;return{c(){t=z("span"),n=ue(e[11]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[11]),i.forEach(k),this.h()},h(){A(t,"class","pipVal-suffix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i&2048&&Ce(n,r[11])},d(r){r&&k(t)}}}function Nr(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Lr(Sr(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=dt()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=dt()},m(i,a){for(let s=0;s<r.length;s+=1)r[s].m(i,a);R(i,t,a)},p(i,a){if(a&4120131){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const o=Sr(i,n,s);r[s]?r[s].p(o,a):(r[s]=Lr(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Yt(r,i),i&&k(t)}}}function Or(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&Cr(e);return{c(){t=z("span"),s&&s.c(),n=K(),this.h()},l(o){t=H(o,"SPAN",{class:!0,style:!0});var u=q(t);s&&s.l(u),n=Z(u),u.forEach(k),this.h()},h(){A(t,"class","pip"),A(t,"style",r=e[14]+": "+e[15](e[19](e[30]))+"%;"),G(t,"selected",e[18](e[19](e[30]))),G(t,"in-range",e[17](e[19](e[30])))},m(o,u){R(o,t,u),s&&s.m(t,null),V(t,n),i||(a=[ie(t,"click",function(){vt(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}),ie(t,"touchend",Ot(function(){vt(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}))],i=!0)},p(o,u){e=o,e[6]==="label"||e[9]==="label"?s?s.p(e,u):(s=Cr(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),u&573440&&r!==(r=e[14]+": "+e[15](e[19](e[30]))+"%;")&&A(t,"style",r),u&786432&&G(t,"selected",e[18](e[19](e[30]))),u&655360&&G(t,"in-range",e[17](e[19](e[30])))},d(o){o&&k(t),s&&s.d(),i=!1,it(a)}}}function Cr(e){let t,n=e[12](e[19](e[30]),e[30],e[15](e[19](e[30])))+"",r,i=e[10]&&Tr(e),a=e[11]&&Br(e);return{c(){t=z("span"),i&&i.c(),r=ue(n),a&&a.c(),this.h()},l(s){t=H(s,"SPAN",{class:!0});var o=q(t);i&&i.l(o),r=fe(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){A(t,"class","pipVal")},m(s,o){R(s,t,o),i&&i.m(t,null),V(t,r),a&&a.m(t,null)},p(s,o){s[10]?i?i.p(s,o):(i=Tr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o&561152&&n!==(n=s[12](s[19](s[30]),s[30],s[15](s[19](s[30])))+"")&&Ce(r,n),s[11]?a?a.p(s,o):(a=Br(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function Tr(e){let t,n;return{c(){t=z("span"),n=ue(e[10]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[10]),i.forEach(k),this.h()},h(){A(t,"class","pipVal-prefix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i&1024&&Ce(n,r[10])},d(r){r&&k(t)}}}function Br(e){let t,n;return{c(){t=z("span"),n=ue(e[11]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[11]),i.forEach(k),this.h()},h(){A(t,"class","pipVal-suffix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i&2048&&Ce(n,r[11])},d(r){r&&k(t)}}}function Lr(e){let t=e[19](e[30])!==e[0]&&e[19](e[30])!==e[1],n,r=t&&Or(e);return{c(){r&&r.c(),n=dt()},l(i){r&&r.l(i),n=dt()},m(i,a){r&&r.m(i,a),R(i,n,a)},p(i,a){a&524291&&(t=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),t?r?r.p(i,a):(r=Or(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&k(n)}}}function Vr(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&Pr(e);return{c(){t=z("span"),a&&a.c(),this.h()},l(s){t=H(s,"SPAN",{class:!0,style:!0});var o=q(t);a&&a.l(o),o.forEach(k),this.h()},h(){A(t,"class","pip last"),A(t,"style",n=e[14]+": 100%;"),G(t,"selected",e[18](e[1])),G(t,"in-range",e[17](e[1]))},m(s,o){R(s,t,o),a&&a.m(t,null),r||(i=[ie(t,"click",function(){vt(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}),ie(t,"touchend",Ot(function(){vt(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}))],r=!0)},p(s,o){e=s,e[6]==="label"||e[8]==="label"?a?a.p(e,o):(a=Pr(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&16384&&n!==(n=e[14]+": 100%;")&&A(t,"style",n),o&262146&&G(t,"selected",e[18](e[1])),o&131074&&G(t,"in-range",e[17](e[1]))},d(s){s&&k(t),a&&a.d(),r=!1,it(i)}}}function Pr(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",r,i=e[10]&&qr(e),a=e[11]&&Fr(e);return{c(){t=z("span"),i&&i.c(),r=ue(n),a&&a.c(),this.h()},l(s){t=H(s,"SPAN",{class:!0});var o=q(t);i&&i.l(o),r=fe(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){A(t,"class","pipVal")},m(s,o){R(s,t,o),i&&i.m(t,null),V(t,r),a&&a.m(t,null)},p(s,o){s[10]?i?i.p(s,o):(i=qr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o&1118210&&n!==(n=s[12](s[16](s[1]),s[20],100)+"")&&Ce(r,n),s[11]?a?a.p(s,o):(a=Fr(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function qr(e){let t,n;return{c(){t=z("span"),n=ue(e[10]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[10]),i.forEach(k),this.h()},h(){A(t,"class","pipVal-prefix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i&1024&&Ce(n,r[10])},d(r){r&&k(t)}}}function Fr(e){let t,n;return{c(){t=z("span"),n=ue(e[11]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[11]),i.forEach(k),this.h()},h(){A(t,"class","pipVal-suffix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i&2048&&Ce(n,r[11])},d(r){r&&k(t)}}}function Po(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&Ar(e),a=(e[6]&&e[9]!==!1||e[9])&&Nr(e),s=(e[6]&&e[8]!==!1||e[8])&&Vr(e);return{c(){t=z("div"),i&&i.c(),n=K(),a&&a.c(),r=K(),s&&s.c(),this.h()},l(o){t=H(o,"DIV",{class:!0});var u=q(t);i&&i.l(u),n=Z(u),a&&a.l(u),r=Z(u),s&&s.l(u),u.forEach(k),this.h()},h(){A(t,"class","rangePips"),G(t,"disabled",e[5]),G(t,"hoverable",e[4]),G(t,"vertical",e[2]),G(t,"reversed",e[3]),G(t,"focus",e[13])},m(o,u){R(o,t,u),i&&i.m(t,null),V(t,n),a&&a.m(t,null),V(t,r),s&&s.m(t,null)},p(o,[u]){o[6]&&o[7]!==!1||o[7]?i?i.p(o,u):(i=Ar(o),i.c(),i.m(t,n)):i&&(i.d(1),i=null),o[6]&&o[9]!==!1||o[9]?a?a.p(o,u):(a=Nr(o),a.c(),a.m(t,r)):a&&(a.d(1),a=null),o[6]&&o[8]!==!1||o[8]?s?s.p(o,u):(s=Vr(o),s.c(),s.m(t,null)):s&&(s.d(1),s=null),u&32&&G(t,"disabled",o[5]),u&16&&G(t,"hoverable",o[4]),u&4&&G(t,"vertical",o[2]),u&8&&G(t,"reversed",o[3]),u&8192&&G(t,"focus",o[13])},i:ce,o:ce,d(o){o&&k(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function qo(e,t,n){let r,i,a,s,o,{range:u=!1}=t,{min:l=0}=t,{max:f=100}=t,{step:c=1}=t,{values:d=[(f+l)/2]}=t,{vertical:h=!1}=t,{reversed:_=!1}=t,{hoverable:v=!0}=t,{disabled:S=!1}=t,{pipstep:b=void 0}=t,{all:y=!0}=t,{first:m=void 0}=t,{last:g=void 0}=t,{rest:p=void 0}=t,{prefix:C=""}=t,{suffix:E=""}=t,{formatter:O=(N,Q)=>N}=t,{focus:j=void 0}=t,{orientationStart:P=void 0}=t,{percentOf:D=void 0}=t,{moveHandle:M=void 0}=t,{fixFloat:L=void 0}=t;function B(N){S||M(void 0,N)}return e.$$set=N=>{"range"in N&&n(22,u=N.range),"min"in N&&n(0,l=N.min),"max"in N&&n(1,f=N.max),"step"in N&&n(23,c=N.step),"values"in N&&n(24,d=N.values),"vertical"in N&&n(2,h=N.vertical),"reversed"in N&&n(3,_=N.reversed),"hoverable"in N&&n(4,v=N.hoverable),"disabled"in N&&n(5,S=N.disabled),"pipstep"in N&&n(25,b=N.pipstep),"all"in N&&n(6,y=N.all),"first"in N&&n(7,m=N.first),"last"in N&&n(8,g=N.last),"rest"in N&&n(9,p=N.rest),"prefix"in N&&n(10,C=N.prefix),"suffix"in N&&n(11,E=N.suffix),"formatter"in N&&n(12,O=N.formatter),"focus"in N&&n(13,j=N.focus),"orientationStart"in N&&n(14,P=N.orientationStart),"percentOf"in N&&n(15,D=N.percentOf),"moveHandle"in N&&n(26,M=N.moveHandle),"fixFloat"in N&&n(16,L=N.fixFloat)},e.$$.update=()=>{e.$$.dirty&41943047&&n(27,r=b||((f-l)/c>=(h?50:100)?(f-l)/(h?10:20):1)),e.$$.dirty&142606339&&n(20,i=parseInt((f-l)/(c*r),10)),e.$$.dirty&142671873&&n(19,a=function(N){return L(l+N*c*r)}),e.$$.dirty&16842752&&n(18,s=function(N){return d.some(Q=>L(Q)===L(N))}),e.$$.dirty&20971520&&n(17,o=function(N){if(u==="min")return d[0]>N;if(u==="max")return d[0]<N;if(u)return d[0]<N&&d[1]>N})},[l,f,h,_,v,S,y,m,g,p,C,E,O,j,P,D,L,o,s,a,i,B,u,c,d,b,M,r]}class Fo extends Ue{constructor(t){super(),We(this,t,qo,Po,Je,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function jr(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}function zr(e){let t,n=e[21](e[64],e[66],e[23](e[64]))+"",r,i=e[18]&&Hr(e),a=e[19]&&Rr(e);return{c(){t=z("span"),i&&i.c(),r=ue(n),a&&a.c(),this.h()},l(s){t=H(s,"SPAN",{class:!0});var o=q(t);i&&i.l(o),r=fe(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){A(t,"class","rangeFloat")},m(s,o){R(s,t,o),i&&i.m(t,null),V(t,r),a&&a.m(t,null)},p(s,o){s[18]?i?i.p(s,o):(i=Hr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o[0]&10485761&&n!==(n=s[21](s[64],s[66],s[23](s[64]))+"")&&Ce(r,n),s[19]?a?a.p(s,o):(a=Rr(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function Hr(e){let t,n;return{c(){t=z("span"),n=ue(e[18]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[18]),i.forEach(k),this.h()},h(){A(t,"class","rangeFloat-prefix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i[0]&262144&&Ce(n,r[18])},d(r){r&&k(t)}}}function Rr(e){let t,n;return{c(){t=z("span"),n=ue(e[19]),this.h()},l(r){t=H(r,"SPAN",{class:!0});var i=q(t);n=fe(i,e[19]),i.forEach(k),this.h()},h(){A(t,"class","rangeFloat-suffix")},m(r,i){R(r,t,i),V(t,n)},p(r,i){i[0]&524288&&Ce(n,r[19])},d(r){r&&k(t)}}}function Ur(e){let t,n,r,i,a,s,o,u,l,f,c,d,h=e[7]&&zr(e);return{c(){t=z("span"),n=z("span"),r=K(),h&&h.c(),this.h()},l(_){t=H(_,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var v=q(t);n=H(v,"SPAN",{class:!0}),q(n).forEach(k),r=Z(v),h&&h.l(v),v.forEach(k),this.h()},h(){A(n,"class","rangeNub"),A(t,"role","slider"),A(t,"class","rangeHandle"),A(t,"data-handle",e[66]),A(t,"style",i=e[28]+": "+e[29][e[66]]+"%; z-index: "+(e[26]===e[66]?3:2)+";"),A(t,"aria-valuemin",a=e[2]===!0&&e[66]===1?e[0][0]:e[3]),A(t,"aria-valuemax",s=e[2]===!0&&e[66]===0?e[0][1]:e[4]),A(t,"aria-valuenow",o=e[64]),A(t,"aria-valuetext",u=""+(e[18]+e[21](e[64],e[66],e[23](e[64]))+e[19])),A(t,"aria-orientation",l=e[6]?"vertical":"horizontal"),A(t,"aria-disabled",e[10]),A(t,"disabled",e[10]),A(t,"tabindex",f=e[10]?-1:0),G(t,"active",e[24]&&e[26]===e[66]),G(t,"press",e[25]&&e[26]===e[66])},m(_,v){R(_,t,v),V(t,n),V(t,r),h&&h.m(t,null),c||(d=[ie(t,"blur",e[34]),ie(t,"focus",e[35]),ie(t,"keydown",e[36])],c=!0)},p(_,v){_[7]?h?h.p(_,v):(h=zr(_),h.c(),h.m(t,null)):h&&(h.d(1),h=null),v[0]&872415232&&i!==(i=_[28]+": "+_[29][_[66]]+"%; z-index: "+(_[26]===_[66]?3:2)+";")&&A(t,"style",i),v[0]&13&&a!==(a=_[2]===!0&&_[66]===1?_[0][0]:_[3])&&A(t,"aria-valuemin",a),v[0]&21&&s!==(s=_[2]===!0&&_[66]===0?_[0][1]:_[4])&&A(t,"aria-valuemax",s),v[0]&1&&o!==(o=_[64])&&A(t,"aria-valuenow",o),v[0]&11272193&&u!==(u=""+(_[18]+_[21](_[64],_[66],_[23](_[64]))+_[19]))&&A(t,"aria-valuetext",u),v[0]&64&&l!==(l=_[6]?"vertical":"horizontal")&&A(t,"aria-orientation",l),v[0]&1024&&A(t,"aria-disabled",_[10]),v[0]&1024&&A(t,"disabled",_[10]),v[0]&1024&&f!==(f=_[10]?-1:0)&&A(t,"tabindex",f),v[0]&83886080&&G(t,"active",_[24]&&_[26]===_[66]),v[0]&100663296&&G(t,"press",_[25]&&_[26]===_[66])},d(_){_&&k(t),h&&h.d(),c=!1,it(d)}}}function Wr(e){let t,n;return{c(){t=z("span"),this.h()},l(r){t=H(r,"SPAN",{class:!0,style:!0}),q(t).forEach(k),this.h()},h(){A(t,"class","rangeBar"),A(t,"style",n=e[28]+": "+e[32](e[29])+"%; "+e[27]+": "+e[33](e[29])+"%;")},m(r,i){R(r,t,i)},p(r,i){i[0]&939524096&&n!==(n=r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;")&&A(t,"style",n)},d(r){r&&k(t)}}}function Jr(e){let t,n;return t=new Fo({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[28],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[24],percentOf:e[23],moveHandle:e[31],fixFloat:e[30]}}),{c(){Se(t.$$.fragment)},l(r){Ae(t.$$.fragment,r)},m(r,i){Me(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&268435456&&(a.orientationStart=r[28]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&16777216&&(a.focus=r[24]),i[0]&8388608&&(a.percentOf=r[23]),t.$set(a)},i(r){n||($(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){De(t,r)}}}function jo(e){let t,n,r,i,a,s,o=e[0],u=[];for(let c=0;c<o.length;c+=1)u[c]=Ur(jr(e,o,c));let l=e[2]&&Wr(e),f=e[11]&&Jr(e);return{c(){t=z("div");for(let c=0;c<u.length;c+=1)u[c].c();n=K(),l&&l.c(),r=K(),f&&f.c(),this.h()},l(c){t=H(c,"DIV",{id:!0,class:!0});var d=q(t);for(let h=0;h<u.length;h+=1)u[h].l(d);n=Z(d),l&&l.l(d),r=Z(d),f&&f.l(d),d.forEach(k),this.h()},h(){A(t,"id",e[17]),A(t,"class","rangeSlider"),G(t,"range",e[2]),G(t,"disabled",e[10]),G(t,"hoverable",e[9]),G(t,"vertical",e[6]),G(t,"reversed",e[8]),G(t,"focus",e[24]),G(t,"min",e[2]==="min"),G(t,"max",e[2]==="max"),G(t,"pips",e[11]),G(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(c,d){R(c,t,d);for(let h=0;h<u.length;h+=1)u[h].m(t,null);V(t,n),l&&l.m(t,null),V(t,r),f&&f.m(t,null),e[50](t),i=!0,a||(s=[ie(window,"mousedown",e[39]),ie(window,"touchstart",e[39]),ie(window,"mousemove",e[40]),ie(window,"touchmove",e[40]),ie(window,"mouseup",e[41]),ie(window,"touchend",e[42]),ie(window,"keydown",e[43]),ie(t,"mousedown",e[37]),ie(t,"mouseup",e[38]),ie(t,"touchstart",Ot(e[37])),ie(t,"touchend",Ot(e[38]))],a=!0)},p(c,d){if(d[0]&934020317|d[1]&56){o=c[0];let h;for(h=0;h<o.length;h+=1){const _=jr(c,o,h);u[h]?u[h].p(_,d):(u[h]=Ur(_),u[h].c(),u[h].m(t,n))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}c[2]?l?l.p(c,d):(l=Wr(c),l.c(),l.m(t,r)):l&&(l.d(1),l=null),c[11]?f?(f.p(c,d),d[0]&2048&&$(f,1)):(f=Jr(c),f.c(),$(f,1),f.m(t,null)):f&&(Oi(),te(f,1,1,()=>{f=null}),Ci()),(!i||d[0]&131072)&&A(t,"id",c[17]),(!i||d[0]&4)&&G(t,"range",c[2]),(!i||d[0]&1024)&&G(t,"disabled",c[10]),(!i||d[0]&512)&&G(t,"hoverable",c[9]),(!i||d[0]&64)&&G(t,"vertical",c[6]),(!i||d[0]&256)&&G(t,"reversed",c[8]),(!i||d[0]&16777216)&&G(t,"focus",c[24]),(!i||d[0]&4)&&G(t,"min",c[2]==="min"),(!i||d[0]&4)&&G(t,"max",c[2]==="max"),(!i||d[0]&2048)&&G(t,"pips",c[11]),(!i||d[0]&122880)&&G(t,"pip-labels",c[13]==="label"||c[14]==="label"||c[15]==="label"||c[16]==="label")},i(c){i||($(f),i=!0)},o(c){te(f),i=!1},d(c){c&&k(t),Yt(u,c),l&&l.d(),f&&f.d(),e[50](null),a=!1,it(s)}}}function xr(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function an(e){return e.type.includes("touch")?e.touches[0]:e}function zo(e,t,n){let r,i,a,s,o,u,l=ce,f=()=>(l(),l=ii(F,w=>n(29,u=w)),F);e.$$.on_destroy.push(()=>l());let{slider:c=void 0}=t,{range:d=!1}=t,{pushy:h=!1}=t,{min:_=0}=t,{max:v=100}=t,{step:S=1}=t,{values:b=[(v+_)/2]}=t,{vertical:y=!1}=t,{float:m=!1}=t,{reversed:g=!1}=t,{hoverable:p=!0}=t,{disabled:C=!1}=t,{pips:E=!1}=t,{pipstep:O=void 0}=t,{all:j=void 0}=t,{first:P=void 0}=t,{last:D=void 0}=t,{rest:M=void 0}=t,{id:L=void 0}=t,{prefix:B=""}=t,{suffix:N=""}=t,{formatter:Q=(w,x,ae)=>w}=t,{handleFormatter:we=Q}=t,{precision:W=2}=t,{springValues:ne={stiffness:.15,damping:.4}}=t;const X=Ti();let Ie=0,de=!1,Ve=!1,_e=!1,T=!1,re=b.length-1,Te,be,F;const J=w=>parseFloat(w.toFixed(W));function ee(w){const x=c.querySelectorAll(".handle"),ae=Array.prototype.includes.call(x,w),se=Array.prototype.some.call(x,rt=>rt.contains(w));return ae||se}function le(w){return d==="min"||d==="max"?w.slice(0,1):d?w.slice(0,2):w}function I(){return c.getBoundingClientRect()}function U(w){const x=I();let ae=0,se=0,rt=0;y?(ae=w.clientY-x.top,se=ae/x.height*100,se=g?se:100-se):(ae=w.clientX-x.left,se=ae/x.width*100,se=g?100-se:se),rt=(v-_)/100*se+_;let Bn;return d===!0&&b[0]===b[1]?rt>b[1]?1:0:(Bn=b.indexOf([...b].sort((Di,Ii)=>Math.abs(rt-Di)-Math.abs(rt-Ii))[0]),Bn)}function Pe(w){const x=I();let ae=0,se=0,rt=0;y?(ae=w.clientY-x.top,se=ae/x.height*100,se=g?se:100-se):(ae=w.clientX-x.left,se=ae/x.width*100,se=g?100-se:se),rt=(v-_)/100*se+_,he(re,rt)}function he(w,x){return x=a(x),typeof w>"u"&&(w=re),d&&(w===0&&x>b[1]?h?n(0,b[1]=x,b):x=b[1]:w===1&&x<b[0]&&(h?n(0,b[0]=x,b):x=b[0])),b[w]!==x&&n(0,b[w]=x,b),be!==x&&(Xe(),be=x),x}function Y(w){return d==="min"?0:w[0]}function Ne(w){return d==="max"?0:d==="min"?100-w[0]:100-w[1]}function ze(w){T&&(n(24,de=!1),Ve=!1,n(25,_e=!1))}function Ee(w){C||(n(26,re=xr(w.target)),n(24,de=!0))}function ye(w){if(!C){const x=xr(w.target);let ae=w.ctrlKey||w.metaKey||w.shiftKey?S*10:S,se=!1;switch(w.key){case"PageDown":ae*=10;case"ArrowRight":case"ArrowUp":he(x,b[x]+ae),se=!0;break;case"PageUp":ae*=10;case"ArrowLeft":case"ArrowDown":he(x,b[x]-ae),se=!0;break;case"Home":he(x,_),se=!0;break;case"End":he(x,v),se=!0;break}se&&(w.preventDefault(),w.stopPropagation())}}function qe(w){if(!C){const x=w.target,ae=an(w);n(24,de=!0),Ve=!0,n(25,_e=!0),n(26,re=U(ae)),Te=be=a(b[re]),je(),w.type==="touchstart"&&!x.matches(".pipVal")&&Pe(ae)}}function xe(w){w.type==="touchend"&&Ge(),n(25,_e=!1)}function Fe(w){T=!1,de&&w.target!==c&&!c.contains(w.target)&&n(24,de=!1)}function He(w){C||Ve&&Pe(an(w))}function at(w){if(!C){const x=w.target;Ve&&((x===c||c.contains(x))&&(n(24,de=!0),!ee(x)&&!x.matches(".pipVal")&&Pe(an(w))),Ge())}Ve=!1,n(25,_e=!1)}function Re(w){Ve=!1,n(25,_e=!1)}function ve(w){C||(w.target===c||c.contains(w.target))&&(T=!0)}function je(){!C&&X("start",{activeHandle:re,value:Te,values:b.map(w=>a(w))})}function Ge(){!C&&X("stop",{activeHandle:re,startValue:Te,value:b[re],values:b.map(w=>a(w))})}function Xe(){!C&&X("change",{activeHandle:re,startValue:Te,previousValue:typeof be>"u"?Te:be,value:b[re],values:b.map(w=>a(w))})}function nt(w){Be[w?"unshift":"push"](()=>{c=w,n(1,c)})}return e.$$set=w=>{"slider"in w&&n(1,c=w.slider),"range"in w&&n(2,d=w.range),"pushy"in w&&n(44,h=w.pushy),"min"in w&&n(3,_=w.min),"max"in w&&n(4,v=w.max),"step"in w&&n(5,S=w.step),"values"in w&&n(0,b=w.values),"vertical"in w&&n(6,y=w.vertical),"float"in w&&n(7,m=w.float),"reversed"in w&&n(8,g=w.reversed),"hoverable"in w&&n(9,p=w.hoverable),"disabled"in w&&n(10,C=w.disabled),"pips"in w&&n(11,E=w.pips),"pipstep"in w&&n(12,O=w.pipstep),"all"in w&&n(13,j=w.all),"first"in w&&n(14,P=w.first),"last"in w&&n(15,D=w.last),"rest"in w&&n(16,M=w.rest),"id"in w&&n(17,L=w.id),"prefix"in w&&n(18,B=w.prefix),"suffix"in w&&n(19,N=w.suffix),"formatter"in w&&n(20,Q=w.formatter),"handleFormatter"in w&&n(21,we=w.handleFormatter),"precision"in w&&n(45,W=w.precision),"springValues"in w&&n(46,ne=w.springValues)},e.$$.update=()=>{e.$$.dirty[0]&24&&n(49,i=function(w){return w<=_?_:w>=v?v:w}),e.$$.dirty[0]&56|e.$$.dirty[1]&262144&&n(48,a=function(w){if(w<=_)return J(_);if(w>=v)return J(v);let x=(w-_)%S,ae=w-x;return Math.abs(x)*2>=S&&(ae+=x>0?S:-S),ae=i(ae),J(ae)}),e.$$.dirty[0]&24&&n(23,r=function(w){let x=(w-_)/(v-_)*100;return isNaN(x)||x<=0?0:x>=100?100:J(x)}),e.$$.dirty[0]&12582937|e.$$.dirty[1]&229376&&(Array.isArray(b)||(n(0,b=[(v+_)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,b=le(b.map(w=>a(w)))),Ie!==b.length?f(n(22,F=Vo(b.map(w=>r(w)),ne))):F.set(b.map(w=>r(w))),n(47,Ie=b.length)),e.$$.dirty[0]&320&&n(28,s=y?g?"top":"bottom":g?"right":"left"),e.$$.dirty[0]&320&&n(27,o=y?g?"bottom":"top":g?"left":"right")},[b,c,d,_,v,S,y,m,g,p,C,E,O,j,P,D,M,L,B,N,Q,we,F,r,de,_e,re,o,s,u,J,he,Y,Ne,ze,Ee,ye,qe,xe,Fe,He,at,Re,ve,h,W,ne,Ie,a,i,nt]}class Ho extends Ue{constructor(t){super(),We(this,t,zo,jo,Je,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function Ro(e){let t,n;return{c(){t=z("p"),n=ue(e[4])},l(r){t=H(r,"P",{});var i=q(t);n=fe(i,e[4]),i.forEach(k)},m(r,i){R(r,t,i),V(t,n)},p:ce,d(r){r&&k(t)}}}function Uo(e){let t,n,r,i,a,s=e[4]&&Ro(e);function o(l){e[15](l)}let u={min:e[2],max:e[3],pips:!0,range:!0,float:!0,first:"label",last:"label",disabled:e[1]==null,id:"slider"};return e[0]!==void 0&&(u.values=e[0]),r=new Ho({props:u}),Be.push(()=>Bi(r,"values",o)),r.$on("stop",e[10]),{c(){t=z("div"),s&&s.c(),n=K(),Se(r.$$.fragment),this.h()},l(l){t=H(l,"DIV",{class:!0,id:!0});var f=q(t);s&&s.l(f),n=Z(f),Ae(r.$$.fragment,f),f.forEach(k),this.h()},h(){A(t,"class","px-[1%] py-[1%] ml-[5.9%]"),A(t,"id","slider")},m(l,f){R(l,t,f),s&&s.m(t,null),V(t,n),Me(r,t,null),a=!0},p(l,[f]){l[4]&&s.p(l,f);const c={};f&2&&(c.disabled=l[1]==null),!i&&f&1&&(i=!0,c.values=l[0],Li(()=>i=!1)),r.$set(c)},i(l){a||($(r.$$.fragment,l),a=!0)},o(l){te(r.$$.fragment,l),a=!1},d(l){l&&k(t),s&&s.d(),De(r)}}}function Wo(e,t,n){let r,i,a,s,o,{spec:u}=t,{min:l,max:f,id:c,description:d,widget_id:h}=u,_=oe("dims");pe(e,_,D=>n(19,s=D));let v=oe("widget_params");pe(e,v,D=>n(14,r=D));let S=oe("dropdown_index");pe(e,S,D=>n(17,i=D));let b=oe("unsaved_changes");pe(e,b,D=>n(18,a=D));let y=oe("user");pe(e,y,D=>n(1,o=D)),s.margin;let m=[l,f],g=[...m],p=[];function C(){i!=null&&r!=null&&r.length!=0&&(n(0,m=[r[i][h].start,r[i][h].end]),j())}function E(D){console.log("addsource",D),p.push(D)}function O(){Le(b,a=!0,a),j()}function j(){if(console.log("onStop",m,g,wt(m,g)),!wt(m,g)){console.log("!!!!!!!!",m);let D={};D[c]={left:m[0],right:m[1]},Le(v,r[i][h]={start:m[0],end:m[1]},r),console.log("slider.onstop",p),p.forEach(M=>{console.log("slider.trigger",M,D,c),M.trigger(D,c)})}g=[...m]}function P(D){m=D,n(0,m)}return e.$$set=D=>{"spec"in D&&n(11,u=D.spec)},e.$$.update=()=>{e.$$.dirty&16384&&C()},[m,o,l,f,d,_,v,S,b,y,O,u,C,E,r,P]}class Cn extends Ue{constructor(t){super(),We(this,t,Wo,Uo,Je,{spec:11,render:12,addSourceIact:13})}get render(){return this.$$.ctx[12]}get addSourceIact(){return this.$$.ctx[13]}}function Jo(e){let t,n,r,i,a,s,o,u;return{c(){t=z("div"),n=K(),r=z("div"),i=ft("svg"),a=ft("g"),this.h()},l(l){t=H(l,"DIV",{}),q(t).forEach(k),n=Z(l),r=H(l,"DIV",{id:!0});var f=q(r);i=ct(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=q(i);a=ct(c,"g",{transform:!0}),q(a).forEach(k),c.forEach(k),f.forEach(k),this.h()},h(){A(a,"transform",s=`translate(${e[2].margin.left},${e[2].margin.top})`),A(i,"class",""),A(i,"viewBox","0 0 800 300"),A(i,"width","100%"),A(i,"height","100%"),A(r,"id",e[0])},m(l,f){R(l,t,f),R(l,n,f),R(l,r,f),V(r,i),V(i,a),e[12](a),o||(u=Qt(tn.call(null,t,xo)),o=!0)},p(l,[f]){f&4&&s!==(s=`translate(${l[2].margin.left},${l[2].margin.top})`)&&A(a,"transform",s),f&1&&A(r,"id",l[0])},i:ce,o:ce,d(l){l&&k(t),l&&k(n),l&&k(r),e[12](null),o=!1,u()}}}let Gr=800,Xr=300;function xo(){}function Go(e,t,n){let r,{name:i,groupNames:a=[],title:s="",xAttr:o,yAttr:u="val",yMax:l,xDomainMin:f=null,xDomainMax:c=null}=t,d=oe("dims");pe(e,d,g=>n(2,r=g));let h={},_=[],v={},S;function b(g,p){let C=ut(S);if(console.log("data into bar grouped",g),p=="overlay"?h=g??h:p=="bad_year_q"?v=g??v:_=g??_,!_||_.length==0)return;_.forEach(X=>{X.values=a.map(Ie=>({name:Ie,value:+X[Ie]}))}),C.selectAll("*").remove();let E=r.margin,O=Gr-E.left-E.right,j=Xr-E.top-E.bottom,P=null;f===null||c===null?P=pn(o,_):P=Ms(parseInt(f),parseInt(c)+1);let D=kt(P,[0,O]).round(!0).padding(.15),M=kt(a,[0,D.bandwidth()]).round(!0),L=St([0,l],[j,0]),B=mt().range(Ct),N=$t(D),Q=en(L).ticks(10);console.log("bar grouped stuff",Gr,Xr),C.append("g").attr("class","x axis").attr("transform",`translate(0,${j})`).call(N).selectAll("text").style("text-anchor","end").attr("dx","-.2em").attr("dy",".55em").attr("transform","rotate(-45)"),C.append("g").attr("class","y axis").call(Q).append("text").attr("transform","rotate(-90)").attr("y",5).attr("dy",".71em").style("text-anchor","end").text(u),C.append("text").attr("x",O/2).attr("y",0-E.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(s);let we=[];C.selectAll(".type").data(_).enter().append("g").attr("class","g").attr("transform",X=>{let Ie=X[o];return we.push(D(Ie)),`translate(${D(Ie)},0)`}).selectAll("rect").data(X=>X.values).enter().append("rect").attr("x",X=>M(X.name)).attr("width",M.bandwidth()).attr("y",X=>L(X.value)).attr("height",X=>j-L(X.value)).style("fill",X=>B(X.name)).append("title").text(X=>`Type: ${X.name}
${u}: ${X.value}`);let ne=C.selectAll(".legend").data(a.reverse()).enter().append("g").attr("class","legend").attr("transform",(X,Ie)=>`translate(0,${Ie*20})`);ne.append("rect").attr("x",O-18).attr("width",18).attr("height",18).style("fill",B),ne.append("text").attr("x",O-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(oi),y(D,L)}function y(g,p,C){let E=ut(S);E.selectAll(".overlay").remove();let O=mt(Ct).domain(gt(h));Wt(({left:M,right:L},B)=>{E.append("rect").classed("overlay",!0).attr("x",g(M)).attr("width",g(L)-g(M)).attr("height",p.range()[0]).attr("fill",O(B)).attr("opacity",.1)},h);let j=Object.values(v)[0];console.log("bad year stuff",j);let P=[],D=[];if(j!=null)for(const[M,L]of Object.entries(j))console.log("bad year key/values",`${M}: ${L}`),M.charAt(0)=="X"&&D.push(L);else return;for(let M=1;M<=10;M++)D&&D[M]!=null&&(console.log("bad year stuff ok",D[M]),P.push({year:parseInt(D[M]),height:p.range()[0]/11*M}));console.log("bad years ranked...",P,D),Wt(({year:M,height:L},B)=>{E.append("rect").attr("class","g").classed("overlay",!0).attr("x",g(M)).attr("width","15").attr("y",L).attr("height",5).attr("fill","black").attr("opacity",.6)},P)}function m(g){Be[g?"unshift":"push"](()=>{S=g,n(1,S)})}return e.$$set=g=>{"name"in g&&n(0,i=g.name),"groupNames"in g&&n(4,a=g.groupNames),"title"in g&&n(5,s=g.title),"xAttr"in g&&n(6,o=g.xAttr),"yAttr"in g&&n(7,u=g.yAttr),"yMax"in g&&n(8,l=g.yMax),"xDomainMin"in g&&n(9,f=g.xDomainMin),"xDomainMax"in g&&n(10,c=g.xDomainMax)},[i,S,r,d,a,s,o,u,l,f,c,b,m]}class Xo extends Ue{constructor(t){super(),We(this,t,Go,Jo,Je,{name:0,groupNames:4,title:5,xAttr:6,yAttr:7,yMax:8,xDomainMin:9,xDomainMax:10,render:11})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ke()}get groupNames(){return this.$$.ctx[4]}set groupNames(t){this.$$set({groupNames:t}),ke()}get title(){return this.$$.ctx[5]}set title(t){this.$$set({title:t}),ke()}get xAttr(){return this.$$.ctx[6]}set xAttr(t){this.$$set({xAttr:t}),ke()}get yAttr(){return this.$$.ctx[7]}set yAttr(t){this.$$set({yAttr:t}),ke()}get yMax(){return this.$$.ctx[8]}set yMax(t){this.$$set({yMax:t}),ke()}get xDomainMin(){return this.$$.ctx[9]}set xDomainMin(t){this.$$set({xDomainMin:t}),ke()}get xDomainMax(){return this.$$.ctx[10]}set xDomainMax(t){this.$$set({xDomainMax:t}),ke()}get render(){return this.$$.ctx[11]}}function Qo(e){let t,n,r,i,a,s,o;return{c(){t=z("div"),n=K(),r=z("div"),i=ft("svg"),a=ft("g"),this.h()},l(u){t=H(u,"DIV",{}),q(t).forEach(k),n=Z(u),r=H(u,"DIV",{id:!0});var l=q(r);i=ct(l,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var f=q(i);a=ct(f,"g",{}),q(a).forEach(k),f.forEach(k),l.forEach(k),this.h()},h(){A(i,"class",""),A(i,"viewBox","0 0 800 230"),A(i,"width","100%"),A(i,"height","100%"),A(r,"id",e[0])},m(u,l){R(u,t,l),R(u,n,l),R(u,r,l),V(r,i),V(i,a),e[6](a),s||(o=Qt(tn.call(null,t,Zo)),s=!0)},p(u,[l]){l&1&&A(r,"id",u[0])},i:ce,o:ce,d(u){u&&k(t),u&&k(n),u&&k(r),e[6](null),s=!1,o()}}}let Yo=800,Ko=300;function Zo(){}function $o(e,t,n){let{name:r,xDomainMin:i,xDomainMax:a,timeDomainMode:s}=t,o={},u=[],l;function f(h,_){if(console.log("data into crop calendar is:",h),_=="overlay")o=h??o,console.log("in overlays for crop cal with data of",h,o);else{if(!h||h.length===0)return;u=h}let v=mt().range(Ct),S=Yo-me.left-me.right,b=Ko-me.top-me.bottom,y=u.map(B=>B.crop).filter((B,N,Q)=>Q.indexOf(B)===N);console.log("crop cal, crop types: ",y);let m=u.map(B=>B.activity).filter((B,N,Q)=>Q.indexOf(B)===N);console.log("crop cal, crop activities: ",m);let g=[];u.forEach(B=>{let N={startDate:parseInt(B.start_time),endDate:parseInt(B.end_time),cropName:B.crop,activity:B.activity};g.push(N)}),console.log("crop cal, tasks, ",g);let p=function(B){return B.startDate+B.cropName+B.endDate},C=function(B){return"translate("+E(B.startDate)+","+j(B.cropName)+")"};if(s==="fit"){if(g===void 0||g.length<1)return;g.sort(function(B,N){return B.endDate-N.endDate}),n(3,a=g[g.length-1].endDate),g.sort(function(B,N){return B.startDate-N.startDate}),n(2,i=g[0].startDate)}let E,O;E=St().range([0,S]),O=$t(E).tickFormat(Kt("d")).ticks(36),E.domain([i,a]);let j=kt().domain(y).rangeRound([0,b-me.top-me.bottom]),P=en(j).tickSize(0),D=St().range([b-me.top-me.bottom,0]);console.log("begin draw"),ut(l).selectAll("*").remove();let M=ut(l).append("svg").attr("class","chart").attr("width",S+me.left+me.right).attr("height",b+me.top+me.bottom).append("g").attr("class","gantt-chart").attr("width",S+me.left+me.right).attr("height",b+me.top+me.bottom).attr("transform","translate("+me.left+", "+me.top+")");M.selectAll(".chart").data(g,p).enter().append("rect").attr("rx",5).attr("ry",5).attr("y",0).attr("transform",C).attr("height",function(B){return j.bandwidth()}).attr("width",function(B){return Math.max(1,E(B.endDate)-E(B.startDate))}).attr("fill",B=>v(B.activity)).attr("fill-opacity","0.4"),M.append("g").attr("class","x axis").attr("transform","translate(0,"+(b-me.top-me.bottom)+")").transition().call(O).selectAll("text").style("text-anchor","end").attr("dx","-0.5em").attr("dy","0.55em").attr("transform","rotate(-45)"),M.append("g").attr("class","y axis").transition().call(P).selectAll("text").style("font-size",".8em").attr("dx","0.5em").attr("dy","-0.5em").attr("transform","rotate(-50)");let L=M.selectAll(".legend").data(m.reverse()).enter().append("g").attr("class","legend").attr("transform",(B,N)=>`translate(0,${N*20})`);L.append("rect").attr("x",S-18).attr("width",18).attr("height",18).style("fill",v).attr("fill-opacity","0.4"),L.append("text").attr("x",S-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").style("font-size",".7em").text(oi),c(E,D,me)}function c(h,_,v){let S=ut(l);S.selectAll(".overlay").remove();let b=mt(Ct).domain(gt(o));Wt(({left:y,right:m},g)=>{S.append("rect").classed("overlay",!0).attr("x",h(y)+v.left).attr("y",v.top).attr("width",h(m)-h(y)).attr("height",_(0)).attr("fill",b(g)).attr("opacity",.1)},o)}function d(h){Be[h?"unshift":"push"](()=>{l=h,n(1,l)})}return e.$$set=h=>{"name"in h&&n(0,r=h.name),"xDomainMin"in h&&n(2,i=h.xDomainMin),"xDomainMax"in h&&n(3,a=h.xDomainMax),"timeDomainMode"in h&&n(4,s=h.timeDomainMode)},[r,l,i,a,s,f,d]}class el extends Ue{constructor(t){super(),We(this,t,$o,Qo,Je,{name:0,xDomainMin:2,xDomainMax:3,timeDomainMode:4,render:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),ke()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),ke()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),ke()}get timeDomainMode(){return this.$$.ctx[4]}set timeDomainMode(t){this.$$set({timeDomainMode:t}),ke()}get render(){return this.$$.ctx[5]}}function tl(e){let t,n,r,i,a,s,o,u;return{c(){t=z("div"),n=K(),r=z("div"),i=ft("svg"),a=ft("g"),this.h()},l(l){t=H(l,"DIV",{}),q(t).forEach(k),n=Z(l),r=H(l,"DIV",{id:!0});var f=q(r);i=ct(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=q(i);a=ct(c,"g",{transform:!0}),q(a).forEach(k),c.forEach(k),f.forEach(k),this.h()},h(){A(a,"transform",s=`translate(${e[2].margin.left+20},${e[2].margin.top})`),A(i,"class",""),A(i,"viewBox","0 0 800 300"),A(i,"width","100%"),A(i,"height","100%"),A(r,"id",e[0])},m(l,f){R(l,t,f),R(l,n,f),R(l,r,f),V(r,i),V(i,a),e[6](a),o||(u=Qt(tn.call(null,t,il)),o=!0)},p(l,[f]){f&4&&s!==(s=`translate(${l[2].margin.left+20},${l[2].margin.top})`)&&A(a,"transform",s),f&1&&A(r,"id",l[0])},i:ce,o:ce,d(l){l&&k(t),l&&k(n),l&&k(r),e[6](null),o=!1,u()}}}let nl=800,rl=300;function il(){}function al(e,t,n){let r,{name:i}=t,a=oe("dims");pe(e,a,f=>n(2,r=f));let s=[],o;function u(f,c){if(console.log("data received into matching...",f),n(5,s=f??s),!s||s.length==0)return;let d=nl-me.left-me.right,h=rl-me.top-me.bottom,_=Math.max(...s.map(m=>m.value)),v=ut(o);v.selectAll("*").remove();let S=kt().domain(s.map(m=>m.x)).rangeRound([0,d]);v.append("g").attr("transform","translate(0,"+h+")").call($t(S)).selectAll("text").style("font-size","0.7em").attr("dx","0.5em").attr("dy","0.5em");let b=kt().domain(s.map(m=>m.y)).rangeRound([0,h]);v.append("g").call(en(b)).selectAll("text").style("font-size","0.7em").attr("dx","0.5em").attr("dy","-0.5em").attr("transform","rotate(-30)");let y=gi(Bt("white","green")).domain([0,_]);v.selectAll().data(s).enter().append("rect").attr("x",function(m){return S(m.x)}).attr("y",function(m){return b(m.y)}).attr("width",S.bandwidth()).attr("height",b.bandwidth()).attr("fill",m=>y(m.value)),v.selectAll().data(s).enter().append("text").attr("x",function(m){return S(m.x)}).attr("y",function(m){return b(m.y)}).attr("dx","4.75em").attr("dy","1.75em").text(m=>m.value)}function l(f){Be[f?"unshift":"push"](()=>{o=f,n(1,o)})}return e.$$set=f=>{"name"in f&&n(0,i=f.name)},e.$$.update=()=>{e.$$.dirty&32&&u(s)},[i,o,r,a,u,s,l]}class sl extends Ue{constructor(t){super(),We(this,t,al,tl,Je,{name:0,render:4})}get render(){return this.$$.ctx[4]}}function Qr(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function Yr(e){var i;let t,n=((i=e[18].village)==null?void 0:i.replace(/_/g," "))+"",r;return{c(){t=z("option"),r=ue(n),this.h()},l(a){t=H(a,"OPTION",{});var s=q(t);r=fe(s,n),s.forEach(k),this.h()},h(){t.__value=e[20],t.value=t.__value},m(a,s){R(a,t,s),V(t,r)},p(a,s){var o;s&1&&n!==(n=((o=a[18].village)==null?void 0:o.replace(/_/g," "))+"")&&Ce(r,n)},d(a){a&&k(t)}}}function ol(e){let t,n,r,i,a=e[0],s=[];for(let o=0;o<a.length;o+=1)s[o]=Yr(Qr(e,a,o));return{c(){t=z("div"),n=z("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=H(o,"DIV",{class:!0,id:!0});var u=q(t);n=H(u,"SELECT",{class:!0});var l=q(n);for(let f=0;f<s.length;f+=1)s[f].l(l);l.forEach(k),u.forEach(k),this.h()},h(){A(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&An(()=>e[9].call(n)),A(t,"class","px-[1%] py-[1%] ml-[5.9%]"),A(t,"id","dropdown")},m(o,u){R(o,t,u),V(t,n);for(let l=0;l<s.length;l+=1)s[l].m(n,null);zt(n,e[1]),r||(i=[ie(n,"change",e[9]),ie(n,"change",e[4])],r=!0)},p(o,[u]){if(u&1){a=o[0];let l;for(l=0;l<a.length;l+=1){const f=Qr(o,a,l);s[l]?s[l].p(f,u):(s[l]=Yr(f),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}u&2&&zt(n,o[1])},i:ce,o:ce,d(o){o&&k(t),Yt(s,o),r=!1,it(i)}}}function ll(e,t,n){let r,i,{spec:a}=t,s=oe("dims");pe(e,s,m=>n(11,i=m)),oe("widget_params");let o=oe("dropdown_index");pe(e,o,m=>n(8,r=m));let u=[],l=null,f=null,{id:c,index:d,widget_id:h}=a,_=[];i.margin;function v(m,g){console.log("whats in dropdown",m),n(0,_=m??_),n(1,f=r??f),console.log("at end of render",_,f)}function S(m){console.log("addsource",m),u.push(m)}function b(){if(console.log("onStop",_,l,wt(f,l)),!wt(f,l)){let m={};Le(o,r=f,r),m[c]={value:_[f].village},console.log("dropdown.onstop",u),u.forEach(g=>{console.log("dropdown.trigger",m,c),g.trigger(m,c)})}l=f}function y(){f=ai(this),n(1,f)}return e.$$set=m=>{"spec"in m&&n(5,a=m.spec)},e.$$.update=()=>{e.$$.dirty&257&&v(_)},[_,f,s,o,b,a,v,S,r,y]}class ul extends Ue{constructor(t){super(),We(this,t,ll,ol,Je,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}function Kr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Zr(e){let t=console.log("in matching dropdown, row is",e[19],e[21])+"",n,r,i=Object.values(e[19])[1]+"",a,s;return{c(){n=ue(t),r=z("option"),a=ue(i),this.h()},l(o){n=fe(o,t),r=H(o,"OPTION",{});var u=q(r);a=fe(u,i),u.forEach(k),this.h()},h(){r.__value=s=Object.values(e[19])[0],r.value=r.__value},m(o,u){R(o,n,u),R(o,r,u),V(r,a)},p(o,u){u&1&&t!==(t=console.log("in matching dropdown, row is",o[19],o[21])+"")&&Ce(n,t),u&1&&i!==(i=Object.values(o[19])[1]+"")&&Ce(a,i),u&1&&s!==(s=Object.values(o[19])[0])&&(r.__value=s,r.value=r.__value)},d(o){o&&k(n),o&&k(r)}}}function fl(e){let t,n,r,i,a=e[0],s=[];for(let o=0;o<a.length;o+=1)s[o]=Zr(Kr(e,a,o));return{c(){t=z("div"),n=z("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=H(o,"DIV",{class:!0,id:!0});var u=q(t);n=H(u,"SELECT",{class:!0});var l=q(n);for(let f=0;f<s.length;f+=1)s[f].l(l);l.forEach(k),u.forEach(k),this.h()},h(){A(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&An(()=>e[10].call(n)),A(t,"class","px-[1%] py-[1%] ml-[5.9%]"),A(t,"id","dropdown")},m(o,u){R(o,t,u),V(t,n);for(let l=0;l<s.length;l+=1)s[l].m(n,null);zt(n,e[1]),r||(i=[ie(n,"change",e[10]),ie(n,"change",e[4])],r=!0)},p(o,[u]){if(u&1){a=o[0];let l;for(l=0;l<a.length;l+=1){const f=Kr(o,a,l);s[l]?s[l].p(f,u):(s[l]=Zr(f),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}u&3&&zt(n,o[1])},i:ce,o:ce,d(o){o&&k(t),Yt(s,o),r=!1,it(i)}}}function cl(e,t,n){let r,i,{spec:a}=t,s=oe("dims");pe(e,s,g=>n(12,i=g)),oe("widget_params");let o=oe("dropdown_index");pe(e,o,g=>n(9,r=g));let u=[],l=null,f=null,c=null,{id:d,index:h,widget_id:_}=a,v=[];i.margin;function S(g,p){console.log("whats in dropdown matching",g),n(0,v=g??v),n(1,f=f??0),n(8,c=r),console.log("at end of render for dropdown matching",v,f)}function b(g){console.log("addsource",g),u.push(g)}function y(){if(console.log("onStop for matching",v,l,wt(f,l)),!wt(f,l)){let g={};console.log("dropdownMatching value for index is",f),console.log("dropdownMatching.onstop value to pass",v,f,Object.values(v[f])[1],typeof f),g[d]={value:Object.values(v[f])[1]},console.log("dropdownMatching.onstop",u),u.forEach(p=>{console.log("dropdownMatching.trigger",g,d),p.trigger(g,d)})}l=f}function m(){f=ai(this),n(1,f),n(9,r),n(8,c),n(0,v),n(0,v)}return e.$$set=g=>{"spec"in g&&n(5,a=g.spec)},e.$$.update=()=>{e.$$.dirty&769&&(console.log("render triggered with drop_down index of...",r,c),r-c!=0&&(n(1,f=0),y()),S(v))},[v,f,s,o,y,a,S,b,c,r,m]}class dl extends Ue{constructor(t){super(),We(this,t,cl,fl,Je,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}const $r="0.6.0";var Gt=_l,Xt=vl,tt=[],$e=[],hl=typeof Uint8Array<"u"?Uint8Array:Array,sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var _t=0,gl=sn.length;_t<gl;++_t)tt[_t]=sn[_t],$e[sn.charCodeAt(_t)]=_t;$e["-".charCodeAt(0)]=62;$e["_".charCodeAt(0)]=63;function ml(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function pl(e,t,n){return(t+n)*3/4-n}function _l(e){var t,n=ml(e),r=n[0],i=n[1],a=new hl(pl(e,r,i)),s=0,o=i>0?r-4:r,u;for(u=0;u<o;u+=4)t=$e[e.charCodeAt(u)]<<18|$e[e.charCodeAt(u+1)]<<12|$e[e.charCodeAt(u+2)]<<6|$e[e.charCodeAt(u+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=$e[e.charCodeAt(u)]<<2|$e[e.charCodeAt(u+1)]>>4,a[s++]=t&255),i===1&&(t=$e[e.charCodeAt(u)]<<10|$e[e.charCodeAt(u+1)]<<4|$e[e.charCodeAt(u+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function bl(e){return tt[e>>18&63]+tt[e>>12&63]+tt[e>>6&63]+tt[e&63]}function yl(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(bl(r));return i.join("")}function vl(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(yl(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(tt[t>>2]+tt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(tt[t>>10]+tt[t>>4&63]+tt[t<<2&63]+"=")),i.join("")}const Ei=!0,At=BigInt("-9223372036854775808"),Tn=BigInt("9223372036854775807"),kn=BigInt("0"),wl=BigInt("8"),kl=BigInt("256");class Tt{constructor(t,n){this.tableName=t,this.id=n}equals(t){return t instanceof Tt?this.tableName===t.tableName&&this.id===t.id:!1}static fromJSON(t){if(typeof t.$id!="string")throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: $id isn't a string.`);const n=t.$id.split("|");if(n.length!==2)throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: Wrong number of parts.`);return new Tt(n[0],n[1])}toJSON(){return{$id:`${this.tableName}|${this.id}`}}toString(){return this.id}inspect(){return`Id('${this.tableName}', '${this.id}')`}}function Si(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function El(e){e<kn&&(e-=At+At);let t=e.toString(16);t.length%2==1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=wl;return Xt(n)}function Sl(e){const t=Gt(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=kn,r=kn;for(const i of t)n+=BigInt(i)*kl**r,r++;return n>Tn&&(n+=At+At),n}function Al(e){if(e<At||Tn<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Xt(new Uint8Array(t))}function Ml(e){const t=Gt(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const Dl=DataView.prototype.setBigInt64?Al:El,Il=DataView.prototype.getBigInt64?Ml:Sl,ei=64,Nl=/^_+$/,Ol=/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/;function Ai(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>ei)throw new Error(`Field name ${e} exceeds maximum field name length ${ei}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);if(Nl.test(e))throw new Error(`Field name ${e} can't exclusively be underscores.`);if(!Ol.test(e))throw new Error(`Field name ${e} must only contain alphanumeric characters or underscores and can't start with a number.`)}function bt(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(e instanceof Array)return e.map(bt);if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$id"||r==="$weakRef"||r==="$strongRef")return Tt.fromJSON(e);if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Gt(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return Il(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Gt(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,Ei);if(!Si(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set"){if(!(e.$set instanceof Array))throw new Error(`Malformed $set field on ${e}`);return new Set(e.$set.map(bt))}if(r==="$map"){if(!(e.$map instanceof Array))throw new Error(`Malformed $map field on ${e}`);const i=new Map;for(const a of e.$map){if(!(a instanceof Array)||a.length!==2)throw new Error(`Malformed pair in $map ${e}`);const s=bt(a[0]),o=bt(a[1]);i.set(s,o)}return i}}const n={};for(const[r,i]of Object.entries(e))Ai(r),n[r]=bt(i);return n}function on(e){return bt(e)}function ln(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":n)}function yt(e,t,n){if(e===void 0)throw new Error(`undefined is not a valid Convex value (present at path ${n} in original object ${ln(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);if(e===null)return e;if(e instanceof Tt)return e.toJSON();if(typeof e=="bigint"){if(e<At||Tn<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:Dl(e)}}if(typeof e=="number")if(Si(e)){const a=new ArrayBuffer(8);return new DataView(a).setFloat64(0,e,Ei),{$float:Xt(new Uint8Array(a))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Xt(new Uint8Array(e))};if(e instanceof Array)return e.map((a,s)=>yt(a,t,n+`[${s}]`));if(e instanceof Set)return{$set:[...e].map((a,s)=>yt(a,t,n+`.keys()[${s}]`))};if(e instanceof Map)return{$map:[...e].map(([a,s],o)=>{const u=yt(a,t,n+`.keys()[${o}]`),l=yt(s,t,n+`.values()[${o}]`);return[u,l]})};if(typeof e!="object")throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${ln(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const r=Object.getPrototypeOf(e);if(r!==null&&r!==Object.prototype)throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${ln(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const i={};for(const[a,s]of Object.entries(e))Ai(a),i[a]=yt(s,t,n+`.${a}`);return i}function un(e){return yt(e,e,"")}const Cl="color:rgb(0, 145, 255)";function Mi(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A"}}function fn(e,t,n,r){const i=Mi(t);e=="info"?console.log(`%c[CONVEX ${i}(${n})] ${r}`,Cl):console.error(`[CONVEX ${i}(${n})] ${r}`)}function ti(e,t,n){const r=Mi(e);return new Error(`[CONVEX ${r}(${t})] ${n}`)}const cn=560,Tl=typeof window<"u"&&typeof window.fetch<"u",dn=Tl?window.fetch:(...e)=>fa(()=>import("../../../chunks/index-c84b8e25.js"),["..\\..\\..\\chunks\\index-c84b8e25.js","..\\..\\..\\chunks\\model_out-a4023712.js","..\\..\\..\\chunks\\index-7cc81915.js","..\\..\\..\\assets\\model_out-6b17fe76.css"],import.meta.url).then(({default:t})=>t(...e));class Bl{constructor(t){this.address=`${t.address}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.auth=t}clearAuth(){this.auth=void 0}setDebug(t){this.debug=t}query(t){return async(...n)=>{const r=JSON.stringify(un(n)),i=encodeURIComponent(r),a=`${this.address}/${$r}/udf?path=${t}&args=${i}`,s=this.auth?{Authorization:`Bearer ${this.auth}`}:{},o=await dn(a,{credentials:"include",headers:s});if(!o.ok&&o.status!=cn)throw new Error(await o.text());const u=await o.json(),l=on(u.value);for(const f of u.logs)fn("info","query",t,f);if(!u.success)throw ti("query",t,l);return l}}mutation(t){return async(...n)=>{const r=JSON.stringify({path:t,args:un(n),tokens:[]}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await dn(`${this.address}/${$r}/udf`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=cn)throw new Error(await a.text());const s=await a.json(),o=on(s.value);for(const u of s.logs)fn("info","mutation",t,u);if(!s.success)throw ti("mutation",t,o);return o}}action(t){return async(...n)=>{const r=JSON.stringify({path:t,args:un(n),debug:this.debug}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await dn(`${this.address}/action`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=cn)throw new Error(await a.text());const s=await a.json();for(const o of s.logLines??[])fn("info","action",t,o);switch(s.status){case"success":return on(s.value),s.value;case"error":throw new Error(s.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(s)}`)}}}}function Ll(e){let t,n,r,i,a,s,o,u,l,f,c,d,h,_,v=e[2]?"(unsaved changes)":"",S,b,y;return{c(){t=z("label"),n=ue("Logged in as "),r=ue(e[4]),i=K(),a=z("button"),s=ue("Save"),o=K(),u=z("button"),l=z("a"),f=ue("Download"),d=K(),h=z("button"),_=ue("Logout "),S=ue(v),this.h()},l(m){t=H(m,"LABEL",{for:!0,class:!0});var g=q(t);n=fe(g,"Logged in as "),r=fe(g,e[4]),g.forEach(k),i=Z(m),a=H(m,"BUTTON",{class:!0,label:!0});var p=q(a);s=fe(p,"Save"),p.forEach(k),o=Z(m),u=H(m,"BUTTON",{class:!0});var C=q(u);l=H(C,"A",{href:!0,download:!0});var E=q(l);f=fe(E,"Download"),E.forEach(k),C.forEach(k),d=Z(m),h=H(m,"BUTTON",{class:!0});var O=q(h);_=fe(O,"Logout "),S=fe(O,v),O.forEach(k),this.h()},h(){A(t,"for",e[8]),A(t,"class","form-label"),A(a,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),A(a,"label","Save"),A(l,"href",c=encodeURI("data:text/plain;charset=utf-8,"+JSON.stringify({widget_params:e[5],query_results:e[7]},null,4))),A(l,"download","data.txt"),A(u,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),A(h,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5")},m(m,g){R(m,t,g),V(t,n),V(t,r),R(m,i,g),R(m,a,g),V(a,s),R(m,o,g),R(m,u,g),V(u,l),V(l,f),R(m,d,g),R(m,h,g),V(h,_),V(h,S),b||(y=[ie(a,"click",e[16]),ie(h,"click",e[18])],b=!0)},p(m,g){g&16&&Ce(r,m[4]),g&160&&c!==(c=encodeURI("data:text/plain;charset=utf-8,"+JSON.stringify({widget_params:m[5],query_results:m[7]},null,4)))&&A(l,"href",c),g&4&&v!==(v=m[2]?"(unsaved changes)":"")&&Ce(S,v)},d(m){m&&k(t),m&&k(i),m&&k(a),m&&k(o),m&&k(u),m&&k(d),m&&k(h),b=!1,it(y)}}}function Vl(e){var l;let t,n,r,i,a,s,o,u=((l=e[3][0])==null?void 0:l.label)&&ni(e);return{c(){u&&u.c(),t=K(),n=z("input"),r=K(),i=z("button"),a=ue("Login"),this.h()},l(f){u&&u.l(f),t=Z(f),n=H(f,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),r=Z(f),i=H(f,"BUTTON",{class:!0,label:!0});var c=q(i);a=fe(c,"Login"),c.forEach(k),this.h()},h(){A(n,"type","text"),A(n,"class","form-select appearance-none border border-solid border-gray-300 rounded px-3"),A(n,"id",e[8]),A(n,"placeholder","Username"),A(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),A(i,"label","Login")},m(f,c){u&&u.m(f,c),R(f,t,c),R(f,n,c),Vn(n,e[3][0].value),R(f,r,c),R(f,i,c),V(i,a),s||(o=[ie(n,"input",e[22]),ie(n,"input",e[14]),ie(i,"click",e[15])],s=!0)},p(f,c){var d;(d=f[3][0])!=null&&d.label?u?u.p(f,c):(u=ni(f),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),c&8&&n.value!==f[3][0].value&&Vn(n,f[3][0].value)},d(f){u&&u.d(f),f&&k(t),f&&k(n),f&&k(r),f&&k(i),s=!1,it(o)}}}function ni(e){let t,n=e[3][0].label+"",r;return{c(){t=z("label"),r=ue(n),this.h()},l(i){t=H(i,"LABEL",{for:!0,class:!0});var a=q(t);r=fe(a,n),a.forEach(k),this.h()},h(){A(t,"for",e[8]),A(t,"class","form-label")},m(i,a){R(i,t,a),V(t,r)},p(i,a){a&8&&n!==(n=i[3][0].label+"")&&Ce(r,n)},d(i){i&&k(t)}}}function Pl(e){let t;return{c(){t=ue("v")},l(n){t=fe(n,"v")},m(n,r){R(n,t,r)},d(n){n&&k(t)}}}function ql(e){let t;return{c(){t=ue("^")},l(n){t=fe(n,"^")},m(n,r){R(n,t,r)},d(n){n&&k(t)}}}function ri(e){let t,n,r,i,a=JSON.stringify({dropdown_index:e[6],widget_params:e[5],query_results:e[7]},null,4)+"",s,o,u;return{c(){t=z("div"),n=ue("copy"),r=K(),i=z("pre"),s=ue(a),this.h()},l(l){t=H(l,"DIV",{class:!0});var f=q(t);n=fe(f,"copy"),f.forEach(k),r=Z(l),i=H(l,"PRE",{id:!0});var c=q(i);s=fe(c,a),c.forEach(k),this.h()},h(){A(t,"class","underline text-blue-600 hover:text-blue-900 hover:cursor-pointer"),A(i,"id","userState")},m(l,f){R(l,t,f),V(t,n),R(l,r,f),R(l,i,f),V(i,s),o||(u=ie(t,"click",jl),o=!0)},p(l,f){f&224&&a!==(a=JSON.stringify({dropdown_index:l[6],widget_params:l[5],query_results:l[7]},null,4)+"")&&Ce(s,a)},d(l){l&&k(t),l&&k(r),l&&k(i),o=!1,u()}}}function Fl(e){let t,n,r,i,a,s,o,u,l,f;function c(y,m){return y[4]==null?Vl:Ll}let d=c(e),h=d(e);function _(y,m){return y[1]?ql:Pl}let v=_(e),S=v(e),b=e[1]&&ri(e);return{c(){t=z("form"),n=z("div"),h.c(),r=K(),i=z("button"),S.c(),a=K(),s=z("br"),o=K(),b&&b.c(),u=dt(),this.h()},l(y){t=H(y,"FORM",{});var m=q(t);n=H(m,"DIV",{class:!0});var g=q(n);h.l(g),r=Z(g),i=H(g,"BUTTON",{class:!0});var p=q(i);S.l(p),p.forEach(k),g.forEach(k),m.forEach(k),a=Z(y),s=H(y,"BR",{}),o=Z(y),b&&b.l(y),u=dt(),this.h()},h(){A(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5"),A(n,"class","mb-3")},m(y,m){R(y,t,m),V(t,n),h.m(n,null),V(n,r),V(n,i),S.m(i,null),R(y,a,m),R(y,s,m),R(y,o,m),b&&b.m(y,m),R(y,u,m),l||(f=ie(i,"click",e[17]),l=!0)},p(y,[m]){d===(d=c(y))&&h?h.p(y,m):(h.d(1),h=d(y),h&&(h.c(),h.m(n,r))),v!==(v=_(y))&&(S.d(1),S=v(y),S&&(S.c(),S.m(i,null))),y[1]?b?b.p(y,m):(b=ri(y),b.c(),b.m(u.parentNode,u)):b&&(b.d(1),b=null)},i:ce,o:ce,d(y){y&&k(t),h.d(),S.d(),y&&k(a),y&&k(s),y&&k(o),b&&b.d(y),y&&k(u),l=!1,f()}}}async function jl(){let e=document.getElementById("userState").innerHTML;try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}function zl(e,t,n){let r,i,a=ce,s=()=>(a(),a=ii(j,W=>n(3,i=W)),j),o,u,l,f;e.$$.on_destroy.push(()=>a());const c={address:"https://modest-manatee-589.convex.cloud"};let d=Bl;const h=new d(c);window.convex=h;const _=h.mutation("saveParams"),v=h.query("getParams");let{spec:S}=t,b=S.id,y={INPUT:[],SUBMIT:[]},m=oe("widget_params");pe(e,m,W=>n(5,u=W));let g=oe("dropdown_index");pe(e,g,W=>n(6,l=W));let p=oe("query_results");pe(e,p,W=>n(7,f=W));let C=oe("unsaved_changes");pe(e,C,W=>n(2,r=W));let E=oe("user");pe(e,E,W=>n(4,o=W));let O=!1,{table:j=Sn([{value:"",label:""}])}=t;s();function P(W){Le(j,i=W,i),i.length<1&&Le(j,i=[{value:"",label:""}],i)}function D(W){console.log("addsource",W),y.SUBMIT.push(W)}function M(){Yi(y.INPUT,b,i[0])}async function L(){if(i[0].value.length==0){alert("Please enter a valid username.");return}Le(E,o=i[0].value,o);let W=await v(i[0].value);console.log("****",W),W!=null&&Le(m,u=JSON.parse(W),u);let ne={};ne[b]={region:f.villages_q[l].village,vegetation_first:u[l].vegetation.start,vegetation_last:u[l].vegetation.end,sum_early_first:u[l].chirps_early.start,sum_early_last:u[l].chirps_early.end,sum_late_first:u[l].chirps_late.start,sum_late_last:u[l].chirps_late.end,valid_results:u[l].isValid},console.log("login.onsubmit",y),y.SUBMIT.forEach(X=>{X.id!="login defaults_q_backend"&&(console.log("login.trigger",ne,b,X),X.trigger(ne,b))}),i[0].value}function B(){_(JSON.stringify(u),o),Le(C,r=!1,r)}function N(){n(1,O=!O)}function Q(){console.log("logout.onsubmit",y),Le(E,o=null,o);let W={};y.SUBMIT.forEach(ne=>{ne.trigger(W,b)}),Le(j,i[0].value="",i),Le(C,r=!1,r)}function we(){i[0].value=this.value,j.set(i)}return e.$$set=W=>{"spec"in W&&n(19,S=W.spec),"table"in W&&s(n(0,j=W.table))},[j,O,r,i,o,u,l,f,b,m,g,p,C,E,M,L,B,N,Q,S,P,D,we]}class Hl extends Ue{constructor(t){super(),We(this,t,zl,Fl,Je,{spec:19,table:0,render:20,addSourceIact:21})}get spec(){return this.$$.ctx[19]}set spec(t){this.$$set({spec:t}),ke()}get table(){return this.$$.ctx[0]}set table(t){this.$$set({table:t}),ke()}get render(){return this.$$.ctx[20]}get addSourceIact(){return this.$$.ctx[21]}}function Rl(e,t,n){let r,i,{name:a,title:s=""}=t;oe("dims");let o=oe("widget_params");pe(e,o,c=>n(7,i=c));let u=oe("dropdown_index");pe(e,u,c=>n(6,r=c));let l=[];function f(c,d){l=c??l,!(!l||l.length==0)&&(console.log("data into alert is",Object.values(l[0])[0]),Object.values(l[0])[0]<1?(alert("Not enough rainfall to set an index for one of your windows; do not save these values..."),Le(o,i[r].isValid=!1,i),console.log("widget params",i[r])):(Le(o,i[r].isValid=!0,i),console.log("widget params",i[r])))}return e.$$set=c=>{"name"in c&&n(2,a=c.name),"title"in c&&n(3,s=c.title)},[o,u,a,s,f]}class Ul extends Ue{constructor(t){super(),We(this,t,Rl,null,Je,{name:2,title:3,render:4})}get name(){return this.$$.ctx[2]}set name(t){this.$$set({name:t}),ke()}get title(){return this.$$.ctx[3]}set title(t){this.$$set({title:t}),ke()}get render(){return this.$$.ctx[4]}}function Wl(e,t,n){let r,i,a=oe("query_results");pe(e,a,l=>n(5,i=l));let s=oe("widget_params");pe(e,s,l=>n(4,r=l));let o=[];function u(l,f){o=l??o,Le(a,i[f]=o,i);let c={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};f=="defaults_q"&&Le(s,r=o.map(d=>({chirps_early:{start:d.chirps_early_first,end:d.chirps_early_last},chirps_late:{start:d.chirps_late_first,end:d.chirps_late_last},vegetation:c[d.evi_month]})),r)}return[a,s,u]}class Jl extends Ue{constructor(t){super(),We(this,t,Wl,null,Je,{render:2})}get render(){return this.$$.ctx[2]}}function Oe(e){console.log(e.h);let t=[li(En,[e.h])];return Ki(...t)}function En(e,t){const n=gt(t).length;if(Zi(e)||gt(e).length===0)return t;let r=null;if(e["*"]){r=xl(e["*"],n,t);const a=$i("*",e);return r.map(s=>En(a,s))}let i={};for(const a in e){const s=e[a];Ft(Function,s)?i[a]=s(t):Ft(String,s)?i[a]=_i(s.split("."),t):Ft(Object,s)?i[a]=En(s,t):i[a]=s}return i}function xl(e,t,n){let r=null;return e==="*"&&t==1?r=ea(n)[0]??[]:r=Ss([],e.split("."),n),Ft(Array,r)||(r=[r]),r}const Gl=function(e){let t=[],n=Object.values(e)[0];if(n!=null)for(const[i,a]of Object.entries(n))console.log("bad year key/values in  matching",`${i}: ${a}`),i.charAt(0)=="X"&&t.push(a);return li(Xl,[t])},Xl=function(e,t,n,r){let i=r[0],a=[];for(let S=0;S<r.length;S++)t[S]>0&&e.includes(i+S)&&a.push(t[S]);let s=a.length,o=[];for(let S=0;S<r.length;S++)t[S]>0&&!e.includes(i+S)&&o.push(t[S]);let u=o.length,l=[];for(let S=0;S<r.length;S++)n[S]>0&&e.includes(i+S)&&l.push(n[S]);let f=l.length,c=[];for(let S=0;S<r.length;S++)n[S]>0&&!e.includes(i+S)&&c.push(n[S]);let d=c.length,h=2*(s*d-u*f),_=(s+f)*(f+d)+(s+u)*(u+d),v;return _!=0?v=h/_:v=0,v.toFixed(2)},Ql=function(e,t,n){if(e.length!=t.length)return-99;let r=e.filter(s=>s>0).length,i=t.filter(s=>s>0).length,a;return i!=0?a=r/i:a=0,a.toFixed(2)},Yl=function(e,t,n){if(e.length!=t.length)return-99;let r=0,i=0;const a=e.length;for(let o=0;o<a-1;o++)e[o]===t[o]&&(console.log("in match field_1 and field_2",e[o],t[o]),r+=1),i+=1;console.log("for matching check matching count and total iterations",r,i);let s;return i!=0?s=r/i:s=0,s.toFixed(2)};let Kl=[{call_name:"ratio",function:Ql,isGenerator:!1},{call_name:"match",function:Yl,isGenerator:!1},{call_name:"HSS",function:Gl,isGenerator:!0}];const Zl=function(e,t){let n=[],r=Object.values(t)[0];if(r!=null)for(const[u,l]of Object.entries(r))console.log("bad year key/values in  matching",`${u}: ${l}`),u.charAt(0)=="X"&&n.push(l);console.log("bad year data returned from transform is,",n);let i=Hn(e),a=i.array("year"),s=[];for(let u=0;u<a.length;u++){let l=a[u];n.includes(l)?s.push({bad_year:1,year:l}):s.push({bad_year:0,year:l})}let o=Hn(s);return i=i.join(o),console.log("data table merge for matching done,",i.toMarkdown()),i};let $l=[{bad_year_transform:Zl}];function eu(e){return{c:ce,l:ce,m:ce,p:ce,i:ce,o:ce,d:ce}}function tu(e){let t,n,r,i,a,s,o,u,l,f,c,d,h,_,v,S;t=new la({props:{country:"Ethiopia",initTime:e[41]}});let b={};return a=new Jl({props:b}),e[20](a),o=new qt({props:{$$slots:{dropdown1:[iu],alert:[ru],header:[nu]},$$scope:{ctx:e}}}),l=new qt({props:{$$slots:{chart2:[uu],slider3:[lu],slider2:[ou],slider1:[su],chart1:[au]},$$scope:{ctx:e}}}),d=new qt({props:{$$slots:{chart1:[fu]},$$scope:{ctx:e}}}),v=new qt({props:{$$slots:{chart2:[du],dropdown1:[cu]},$$scope:{ctx:e}}}),{c(){Se(t.$$.fragment),n=K(),r=z("div"),i=z("div"),Se(a.$$.fragment),s=K(),Se(o.$$.fragment),u=K(),Se(l.$$.fragment),f=K(),c=z("div"),Se(d.$$.fragment),h=K(),_=z("div"),Se(v.$$.fragment),this.h()},l(y){Ae(t.$$.fragment,y),n=Z(y),r=H(y,"DIV",{class:!0});var m=q(r);i=H(m,"DIV",{class:!0});var g=q(i);Ae(a.$$.fragment,g),s=Z(g),Ae(o.$$.fragment,g),u=Z(g),Ae(l.$$.fragment,g),g.forEach(k),f=Z(m),c=H(m,"DIV",{class:!0});var p=q(c);Ae(d.$$.fragment,p),p.forEach(k),h=Z(m),_=H(m,"DIV",{class:!0});var C=q(_);Ae(v.$$.fragment,C),C.forEach(k),m.forEach(k),this.h()},h(){A(i,"class","col-span-1"),A(c,"class","col-span-1"),A(_,"class","col-span-1"),A(r,"class","grid grid-cols-1")},m(y,m){Me(t,y,m),R(y,n,m),R(y,r,m),V(r,i),Me(a,i,null),V(i,s),Me(o,i,null),V(i,u),Me(l,i,null),V(r,f),V(r,c),Me(d,c,null),V(r,h),V(r,_),Me(v,_,null),S=!0},p(y,m){const g={};a.$set(g);const p={};m[0]&13314|m[1]&2048&&(p.$$scope={dirty:m,ctx:y}),o.$set(p);const C={};m[0]&916|m[1]&2048&&(C.$$scope={dirty:m,ctx:y}),l.$set(C);const E={};m[0]&8|m[1]&2048&&(E.$$scope={dirty:m,ctx:y}),d.$set(E);const O={};m[0]&2080|m[1]&2048&&(O.$$scope={dirty:m,ctx:y}),v.$set(O)},i(y){S||($(t.$$.fragment,y),$(a.$$.fragment,y),$(o.$$.fragment,y),$(l.$$.fragment,y),$(d.$$.fragment,y),$(v.$$.fragment,y),S=!0)},o(y){te(t.$$.fragment,y),te(a.$$.fragment,y),te(o.$$.fragment,y),te(l.$$.fragment,y),te(d.$$.fragment,y),te(v.$$.fragment,y),S=!1},d(y){De(t,y),y&&k(n),y&&k(r),e[20](null),De(a),De(o),De(l),De(d),De(v)}}}function nu(e){let t,n,r={table:Sn([{value:"",label:"Login:"}]),spec:{id:"l1",default_user_state:e[1]},slot:"header"};return t=new Hl({props:r}),e[23](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};a[0]&2&&(s.spec={id:"l1",default_user_state:i[1]}),t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[23](null),De(t,i)}}}function ru(e){let t,n,r={slot:"alert",name:"no variance alert"};return t=new Ul({props:r}),e[22](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[22](null),De(t,i)}}}function iu(e){let t,n,r={slot:"dropdown1",spec:e[16]};return t=new ul({props:r}),e[21](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[21](null),De(t,i)}}}function au(e){let t,n,r={slot:"chart1",name:"line",title:"Climatology",xAttr:"dekad",yAttr:"average_value",xDomainMin:"1",xDomainMax:"36"};return t=new Lo({props:r}),e[28](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[28](null),De(t,i)}}}function su(e){let t,n,r={slot:"slider1",spec:{min:1,max:36,id:"sum_early_slider",description:"CHIPRS sum early",widget_id:"chirps_early"}};return t=new Cn({props:r}),e[27](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[27](null),De(t,i)}}}function ou(e){let t,n,r={slot:"slider2",spec:{min:1,max:36,id:"sum_late_slider",description:"CHIRPS sum late",widget_id:"chirps_late"}};return t=new Cn({props:r}),e[26](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[26](null),De(t,i)}}}function lu(e){let t,n,r={slot:"slider3",spec:{min:1,max:36,id:"vegetation_slider",description:"Vegetation",widget_id:"vegetation"}};return t=new Cn({props:r}),e[25](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[25](null),De(t,i)}}}function uu(e){let t,n,r={slot:"chart2",name:"testCropCal",xDomainMin:"1",xDomainMax:"36",timeDomainMode:"fixed"};return t=new el({props:r}),e[24](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[24](null),De(t,i)}}}function fu(e){let t,n,r={slot:"chart1",name:"Bar Grouped",title:"Payouts",groupNames:["combined_payout","sum_early","sum_late","vegetation"],xAttr:"year",yAttr:"value",yMax:"1",xDomainMin:"1981",xDomainMax:"2021"};return t=new Xo({props:r}),e[29](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[29](null),De(t,i)}}}function cu(e){let t,n,r={slot:"dropdown1",spec:e[17]};return t=new dl({props:r}),e[31](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[31](null),De(t,i)}}}function du(e){let t,n,r={slot:"chart2",name:"matching_table"};return t=new sl({props:r}),e[30](t),{c(){Se(t.$$.fragment)},l(i){Ae(t.$$.fragment,i)},m(i,a){Me(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[30](null),De(t,i)}}}function hu(e){let t,n;return t=new ua({}),{c(){Se(t.$$.fragment)},l(r){Ae(t.$$.fragment,r)},m(r,i){Me(t,r,i),n=!0},p:ce,i(r){n||($(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){De(t,r)}}}function gu(e){let t,n,r,i,a,s;An(e[19]);let o={ctx:e,current:null,token:null,hasCatch:!1,pending:hu,then:tu,catch:eu,value:41,blocks:[,,,]};return Vi(e[18],o),{c(){t=z("meta"),n=K(),r=dt(),o.block.c(),this.h()},l(u){const l=Pi("svelte-1qxraob",document.head);t=H(l,"META",{name:!0,content:!0}),l.forEach(k),n=Z(u),r=dt(),o.block.l(u),this.h()},h(){document.title="DESDR: Ethiopia",A(t,"name","description"),A(t,"content","DESDR Ethiopia")},m(u,l){V(document.head,t),R(u,n,l),R(u,r,l),o.block.m(u,o.anchor=l),o.mount=()=>r.parentNode,o.anchor=r,i=!0,a||(s=ie(window,"resize",e[19]),a=!0)},p(u,l){e=u,qi(o,e,l)},i(u){i||($(o.block),i=!0)},o(u){for(let l=0;l<3;l+=1){const f=o.blocks[l];te(f)}i=!1},d(u){k(t),u&&k(n),u&&k(r),o.block.d(u),o.token=null,o=null,a=!1,s()}}}function mu(e,t,n){let r,i,a,s;pe(e,Rn,T=>n(32,r=T)),pe(e,Un,T=>n(34,a=T)),oe("dims");let o=oe("widget_params");pe(e,o,T=>n(33,i=T));let u=oe("dropdown_index");pe(e,u,T=>n(35,s=T)),oe("early_params"),oe("early_params");let l=0,f=[],c={id:"d1",index:s,widget_id:"w1"},d={id:"d2",index:0,widget_id:"w5"},h=null,_=null,v=null,S=null,b=null,y=null,m=null,g=null,p=null,C=null,E=null,O=null;Le(Rn,r=new na,r),Le(Un,a=new ra,a);let j=r.createBackend({id:"duckdb1",type:"DuckDBBackend",name:"chirps_raw",url:ta,schema:[]});async function P(T){console.log("dbGoLive started");let re=Date.now();await T.init(!1),await T.loadCSVString("admin_raw",ia),await T.loadCSVString("crop_cal_raw",aa),await T.loadCSVString("badyear_raw",sa),await T.loadCSVString("evi_raw",oa);let Te=Date.now();return console.log("db go live time is,",Te-re),Te-re}let D=P(j);Fi(async()=>{await D;let T={region:"Genete",dekcap:24,freq:.263,year_start:1981,year_end:2020,back_fill_year:2001,sum_early_weight:.4,sum_late_weight:.4,vegetation_weight:.6,sum_early_first:1,sum_early_last:30,sum_late_first:1,sum_late_last:30,vegetation_first:10,vegetation_last:30,scalar_vegetation:100,exit_multiplier:.8},re="SELECT village, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last, evi_month FROM admin_raw ORDER BY gid",Te=r.createBackend({id:"defaults_q_backend",type:"QueryBackend",query:re,name:"defaults_q",params:T,backend:j}),be=await Te.execute(),F={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};n(1,f=be.map(nt=>({chirps_early:{start:nt.chirps_early_first,end:nt.chirps_early_last},chirps_late:{start:nt.chirps_late_first,end:nt.chirps_late_last},vegetation:F[nt.evi_month]}))),Le(o,i=f,i),T.sum_early_first=i[0].chirps_early.start,T.sum_early_last=i[0].chirps_early.end,T.sum_late_first=i[0].chirps_late.start,T.sum_late_first=i[0].chirps_late.end,T.vegetation_first=i[0].vegetation.start,T.vegetation_last=i[0].vegetation.end;let J=new Pt,ee=new Pt;new Pt;let le=new Pt,I=Mt.climatology.query,U=Mt.payout_combined.query,Pe=Mt.check.query,he="SELECT village FROM admin_raw ORDER BY gid",Y=Mt.crop_cal.query,Ne=Mt.badyear.query,ze="SELECT * FROM (VALUES (0,'match'),(1,'HSS'),(2,'ratio')) MATCHING_OPTIONS(idx, value);",Ee=r.createBackend({id:"climatology_q_backend",type:"QueryBackend",query:I,name:"climatology",params:T,backend:j}),ye=r.createBackend({id:"combined_payouts_q_backend",type:"QueryBackend",query:U,name:"combined_payouts",params:T,backend:j}),qe=r.createBackend({id:"villages_q_backend",type:"QueryBackend",query:he,name:"villages_q",params:T,backend:j}),xe=r.createBackend({id:"crop_cal_q_backend",type:"QueryBackend",query:Y,name:"crop_cal_q",params:T,backend:j}),Fe=r.createBackend({id:"bad_year_q_backend",type:"QueryBackend",query:Ne,name:"bad_year_q",params:T,backend:j}),He=r.createBackend({id:"check_q_backend",type:"QueryBackend",query:Pe,name:"check_q",params:T,backend:j}),at=r.createBackend({id:"matching_table_options_q_backend",type:"QueryBackend",query:ze,name:"matching_table_options_q",params:T,backend:j}),Re=r.createBackend({id:"matching_table_backend",type:"MatchingTableBackEnd",main_data_name:"combined_payouts",main_data_default:null,supp_data_name:"bad_year_q",supp_data_default:null,function_store:Kl,merge_funcs:$l,default_func:"match"});le.registerView(_,null),J.registerView(h,null),ee.registerView(v,null),ye.registerView(Re),Fe.registerView(Re),Ee.registerView(h),ye.registerView(_),Fe.registerView(_),qe.registerView(p),xe.registerView(v),Re.registerView(S),at.registerView(C),Ee.registerView(b),ye.registerView(b),xe.registerView(b),Fe.registerView(b),qe.registerView(b),Re.registerView(b),at.registerView(b),Te.registerView(b),He.registerView(O),await Ee.execute(T),await qe.execute(T),await xe.execute(T),await ye.execute(T),await Fe.execute(T),await He.execute(T),await Re.execute([]),await at.execute([]);let ve={sum_early_slider:{left:T.sum_early_first,right:T.sum_early_last},sum_late_slider:{left:T.sum_late_first,right:T.sum_late_last},vegetation_slider:{left:T.vegetation_first,right:T.vegetation_last}};await J.execute(ve,null),await ee.execute(ve,null),new ge({id:"village_dropdown climatology_q_backend",source:p,target:Ee,postprocess:Oe({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown combined_payouts_q_backend",source:p,target:ye,postprocess:Oe({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown crop_cal_q_backend",source:p,target:xe,postprocess:Oe({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown bad_year_q_backend",source:p,target:Fe,postprocess:Oe({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown check_q_backend",source:p,target:He,postprocess:Oe({h:{"*":"d1",region:"value"}})}),new ge({id:"matching_options_dropdown matching_table_backend",source:C,target:Re,postprocess:Oe({h:{"*":"d2",func_elected:"value"}})}),new ge({id:"login defaults_q_backend",source:E,target:Te,postprocess:Oe({h:{"*":"l1",region:"region"}})}),new ge({id:"login climatology_q_backend",source:E,target:Ee,postprocess:Oe({h:{"*":"l1",region:"region"}})}),new ge({id:"login crop_cal_q_backend",source:E,target:xe,postprocess:Oe({h:{"*":"l1",region:"region"}})}),new ge({id:"login combined_payouts_q_backend",source:E,target:ye,postprocess:Oe({h:{"*":"l1",region:"region",vegetation_first:"vegetation_first",vegetation_last:"vegetation_last",sum_early_first:"sum_early_first",sum_early_last:"sum_early_last",sum_late_first:"sum_late_first",sum_late_last:"sum_late_last"}})});let je={"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"};new ge({id:"sum_early_slider combined_payouts_q_backend",source:m,target:ye,postprocess:Oe({h:je})}),new ge({id:"sum_early_slider matching_table_backend",source:m,target:Re,postprocess:Oe({h:je})}),new ge({id:"sum_early_slider check_q_backend",source:m,target:He,postprocess:Oe({h:je})});let Ge={"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"};new ge({id:"sum_late_slider combined_payouts_q_backend",source:g,target:ye,postprocess:Oe({h:Ge})}),new ge({id:"sum_late_slider matching_table_backend",source:g,target:Re,postprocess:Oe({h:Ge})}),new ge({id:"sum_late_slider check_q_backend",source:g,target:He,postprocess:Oe({h:Ge})});let Xe={"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"};new ge({id:"vegetation_slider combined_payouts_q_backend",source:y,target:ye,postprocess:Oe({h:Xe})}),new ge({id:"vegetation_slider matching_table_backend",source:y,target:Re,postprocess:Oe({h:Xe})}),new ge({id:"vegetation_slider check_q_backend",source:y,target:He,postprocess:Oe({h:Xe})}),new ge({id:"sum_early_slider cropcal_overlay",source:m,target:ee}),new ge({id:"sum_early_slider climatology_overlay",source:m,target:J}),new ge({id:"sum_late_slider cropcal_overlay",source:g,target:ee}),new ge({id:"sum_late_slider climatology_overlay",source:g,target:J}),new ge({id:"vegetation_slider cropcal_overlay",source:y,target:ee}),new ge({id:"vegetation_slider climatology_overlay",source:y,target:J})});function M(){n(0,l=window.innerWidth)}function L(T){Be[T?"unshift":"push"](()=>{b=T,n(6,b)})}function B(T){Be[T?"unshift":"push"](()=>{p=T,n(10,p)})}function N(T){Be[T?"unshift":"push"](()=>{O=T,n(13,O)})}function Q(T){Be[T?"unshift":"push"](()=>{E=T,n(12,E)})}function we(T){Be[T?"unshift":"push"](()=>{v=T,n(4,v)})}function W(T){Be[T?"unshift":"push"](()=>{y=T,n(7,y)})}function ne(T){Be[T?"unshift":"push"](()=>{g=T,n(9,g)})}function X(T){Be[T?"unshift":"push"](()=>{m=T,n(8,m)})}function Ie(T){Be[T?"unshift":"push"](()=>{h=T,n(2,h)})}function de(T){Be[T?"unshift":"push"](()=>{_=T,n(3,_)})}function Ve(T){Be[T?"unshift":"push"](()=>{S=T,n(5,S)})}function _e(T){Be[T?"unshift":"push"](()=>{C=T,n(11,C)})}return[l,f,h,_,v,S,b,y,m,g,p,C,E,O,o,u,c,d,D,M,L,B,N,Q,we,W,ne,X,Ie,de,Ve,_e]}class vu extends Ue{constructor(t){super(),We(this,t,mu,gu,Je,{},null,[-1,-1])}}export{vu as default};
