import{S as He,i as Re,s as Ue,C as Xe,k as H,a as Y,l as R,m as F,h as k,c as K,n as S,b as U,D as q,E as Qe,F as Ye,G as Ke,g as $,d as te,K as Ee,L as ut,M as ft,N as Qt,I as ce,O as ue,J as _e,w as Be,P as Ln,Q as Ni,R as G,T as ie,U as wt,V as Ot,W as it,q as de,r as he,u as qe,e as ct,X as Yt,v as Di,f as Ii,Y as Oi,y as Ne,z as De,A as Ie,B as Oe,Z as ri,_ as Ci,$ as Ti,a0 as Le,a1 as Sn,a2 as jt,a3 as ii,a4 as qn,a5 as Bi,a6 as Li,a7 as qi,o as Vi}from"../chunks/index.7f76c316.js";import{w as An}from"../chunks/index.0f72543e.js";import{S as Vn,r as Pi,c as Fi,i as hn,a as Pn,b as Fn,d as zi,_ as zn,e as ai,f as et,g as ji,h as jn,j as Hi,k as Ri,l as gt,m as Ui,n as Mn,o as Nn,p as Wi,q as Ji,B as xi,s as Gi,t as kt,u as si,v as Xi,w as Qi,x as Yi,y as Ki,z as Zi,A as Ft,C as $i,D as ea,I as ge,E as ta,F as Hn,G as na,H as Rn,J as ra,K as ia,L as aa,M as sa,N as pt,O as oa,P as la}from"../chunks/model_out.009f8d0c.js";import{D as pe}from"../chunks/util.51240e5c.js";import{_ as ua}from"../chunks/preload-helper.41c905a7.js";function lt(e){return typeof e=="string"?new Vn([[document.querySelector(e)]],[document.documentElement]):new Vn([[e]],Pi)}function zt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function oi(e){let t,n,r;e.length!==2?(t=zt,n=(o,u)=>zt(e(o),u),r=(o,u)=>e(o)-u):(t=e===zt||e===fa?e:ca,n=e,r=e);function i(o,u,l=0,f=o.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;n(o[c],u)<0?l=c+1:f=c}while(l<f)}return l}function a(o,u,l=0,f=o.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;n(o[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function s(o,u,l=0,f=o.length){const c=i(o,u,l,f-1);return c>l&&r(o[c-1],u)>-r(o[c],u)?c-1:c}return{left:i,center:s,right:a}}function ca(){return 0}function da(e){return e===null?NaN:+e}const ha=oi(zt),ga=ha.right;oi(da).center;const ma=ga;class Un extends Map{constructor(t,n=ba){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Wn(this,t))}has(t){return super.has(Wn(this,t))}set(t,n){return super.set(pa(this,t),n)}delete(t){return super.delete(_a(this,t))}}function Wn({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function pa({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function _a({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ba(e){return e!==null&&typeof e=="object"?e.valueOf():e}const ya=Math.sqrt(50),va=Math.sqrt(10),wa=Math.sqrt(2);function Ht(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=ya?10:a>=va?5:a>=wa?2:1;let o,u,l;return i<0?(l=Math.pow(10,-i)/s,o=Math.round(e*l),u=Math.round(t*l),o/l<e&&++o,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*s,o=Math.round(e/l),u=Math.round(t/l),o*l<e&&++o,u*l>t&&--u),u<o&&.5<=n&&n<2?Ht(e,t,n*2):[o,u,l]}function ka(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?Ht(t,e,n):Ht(e,t,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)u[l]=(a-l)/-s;else for(let l=0;l<o;++l)u[l]=(a-l)*s;else if(s<0)for(let l=0;l<o;++l)u[l]=(i+l)/-s;else for(let l=0;l<o;++l)u[l]=(i+l)*s;return u}function gn(e,t,n){return t=+t,e=+e,n=+n,Ht(e,t,n)[2]}function Ea(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gn(t,e,n):gn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Jn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Sa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Dn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Aa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xn=Symbol("implicit");function mt(){var e=new Un,t=[],n=[],r=xn;function i(a){let s=e.get(a);if(s===void 0){if(r!==xn)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Un;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return mt(t,n).unknown(r)},Dn.apply(i,arguments),i}function Et(){var e=mt().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,u=0,l=0,f=.5;delete e.unknown;function c(){var d=t().length,h=i<r,b=h?i:r,w=h?r:i;a=(w-b)/Math.max(1,d-u+l*2),o&&(a=Math.floor(a)),b+=(w-b-a*(d-u))*f,s=a*(1-u),o&&(b=Math.round(b),s=Math.round(s));var N=Sa(d).map(function(y){return b+a*y});return n(h?N.reverse():N)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,c()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,c()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(d){return arguments.length?(o=!!d,c()):o},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),c()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),c()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,c()):l},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return Et(t(),[r,i]).round(o).paddingInner(u).paddingOuter(l).align(f)},Dn.apply(c(),arguments)}function Ma(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Na(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Da(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Bt(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function Ia(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Oa(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bt(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function Bt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Fi(t):(n==="number"?hn:n==="string"?(r=Pn(t))?(t=r,Fn):zi:t instanceof Pn?Fn:t instanceof Date?Ia:Na(t)?Ma:Array.isArray(t)?Da:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Oa:hn)(e,t)}function li(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Ca(e){return function(){return e}}function Ta(e){return+e}var Gn=[0,1];function ot(e){return e}function mn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ca(isNaN(t)?NaN:.5)}function Ba(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function La(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=mn(i,r),a=n(s,a)):(r=mn(r,i),a=n(a,s)),function(o){return a(r(o))}}function qa(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=mn(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var u=ma(e,o,1,r)-1;return a[u](i[u](o))}}function Va(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pa(){var e=Gn,t=Gn,n=Bt,r,i,a,s=ot,o,u,l;function f(){var d=Math.min(e.length,t.length);return s!==ot&&(s=Ba(e[0],e[d-1])),o=d>2?qa:La,u=l=null,c}function c(d){return d==null||isNaN(d=+d)?a:(u||(u=o(e.map(r),t,n)))(r(s(d)))}return c.invert=function(d){return s(i((l||(l=o(t,e.map(r),hn)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Ta),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),n=li,f()},c.clamp=function(d){return arguments.length?(s=d?!0:ot,f()):s!==ot},c.interpolate=function(d){return arguments.length?(n=d,f()):n},c.unknown=function(d){return arguments.length?(a=d,c):a},function(d,h){return r=d,i=h,f()}}function Fa(){return Pa()(ot,ot)}function za(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function St(e){return e=Rt(Math.abs(e)),e?e[1]:NaN}function ja(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function Ha(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ra=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ut(e){if(!(t=Ra.exec(e)))throw new Error("invalid format: "+e);var t;return new In({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ut.prototype=In.prototype;function In(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}In.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ua(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var ui;function Wa(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(ui=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rt(e,Math.max(0,t+a-1))[0]}function Xn(e,t){var n=Rt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:za,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xn(e*100,t),r:Xn,s:Wa,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yn(e){return e}var Kn=Array.prototype.map,Zn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ja(e){var t=e.grouping===void 0||e.thousands===void 0?Yn:ja(Kn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Yn:Ha(Kn.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(c){c=Ut(c);var d=c.fill,h=c.align,b=c.sign,w=c.symbol,N=c.zero,y=c.width,_=c.comma,m=c.precision,g=c.trim,p=c.type;p==="n"?(_=!0,p="g"):Qn[p]||(m===void 0&&(m=12),g=!0,p="g"),(N||d==="0"&&h==="=")&&(N=!0,d="0",h="=");var C=w==="$"?n:w==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",E=w==="$"?r:/[%p]/.test(p)?s:"",O=Qn[p],z=/[defgprs%]/.test(p);m=m===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function V(M){var A=C,L=E,T,I,X;if(p==="c")L=O(M)+L,M="";else{M=+M;var ke=M<0||1/M<0;if(M=isNaN(M)?u:O(Math.abs(M),m),g&&(M=Ua(M)),ke&&+M==0&&b!=="+"&&(ke=!1),A=(ke?b==="("?b:o:b==="-"||b==="("?"":b)+A,L=(p==="s"?Zn[8+ui/3]:"")+L+(ke&&b==="("?")":""),z){for(T=-1,I=M.length;++T<I;)if(X=M.charCodeAt(T),48>X||X>57){L=(X===46?i+M.slice(T+1):M.slice(T))+L,M=M.slice(0,T);break}}}_&&!N&&(M=t(M,1/0));var ne=A.length+M.length+L.length,se=ne<y?new Array(y-ne+1).join(d):"";switch(_&&N&&(M=t(se+M,se.length?y-L.length:1/0),se=""),h){case"<":M=A+M+L+se;break;case"=":M=A+se+M+L;break;case"^":M=se.slice(0,ne=se.length>>1)+A+M+L+se.slice(ne);break;default:M=se+A+M+L;break}return a(M)}return V.toString=function(){return c+""},V}function f(c,d){var h=l((c=Ut(c),c.type="f",c)),b=Math.max(-8,Math.min(8,Math.floor(St(d)/3)))*3,w=Math.pow(10,-b),N=Zn[8+b/3];return function(y){return h(w*y)+N}}return{format:l,formatPrefix:f}}var Lt,Kt,fi;xa({thousands:",",grouping:[3],currency:["$",""]});function xa(e){return Lt=Ja(e),Kt=Lt.format,fi=Lt.formatPrefix,Lt}function Ga(e){return Math.max(0,-St(Math.abs(e)))}function Xa(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(St(t)/3)))*3-St(Math.abs(e)))}function Qa(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,St(t)-St(e))+1}function Ya(e,t,n,r){var i=Ea(e,t,n),a;switch(r=Ut(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Xa(i,s))&&(r.precision=a),fi(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Qa(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Ga(i))&&(r.precision=a-(r.type==="%")*2);break}}return Kt(r)}function ci(e){var t=e.domain;return e.ticks=function(n){var r=t();return ka(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ya(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],u,l,f=10;for(o<s&&(l=s,s=o,o=l,l=i,i=a,a=l);f-- >0;){if(l=gn(s,o,n),l===u)return r[i]=s,r[a]=o,t(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;u=l}return e},e}function At(){var e=Fa();return e.copy=function(){return Va(e,At())},Dn.apply(e,arguments),ci(e)}function Ka(){var e=0,t=1,n,r,i,a,s=ot,o=!1,u;function l(c){return c==null||isNaN(c=+c)?u:s(i===0?.5:(c=(a(c)-n)*i,o?Math.max(0,Math.min(1,c)):c))}l.domain=function(c){return arguments.length?([e,t]=c,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),l):[e,t]},l.clamp=function(c){return arguments.length?(o=!!c,l):o},l.interpolator=function(c){return arguments.length?(s=c,l):s};function f(c){return function(d){var h,b;return arguments.length?([h,b]=d,s=c(h,b),l):[s(0),s(1)]}}return l.range=f(Bt),l.rangeRound=f(li),l.unknown=function(c){return arguments.length?(u=c,l):u},function(c){return a=c,n=c(e),r=c(t),i=n===r?0:1/(r-n),l}}function Za(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function di(){var e=ci(Ka()(ot));return e.copy=function(){return Za(e,di())},Aa.apply(e,arguments)}var Wt={},$a={get exports(){return Wt},set exports(e){Wt=e}},es=$a.exports={};es.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var ts=function(e){var t=e.stateHandler.getState;function n(s){var o=t(s);return o&&!!o.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,o){t(s).busy=!!o}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},ns=function(e){var t={};function n(s){var o=e.get(s);return o===void 0?[]:t[o]||[]}function r(s,o){var u=e.get(s);t[u]||(t[u]=[]),t[u].push(o)}function i(s,o){for(var u=n(s),l=0,f=u.length;l<f;++l)if(u[l]===o){u.splice(l,1);break}}function a(s){var o=n(s);o&&(o.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},rs=function(){var e=1;function t(){return e++}return{generate:t}},is=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var o=t.generate();return s.id=o,o}return{get:r,set:i}},as=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var o=console[a];if(o.apply)o.apply(console,arguments);else for(var u=0;u<arguments.length;u++)o(arguments[u])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Jt={},ss={get exports(){return Jt},set exports(e){Jt=e}},hi=ss.exports={};hi.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};hi.isLegacyOpera=function(){return!!window.opera};var pn={},os={get exports(){return pn},set exports(e){pn=e}},ls=os.exports={};ls.getOption=us;function us(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var $n=pn,fs=function(t){t=t||{};var n=t.reporter,r=$n.getOption(t,"async",!0),i=$n.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=er(),s,o=!1;function u(b,w){!o&&i&&r&&a.size()===0&&c(),a.add(b,w)}function l(){for(o=!0;a.size();){var b=a;a=er(),b.process()}o=!1}function f(b){o||(b===void 0&&(b=r),s&&(d(s),s=null),b?c():l())}function c(){s=h(l)}function d(b){var w=clearTimeout;return w(b)}function h(b){var w=function(N){return setTimeout(N,0)};return w(b)}return{add:u,force:f}};function er(){var e={},t=0,n=0,r=0;function i(o,u){u||(u=o,o=0),o>n?n=o:o<r&&(r=o),e[o]||(e[o]=[]),e[o].push(u),t++}function a(){for(var o=r;o<=n;o++)for(var u=e[o],l=0;l<u.length;l++){var f=u[l];f()}}function s(){return t}return{add:i,process:a,size:s}}var On="_erd";function cs(e){return e[On]={},gi(e)}function gi(e){return e[On]}function ds(e){delete e[On]}var hs={initState:cs,getState:gi,cleanState:ds},Nt=Jt,gs=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,f){function c(){f(l)}if(Nt.isIE(8))r(l).object={proxy:c},l.attachEvent("onresize",c);else{var d=o(l);if(!d)throw new Error("Element is not detectable by this strategy.");d.contentDocument.defaultView.addEventListener("resize",c)}}function a(l){var f=e.important?" !important; ":"; ";return(l.join(f)+f).trim()}function s(l,f,c){c||(c=f,f=l,l=null),l=l||{},l.debug;function d(h,b){var w=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),N=!1,y=window.getComputedStyle(h),_=h.offsetWidth,m=h.offsetHeight;r(h).startSize={width:_,height:m};function g(){function p(){if(y.position==="static"){h.style.setProperty("position","relative",l.important?"important":"");var O=function(z,V,M,A){function L(I){return I.replace(/[^-\d\.]/g,"")}var T=M[A];T!=="auto"&&L(T)!=="0"&&(z.warn("An element that is positioned static has style."+A+"="+T+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+A+" will be set to 0. Element: ",V),V.style.setProperty(A,"0",l.important?"important":""))};O(t,h,y,"top"),O(t,h,y,"right"),O(t,h,y,"bottom"),O(t,h,y,"left")}}function C(){N||p();function O(V,M){if(!V.contentDocument){var A=r(V);A.checkForObjectDocumentTimeoutId&&window.clearTimeout(A.checkForObjectDocumentTimeoutId),A.checkForObjectDocumentTimeoutId=setTimeout(function(){A.checkForObjectDocumentTimeoutId=0,O(V,M)},100);return}M(V.contentDocument)}var z=this;O(z,function(M){b(h)})}y.position!==""&&(p(),N=!0);var E=document.createElement("object");E.style.cssText=w,E.tabIndex=-1,E.type="text/html",E.setAttribute("aria-hidden","true"),E.onload=C,Nt.isIE()||(E.data="about:blank"),r(h)&&(h.appendChild(E),r(h).object=E,Nt.isIE()&&(E.data="about:blank"))}n?n.add(g):g()}Nt.isIE(8)?c(f):d(f,c)}function o(l){return r(l).object}function u(l){if(r(l)){var f=o(l);f&&(Nt.isIE(8)?l.detachEvent("onresize",f.proxy):l.removeChild(f),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:s,addListener:i,uninstall:u}},ms=Wt.forEach,ps=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=f(),s="erd_scroll_detection_scrollbar_style",o="erd_scroll_detection_container";function u(g){c(g,s,o)}u(window.document);function l(g){var p=e.important?" !important; ":"; ";return(g.join(p)+p).trim()}function f(){var g=500,p=500,C=document.createElement("div");C.style.cssText=l(["position: absolute","width: "+g*2+"px","height: "+p*2+"px","visibility: hidden","margin: 0","padding: 0"]);var E=document.createElement("div");E.style.cssText=l(["position: absolute","width: "+g+"px","height: "+p+"px","overflow: scroll","visibility: none","top: "+-g*3+"px","left: "+-p*3+"px","visibility: hidden","margin: 0","padding: 0"]),E.appendChild(C),document.body.insertBefore(E,document.body.firstChild);var O=g-E.clientWidth,z=p-E.clientHeight;return document.body.removeChild(E),{width:O,height:z}}function c(g,p,C){function E(M,A){A=A||function(T){g.head.appendChild(T)};var L=g.createElement("style");return L.innerHTML=M,L.id=p,A(L),L}if(!g.getElementById(p)){var O=C+"_animation",z=C+"_animation_active",V=`/* Created by the element-resize-detector library. */
`;V+="."+C+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,V+="."+z+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+O,"animation-name: "+O])+` }
`,V+="@-webkit-keyframes "+O+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,V+="@keyframes "+O+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",E(V)}}function d(g){g.className+=" "+o+"_animation_active"}function h(g,p,C){if(g.addEventListener)g.addEventListener(p,C);else if(g.attachEvent)g.attachEvent("on"+p,C);else return t.error("[scroll] Don't know how to add event listeners.")}function b(g,p,C){if(g.removeEventListener)g.removeEventListener(p,C);else if(g.detachEvent)g.detachEvent("on"+p,C);else return t.error("[scroll] Don't know how to remove event listeners.")}function w(g){return r(g).container.childNodes[0].childNodes[0].childNodes[0]}function N(g){return r(g).container.childNodes[0].childNodes[0].childNodes[1]}function y(g,p){var C=r(g).listeners;if(!C.push)throw new Error("Cannot add listener to an element that is not detectable.");r(g).listeners.push(p)}function _(g,p,C){C||(C=p,p=g,g=null),g=g||{};function E(){if(g.debug){var j=Array.prototype.slice.call(arguments);if(j.unshift(i.get(p),"Scroll: "),t.log.apply)t.log.apply(null,j);else for(var x=0;x<j.length;x++)t.log(j[x])}}function O(j){function x(ee){var fe=ee.getRootNode&&ee.getRootNode().contains(ee);return ee===ee.ownerDocument.body||ee.ownerDocument.body.contains(ee)||fe}return!x(j)||window.getComputedStyle(j)===null}function z(j){var x=r(j).container.childNodes[0],ee=window.getComputedStyle(x);return!ee.width||ee.width.indexOf("px")===-1}function V(){var j=window.getComputedStyle(p),x={};return x.position=j.position,x.width=p.offsetWidth,x.height=p.offsetHeight,x.top=j.top,x.right=j.right,x.bottom=j.bottom,x.left=j.left,x.widthCSS=j.width,x.heightCSS=j.height,x}function M(){var j=V();r(p).startSize={width:j.width,height:j.height},E("Element start size",r(p).startSize)}function A(){r(p).listeners=[]}function L(){if(E("storeStyle invoked."),!r(p)){E("Aborting because element has been uninstalled");return}var j=V();r(p).style=j}function T(j,x,ee){r(j).lastWidth=x,r(j).lastHeight=ee}function I(j){return w(j).childNodes[0]}function X(){return 2*a.width+1}function ke(){return 2*a.height+1}function ne(j){return j+10+X()}function se(j){return j+10+ke()}function P(j){return j*2+X()}function ae(j){return j*2+ke()}function Z(j,x,ee){var fe=w(j),D=N(j),W=ne(x),Fe=se(ee),me=P(x),Q=ae(ee);fe.scrollLeft=W,fe.scrollTop=Fe,D.scrollLeft=me,D.scrollTop=Q}function we(){var j=r(p).container;if(!j){j=document.createElement("div"),j.className=o,j.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(p).container=j,d(j),p.appendChild(j);var x=function(){r(p).onRendered&&r(p).onRendered()};h(j,"animationstart",x),r(p).onAnimationStart=x}return j}function be(){function j(){var ve=r(p).style;if(ve.position==="static"){p.style.setProperty("position","relative",g.important?"important":"");var Pe=function(Ge,xe,dt,v){function J(le){return le.replace(/[^-\d\.]/g,"")}var oe=dt[v];oe!=="auto"&&J(oe)!=="0"&&(Ge.warn("An element that is positioned static has style."+v+"="+oe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+v+" will be set to 0. Element: ",xe),xe.style[v]=0)};Pe(t,p,ve,"top"),Pe(t,p,ve,"right"),Pe(t,p,ve,"bottom"),Pe(t,p,ve,"left")}}function x(ve,Pe,Ge,xe){return ve=ve?ve+"px":"0",Pe=Pe?Pe+"px":"0",Ge=Ge?Ge+"px":"0",xe=xe?xe+"px":"0",["left: "+ve,"top: "+Pe,"right: "+xe,"bottom: "+Ge]}if(E("Injecting elements"),!r(p)){E("Aborting because element has been uninstalled");return}j();var ee=r(p).container;ee||(ee=we());var fe=a.width,D=a.height,W=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),Fe=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(x(-(1+fe),-(1+D),-D,-fe))),me=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Q=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Ce=l(["position: absolute","left: 0","top: 0"]),je=l(["position: absolute","width: 200%","height: 200%"]),Ve=document.createElement("div"),Se=document.createElement("div"),Ae=document.createElement("div"),ze=document.createElement("div"),We=document.createElement("div"),Je=document.createElement("div");Ve.dir="ltr",Ve.style.cssText=W,Ve.className=o,Se.className=o,Se.style.cssText=Fe,Ae.style.cssText=me,ze.style.cssText=Ce,We.style.cssText=Q,Je.style.cssText=je,Ae.appendChild(ze),We.appendChild(Je),Se.appendChild(Ae),Se.appendChild(We),Ve.appendChild(Se),ee.appendChild(Ve);function nt(){var ve=r(p);ve&&ve.onExpand?ve.onExpand():E("Aborting expand scroll handler: element has been uninstalled")}function $e(){var ve=r(p);ve&&ve.onShrink?ve.onShrink():E("Aborting shrink scroll handler: element has been uninstalled")}h(Ae,"scroll",nt),h(We,"scroll",$e),r(p).onExpandScroll=nt,r(p).onShrinkScroll=$e}function B(){function j(me,Q,Ce){var je=I(me),Ve=ne(Q),Se=se(Ce);je.style.setProperty("width",Ve+"px",g.important?"important":""),je.style.setProperty("height",Se+"px",g.important?"important":"")}function x(me){var Q=p.offsetWidth,Ce=p.offsetHeight,je=Q!==r(p).lastWidth||Ce!==r(p).lastHeight;E("Storing current size",Q,Ce),T(p,Q,Ce),n.add(0,function(){if(je){if(!r(p)){E("Aborting because element has been uninstalled");return}if(!ee()){E("Aborting because element container has not been initialized");return}if(g.debug){var Se=p.offsetWidth,Ae=p.offsetHeight;(Se!==Q||Ae!==Ce)&&t.warn(i.get(p),"Scroll: Size changed before updating detector elements.")}j(p,Q,Ce)}}),n.add(1,function(){if(!r(p)){E("Aborting because element has been uninstalled");return}if(!ee()){E("Aborting because element container has not been initialized");return}Z(p,Q,Ce)}),je&&me&&n.add(2,function(){if(!r(p)){E("Aborting because element has been uninstalled");return}if(!ee()){E("Aborting because element container has not been initialized");return}me()})}function ee(){return!!r(p).container}function fe(){function me(){return r(p).lastNotifiedWidth===void 0}E("notifyListenersIfNeeded invoked");var Q=r(p);if(me()&&Q.lastWidth===Q.startSize.width&&Q.lastHeight===Q.startSize.height)return E("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Q.lastWidth===Q.lastNotifiedWidth&&Q.lastHeight===Q.lastNotifiedHeight)return E("Not notifying: Size already notified");E("Current size not notified, notifying..."),Q.lastNotifiedWidth=Q.lastWidth,Q.lastNotifiedHeight=Q.lastHeight,ms(r(p).listeners,function(Ce){Ce(p)})}function D(){if(E("startanimation triggered."),z(p)){E("Ignoring since element is still unrendered...");return}E("Element rendered.");var me=w(p),Q=N(p);(me.scrollLeft===0||me.scrollTop===0||Q.scrollLeft===0||Q.scrollTop===0)&&(E("Scrollbars out of sync. Updating detector elements..."),x(fe))}function W(){if(E("Scroll detected."),z(p)){E("Scroll event fired while unrendered. Ignoring...");return}x(fe)}if(E("registerListenersAndPositionElements invoked."),!r(p)){E("Aborting because element has been uninstalled");return}r(p).onRendered=D,r(p).onExpand=W,r(p).onShrink=W;var Fe=r(p).style;j(p,Fe.width,Fe.height)}function re(){if(E("finalizeDomMutation invoked."),!r(p)){E("Aborting because element has been uninstalled");return}var j=r(p).style;T(p,j.width,j.height),Z(p,j.width,j.height)}function Te(){C(p)}function ye(){E("Installing..."),A(),M(),n.add(0,L),n.add(1,be),n.add(2,B),n.add(3,re),n.add(4,Te)}E("Making detectable..."),O(p)?(E("Element is detached"),we(),E("Waiting until element is attached..."),r(p).onRendered=function(){E("Element is now attached"),ye()}):ye()}function m(g){var p=r(g);p&&(p.onExpandScroll&&b(w(g),"scroll",p.onExpandScroll),p.onShrinkScroll&&b(N(g),"scroll",p.onShrinkScroll),p.onAnimationStart&&b(p.container,"animationstart",p.onAnimationStart),p.container&&g.removeChild(p.container))}return{makeDetectable:_,addListener:y,uninstall:m,initDocument:u}},Dt=Wt.forEach,_s=ts,bs=ns,ys=rs,vs=is,ws=as,tr=Jt,ks=fs,at=hs,Es=gs,Ss=ps;function nr(e){return Array.isArray(e)||e.length!==void 0}function rr(e){if(Array.isArray(e))return e;var t=[];return Dt(e,function(n){t.push(n)}),t}function ir(e){return e&&e.nodeType===1}var As=function(e){e=e||{};var t;if(e.idHandler)t={get:function(_){return e.idHandler.get(_,!0)},set:e.idHandler.set};else{var n=ys(),r=vs({idGenerator:n,stateHandler:at});t=r}var i=e.reporter;if(!i){var a=i===!1;i=ws(a)}var s=st(e,"batchProcessor",ks({reporter:i})),o={};o.callOnAdd=!!st(e,"callOnAdd",!0),o.debug=!!st(e,"debug",!1);var u=bs(t),l=_s({stateHandler:at}),f,c=st(e,"strategy","object"),d=st(e,"important",!1),h={reporter:i,batchProcessor:s,stateHandler:at,idHandler:t,important:d};if(c==="scroll"&&(tr.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),c="object"):tr.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),c="object")),c==="scroll")f=Ss(h);else if(c==="object")f=Es(h);else throw new Error("Invalid strategy name: "+c);var b={};function w(_,m,g){function p(M){var A=u.get(M);Dt(A,function(T){T(M)})}function C(M,A,L){u.add(A,L),M&&L(A)}if(g||(g=m,m=_,_={}),!m)throw new Error("At least one element required.");if(!g)throw new Error("Listener required.");if(ir(m))m=[m];else if(nr(m))m=rr(m);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var E=0,O=st(_,"callOnAdd",o.callOnAdd),z=st(_,"onReady",function(){}),V=st(_,"debug",o.debug);Dt(m,function(A){at.getState(A)||(at.initState(A),t.set(A));var L=t.get(A);if(V&&i.log("Attaching listener to element",L,A),!l.isDetectable(A)){if(V&&i.log(L,"Not detectable."),l.isBusy(A)){V&&i.log(L,"System busy making it detectable"),C(O,A,g),b[L]=b[L]||[],b[L].push(function(){E++,E===m.length&&z()});return}return V&&i.log(L,"Making detectable..."),l.markBusy(A,!0),f.makeDetectable({debug:V,important:d},A,function(I){if(V&&i.log(L,"onElementDetectable"),at.getState(I)){l.markAsDetectable(I),l.markBusy(I,!1),f.addListener(I,p),C(O,I,g);var X=at.getState(I);if(X&&X.startSize){var ke=I.offsetWidth,ne=I.offsetHeight;(X.startSize.width!==ke||X.startSize.height!==ne)&&p(I)}b[L]&&Dt(b[L],function(se){se()})}else V&&i.log(L,"Element uninstalled before being detectable.");delete b[L],E++,E===m.length&&z()})}V&&i.log(L,"Already detecable, adding listener."),C(O,A,g),E++}),E===m.length&&z()}function N(_){if(!_)return i.error("At least one element is required.");if(ir(_))_=[_];else if(nr(_))_=rr(_);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Dt(_,function(m){u.removeAllListeners(m),f.uninstall(m),at.cleanState(m)})}function y(_){f.initDocument&&f.initDocument(_)}return{listenTo:w,removeListener:u.removeListener,removeAllListeners:u.removeAllListeners,uninstall:N,initDocument:y}};function st(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var qt=As({strategy:"scroll"});function Zt(e,t){qt.listenTo(e,t);var n=t;return{update:function(r){qt.removeListener(e,n),qt.listenTo(e,r),n=r},destroy:function(){qt.removeListener(e,n)}}}function mi(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var o;s<t.length&&(!zn(t[s])||i>=arguments.length)?o=t[s]:(o=arguments[i],i+=1),r[s]=o,zn(o)||(a-=1),s+=1}return a<=0?n.apply(this,r):ai(a,mi(e,r,n))}}var Ms=et(function(t,n){return t===1?ji(n):ai(t,mi(t,[],n))});function Ns(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var Ds=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=jn.init,e.prototype["@@transducer/result"]=jn.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),Is=et(function(t,n){return new Ds(t,n)}),Os=et(Hi(["fantasy-land/map","map"],Is,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return Ms(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return Ri(function(r,i){return r[i]=t(n[i]),r},{},gt(n));default:return Ns(t,n)}}));const $t=Number.isInteger||function(t){return t<<0===t};var pi=et(function(t,n){var r=t<0?n.length+t:t;return Ui(n)?n.charAt(r):n[r]}),Cs=et(function(t,n){if(n!=null)return $t(t)?pi(t,n):n[t]}),Ts=et(function(t,n){return Os(Cs(t),n)});const _n=Ts;function Bs(e,t,n){if($t(e)&&Mn(n)){var r=[].concat(n);return r[e]=t,r}var i={};for(var a in n)i[a]=n[a];return i[e]=t,i}var Ls=et(function(t,n){return n==null||n!==n?t:n}),qs=et(function(t,n){for(var r=gt(n),i=0;i<r.length;){var a=r[i];t(n[a],a,n),i+=1}return n});const xt=qs;function ar(e){return Object.prototype.toString.call(e)==="[object Number]"}var Vs=et(function(t,n){return t.map(function(r){for(var i=n,a=0,s;a<r.length;){if(i==null)return;s=r[a],i=$t(s)?pi(s,i):i[s],a+=1}return i})}),Ps=et(function(t,n){return Vs([t],n)[0]});const _i=Ps;function Fs(e,t,n){if($t(e)&&Mn(n)){var r=[].concat(n);return r[e]=t(r[e]),r}var i={};for(var a in n)i[a]=n[a];return i[e]=t(i[e]),i}var zs=Nn(function e(t,n,r){if(!Wi(r)&&!Mn(r)||t.length===0)return r;var i=t[0];if(!Ji(i,r))return r;if(t.length===1)return Fs(i,n,r);var a=e(Array.prototype.slice.call(t,1),n,r[i]);return a===r[i]?r:Bs(i,a,r)}),js=Nn(function(t,n,r){return zs([t],n,r)});const sr=js;var Hs=Nn(function(t,n,r){return Ls(t,_i(n,r))});const Rs=Hs;var Us=et(function(t,n){if(!(ar(t)&&ar(n)))throw new TypeError("Both arguments to range must be numbers");for(var r=[],i=t;i<n;)r.push(i),i+=1;return r});const Ws=Us;function Js(e){return e}var nn=1,rn=2,bn=3,It=4,or=1e-6;function xs(e){return"translate("+e+",0)"}function Gs(e){return"translate(0,"+e+")"}function Xs(e){return t=>+e(t)}function Qs(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Ys(){return!this.__axis}function bi(e,t){var n=[],r=null,i=null,a=6,s=6,o=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===nn||e===It?-1:1,f=e===It||e===rn?"x":"y",c=e===nn||e===bn?xs:Gs;function d(h){var b=r??(t.ticks?t.ticks.apply(t,n):t.domain()),w=i??(t.tickFormat?t.tickFormat.apply(t,n):Js),N=Math.max(a,0)+o,y=t.range(),_=+y[0]+u,m=+y[y.length-1]+u,g=(t.bandwidth?Qs:Xs)(t.copy(),u),p=h.selection?h.selection():h,C=p.selectAll(".domain").data([null]),E=p.selectAll(".tick").data(b,t).order(),O=E.exit(),z=E.enter().append("g").attr("class","tick"),V=E.select("line"),M=E.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(z),V=V.merge(z.append("line").attr("stroke","currentColor").attr(f+"2",l*a)),M=M.merge(z.append("text").attr("fill","currentColor").attr(f,l*N).attr("dy",e===nn?"0em":e===bn?"0.71em":"0.32em")),h!==p&&(C=C.transition(h),E=E.transition(h),V=V.transition(h),M=M.transition(h),O=O.transition(h).attr("opacity",or).attr("transform",function(A){return isFinite(A=g(A))?c(A+u):this.getAttribute("transform")}),z.attr("opacity",or).attr("transform",function(A){var L=this.parentNode.__axis;return c((L&&isFinite(L=L(A))?L:g(A))+u)})),O.remove(),C.attr("d",e===It||e===rn?s?"M"+l*s+","+_+"H"+u+"V"+m+"H"+l*s:"M"+u+","+_+"V"+m:s?"M"+_+","+l*s+"V"+u+"H"+m+"V"+l*s:"M"+_+","+u+"H"+m),E.attr("opacity",1).attr("transform",function(A){return c(g(A)+u)}),V.attr(f+"2",l*a),M.attr(f,l*N).text(w),p.filter(Ys).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===rn?"start":e===It?"end":"middle"),p.each(function(){this.__axis=g})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=s=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(s=+h,d):s},d.tickPadding=function(h){return arguments.length?(o=+h,d):o},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function en(e){return bi(bn,e)}function tn(e){return bi(It,e)}const yn=Math.PI,vn=2*yn,ht=1e-6,Ks=vn-ht;function yi(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Zs(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return yi;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class $s{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?yi:Zs(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-t,l=i-n,f=s-t,c=o-n,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>ht)if(!(Math.abs(c*u-l*f)>ht)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,b=i-o,w=u*u+l*l,N=h*h+b*b,y=Math.sqrt(w),_=Math.sqrt(d),m=a*Math.tan((yn-Math.acos((w+d-N)/(2*y*_)))/2),g=m/_,p=m/y;Math.abs(g-1)>ht&&this._append`L${t+g*f},${n+g*c}`,this._append`A${a},${a},0,0,${+(c*h>f*b)},${this._x1=t+p*u},${this._y1=n+p*l}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),l=t+o,f=n+u,c=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>ht||Math.abs(this._y1-f)>ht)&&this._append`L${l},${f}`,r&&(d<0&&(d=d%vn+vn),d>Ks?this._append`A${r},${r},0,1,${c},${t-o},${n-u}A${r},${r},0,1,${c},${this._x1=l},${this._y1=f}`:d>ht&&this._append`A${r},${r},0,${+(d>=yn)},${c},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eo(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Ct=eo("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function _t(e){return function(){return e}}function to(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new $s(t)}function no(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function vi(e){this._context=e}vi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ro(e){return new vi(e)}function io(e){return e[0]}function ao(e){return e[1]}function so(e,t){var n=_t(!0),r=null,i=ro,a=null,s=to(o);e=typeof e=="function"?e:e===void 0?io:_t(e),t=typeof t=="function"?t:t===void 0?ao:_t(t);function o(u){var l,f=(u=no(u)).length,c,d=!1,h;for(r==null&&(a=i(h=s())),l=0;l<=f;++l)!(l<f&&n(c=u[l],l,u))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,u),+t(c,l,u));if(h)return a=null,h+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:_t(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:_t(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_t(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}class Vt extends xi{constructor(){super(),this.overlays={}}async execute(t,n){this.overlays=Gi(this.overlays,t),this.emit("data",this.overlays,"overlay")}}const oo=e=>({}),lr=e=>({}),lo=e=>({}),ur=e=>({}),uo=e=>({}),fr=e=>({}),fo=e=>({}),cr=e=>({}),co=e=>({}),dr=e=>({}),ho=e=>({}),hr=e=>({}),go=e=>({}),gr=e=>({}),mo=e=>({}),mr=e=>({}),po=e=>({}),pr=e=>({}),_o=e=>({}),_r=e=>({}),bo=e=>({}),br=e=>({}),yo=e=>({}),yr=e=>({});function vo(e){let t,n,r,i,a,s,o,u,l,f,c,d,h,b,w,N,y,_,m,g,p,C,E,O;const z=e[1].header,V=Xe(z,e,e[0],yr),M=e[1].alert,A=Xe(M,e,e[0],br),L=e[1].dropdown1,T=Xe(L,e,e[0],_r),I=e[1].dropdown2,X=Xe(I,e,e[0],pr),ke=e[1].chart1,ne=Xe(ke,e,e[0],mr),se=e[1].chart2,P=Xe(se,e,e[0],gr),ae=e[1].chart3,Z=Xe(ae,e,e[0],hr),we=e[1].chart4,be=Xe(we,e,e[0],dr),B=e[1].slider1,re=Xe(B,e,e[0],cr),Te=e[1].slider2,ye=Xe(Te,e,e[0],fr),j=e[1].slider3,x=Xe(j,e,e[0],ur),ee=e[1].slider4,fe=Xe(ee,e,e[0],lr);return{c(){t=H("div"),n=H("div"),V&&V.c(),r=Y(),i=H("div"),A&&A.c(),a=Y(),s=H("div"),T&&T.c(),o=Y(),X&&X.c(),u=Y(),l=H("div"),ne&&ne.c(),f=Y(),c=H("div"),P&&P.c(),d=Y(),h=H("div"),Z&&Z.c(),b=Y(),w=H("div"),be&&be.c(),N=Y(),y=H("div"),re&&re.c(),_=Y(),m=H("div"),ye&&ye.c(),g=Y(),p=H("div"),x&&x.c(),C=Y(),E=H("div"),fe&&fe.c(),this.h()},l(D){t=R(D,"DIV",{class:!0});var W=F(t);n=R(W,"DIV",{class:!0});var Fe=F(n);V&&V.l(Fe),Fe.forEach(k),r=K(W),i=R(W,"DIV",{class:!0});var me=F(i);A&&A.l(me),me.forEach(k),a=K(W),s=R(W,"DIV",{class:!0});var Q=F(s);T&&T.l(Q),o=K(Q),X&&X.l(Q),Q.forEach(k),u=K(W),l=R(W,"DIV",{class:!0});var Ce=F(l);ne&&ne.l(Ce),Ce.forEach(k),f=K(W),c=R(W,"DIV",{class:!0});var je=F(c);P&&P.l(je),je.forEach(k),d=K(W),h=R(W,"DIV",{class:!0});var Ve=F(h);Z&&Z.l(Ve),Ve.forEach(k),b=K(W),w=R(W,"DIV",{class:!0});var Se=F(w);be&&be.l(Se),Se.forEach(k),N=K(W),y=R(W,"DIV",{class:!0});var Ae=F(y);re&&re.l(Ae),Ae.forEach(k),_=K(W),m=R(W,"DIV",{class:!0});var ze=F(m);ye&&ye.l(ze),ze.forEach(k),g=K(W),p=R(W,"DIV",{class:!0});var We=F(p);x&&x.l(We),We.forEach(k),C=K(W),E=R(W,"DIV",{class:!0});var Je=F(E);fe&&fe.l(Je),Je.forEach(k),W.forEach(k),this.h()},h(){S(n,"class","mx-auto"),S(i,"class",""),S(s,"class","mx-auto"),S(l,"class",""),S(c,"class",""),S(h,"class",""),S(w,"class",""),S(y,"class",""),S(m,"class",""),S(p,"class",""),S(E,"class",""),S(t,"class","px-5 py-2 bg-white border-solid border-2 border-black")},m(D,W){U(D,t,W),q(t,n),V&&V.m(n,null),q(t,r),q(t,i),A&&A.m(i,null),q(t,a),q(t,s),T&&T.m(s,null),q(s,o),X&&X.m(s,null),q(t,u),q(t,l),ne&&ne.m(l,null),q(t,f),q(t,c),P&&P.m(c,null),q(t,d),q(t,h),Z&&Z.m(h,null),q(t,b),q(t,w),be&&be.m(w,null),q(t,N),q(t,y),re&&re.m(y,null),q(t,_),q(t,m),ye&&ye.m(m,null),q(t,g),q(t,p),x&&x.m(p,null),q(t,C),q(t,E),fe&&fe.m(E,null),O=!0},p(D,[W]){V&&V.p&&(!O||W&1)&&Qe(V,z,D,D[0],O?Ke(z,D[0],W,yo):Ye(D[0]),yr),A&&A.p&&(!O||W&1)&&Qe(A,M,D,D[0],O?Ke(M,D[0],W,bo):Ye(D[0]),br),T&&T.p&&(!O||W&1)&&Qe(T,L,D,D[0],O?Ke(L,D[0],W,_o):Ye(D[0]),_r),X&&X.p&&(!O||W&1)&&Qe(X,I,D,D[0],O?Ke(I,D[0],W,po):Ye(D[0]),pr),ne&&ne.p&&(!O||W&1)&&Qe(ne,ke,D,D[0],O?Ke(ke,D[0],W,mo):Ye(D[0]),mr),P&&P.p&&(!O||W&1)&&Qe(P,se,D,D[0],O?Ke(se,D[0],W,go):Ye(D[0]),gr),Z&&Z.p&&(!O||W&1)&&Qe(Z,ae,D,D[0],O?Ke(ae,D[0],W,ho):Ye(D[0]),hr),be&&be.p&&(!O||W&1)&&Qe(be,we,D,D[0],O?Ke(we,D[0],W,co):Ye(D[0]),dr),re&&re.p&&(!O||W&1)&&Qe(re,B,D,D[0],O?Ke(B,D[0],W,fo):Ye(D[0]),cr),ye&&ye.p&&(!O||W&1)&&Qe(ye,Te,D,D[0],O?Ke(Te,D[0],W,uo):Ye(D[0]),fr),x&&x.p&&(!O||W&1)&&Qe(x,j,D,D[0],O?Ke(j,D[0],W,lo):Ye(D[0]),ur),fe&&fe.p&&(!O||W&1)&&Qe(fe,ee,D,D[0],O?Ke(ee,D[0],W,oo):Ye(D[0]),lr)},i(D){O||($(V,D),$(A,D),$(T,D),$(X,D),$(ne,D),$(P,D),$(Z,D),$(be,D),$(re,D),$(ye,D),$(x,D),$(fe,D),O=!0)},o(D){te(V,D),te(A,D),te(T,D),te(X,D),te(ne,D),te(P,D),te(Z,D),te(be,D),te(re,D),te(ye,D),te(x,D),te(fe,D),O=!1},d(D){D&&k(t),V&&V.d(D),A&&A.d(D),T&&T.d(D),X&&X.d(D),ne&&ne.d(D),P&&P.d(D),Z&&Z.d(D),be&&be.d(D),re&&re.d(D),ye&&ye.d(D),x&&x.d(D),fe&&fe.d(D)}}}function wo(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class Pt extends He{constructor(t){super(),Re(this,t,wo,vo,Ue,{})}}function ko(e){let t,n,r,i,a,s,o,u;return{c(){t=H("div"),n=Y(),r=H("div"),i=ut("svg"),a=ut("g"),this.h()},l(l){t=R(l,"DIV",{}),F(t).forEach(k),n=K(l),r=R(l,"DIV",{id:!0});var f=F(r);i=ft(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=F(i);a=ft(c,"g",{transform:!0}),F(a).forEach(k),c.forEach(k),f.forEach(k),this.h()},h(){S(a,"transform",s=`translate(${e[2].margin.left},${e[2].margin.top})`),S(i,"class",""),S(i,"viewBox","0 0 800 300"),S(i,"width","100%"),S(i,"height","100%"),S(r,"id",e[0])},m(l,f){U(l,t,f),U(l,n,f),U(l,r,f),q(r,i),q(i,a),e[10](a),o||(u=Qt(Zt.call(null,t,Eo)),o=!0)},p(l,[f]){f&4&&s!==(s=`translate(${l[2].margin.left},${l[2].margin.top})`)&&S(a,"transform",s),f&1&&S(r,"id",l[0])},i:ce,o:ce,d(l){l&&k(t),l&&k(n),l&&k(r),e[10](null),o=!1,u()}}}let vr=800,wr=300;function Eo(){}function So(e,t,n){let r,{name:i,title:a,xAttr:s,yAttr:o,xDomainMin:u=null,xDomainMax:l=null}=t,f=ue("dims");_e(e,f,y=>n(2,r=y));let c={},d=[],h;function b(y,_){if(!y||y.length==0)return;let m=lt(h);console.log("line rendering....",y,_),_=="overlay"?c=y??c:d=y??d,console.log("line grouped stuff",vr,wr),m.selectAll("*").remove();let g=r.margin,p=vr-g.left-g.right,C=wr-g.top-g.bottom,E=At().range([0,p]),O=At().range([C,0]),z=en(E).tickFormat(Kt("d")).ticks(d.length),V=tn(O).ticks(10);d=d.map(sr(s,parseInt)),d=d.map(sr(o,parseInt)),(u===null||l===null)&&(n(4,u=d[0][s]),n(5,l=Jn(_n(s,d)))),E.domain([u,l]),O.domain([0,Jn(_n(o,d))]),m.append("g").attr("class","x axis").attr("transform","translate(0,"+C+")").call(z).selectAll("text").style("text-anchor","end").attr("dx","-0.5em").attr("dy","0.55em").attr("transform","rotate(-45)"),m.append("g").attr("class","y axis").call(V).append("text").attr("transform","rotate(-90)").attr("y",5).attr("dy",".71em").style("text-anchor","end").text(`${o}`),m.append("text").attr("x",p/2).attr("y",0-g.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(`${a}`),m.append("path").classed("content",!0).datum(d).attr("fill","none").attr("stroke","#69b3a2").attr("stroke-width",1.5).attr("d",so().x(A=>E(A[s])).y(A=>O(A[o])));let M=[];m.append("g").classed("content",!0).selectAll("dot").data(d).attr("class","dot").enter().append("circle").attr("cx",A=>(M.push(E(A[s])),E(A[s]))).attr("cy",A=>O(A[o])).attr("r",5).attr("fill","#69b3a2").append("title").text(A=>`${s}: ${A[s]}
 ${o}: ${A[o]}`),w(E,O)}function w(y,_,m){console.log("line continued with overlays...",c);let g=lt(h);g.selectAll(".overlay").remove();let p=mt(Ct).domain(gt(c));xt(({left:C,right:E},O)=>{console.log("line rendering",typeof C,C,Number(C),O),g.append("rect").classed("overlay",!0).attr("x",y(Number(C))).attr("width",y(Number(E))-y(Number(C))).attr("height",_(0)).attr("fill",p(O)).attr("opacity",.1)},c)}function N(y){Be[y?"unshift":"push"](()=>{h=y,n(1,h)})}return e.$$set=y=>{"name"in y&&n(0,i=y.name),"title"in y&&n(6,a=y.title),"xAttr"in y&&n(7,s=y.xAttr),"yAttr"in y&&n(8,o=y.yAttr),"xDomainMin"in y&&n(4,u=y.xDomainMin),"xDomainMax"in y&&n(5,l=y.xDomainMax)},[i,h,r,f,u,l,a,s,o,b,N]}class Ao extends He{constructor(t){super(),Re(this,t,So,ko,Ue,{name:0,title:6,xAttr:7,yAttr:8,xDomainMin:4,xDomainMax:5,render:9})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),Ee()}get title(){return this.$$.ctx[6]}set title(t){this.$$set({title:t}),Ee()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),Ee()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),Ee()}get xDomainMin(){return this.$$.ctx[4]}set xDomainMin(t){this.$$set({xDomainMin:t}),Ee()}get xDomainMax(){return this.$$.ctx[5]}set xDomainMax(t){this.$$set({xDomainMax:t}),Ee()}get render(){return this.$$.ctx[9]}}function kr(e){return Object.prototype.toString.call(e)==="[object Date]"}function wn(e,t,n,r){if(typeof n=="number"||kr(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,o=e.opts.damping*a,u=(s-o)*e.inv_mass,l=(a+u)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,kr(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>wn(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=wn(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function Mo(e,t={}){const n=An(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,o,u,l=e,f=e,c=1,d=0,h=!1;function b(N,y={}){f=N;const _=u={};return e==null||y.hard||w.stiffness>=1&&w.damping>=1?(h=!0,s=Ln(),l=N,n.set(e=f),Promise.resolve()):(y.soft&&(d=1/((y.soft===!0?.5:+y.soft)*60),c=0),o||(s=Ln(),h=!1,o=Ni(m=>{if(h)return h=!1,o=null,!1;c=Math.min(c+d,1);const g={inv_mass:c,opts:w,settled:!0,dt:(m-s)*60/1e3},p=wn(g,l,e,f);return s=m,l=e,n.set(e=p),g.settled&&(o=null),!g.settled})),new Promise(m=>{o.promise.then(()=>{_===u&&m()})}))}const w={set:b,update:(N,y)=>b(N(f,e),y),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return w}function Er(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function Sr(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&Ar(e);return{c(){t=H("span"),a&&a.c(),this.h()},l(s){t=R(s,"SPAN",{class:!0,style:!0});var o=F(t);a&&a.l(o),o.forEach(k),this.h()},h(){S(t,"class","pip first"),S(t,"style",n=e[14]+": 0%;"),G(t,"selected",e[18](e[0])),G(t,"in-range",e[17](e[0]))},m(s,o){U(s,t,o),a&&a.m(t,null),r||(i=[ie(t,"click",function(){wt(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}),ie(t,"touchend",Ot(function(){wt(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}))],r=!0)},p(s,o){e=s,e[6]==="label"||e[7]==="label"?a?a.p(e,o):(a=Ar(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&16384&&n!==(n=e[14]+": 0%;")&&S(t,"style",n),o&262145&&G(t,"selected",e[18](e[0])),o&131073&&G(t,"in-range",e[17](e[0]))},d(s){s&&k(t),a&&a.d(),r=!1,it(i)}}}function Ar(e){let t,n=e[12](e[16](e[0]),0,0)+"",r,i=e[10]&&Mr(e),a=e[11]&&Nr(e);return{c(){t=H("span"),i&&i.c(),r=de(n),a&&a.c(),this.h()},l(s){t=R(s,"SPAN",{class:!0});var o=F(t);i&&i.l(o),r=he(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){S(t,"class","pipVal")},m(s,o){U(s,t,o),i&&i.m(t,null),q(t,r),a&&a.m(t,null)},p(s,o){s[10]?i?i.p(s,o):(i=Mr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o&69633&&n!==(n=s[12](s[16](s[0]),0,0)+"")&&qe(r,n),s[11]?a?a.p(s,o):(a=Nr(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function Mr(e){let t,n;return{c(){t=H("span"),n=de(e[10]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[10]),i.forEach(k),this.h()},h(){S(t,"class","pipVal-prefix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i&1024&&qe(n,r[10])},d(r){r&&k(t)}}}function Nr(e){let t,n;return{c(){t=H("span"),n=de(e[11]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[11]),i.forEach(k),this.h()},h(){S(t,"class","pipVal-suffix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i&2048&&qe(n,r[11])},d(r){r&&k(t)}}}function Dr(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Br(Er(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=ct()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=ct()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);U(i,t,a)},p(i,a){if(a&4120131){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const o=Er(i,n,s);r[s]?r[s].p(o,a):(r[s]=Br(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Yt(r,i),i&&k(t)}}}function Ir(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&Or(e);return{c(){t=H("span"),s&&s.c(),n=Y(),this.h()},l(o){t=R(o,"SPAN",{class:!0,style:!0});var u=F(t);s&&s.l(u),n=K(u),u.forEach(k),this.h()},h(){S(t,"class","pip"),S(t,"style",r=e[14]+": "+e[15](e[19](e[30]))+"%;"),G(t,"selected",e[18](e[19](e[30]))),G(t,"in-range",e[17](e[19](e[30])))},m(o,u){U(o,t,u),s&&s.m(t,null),q(t,n),i||(a=[ie(t,"click",function(){wt(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}),ie(t,"touchend",Ot(function(){wt(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}))],i=!0)},p(o,u){e=o,e[6]==="label"||e[9]==="label"?s?s.p(e,u):(s=Or(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),u&573440&&r!==(r=e[14]+": "+e[15](e[19](e[30]))+"%;")&&S(t,"style",r),u&786432&&G(t,"selected",e[18](e[19](e[30]))),u&655360&&G(t,"in-range",e[17](e[19](e[30])))},d(o){o&&k(t),s&&s.d(),i=!1,it(a)}}}function Or(e){let t,n=e[12](e[19](e[30]),e[30],e[15](e[19](e[30])))+"",r,i=e[10]&&Cr(e),a=e[11]&&Tr(e);return{c(){t=H("span"),i&&i.c(),r=de(n),a&&a.c(),this.h()},l(s){t=R(s,"SPAN",{class:!0});var o=F(t);i&&i.l(o),r=he(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){S(t,"class","pipVal")},m(s,o){U(s,t,o),i&&i.m(t,null),q(t,r),a&&a.m(t,null)},p(s,o){s[10]?i?i.p(s,o):(i=Cr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o&561152&&n!==(n=s[12](s[19](s[30]),s[30],s[15](s[19](s[30])))+"")&&qe(r,n),s[11]?a?a.p(s,o):(a=Tr(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function Cr(e){let t,n;return{c(){t=H("span"),n=de(e[10]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[10]),i.forEach(k),this.h()},h(){S(t,"class","pipVal-prefix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i&1024&&qe(n,r[10])},d(r){r&&k(t)}}}function Tr(e){let t,n;return{c(){t=H("span"),n=de(e[11]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[11]),i.forEach(k),this.h()},h(){S(t,"class","pipVal-suffix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i&2048&&qe(n,r[11])},d(r){r&&k(t)}}}function Br(e){let t=e[19](e[30])!==e[0]&&e[19](e[30])!==e[1],n,r=t&&Ir(e);return{c(){r&&r.c(),n=ct()},l(i){r&&r.l(i),n=ct()},m(i,a){r&&r.m(i,a),U(i,n,a)},p(i,a){a&524291&&(t=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),t?r?r.p(i,a):(r=Ir(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&k(n)}}}function Lr(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&qr(e);return{c(){t=H("span"),a&&a.c(),this.h()},l(s){t=R(s,"SPAN",{class:!0,style:!0});var o=F(t);a&&a.l(o),o.forEach(k),this.h()},h(){S(t,"class","pip last"),S(t,"style",n=e[14]+": 100%;"),G(t,"selected",e[18](e[1])),G(t,"in-range",e[17](e[1]))},m(s,o){U(s,t,o),a&&a.m(t,null),r||(i=[ie(t,"click",function(){wt(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}),ie(t,"touchend",Ot(function(){wt(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}))],r=!0)},p(s,o){e=s,e[6]==="label"||e[8]==="label"?a?a.p(e,o):(a=qr(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&16384&&n!==(n=e[14]+": 100%;")&&S(t,"style",n),o&262146&&G(t,"selected",e[18](e[1])),o&131074&&G(t,"in-range",e[17](e[1]))},d(s){s&&k(t),a&&a.d(),r=!1,it(i)}}}function qr(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",r,i=e[10]&&Vr(e),a=e[11]&&Pr(e);return{c(){t=H("span"),i&&i.c(),r=de(n),a&&a.c(),this.h()},l(s){t=R(s,"SPAN",{class:!0});var o=F(t);i&&i.l(o),r=he(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){S(t,"class","pipVal")},m(s,o){U(s,t,o),i&&i.m(t,null),q(t,r),a&&a.m(t,null)},p(s,o){s[10]?i?i.p(s,o):(i=Vr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o&1118210&&n!==(n=s[12](s[16](s[1]),s[20],100)+"")&&qe(r,n),s[11]?a?a.p(s,o):(a=Pr(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function Vr(e){let t,n;return{c(){t=H("span"),n=de(e[10]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[10]),i.forEach(k),this.h()},h(){S(t,"class","pipVal-prefix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i&1024&&qe(n,r[10])},d(r){r&&k(t)}}}function Pr(e){let t,n;return{c(){t=H("span"),n=de(e[11]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[11]),i.forEach(k),this.h()},h(){S(t,"class","pipVal-suffix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i&2048&&qe(n,r[11])},d(r){r&&k(t)}}}function No(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&Sr(e),a=(e[6]&&e[9]!==!1||e[9])&&Dr(e),s=(e[6]&&e[8]!==!1||e[8])&&Lr(e);return{c(){t=H("div"),i&&i.c(),n=Y(),a&&a.c(),r=Y(),s&&s.c(),this.h()},l(o){t=R(o,"DIV",{class:!0});var u=F(t);i&&i.l(u),n=K(u),a&&a.l(u),r=K(u),s&&s.l(u),u.forEach(k),this.h()},h(){S(t,"class","rangePips"),G(t,"disabled",e[5]),G(t,"hoverable",e[4]),G(t,"vertical",e[2]),G(t,"reversed",e[3]),G(t,"focus",e[13])},m(o,u){U(o,t,u),i&&i.m(t,null),q(t,n),a&&a.m(t,null),q(t,r),s&&s.m(t,null)},p(o,[u]){o[6]&&o[7]!==!1||o[7]?i?i.p(o,u):(i=Sr(o),i.c(),i.m(t,n)):i&&(i.d(1),i=null),o[6]&&o[9]!==!1||o[9]?a?a.p(o,u):(a=Dr(o),a.c(),a.m(t,r)):a&&(a.d(1),a=null),o[6]&&o[8]!==!1||o[8]?s?s.p(o,u):(s=Lr(o),s.c(),s.m(t,null)):s&&(s.d(1),s=null),u&32&&G(t,"disabled",o[5]),u&16&&G(t,"hoverable",o[4]),u&4&&G(t,"vertical",o[2]),u&8&&G(t,"reversed",o[3]),u&8192&&G(t,"focus",o[13])},i:ce,o:ce,d(o){o&&k(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function Do(e,t,n){let r,i,a,s,o,{range:u=!1}=t,{min:l=0}=t,{max:f=100}=t,{step:c=1}=t,{values:d=[(f+l)/2]}=t,{vertical:h=!1}=t,{reversed:b=!1}=t,{hoverable:w=!0}=t,{disabled:N=!1}=t,{pipstep:y=void 0}=t,{all:_=!0}=t,{first:m=void 0}=t,{last:g=void 0}=t,{rest:p=void 0}=t,{prefix:C=""}=t,{suffix:E=""}=t,{formatter:O=(I,X)=>I}=t,{focus:z=void 0}=t,{orientationStart:V=void 0}=t,{percentOf:M=void 0}=t,{moveHandle:A=void 0}=t,{fixFloat:L=void 0}=t;function T(I){N||A(void 0,I)}return e.$$set=I=>{"range"in I&&n(22,u=I.range),"min"in I&&n(0,l=I.min),"max"in I&&n(1,f=I.max),"step"in I&&n(23,c=I.step),"values"in I&&n(24,d=I.values),"vertical"in I&&n(2,h=I.vertical),"reversed"in I&&n(3,b=I.reversed),"hoverable"in I&&n(4,w=I.hoverable),"disabled"in I&&n(5,N=I.disabled),"pipstep"in I&&n(25,y=I.pipstep),"all"in I&&n(6,_=I.all),"first"in I&&n(7,m=I.first),"last"in I&&n(8,g=I.last),"rest"in I&&n(9,p=I.rest),"prefix"in I&&n(10,C=I.prefix),"suffix"in I&&n(11,E=I.suffix),"formatter"in I&&n(12,O=I.formatter),"focus"in I&&n(13,z=I.focus),"orientationStart"in I&&n(14,V=I.orientationStart),"percentOf"in I&&n(15,M=I.percentOf),"moveHandle"in I&&n(26,A=I.moveHandle),"fixFloat"in I&&n(16,L=I.fixFloat)},e.$$.update=()=>{e.$$.dirty&41943047&&n(27,r=y||((f-l)/c>=(h?50:100)?(f-l)/(h?10:20):1)),e.$$.dirty&142606339&&n(20,i=parseInt((f-l)/(c*r),10)),e.$$.dirty&142671873&&n(19,a=function(I){return L(l+I*c*r)}),e.$$.dirty&16842752&&n(18,s=function(I){return d.some(X=>L(X)===L(I))}),e.$$.dirty&20971520&&n(17,o=function(I){if(u==="min")return d[0]>I;if(u==="max")return d[0]<I;if(u)return d[0]<I&&d[1]>I})},[l,f,h,b,w,N,_,m,g,p,C,E,O,z,V,M,L,o,s,a,i,T,u,c,d,y,A,r]}class Io extends He{constructor(t){super(),Re(this,t,Do,No,Ue,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function Fr(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}function zr(e){let t,n=e[21](e[64],e[66],e[23](e[64]))+"",r,i=e[18]&&jr(e),a=e[19]&&Hr(e);return{c(){t=H("span"),i&&i.c(),r=de(n),a&&a.c(),this.h()},l(s){t=R(s,"SPAN",{class:!0});var o=F(t);i&&i.l(o),r=he(o,n),a&&a.l(o),o.forEach(k),this.h()},h(){S(t,"class","rangeFloat")},m(s,o){U(s,t,o),i&&i.m(t,null),q(t,r),a&&a.m(t,null)},p(s,o){s[18]?i?i.p(s,o):(i=jr(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),o[0]&10485761&&n!==(n=s[21](s[64],s[66],s[23](s[64]))+"")&&qe(r,n),s[19]?a?a.p(s,o):(a=Hr(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&k(t),i&&i.d(),a&&a.d()}}}function jr(e){let t,n;return{c(){t=H("span"),n=de(e[18]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[18]),i.forEach(k),this.h()},h(){S(t,"class","rangeFloat-prefix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i[0]&262144&&qe(n,r[18])},d(r){r&&k(t)}}}function Hr(e){let t,n;return{c(){t=H("span"),n=de(e[19]),this.h()},l(r){t=R(r,"SPAN",{class:!0});var i=F(t);n=he(i,e[19]),i.forEach(k),this.h()},h(){S(t,"class","rangeFloat-suffix")},m(r,i){U(r,t,i),q(t,n)},p(r,i){i[0]&524288&&qe(n,r[19])},d(r){r&&k(t)}}}function Rr(e){let t,n,r,i,a,s,o,u,l,f,c,d,h=e[7]&&zr(e);return{c(){t=H("span"),n=H("span"),r=Y(),h&&h.c(),this.h()},l(b){t=R(b,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var w=F(t);n=R(w,"SPAN",{class:!0}),F(n).forEach(k),r=K(w),h&&h.l(w),w.forEach(k),this.h()},h(){S(n,"class","rangeNub"),S(t,"role","slider"),S(t,"class","rangeHandle"),S(t,"data-handle",e[66]),S(t,"style",i=e[28]+": "+e[29][e[66]]+"%; z-index: "+(e[26]===e[66]?3:2)+";"),S(t,"aria-valuemin",a=e[2]===!0&&e[66]===1?e[0][0]:e[3]),S(t,"aria-valuemax",s=e[2]===!0&&e[66]===0?e[0][1]:e[4]),S(t,"aria-valuenow",o=e[64]),S(t,"aria-valuetext",u=""+(e[18]+e[21](e[64],e[66],e[23](e[64]))+e[19])),S(t,"aria-orientation",l=e[6]?"vertical":"horizontal"),S(t,"aria-disabled",e[10]),S(t,"disabled",e[10]),S(t,"tabindex",f=e[10]?-1:0),G(t,"active",e[24]&&e[26]===e[66]),G(t,"press",e[25]&&e[26]===e[66])},m(b,w){U(b,t,w),q(t,n),q(t,r),h&&h.m(t,null),c||(d=[ie(t,"blur",e[34]),ie(t,"focus",e[35]),ie(t,"keydown",e[36])],c=!0)},p(b,w){b[7]?h?h.p(b,w):(h=zr(b),h.c(),h.m(t,null)):h&&(h.d(1),h=null),w[0]&872415232&&i!==(i=b[28]+": "+b[29][b[66]]+"%; z-index: "+(b[26]===b[66]?3:2)+";")&&S(t,"style",i),w[0]&13&&a!==(a=b[2]===!0&&b[66]===1?b[0][0]:b[3])&&S(t,"aria-valuemin",a),w[0]&21&&s!==(s=b[2]===!0&&b[66]===0?b[0][1]:b[4])&&S(t,"aria-valuemax",s),w[0]&1&&o!==(o=b[64])&&S(t,"aria-valuenow",o),w[0]&11272193&&u!==(u=""+(b[18]+b[21](b[64],b[66],b[23](b[64]))+b[19]))&&S(t,"aria-valuetext",u),w[0]&64&&l!==(l=b[6]?"vertical":"horizontal")&&S(t,"aria-orientation",l),w[0]&1024&&S(t,"aria-disabled",b[10]),w[0]&1024&&S(t,"disabled",b[10]),w[0]&1024&&f!==(f=b[10]?-1:0)&&S(t,"tabindex",f),w[0]&83886080&&G(t,"active",b[24]&&b[26]===b[66]),w[0]&100663296&&G(t,"press",b[25]&&b[26]===b[66])},d(b){b&&k(t),h&&h.d(),c=!1,it(d)}}}function Ur(e){let t,n;return{c(){t=H("span"),this.h()},l(r){t=R(r,"SPAN",{class:!0,style:!0}),F(t).forEach(k),this.h()},h(){S(t,"class","rangeBar"),S(t,"style",n=e[28]+": "+e[32](e[29])+"%; "+e[27]+": "+e[33](e[29])+"%;")},m(r,i){U(r,t,i)},p(r,i){i[0]&939524096&&n!==(n=r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;")&&S(t,"style",n)},d(r){r&&k(t)}}}function Wr(e){let t,n;return t=new Io({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[28],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[24],percentOf:e[23],moveHandle:e[31],fixFloat:e[30]}}),{c(){Ne(t.$$.fragment)},l(r){De(t.$$.fragment,r)},m(r,i){Ie(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&268435456&&(a.orientationStart=r[28]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&16777216&&(a.focus=r[24]),i[0]&8388608&&(a.percentOf=r[23]),t.$set(a)},i(r){n||($(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){Oe(t,r)}}}function Oo(e){let t,n,r,i,a,s,o=e[0],u=[];for(let c=0;c<o.length;c+=1)u[c]=Rr(Fr(e,o,c));let l=e[2]&&Ur(e),f=e[11]&&Wr(e);return{c(){t=H("div");for(let c=0;c<u.length;c+=1)u[c].c();n=Y(),l&&l.c(),r=Y(),f&&f.c(),this.h()},l(c){t=R(c,"DIV",{id:!0,class:!0});var d=F(t);for(let h=0;h<u.length;h+=1)u[h].l(d);n=K(d),l&&l.l(d),r=K(d),f&&f.l(d),d.forEach(k),this.h()},h(){S(t,"id",e[17]),S(t,"class","rangeSlider"),G(t,"range",e[2]),G(t,"disabled",e[10]),G(t,"hoverable",e[9]),G(t,"vertical",e[6]),G(t,"reversed",e[8]),G(t,"focus",e[24]),G(t,"min",e[2]==="min"),G(t,"max",e[2]==="max"),G(t,"pips",e[11]),G(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(c,d){U(c,t,d);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(t,null);q(t,n),l&&l.m(t,null),q(t,r),f&&f.m(t,null),e[50](t),i=!0,a||(s=[ie(window,"mousedown",e[39]),ie(window,"touchstart",e[39]),ie(window,"mousemove",e[40]),ie(window,"touchmove",e[40]),ie(window,"mouseup",e[41]),ie(window,"touchend",e[42]),ie(window,"keydown",e[43]),ie(t,"mousedown",e[37]),ie(t,"mouseup",e[38]),ie(t,"touchstart",Ot(e[37])),ie(t,"touchend",Ot(e[38]))],a=!0)},p(c,d){if(d[0]&934020317|d[1]&56){o=c[0];let h;for(h=0;h<o.length;h+=1){const b=Fr(c,o,h);u[h]?u[h].p(b,d):(u[h]=Rr(b),u[h].c(),u[h].m(t,n))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}c[2]?l?l.p(c,d):(l=Ur(c),l.c(),l.m(t,r)):l&&(l.d(1),l=null),c[11]?f?(f.p(c,d),d[0]&2048&&$(f,1)):(f=Wr(c),f.c(),$(f,1),f.m(t,null)):f&&(Di(),te(f,1,1,()=>{f=null}),Ii()),(!i||d[0]&131072)&&S(t,"id",c[17]),(!i||d[0]&4)&&G(t,"range",c[2]),(!i||d[0]&1024)&&G(t,"disabled",c[10]),(!i||d[0]&512)&&G(t,"hoverable",c[9]),(!i||d[0]&64)&&G(t,"vertical",c[6]),(!i||d[0]&256)&&G(t,"reversed",c[8]),(!i||d[0]&16777216)&&G(t,"focus",c[24]),(!i||d[0]&4)&&G(t,"min",c[2]==="min"),(!i||d[0]&4)&&G(t,"max",c[2]==="max"),(!i||d[0]&2048)&&G(t,"pips",c[11]),(!i||d[0]&122880)&&G(t,"pip-labels",c[13]==="label"||c[14]==="label"||c[15]==="label"||c[16]==="label")},i(c){i||($(f),i=!0)},o(c){te(f),i=!1},d(c){c&&k(t),Yt(u,c),l&&l.d(),f&&f.d(),e[50](null),a=!1,it(s)}}}function Jr(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function an(e){return e.type.includes("touch")?e.touches[0]:e}function Co(e,t,n){let r,i,a,s,o,u,l=ce,f=()=>(l(),l=ri(j,v=>n(29,u=v)),j);e.$$.on_destroy.push(()=>l());let{slider:c=void 0}=t,{range:d=!1}=t,{pushy:h=!1}=t,{min:b=0}=t,{max:w=100}=t,{step:N=1}=t,{values:y=[(w+b)/2]}=t,{vertical:_=!1}=t,{float:m=!1}=t,{reversed:g=!1}=t,{hoverable:p=!0}=t,{disabled:C=!1}=t,{pips:E=!1}=t,{pipstep:O=void 0}=t,{all:z=void 0}=t,{first:V=void 0}=t,{last:M=void 0}=t,{rest:A=void 0}=t,{id:L=void 0}=t,{prefix:T=""}=t,{suffix:I=""}=t,{formatter:X=(v,J,oe)=>v}=t,{handleFormatter:ke=X}=t,{precision:ne=2}=t,{springValues:se={stiffness:.15,damping:.4}}=t;const P=Oi();let ae=0,Z=!1,we=!1,be=!1,B=!1,re=y.length-1,Te,ye,j;const x=v=>parseFloat(v.toFixed(ne));function ee(v){const J=c.querySelectorAll(".handle"),oe=Array.prototype.includes.call(J,v),le=Array.prototype.some.call(J,rt=>rt.contains(v));return oe||le}function fe(v){return d==="min"||d==="max"?v.slice(0,1):d?v.slice(0,2):v}function D(){return c.getBoundingClientRect()}function W(v){const J=D();let oe=0,le=0,rt=0;_?(oe=v.clientY-J.top,le=oe/J.height*100,le=g?le:100-le):(oe=v.clientX-J.left,le=oe/J.width*100,le=g?100-le:le),rt=(w-b)/100*le+b;let Bn;return d===!0&&y[0]===y[1]?rt>y[1]?1:0:(Bn=y.indexOf([...y].sort((Ai,Mi)=>Math.abs(rt-Ai)-Math.abs(rt-Mi))[0]),Bn)}function Fe(v){const J=D();let oe=0,le=0,rt=0;_?(oe=v.clientY-J.top,le=oe/J.height*100,le=g?le:100-le):(oe=v.clientX-J.left,le=oe/J.width*100,le=g?100-le:le),rt=(w-b)/100*le+b,me(re,rt)}function me(v,J){return J=a(J),typeof v>"u"&&(v=re),d&&(v===0&&J>y[1]?h?n(0,y[1]=J,y):J=y[1]:v===1&&J<y[0]&&(h?n(0,y[0]=J,y):J=y[0])),y[v]!==J&&n(0,y[v]=J,y),ye!==J&&(xe(),ye=J),J}function Q(v){return d==="min"?0:v[0]}function Ce(v){return d==="max"?0:d==="min"?100-v[0]:100-v[1]}function je(v){B&&(n(24,Z=!1),we=!1,n(25,be=!1))}function Ve(v){C||(n(26,re=Jr(v.target)),n(24,Z=!0))}function Se(v){if(!C){const J=Jr(v.target);let oe=v.ctrlKey||v.metaKey||v.shiftKey?N*10:N,le=!1;switch(v.key){case"PageDown":oe*=10;case"ArrowRight":case"ArrowUp":me(J,y[J]+oe),le=!0;break;case"PageUp":oe*=10;case"ArrowLeft":case"ArrowDown":me(J,y[J]-oe),le=!0;break;case"Home":me(J,b),le=!0;break;case"End":me(J,w),le=!0;break}le&&(v.preventDefault(),v.stopPropagation())}}function Ae(v){if(!C){const J=v.target,oe=an(v);n(24,Z=!0),we=!0,n(25,be=!0),n(26,re=W(oe)),Te=ye=a(y[re]),Pe(),v.type==="touchstart"&&!J.matches(".pipVal")&&Fe(oe)}}function ze(v){v.type==="touchend"&&Ge(),n(25,be=!1)}function We(v){B=!1,Z&&v.target!==c&&!c.contains(v.target)&&n(24,Z=!1)}function Je(v){C||we&&Fe(an(v))}function nt(v){if(!C){const J=v.target;we&&((J===c||c.contains(J))&&(n(24,Z=!0),!ee(J)&&!J.matches(".pipVal")&&Fe(an(v))),Ge())}we=!1,n(25,be=!1)}function $e(v){we=!1,n(25,be=!1)}function ve(v){C||(v.target===c||c.contains(v.target))&&(B=!0)}function Pe(){!C&&P("start",{activeHandle:re,value:Te,values:y.map(v=>a(v))})}function Ge(){!C&&P("stop",{activeHandle:re,startValue:Te,value:y[re],values:y.map(v=>a(v))})}function xe(){!C&&P("change",{activeHandle:re,startValue:Te,previousValue:typeof ye>"u"?Te:ye,value:y[re],values:y.map(v=>a(v))})}function dt(v){Be[v?"unshift":"push"](()=>{c=v,n(1,c)})}return e.$$set=v=>{"slider"in v&&n(1,c=v.slider),"range"in v&&n(2,d=v.range),"pushy"in v&&n(44,h=v.pushy),"min"in v&&n(3,b=v.min),"max"in v&&n(4,w=v.max),"step"in v&&n(5,N=v.step),"values"in v&&n(0,y=v.values),"vertical"in v&&n(6,_=v.vertical),"float"in v&&n(7,m=v.float),"reversed"in v&&n(8,g=v.reversed),"hoverable"in v&&n(9,p=v.hoverable),"disabled"in v&&n(10,C=v.disabled),"pips"in v&&n(11,E=v.pips),"pipstep"in v&&n(12,O=v.pipstep),"all"in v&&n(13,z=v.all),"first"in v&&n(14,V=v.first),"last"in v&&n(15,M=v.last),"rest"in v&&n(16,A=v.rest),"id"in v&&n(17,L=v.id),"prefix"in v&&n(18,T=v.prefix),"suffix"in v&&n(19,I=v.suffix),"formatter"in v&&n(20,X=v.formatter),"handleFormatter"in v&&n(21,ke=v.handleFormatter),"precision"in v&&n(45,ne=v.precision),"springValues"in v&&n(46,se=v.springValues)},e.$$.update=()=>{e.$$.dirty[0]&24&&n(49,i=function(v){return v<=b?b:v>=w?w:v}),e.$$.dirty[0]&56|e.$$.dirty[1]&262144&&n(48,a=function(v){if(v<=b)return x(b);if(v>=w)return x(w);let J=(v-b)%N,oe=v-J;return Math.abs(J)*2>=N&&(oe+=J>0?N:-N),oe=i(oe),x(oe)}),e.$$.dirty[0]&24&&n(23,r=function(v){let J=(v-b)/(w-b)*100;return isNaN(J)||J<=0?0:J>=100?100:x(J)}),e.$$.dirty[0]&12582937|e.$$.dirty[1]&229376&&(Array.isArray(y)||(n(0,y=[(w+b)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,y=fe(y.map(v=>a(v)))),ae!==y.length?f(n(22,j=Mo(y.map(v=>r(v)),se))):j.set(y.map(v=>r(v))),n(47,ae=y.length)),e.$$.dirty[0]&320&&n(28,s=_?g?"top":"bottom":g?"right":"left"),e.$$.dirty[0]&320&&n(27,o=_?g?"bottom":"top":g?"left":"right")},[y,c,d,b,w,N,_,m,g,p,C,E,O,z,V,M,A,L,T,I,X,ke,j,r,Z,be,re,o,s,u,x,me,Q,Ce,je,Ve,Se,Ae,ze,We,Je,nt,$e,ve,h,ne,se,ae,a,i,dt]}class To extends He{constructor(t){super(),Re(this,t,Co,Oo,Ue,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function Bo(e){let t,n;return{c(){t=H("p"),n=de(e[4])},l(r){t=R(r,"P",{});var i=F(t);n=he(i,e[4]),i.forEach(k)},m(r,i){U(r,t,i),q(t,n)},p:ce,d(r){r&&k(t)}}}function Lo(e){let t,n,r,i,a,s=e[4]&&Bo(e);function o(l){e[15](l)}let u={min:e[2],max:e[3],pips:!0,range:!0,float:!0,first:"label",last:"label",disabled:e[1]==null,id:"slider"};return e[0]!==void 0&&(u.values=e[0]),r=new To({props:u}),Be.push(()=>Ci(r,"values",o)),r.$on("stop",e[10]),{c(){t=H("div"),s&&s.c(),n=Y(),Ne(r.$$.fragment),this.h()},l(l){t=R(l,"DIV",{class:!0,id:!0});var f=F(t);s&&s.l(f),n=K(f),De(r.$$.fragment,f),f.forEach(k),this.h()},h(){S(t,"class","px-[1%] py-[1%] ml-[5.9%]"),S(t,"id","slider")},m(l,f){U(l,t,f),s&&s.m(t,null),q(t,n),Ie(r,t,null),a=!0},p(l,[f]){l[4]&&s.p(l,f);const c={};f&2&&(c.disabled=l[1]==null),!i&&f&1&&(i=!0,c.values=l[0],Ti(()=>i=!1)),r.$set(c)},i(l){a||($(r.$$.fragment,l),a=!0)},o(l){te(r.$$.fragment,l),a=!1},d(l){l&&k(t),s&&s.d(),Oe(r)}}}function qo(e,t,n){let r,i,a,s,o,{spec:u}=t,{min:l,max:f,id:c,description:d,widget_id:h}=u,b=ue("dims");_e(e,b,M=>n(19,s=M));let w=ue("widget_params");_e(e,w,M=>n(14,r=M));let N=ue("dropdown_index");_e(e,N,M=>n(17,i=M));let y=ue("unsaved_changes");_e(e,y,M=>n(18,a=M));let _=ue("user");_e(e,_,M=>n(1,o=M)),s.margin;let m=[l,f],g=[...m],p=[];function C(){i!=null&&r!=null&&r.length!=0&&(console.log("args for widget for slider",i,h),console.log("widget for slider",r[i][h]),n(0,m=[Number(r[i][h].start),Number(r[i][h].end)]),console.log("render for slider values are",m),z())}function E(M){console.log("addsource",M),p.push(M)}function O(){Le(y,a=!0,a),z()}function z(){if(console.log("onStop",m,g,kt(m,g)),!kt(m,g)){console.log("!!!!!!!!",m);let M={};M[c]={left:m[0],right:m[1]},Le(w,r[i][h]={start:m[0],end:m[1]},r),console.log("slider.onstop",p),p.forEach(A=>{console.log("slider.trigger",A,M,c),A.trigger(M,c)})}g=[...m]}function V(M){m=M,n(0,m)}return e.$$set=M=>{"spec"in M&&n(11,u=M.spec)},e.$$.update=()=>{e.$$.dirty&16384&&C()},[m,o,l,f,d,b,w,N,y,_,O,u,C,E,r,V]}class Cn extends He{constructor(t){super(),Re(this,t,qo,Lo,Ue,{spec:11,render:12,addSourceIact:13})}get render(){return this.$$.ctx[12]}get addSourceIact(){return this.$$.ctx[13]}}function Vo(e){let t,n,r,i,a,s,o,u;return{c(){t=H("div"),n=Y(),r=H("div"),i=ut("svg"),a=ut("g"),this.h()},l(l){t=R(l,"DIV",{}),F(t).forEach(k),n=K(l),r=R(l,"DIV",{id:!0});var f=F(r);i=ft(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=F(i);a=ft(c,"g",{transform:!0}),F(a).forEach(k),c.forEach(k),f.forEach(k),this.h()},h(){S(a,"transform",s=`translate(${e[2].margin.left},${e[2].margin.top})`),S(i,"class",""),S(i,"viewBox","0 0 800 300"),S(i,"width","100%"),S(i,"height","100%"),S(r,"id",e[0])},m(l,f){U(l,t,f),U(l,n,f),U(l,r,f),q(r,i),q(i,a),e[12](a),o||(u=Qt(Zt.call(null,t,Po)),o=!0)},p(l,[f]){f&4&&s!==(s=`translate(${l[2].margin.left},${l[2].margin.top})`)&&S(a,"transform",s),f&1&&S(r,"id",l[0])},i:ce,o:ce,d(l){l&&k(t),l&&k(n),l&&k(r),e[12](null),o=!1,u()}}}let xr=800,Gr=300;function Po(){}function Fo(e,t,n){let r,{name:i,groupNames:a=[],title:s="",xAttr:o,yAttr:u="val",yMax:l,xDomainMin:f=null,xDomainMax:c=null}=t,d=ue("dims");_e(e,d,g=>n(2,r=g));let h={},b=[],w=[],N;function y(g,p){if(!g||g.length==0)return;let C=lt(N);console.log("data into bar grouped",g),p=="overlay"?h=g??h:p=="bad_year_q"?w=g??w:b=g??b,b.forEach(P=>{P.values=a.map(ae=>({name:ae,value:+P[ae]}))}),C.selectAll("*").remove();let E=r.margin,O=xr-E.left-E.right,z=Gr-E.top-E.bottom,V=null;f===null||c===null?V=_n(o,b):V=Ws(parseInt(f),parseInt(c)+1);let M=Et(V,[0,O]).round(!0).padding(.15),A=Et(a,[0,M.bandwidth()]).round(!0),L=At([0,l],[z,0]),T=mt().range(Ct),I=en(M),X=tn(L).ticks(10);console.log("bar grouped stuff",xr,Gr),C.append("g").attr("class","x axis").attr("transform",`translate(0,${z})`).call(I).selectAll("text").style("text-anchor","end").attr("dx","-.2em").attr("dy",".55em").attr("transform","rotate(-45)"),C.append("g").attr("class","y axis").call(X).append("text").attr("transform","rotate(-90)").attr("y",5).attr("dy",".71em").style("text-anchor","end").text(u),C.append("text").attr("x",O/2).attr("y",0-E.top/2).attr("text-anchor","middle").style("font-size","16px").style("text-decoration","underline").text(s);let ke=[];C.selectAll(".type").data(b).enter().append("g").attr("class","g").attr("transform",P=>{let ae=Number(P[o]);return console.log("in bar grouped what is v",ae),ke.push(M(ae)),`translate(${M(ae)},0)`}).selectAll("rect").data(P=>P.values).enter().append("rect").attr("x",P=>A(P.name)).attr("width",A.bandwidth()).attr("y",P=>L(P.value)).attr("height",P=>z-L(P.value)).style("fill",P=>T(P.name)).append("title").text(P=>`Type: ${P.name}
${u}: ${P.value}`);let se=C.selectAll(".legend").data(a).enter().append("g").attr("class","legend").attr("transform",(P,ae)=>`translate(0,${ae*20})`);se.append("rect").attr("x",O-18).attr("width",18).attr("height",18).style("fill",T),se.append("text").attr("x",O-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(si),_(M,L)}function _(g,p,C){let E=lt(N);E.selectAll(".overlay").remove();let O=mt(Ct).domain(gt(h));xt(({left:A,right:L},T)=>{E.append("rect").classed("overlay",!0).attr("x",g(Number(A))).attr("width",g(Number(L))-g(Number(A))).attr("height",p.range()[0]).attr("fill",O(T)).attr("opacity",.1)},h),console.log("bad year data in bar grouped is: ",w);let z=w.sort((A,L)=>Number(A.variable[1])-Number(L.variable[1]));console.log("bad year data in bar grouped (sorted) is: ",z);let V=[];if(z.length>0)for(let A=0;A<z.length;A++)console.log("current bad year entry: ",z[A].year),V.push(Number(z[A].year));else return;console.log("bad year list is ",V);let M=[];for(let A=0;A<V.length;A++){let L=A+1,T={year:V[A],height:p.range()[0]/11*L};console.log("bad_year_ranked object is",T),M.push(T)}console.log("bad years ranked...",M,V),xt(({year:A,height:L},T)=>{E.append("rect").attr("class","g").classed("overlay",!0).attr("x",g(A)).attr("width","15").attr("y",L).attr("height",5).attr("fill","black").attr("opacity",.6),E.append("rect").attr("class","g").classed("overlay",!0).attr("x",g(A)).attr("width","15").attr("y",L).attr("height",p.range()[0]-L).attr("fill","black").attr("opacity",.1)},M)}function m(g){Be[g?"unshift":"push"](()=>{N=g,n(1,N)})}return e.$$set=g=>{"name"in g&&n(0,i=g.name),"groupNames"in g&&n(4,a=g.groupNames),"title"in g&&n(5,s=g.title),"xAttr"in g&&n(6,o=g.xAttr),"yAttr"in g&&n(7,u=g.yAttr),"yMax"in g&&n(8,l=g.yMax),"xDomainMin"in g&&n(9,f=g.xDomainMin),"xDomainMax"in g&&n(10,c=g.xDomainMax)},[i,N,r,d,a,s,o,u,l,f,c,y,m]}class zo extends He{constructor(t){super(),Re(this,t,Fo,Vo,Ue,{name:0,groupNames:4,title:5,xAttr:6,yAttr:7,yMax:8,xDomainMin:9,xDomainMax:10,render:11})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),Ee()}get groupNames(){return this.$$.ctx[4]}set groupNames(t){this.$$set({groupNames:t}),Ee()}get title(){return this.$$.ctx[5]}set title(t){this.$$set({title:t}),Ee()}get xAttr(){return this.$$.ctx[6]}set xAttr(t){this.$$set({xAttr:t}),Ee()}get yAttr(){return this.$$.ctx[7]}set yAttr(t){this.$$set({yAttr:t}),Ee()}get yMax(){return this.$$.ctx[8]}set yMax(t){this.$$set({yMax:t}),Ee()}get xDomainMin(){return this.$$.ctx[9]}set xDomainMin(t){this.$$set({xDomainMin:t}),Ee()}get xDomainMax(){return this.$$.ctx[10]}set xDomainMax(t){this.$$set({xDomainMax:t}),Ee()}get render(){return this.$$.ctx[11]}}function jo(e){let t,n,r,i,a,s,o;return{c(){t=H("div"),n=Y(),r=H("div"),i=ut("svg"),a=ut("g"),this.h()},l(u){t=R(u,"DIV",{}),F(t).forEach(k),n=K(u),r=R(u,"DIV",{id:!0});var l=F(r);i=ft(l,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var f=F(i);a=ft(f,"g",{}),F(a).forEach(k),f.forEach(k),l.forEach(k),this.h()},h(){S(i,"class",""),S(i,"viewBox","0 0 800 230"),S(i,"width","100%"),S(i,"height","100%"),S(r,"id",e[0])},m(u,l){U(u,t,l),U(u,n,l),U(u,r,l),q(r,i),q(i,a),e[6](a),s||(o=Qt(Zt.call(null,t,Uo)),s=!0)},p(u,[l]){l&1&&S(r,"id",u[0])},i:ce,o:ce,d(u){u&&k(t),u&&k(n),u&&k(r),e[6](null),s=!1,o()}}}let Ho=800,Ro=300;function Uo(){}function Wo(e,t,n){let{name:r,xDomainMin:i,xDomainMax:a,timeDomainMode:s}=t,o={},u=[],l;function f(h,b){if(console.log("data into crop calendar is:",h),b=="overlay")o=h??o,console.log("in overlays for crop cal with data of",h,o);else{if(!h||h.length===0)return;u=h}let w=mt().range(Ct),N=Ho-pe.left-pe.right,y=Ro-pe.top-pe.bottom,_=u.map(T=>T.crop).filter((T,I,X)=>X.indexOf(T)===I);console.log("crop cal, crop types: ",_);let m=u.map(T=>T.activity).filter((T,I,X)=>X.indexOf(T)===I);console.log("crop cal, crop activities: ",m),m=["prep","planting","flowering","tasseling","harvesting"];let g=[];u.forEach(T=>{let I={startDate:parseInt(T.start_time),endDate:parseInt(T.end_time),cropName:T.crop,activity:T.activity};g.push(I)}),console.log("crop cal, tasks, ",g);let p=function(T){return T.startDate+T.cropName+T.endDate},C=function(T){return"translate("+E(T.startDate)+","+z(T.cropName)+")"};if(s==="fit"){if(g===void 0||g.length<1)return;g.sort(function(T,I){return T.endDate-I.endDate}),n(3,a=g[g.length-1].endDate),g.sort(function(T,I){return T.startDate-I.startDate}),n(2,i=g[0].startDate)}let E,O;E=At().range([0,N]),O=en(E).tickFormat(Kt("d")).ticks(36),O=O.tickFormat(T=>{switch(T){case 7:return"(MAR) "+T;case 16:return"(JUN) "+T;case 25:return"(SEP) "+T;case 34:return"(DEC) "+T;default:return T}}),E.domain([i,a]);let z=Et().domain(_).rangeRound([0,y-pe.top-pe.bottom]),V=tn(z).tickSize(0),M=At().range([y-pe.top-pe.bottom,0]);console.log("begin draw"),lt(l).selectAll("*").remove();let A=lt(l).append("svg").attr("class","chart").attr("width",N+pe.left+pe.right).attr("height",y+pe.top+pe.bottom).append("g").attr("class","gantt-chart").attr("width",N+pe.left+pe.right).attr("height",y+pe.top+pe.bottom).attr("transform","translate("+pe.left+", "+pe.top+")");A.selectAll(".chart").data(g,p).enter().append("rect").attr("rx",5).attr("ry",5).attr("y",0).attr("transform",C).attr("height",function(T){return z.bandwidth()}).attr("width",function(T){return Math.max(1,E(T.endDate)-E(T.startDate))}).attr("fill",T=>w(T.activity)).attr("fill-opacity","0.4"),A.append("g").attr("class","x axis").attr("transform","translate(0,"+(y-pe.top-pe.bottom)+")").transition().call(O).selectAll("text").style("text-anchor","end").attr("dx","-0.5em").attr("dy","0.55em").attr("transform","rotate(-45)"),A.append("g").attr("class","y axis").transition().call(V).selectAll("text").style("font-size",".8em").attr("dx","0.5em").attr("dy","-0.5em").attr("transform","rotate(-50)");let L=A.selectAll(".legend").data(m).enter().append("g").attr("class","legend").attr("transform",(T,I)=>`translate(0,${I*20})`);L.append("rect").attr("x",N-18).attr("width",18).attr("height",18).style("fill",w).attr("fill-opacity","0.4"),L.append("text").attr("x",N-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").style("font-size",".7em").text(si),c(E,M,pe)}function c(h,b,w){let N=lt(l);N.selectAll(".overlay").remove();let y=mt(Ct).domain(gt(o));xt(({left:_,right:m},g)=>{N.append("rect").classed("overlay",!0).attr("x",h(Number(_))+w.left).attr("y",w.top).attr("width",h(Number(m))-h(Number(_))).attr("height",b(0)).attr("fill",y(g)).attr("opacity",.1)},o)}function d(h){Be[h?"unshift":"push"](()=>{l=h,n(1,l)})}return e.$$set=h=>{"name"in h&&n(0,r=h.name),"xDomainMin"in h&&n(2,i=h.xDomainMin),"xDomainMax"in h&&n(3,a=h.xDomainMax),"timeDomainMode"in h&&n(4,s=h.timeDomainMode)},[r,l,i,a,s,f,d]}class Jo extends He{constructor(t){super(),Re(this,t,Wo,jo,Ue,{name:0,xDomainMin:2,xDomainMax:3,timeDomainMode:4,render:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),Ee()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),Ee()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),Ee()}get timeDomainMode(){return this.$$.ctx[4]}set timeDomainMode(t){this.$$set({timeDomainMode:t}),Ee()}get render(){return this.$$.ctx[5]}}function xo(e){let t,n,r,i,a,s,o,u;return{c(){t=H("div"),n=Y(),r=H("div"),i=ut("svg"),a=ut("g"),this.h()},l(l){t=R(l,"DIV",{}),F(t).forEach(k),n=K(l),r=R(l,"DIV",{id:!0});var f=F(r);i=ft(f,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var c=F(i);a=ft(c,"g",{transform:!0}),F(a).forEach(k),c.forEach(k),f.forEach(k),this.h()},h(){S(a,"transform",s=`translate(${e[2].margin.left+20},${e[2].margin.top})`),S(i,"class",""),S(i,"viewBox","0 0 800 300"),S(i,"width","100%"),S(i,"height","100%"),S(r,"id",e[0])},m(l,f){U(l,t,f),U(l,n,f),U(l,r,f),q(r,i),q(i,a),e[6](a),o||(u=Qt(Zt.call(null,t,Qo)),o=!0)},p(l,[f]){f&4&&s!==(s=`translate(${l[2].margin.left+20},${l[2].margin.top})`)&&S(a,"transform",s),f&1&&S(r,"id",l[0])},i:ce,o:ce,d(l){l&&k(t),l&&k(n),l&&k(r),e[6](null),o=!1,u()}}}let Go=800,Xo=300;function Qo(){}function Yo(e,t,n){let r,{name:i}=t,a=ue("dims");_e(e,a,f=>n(2,r=f));let s=[],o;function u(f,c){if(console.log("data received into matching...",f),n(5,s=f??s),!s||s.length==0)return;let d=Go-pe.left-pe.right,h=Xo-pe.top-pe.bottom,b=Math.max(...s.map(m=>m.value)),w=lt(o);w.selectAll("*").remove();let N=Et().domain(s.map(m=>m.x)).rangeRound([0,d]);w.append("g").attr("transform","translate(0,"+h+")").call(en(N)).selectAll("text").style("font-size","0.7em").attr("dx","0.5em").attr("dy","0.5em");let y=Et().domain(s.map(m=>m.y)).rangeRound([0,h]);w.append("g").call(tn(y)).selectAll("text").style("font-size","0.7em").attr("dx","0.5em").attr("dy","-0.5em").attr("transform","rotate(-30)");let _=di(Bt("white","green")).domain([0,b]);w.selectAll().data(s).enter().append("rect").attr("x",function(m){return N(m.x)}).attr("y",function(m){return y(m.y)}).attr("width",N.bandwidth()).attr("height",y.bandwidth()).attr("fill",m=>_(m.value)),w.selectAll().data(s).enter().append("text").attr("x",function(m){return N(m.x)}).attr("y",function(m){return y(m.y)}).attr("dx","4.75em").attr("dy","1.75em").text(m=>m.value)}function l(f){Be[f?"unshift":"push"](()=>{o=f,n(1,o)})}return e.$$set=f=>{"name"in f&&n(0,i=f.name)},e.$$.update=()=>{e.$$.dirty&32&&u(s)},[i,o,r,a,u,s,l]}class Ko extends He{constructor(t){super(),Re(this,t,Yo,xo,Ue,{name:0,render:4})}get render(){return this.$$.ctx[4]}}function Xr(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function Qr(e){var i;let t,n=((i=e[18].village)==null?void 0:i.replace(/_/g," "))+"",r;return{c(){t=H("option"),r=de(n),this.h()},l(a){t=R(a,"OPTION",{});var s=F(t);r=he(s,n),s.forEach(k),this.h()},h(){t.__value=e[20],t.value=t.__value},m(a,s){U(a,t,s),q(t,r)},p(a,s){var o;s&1&&n!==(n=((o=a[18].village)==null?void 0:o.replace(/_/g," "))+"")&&qe(r,n)},d(a){a&&k(t)}}}function Zo(e){let t,n,r,i,a=e[0],s=[];for(let o=0;o<a.length;o+=1)s[o]=Qr(Xr(e,a,o));return{c(){t=H("div"),n=H("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=R(o,"DIV",{class:!0,id:!0});var u=F(t);n=R(u,"SELECT",{class:!0});var l=F(n);for(let f=0;f<s.length;f+=1)s[f].l(l);l.forEach(k),u.forEach(k),this.h()},h(){S(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&Sn(()=>e[9].call(n)),S(t,"class","px-[1%] py-[1%] ml-[5.9%]"),S(t,"id","dropdown")},m(o,u){U(o,t,u),q(t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(n,null);jt(n,e[1],!0),r||(i=[ie(n,"change",e[9]),ie(n,"change",e[4])],r=!0)},p(o,[u]){if(u&1){a=o[0];let l;for(l=0;l<a.length;l+=1){const f=Xr(o,a,l);s[l]?s[l].p(f,u):(s[l]=Qr(f),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}u&2&&jt(n,o[1])},i:ce,o:ce,d(o){o&&k(t),Yt(s,o),r=!1,it(i)}}}function $o(e,t,n){let r,i,{spec:a}=t,s=ue("dims");_e(e,s,m=>n(11,i=m)),ue("widget_params");let o=ue("dropdown_index");_e(e,o,m=>n(8,r=m));let u=[],l=null,f=null,{id:c,index:d,widget_id:h}=a,b=[];i.margin;function w(m,g){console.log("whats in dropdown",m),n(0,b=m??b),n(1,f=r??f),console.log("at end of render",b,f)}function N(m){console.log("addsource",m),u.push(m)}function y(){if(console.log("onStop for regular dropdown",b,l,kt(f,l)),console.log("onStop for regular dropdown and new selection ",f,l),console.log("onStop for regular dropdown new selection value ",b[f]),!kt(f,l)){let m={};Le(o,r=f,r),m[c]={value:b[f].gid},console.log("dropdown.onstop",u),u.forEach(g=>{console.log("dropdown.trigger",m,c),g.trigger(m,c)})}l=f}function _(){f=ii(this),n(1,f)}return e.$$set=m=>{"spec"in m&&n(5,a=m.spec)},e.$$.update=()=>{e.$$.dirty&257&&w(b)},[b,f,s,o,y,a,w,N,r,_]}class el extends He{constructor(t){super(),Re(this,t,$o,Zo,Ue,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}function Yr(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Kr(e){let t=console.log("in matching dropdown, row is",e[19],e[21])+"",n,r,i=Object.values(e[19])[1]+"",a,s;return{c(){n=de(t),r=H("option"),a=de(i),this.h()},l(o){n=he(o,t),r=R(o,"OPTION",{});var u=F(r);a=he(u,i),u.forEach(k),this.h()},h(){r.__value=s=Object.values(e[19])[0],r.value=r.__value},m(o,u){U(o,n,u),U(o,r,u),q(r,a)},p(o,u){u&1&&t!==(t=console.log("in matching dropdown, row is",o[19],o[21])+"")&&qe(n,t),u&1&&i!==(i=Object.values(o[19])[1]+"")&&qe(a,i),u&1&&s!==(s=Object.values(o[19])[0])&&(r.__value=s,r.value=r.__value)},d(o){o&&k(n),o&&k(r)}}}function tl(e){let t,n,r,i,a=e[0],s=[];for(let o=0;o<a.length;o+=1)s[o]=Kr(Yr(e,a,o));return{c(){t=H("div"),n=H("select");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=R(o,"DIV",{class:!0,id:!0});var u=F(t);n=R(u,"SELECT",{class:!0});var l=F(n);for(let f=0;f<s.length;f+=1)s[f].l(l);l.forEach(k),u.forEach(k),this.h()},h(){S(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&Sn(()=>e[10].call(n)),S(t,"class","px-[1%] py-[1%] ml-[5.9%]"),S(t,"id","dropdown")},m(o,u){U(o,t,u),q(t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(n,null);jt(n,e[1],!0),r||(i=[ie(n,"change",e[10]),ie(n,"change",e[4])],r=!0)},p(o,[u]){if(u&1){a=o[0];let l;for(l=0;l<a.length;l+=1){const f=Yr(o,a,l);s[l]?s[l].p(f,u):(s[l]=Kr(f),s[l].c(),s[l].m(n,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}u&3&&jt(n,o[1])},i:ce,o:ce,d(o){o&&k(t),Yt(s,o),r=!1,it(i)}}}function nl(e,t,n){let r,i,{spec:a}=t,s=ue("dims");_e(e,s,g=>n(12,i=g)),ue("widget_params");let o=ue("dropdown_index");_e(e,o,g=>n(9,r=g));let u=[],l=null,f=null,c=null,{id:d,index:h,widget_id:b}=a,w=[];i.margin;function N(g,p){console.log("whats in dropdown matching",g),n(0,w=g??w),n(1,f=f??0),n(8,c=r),console.log("at end of render for dropdown matching",w,f)}function y(g){console.log("addsource",g),u.push(g)}function _(){if(console.log("onStop for matching",w,l,kt(f,l)),!kt(f,l)){let g={};console.log("dropdownMatching value for index is",f),console.log("dropdownMatching.onstop value to pass",w,f,Object.values(w[f])[1],typeof f),g[d]={value:Object.values(w[f])[1]},console.log("dropdownMatching.onstop",u),u.forEach(p=>{console.log("dropdownMatching.trigger",g,d),p.trigger(g,d)})}l=f}function m(){f=ii(this),n(1,f),n(9,r),n(8,c),n(0,w),n(0,w)}return e.$$set=g=>{"spec"in g&&n(5,a=g.spec)},e.$$.update=()=>{e.$$.dirty&769&&(console.log("render triggered with drop_down index of...",r,c),r-c!=0&&(n(1,f=0),_()),N(w))},[w,f,s,o,_,a,N,y,c,r,m]}class rl extends He{constructor(t){super(),Re(this,t,nl,tl,Ue,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}const Zr="0.6.0";var Gt=ll,Xt=cl,tt=[],Ze=[],il=typeof Uint8Array<"u"?Uint8Array:Array,sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var bt=0,al=sn.length;bt<al;++bt)tt[bt]=sn[bt],Ze[sn.charCodeAt(bt)]=bt;Ze["-".charCodeAt(0)]=62;Ze["_".charCodeAt(0)]=63;function sl(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function ol(e,t,n){return(t+n)*3/4-n}function ll(e){var t,n=sl(e),r=n[0],i=n[1],a=new il(ol(e,r,i)),s=0,o=i>0?r-4:r,u;for(u=0;u<o;u+=4)t=Ze[e.charCodeAt(u)]<<18|Ze[e.charCodeAt(u+1)]<<12|Ze[e.charCodeAt(u+2)]<<6|Ze[e.charCodeAt(u+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=Ze[e.charCodeAt(u)]<<2|Ze[e.charCodeAt(u+1)]>>4,a[s++]=t&255),i===1&&(t=Ze[e.charCodeAt(u)]<<10|Ze[e.charCodeAt(u+1)]<<4|Ze[e.charCodeAt(u+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function ul(e){return tt[e>>18&63]+tt[e>>12&63]+tt[e>>6&63]+tt[e&63]}function fl(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(ul(r));return i.join("")}function cl(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,o=n-r;s<o;s+=a)i.push(fl(e,s,s+a>o?o:s+a));return r===1?(t=e[n-1],i.push(tt[t>>2]+tt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(tt[t>>10]+tt[t>>4&63]+tt[t<<2&63]+"=")),i.join("")}const wi=!0,Mt=BigInt("-9223372036854775808"),Tn=BigInt("9223372036854775807"),kn=BigInt("0"),dl=BigInt("8"),hl=BigInt("256");class Tt{constructor(t,n){this.tableName=t,this.id=n}equals(t){return t instanceof Tt?this.tableName===t.tableName&&this.id===t.id:!1}static fromJSON(t){if(typeof t.$id!="string")throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: $id isn't a string.`);const n=t.$id.split("|");if(n.length!==2)throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: Wrong number of parts.`);return new Tt(n[0],n[1])}toJSON(){return{$id:`${this.tableName}|${this.id}`}}toString(){return this.id}inspect(){return`Id('${this.tableName}', '${this.id}')`}}function ki(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function gl(e){e<kn&&(e-=Mt+Mt);let t=e.toString(16);t.length%2==1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=dl;return Xt(n)}function ml(e){const t=Gt(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=kn,r=kn;for(const i of t)n+=BigInt(i)*hl**r,r++;return n>Tn&&(n+=Mt+Mt),n}function pl(e){if(e<Mt||Tn<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Xt(new Uint8Array(t))}function _l(e){const t=Gt(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const bl=DataView.prototype.setBigInt64?pl:gl,yl=DataView.prototype.getBigInt64?_l:ml,$r=64,vl=/^_+$/,wl=/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/;function Ei(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>$r)throw new Error(`Field name ${e} exceeds maximum field name length ${$r}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);if(vl.test(e))throw new Error(`Field name ${e} can't exclusively be underscores.`);if(!wl.test(e))throw new Error(`Field name ${e} must only contain alphanumeric characters or underscores and can't start with a number.`)}function yt(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(e instanceof Array)return e.map(yt);if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$id"||r==="$weakRef"||r==="$strongRef")return Tt.fromJSON(e);if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Gt(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return yl(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=Gt(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,wi);if(!ki(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set"){if(!(e.$set instanceof Array))throw new Error(`Malformed $set field on ${e}`);return new Set(e.$set.map(yt))}if(r==="$map"){if(!(e.$map instanceof Array))throw new Error(`Malformed $map field on ${e}`);const i=new Map;for(const a of e.$map){if(!(a instanceof Array)||a.length!==2)throw new Error(`Malformed pair in $map ${e}`);const s=yt(a[0]),o=yt(a[1]);i.set(s,o)}return i}}const n={};for(const[r,i]of Object.entries(e))Ei(r),n[r]=yt(i);return n}function on(e){return yt(e)}function ln(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":n)}function vt(e,t,n){if(e===void 0)throw new Error(`undefined is not a valid Convex value (present at path ${n} in original object ${ln(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);if(e===null)return e;if(e instanceof Tt)return e.toJSON();if(typeof e=="bigint"){if(e<Mt||Tn<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:bl(e)}}if(typeof e=="number")if(ki(e)){const a=new ArrayBuffer(8);return new DataView(a).setFloat64(0,e,wi),{$float:Xt(new Uint8Array(a))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Xt(new Uint8Array(e))};if(e instanceof Array)return e.map((a,s)=>vt(a,t,n+`[${s}]`));if(e instanceof Set)return{$set:[...e].map((a,s)=>vt(a,t,n+`.keys()[${s}]`))};if(e instanceof Map)return{$map:[...e].map(([a,s],o)=>{const u=vt(a,t,n+`.keys()[${o}]`),l=vt(s,t,n+`.values()[${o}]`);return[u,l]})};if(typeof e!="object")throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${ln(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const r=Object.getPrototypeOf(e);if(r!==null&&r!==Object.prototype)throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${ln(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const i={};for(const[a,s]of Object.entries(e))Ei(a),i[a]=vt(s,t,n+`.${a}`);return i}function un(e){return vt(e,e,"")}const kl="color:rgb(0, 145, 255)";function Si(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A"}}function fn(e,t,n,r){const i=Si(t);e=="info"?console.log(`%c[CONVEX ${i}(${n})] ${r}`,kl):console.error(`[CONVEX ${i}(${n})] ${r}`)}function ei(e,t,n){const r=Si(e);return new Error(`[CONVEX ${r}(${t})] ${n}`)}const cn=560,El=typeof window<"u"&&typeof window.fetch<"u",dn=El?window.fetch:(...e)=>ua(()=>import("../chunks/index.6561f0e4.js"),["../chunks/index.6561f0e4.js","../chunks/model_out.009f8d0c.js","../chunks/index.7f76c316.js","../chunks/index.0f72543e.js","../assets/model_out.77177747.css"],import.meta.url).then(({default:t})=>t(...e));class Sl{constructor(t){this.address=`${t.address}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.auth=t}clearAuth(){this.auth=void 0}setDebug(t){this.debug=t}query(t){return async(...n)=>{const r=JSON.stringify(un(n)),i=encodeURIComponent(r),a=`${this.address}/${Zr}/udf?path=${t}&args=${i}`,s=this.auth?{Authorization:`Bearer ${this.auth}`}:{},o=await dn(a,{credentials:"include",headers:s});if(!o.ok&&o.status!=cn)throw new Error(await o.text());const u=await o.json(),l=on(u.value);for(const f of u.logs)fn("info","query",t,f);if(!u.success)throw ei("query",t,l);return l}}mutation(t){return async(...n)=>{const r=JSON.stringify({path:t,args:un(n),tokens:[]}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await dn(`${this.address}/${Zr}/udf`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=cn)throw new Error(await a.text());const s=await a.json(),o=on(s.value);for(const u of s.logs)fn("info","mutation",t,u);if(!s.success)throw ei("mutation",t,o);return o}}action(t){return async(...n)=>{const r=JSON.stringify({path:t,args:un(n),debug:this.debug}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await dn(`${this.address}/action`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=cn)throw new Error(await a.text());const s=await a.json();for(const o of s.logLines??[])fn("info","action",t,o);switch(s.status){case"success":return on(s.value),s.value;case"error":throw new Error(s.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(s)}`)}}}}function Al(e){let t,n,r,i,a,s,o,u,l,f,c,d,h,b=e[2]?"(unsaved changes)":"",w,N,y;return{c(){t=H("label"),n=de("Logged in as "),r=de(e[4]),i=Y(),a=H("button"),s=de("Save"),o=Y(),u=H("button"),l=H("a"),f=de("Download"),c=Y(),d=H("button"),h=de("Logout "),w=de(b),this.h()},l(_){t=R(_,"LABEL",{for:!0,class:!0});var m=F(t);n=he(m,"Logged in as "),r=he(m,e[4]),m.forEach(k),i=K(_),a=R(_,"BUTTON",{class:!0,label:!0});var g=F(a);s=he(g,"Save"),g.forEach(k),o=K(_),u=R(_,"BUTTON",{class:!0});var p=F(u);l=R(p,"A",{href:!0,download:!0});var C=F(l);f=he(C,"Download"),C.forEach(k),p.forEach(k),c=K(_),d=R(_,"BUTTON",{class:!0});var E=F(d);h=he(E,"Logout "),w=he(E,b),E.forEach(k),this.h()},h(){S(t,"for",e[5]),S(t,"class","form-label"),S(a,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),S(a,"label","Save"),S(l,"href",e[16]()),S(l,"download","data.txt"),S(u,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),S(d,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5")},m(_,m){U(_,t,m),q(t,n),q(t,r),U(_,i,m),U(_,a,m),q(a,s),U(_,o,m),U(_,u,m),q(u,l),q(l,f),U(_,c,m),U(_,d,m),q(d,h),q(d,w),N||(y=[ie(a,"click",e[13]),ie(d,"click",e[15])],N=!0)},p(_,m){m[0]&16&&qe(r,_[4]),m[0]&4&&b!==(b=_[2]?"(unsaved changes)":"")&&qe(w,b)},d(_){_&&k(t),_&&k(i),_&&k(a),_&&k(o),_&&k(u),_&&k(c),_&&k(d),N=!1,it(y)}}}function Ml(e){var l;let t,n,r,i,a,s,o,u=((l=e[3][0])==null?void 0:l.label)&&ti(e);return{c(){u&&u.c(),t=Y(),n=H("input"),r=Y(),i=H("button"),a=de("Login"),this.h()},l(f){u&&u.l(f),t=K(f),n=R(f,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),r=K(f),i=R(f,"BUTTON",{class:!0,label:!0});var c=F(i);a=he(c,"Login"),c.forEach(k),this.h()},h(){S(n,"type","text"),S(n,"class","form-select appearance-none border border-solid border-gray-300 rounded px-3"),S(n,"id",e[5]),S(n,"placeholder","Username"),S(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),S(i,"label","Login")},m(f,c){u&&u.m(f,c),U(f,t,c),U(f,n,c),qn(n,e[3][0].value),U(f,r,c),U(f,i,c),q(i,a),s||(o=[ie(n,"input",e[21]),ie(n,"input",e[11]),ie(i,"click",e[12])],s=!0)},p(f,c){var d;(d=f[3][0])!=null&&d.label?u?u.p(f,c):(u=ti(f),u.c(),u.m(t.parentNode,t)):u&&(u.d(1),u=null),c[0]&8&&n.value!==f[3][0].value&&qn(n,f[3][0].value)},d(f){u&&u.d(f),f&&k(t),f&&k(n),f&&k(r),f&&k(i),s=!1,it(o)}}}function ti(e){let t,n=e[3][0].label+"",r;return{c(){t=H("label"),r=de(n),this.h()},l(i){t=R(i,"LABEL",{for:!0,class:!0});var a=F(t);r=he(a,n),a.forEach(k),this.h()},h(){S(t,"for",e[5]),S(t,"class","form-label")},m(i,a){U(i,t,a),q(t,r)},p(i,a){a[0]&8&&n!==(n=i[3][0].label+"")&&qe(r,n)},d(i){i&&k(t)}}}function Nl(e){let t;return{c(){t=de("v")},l(n){t=he(n,"v")},m(n,r){U(n,t,r)},d(n){n&&k(t)}}}function Dl(e){let t;return{c(){t=de("^")},l(n){t=he(n,"^")},m(n,r){U(n,t,r)},d(n){n&&k(t)}}}function ni(e){let t,n,r,i,a=e[17]()+"",s,o,u;return{c(){t=H("div"),n=de("copy"),r=Y(),i=H("pre"),s=de(a),this.h()},l(l){t=R(l,"DIV",{class:!0});var f=F(t);n=he(f,"copy"),f.forEach(k),r=K(l),i=R(l,"PRE",{id:!0});var c=F(i);s=he(c,a),c.forEach(k),this.h()},h(){S(t,"class","underline text-blue-600 hover:text-blue-900 hover:cursor-pointer"),S(i,"id","userState")},m(l,f){U(l,t,f),q(t,n),U(l,r,f),U(l,i,f),q(i,s),o||(u=ie(t,"click",Ol),o=!0)},p:ce,d(l){l&&k(t),l&&k(r),l&&k(i),o=!1,u()}}}function Il(e){let t,n,r,i,a,s,o,u,l,f;function c(_,m){return _[4]==null?Ml:Al}let d=c(e),h=d(e);function b(_,m){return _[1]?Dl:Nl}let w=b(e),N=w(e),y=e[1]&&ni(e);return{c(){t=H("form"),n=H("div"),h.c(),r=Y(),i=H("button"),N.c(),a=Y(),s=H("br"),o=Y(),y&&y.c(),u=ct(),this.h()},l(_){t=R(_,"FORM",{});var m=F(t);n=R(m,"DIV",{class:!0});var g=F(n);h.l(g),r=K(g),i=R(g,"BUTTON",{class:!0});var p=F(i);N.l(p),p.forEach(k),g.forEach(k),m.forEach(k),a=K(_),s=R(_,"BR",{}),o=K(_),y&&y.l(_),u=ct(),this.h()},h(){S(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5"),S(n,"class","mb-3")},m(_,m){U(_,t,m),q(t,n),h.m(n,null),q(n,r),q(n,i),N.m(i,null),U(_,a,m),U(_,s,m),U(_,o,m),y&&y.m(_,m),U(_,u,m),l||(f=ie(i,"click",e[14]),l=!0)},p(_,m){d===(d=c(_))&&h?h.p(_,m):(h.d(1),h=d(_),h&&(h.c(),h.m(n,r))),w!==(w=b(_))&&(N.d(1),N=w(_),N&&(N.c(),N.m(i,null))),_[1]?y?y.p(_,m):(y=ni(_),y.c(),y.m(u.parentNode,u)):y&&(y.d(1),y=null)},i:ce,o:ce,d(_){_&&k(t),h.d(),N.d(),_&&k(a),_&&k(s),_&&k(o),y&&y.d(_),_&&k(u),l=!1,f()}}}async function Ol(){let e=document.getElementById("userState").innerHTML;try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}function Cl(e,t,n){let r,i,a,s,o,u=ce,l=()=>(u(),u=ri(z,P=>n(3,o=P)),z),f;e.$$.on_destroy.push(()=>u());const c={address:"https://rightful-anteater-150.convex.cloud"};let d=Sl;const h=new d(c);window.convex=h;const b=h.mutation("saveParams"),w=h.query("getParams");let{spec:N}=t,y=N.id,_={INPUT:[],SUBMIT:[]},m=ue("widget_params");_e(e,m,P=>n(24,i=P));let g=ue("dropdown_index");_e(e,g,P=>n(25,a=P));let p=ue("query_results");_e(e,p,P=>n(23,r=P));let C=ue("unsaved_changes");_e(e,C,P=>n(2,s=P));let E=ue("user");_e(e,E,P=>n(4,f=P));let O=!1,{table:z=An([{value:"",label:""}])}=t;l();function V(P){Le(z,o=P,o),o.length<1&&Le(z,o=[{value:"",label:""}],o)}function M(P){console.log("addsource",P),_.SUBMIT.push(P)}function A(){Xi(_.INPUT,y,o[0])}async function L(){if(o[0].value.length==0){alert("Please enter a valid username.");return}Le(E,f=o[0].value,f),console.log("user for login -->",f);let P=await w(o[0].value);console.log("****",P),P!=null&&Le(m,i=JSON.parse(P),i);let ae={};console.log("login: ",i,[a]),ae[y]={region:r.villages_q[a].village,vegetation_first:i[a].vegetation.start,vegetation_last:i[a].vegetation.end,sum_early_first:i[a].chirps_early.start,sum_early_last:i[a].chirps_early.end,sum_late_first:i[a].chirps_late.start,sum_late_last:i[a].chirps_late.end,valid_results:i[a].isValid},console.log("login.onsubmit",_),_.SUBMIT.forEach(Z=>{Z.id!="login defaults_q_backend"&&(console.log("login.trigger",ae,y,Z),Z.trigger(ae,y))}),console.log("handle login sees widgets as --> ",i),o[0].value}function T(){console.log("save",i);const P=JSON.stringify(i,(ae,Z)=>typeof Z=="bigint"?Z.toString()+"n":Z,4);b(P,f),Le(C,s=!1,s)}function I(){n(1,O=!O)}function X(){console.log("logout.onsubmit",_),Le(E,f=null,f);let P={};_.SUBMIT.forEach(ae=>{ae.trigger(P,y)}),Le(z,o[0].value="",o),Le(C,s=!1,s)}function ke(){const ae=JSON.stringify({widget_params:i,query_results:r},(Z,we)=>typeof we=="bigint"?we.toString()+"n":we,4);return encodeURI("data:text/plain;charset=utf-8,"+ae)}function ne(){return JSON.stringify({dropdown_index:a,widget_params:i,query_results:r},(Z,we)=>typeof we=="bigint"?we.toString()+"n":we,4)}function se(){o[0].value=this.value,z.set(o)}return e.$$set=P=>{"spec"in P&&n(18,N=P.spec),"table"in P&&l(n(0,z=P.table))},[z,O,s,o,f,y,m,g,p,C,E,A,L,T,I,X,ke,ne,N,V,M,se]}class Tl extends He{constructor(t){super(),Re(this,t,Cl,Il,Ue,{spec:18,table:0,render:19,addSourceIact:20},null,[-1,-1])}get spec(){return this.$$.ctx[18]}set spec(t){this.$$set({spec:t}),Ee()}get table(){return this.$$.ctx[0]}set table(t){this.$$set({table:t}),Ee()}get render(){return this.$$.ctx[19]}get addSourceIact(){return this.$$.ctx[20]}}function Bl(e,t,n){let r,i,{name:a,title:s=""}=t;ue("dims");let o=ue("widget_params");_e(e,o,c=>n(7,i=c));let u=ue("dropdown_index");_e(e,u,c=>n(6,r=c));let l=[];function f(c,d){l=c??l,!(!l||l.length==0)&&(console.log("data into alert is",Object.values(l[0])[0]),Object.values(l[0])[0]<1?(alert("Not enough rainfall to set an index for one of your windows; do not save these values..."),Le(o,i[r].isValid=!1,i),console.log("widget params",i[r])):(Le(o,i[r].isValid=!0,i),console.log("widget params",i[r])))}return e.$$set=c=>{"name"in c&&n(2,a=c.name),"title"in c&&n(3,s=c.title)},[o,u,a,s,f]}class Ll extends He{constructor(t){super(),Re(this,t,Bl,null,Ue,{name:2,title:3,render:4})}get name(){return this.$$.ctx[2]}set name(t){this.$$set({name:t}),Ee()}get title(){return this.$$.ctx[3]}set title(t){this.$$set({title:t}),Ee()}get render(){return this.$$.ctx[4]}}function ql(e,t,n){let r,i,a=ue("query_results");_e(e,a,l=>n(5,i=l));let s=ue("widget_params");_e(e,s,l=>n(4,r=l));let o=[];function u(l,f){o=l??o,console.log("in query update.... ",l,f),Le(a,i[f]=o,i);let c={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};f=="defaults_q"&&Le(s,r=o.map(d=>({chirps_early:{start:d.chirps_early_first,end:d.chirps_early_last},chirps_late:{start:d.chirps_late_first,end:d.chirps_late_last},vegetation:c[d.evi_month]})),r)}return[a,s,u]}class Vl extends He{constructor(t){super(),Re(this,t,ql,null,Ue,{render:2})}get render(){return this.$$.ctx[2]}}function Me(e){console.log(e.h);let t=[Qi(En,[e.h])];return Yi(...t)}function En(e,t){const n=gt(t).length;if(Ki(e)||gt(e).length===0)return t;let r=null;if(e["*"]){r=Pl(e["*"],n,t);const a=Zi("*",e);return r.map(s=>En(a,s))}let i={};for(const a in e){const s=e[a];Ft(Function,s)?i[a]=s(t):Ft(String,s)?i[a]=_i(s.split("."),t):Ft(Object,s)?i[a]=En(s,t):i[a]=s}return i}function Pl(e,t,n){let r=null;return e==="*"&&t==1?r=$i(n)[0]??[]:r=Rs([],e.split("."),n),Ft(Array,r)||(r=[r]),r}const Fl=function(e,t,n){},zl=function(e,t,n){if(e.length!=t.length)return-99;let r=e.filter(s=>s>0).length,i=t.filter(s=>s>0).length,a;return i!=0?a=r/i:a=0,a.toFixed(2)},jl=function(e,t,n){if(console.log("in matching what is field_1, field_2",e,t),e.length!=t.length)return-99;let r=0,i=0;const a=e.length;for(let o=0;o<a-1;o++)e[o]>0&&t[o]>0&&(console.log("in match field_1 and field_2",e[o],t[o]),r+=1),e[o]>0&&(i+=1);console.log("for matching check matching count and total iterations",r,i);let s;return i!=0?s=r/i:s=0,s.toFixed(2)};let Hl=[{ratio:zl,match:jl,HSS:Fl}];function Rl(e){return{c:ce,l:ce,m:ce,p:ce,i:ce,o:ce,d:ce}}function Ul(e){let t,n,r,i,a,s,o,u,l,f,c,d,h,b,w,N;t=new oa({props:{country:"Ethiopia",initTime:e[41]}});let y={};return a=new Vl({props:y}),e[20](a),o=new Pt({props:{$$slots:{dropdown1:[xl],alert:[Jl],header:[Wl]},$$scope:{ctx:e}}}),l=new Pt({props:{$$slots:{chart2:[Kl],slider3:[Yl],slider2:[Ql],slider1:[Xl],chart1:[Gl]},$$scope:{ctx:e}}}),d=new Pt({props:{$$slots:{chart1:[Zl]},$$scope:{ctx:e}}}),w=new Pt({props:{$$slots:{chart2:[eu],dropdown1:[$l]},$$scope:{ctx:e}}}),{c(){Ne(t.$$.fragment),n=Y(),r=H("div"),i=H("div"),Ne(a.$$.fragment),s=Y(),Ne(o.$$.fragment),u=Y(),Ne(l.$$.fragment),f=Y(),c=H("div"),Ne(d.$$.fragment),h=Y(),b=H("div"),Ne(w.$$.fragment),this.h()},l(_){De(t.$$.fragment,_),n=K(_),r=R(_,"DIV",{class:!0});var m=F(r);i=R(m,"DIV",{class:!0});var g=F(i);De(a.$$.fragment,g),s=K(g),De(o.$$.fragment,g),u=K(g),De(l.$$.fragment,g),g.forEach(k),f=K(m),c=R(m,"DIV",{class:!0});var p=F(c);De(d.$$.fragment,p),p.forEach(k),h=K(m),b=R(m,"DIV",{class:!0});var C=F(b);De(w.$$.fragment,C),C.forEach(k),m.forEach(k),this.h()},h(){S(i,"class","col-span-1"),S(c,"class","col-span-1"),S(b,"class","col-span-1"),S(r,"class","grid grid-cols-1")},m(_,m){Ie(t,_,m),U(_,n,m),U(_,r,m),q(r,i),Ie(a,i,null),q(i,s),Ie(o,i,null),q(i,u),Ie(l,i,null),q(r,f),q(r,c),Ie(d,c,null),q(r,h),q(r,b),Ie(w,b,null),N=!0},p(_,m){const g={};a.$set(g);const p={};m[0]&13314|m[1]&2048&&(p.$$scope={dirty:m,ctx:_}),o.$set(p);const C={};m[0]&916|m[1]&2048&&(C.$$scope={dirty:m,ctx:_}),l.$set(C);const E={};m[0]&8|m[1]&2048&&(E.$$scope={dirty:m,ctx:_}),d.$set(E);const O={};m[0]&2080|m[1]&2048&&(O.$$scope={dirty:m,ctx:_}),w.$set(O)},i(_){N||($(t.$$.fragment,_),$(a.$$.fragment,_),$(o.$$.fragment,_),$(l.$$.fragment,_),$(d.$$.fragment,_),$(w.$$.fragment,_),N=!0)},o(_){te(t.$$.fragment,_),te(a.$$.fragment,_),te(o.$$.fragment,_),te(l.$$.fragment,_),te(d.$$.fragment,_),te(w.$$.fragment,_),N=!1},d(_){Oe(t,_),_&&k(n),_&&k(r),e[20](null),Oe(a),Oe(o),Oe(l),Oe(d),Oe(w)}}}function Wl(e){let t,n,r={table:An([{value:"",label:"Login to use tool:"}]),spec:{id:"l1",default_user_state:e[1]},slot:"header"};return t=new Tl({props:r}),e[23](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};a[0]&2&&(s.spec={id:"l1",default_user_state:i[1]}),t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[23](null),Oe(t,i)}}}function Jl(e){let t,n,r={slot:"alert",name:"no variance alert"};return t=new Ll({props:r}),e[22](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[22](null),Oe(t,i)}}}function xl(e){let t,n,r={slot:"dropdown1",spec:e[16]};return t=new el({props:r}),e[21](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[21](null),Oe(t,i)}}}function Gl(e){let t,n,r={slot:"chart1",name:"line",title:"Climatology",xAttr:"dekad",yAttr:"average_value",xDomainMin:"1",xDomainMax:"36"};return t=new Ao({props:r}),e[28](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[28](null),Oe(t,i)}}}function Xl(e){let t,n,r={slot:"slider1",spec:{min:1,max:36,id:"sum_early_slider",description:"CHIPRS sum early",widget_id:"chirps_early"}};return t=new Cn({props:r}),e[27](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[27](null),Oe(t,i)}}}function Ql(e){let t,n,r={slot:"slider2",spec:{min:1,max:36,id:"sum_late_slider",description:"CHIRPS sum late",widget_id:"chirps_late"}};return t=new Cn({props:r}),e[26](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[26](null),Oe(t,i)}}}function Yl(e){let t,n,r={slot:"slider3",spec:{min:1,max:36,id:"vegetation_slider",description:"Vegetation",widget_id:"vegetation"}};return t=new Cn({props:r}),e[25](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[25](null),Oe(t,i)}}}function Kl(e){let t,n,r={slot:"chart2",name:"testCropCal",xDomainMin:"1.0",xDomainMax:"36.0",timeDomainMode:"fixed"};return t=new Jo({props:r}),e[24](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[24](null),Oe(t,i)}}}function Zl(e){let t,n,r={slot:"chart1",name:"Bar Grouped",title:"Payouts",groupNames:["sum_early","sum_late","vegetation","combined_payout"],xAttr:"year",yAttr:"value",yMax:"1",xDomainMin:"1981",xDomainMax:"2021"};return t=new zo({props:r}),e[29](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[29](null),Oe(t,i)}}}function $l(e){let t,n,r={slot:"dropdown1",spec:e[17]};return t=new rl({props:r}),e[31](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[31](null),Oe(t,i)}}}function eu(e){let t,n,r={slot:"chart2",name:"matching_table"};return t=new Ko({props:r}),e[30](t),{c(){Ne(t.$$.fragment)},l(i){De(t.$$.fragment,i)},m(i,a){Ie(t,i,a),n=!0},p(i,a){const s={};t.$set(s)},i(i){n||($(t.$$.fragment,i),n=!0)},o(i){te(t.$$.fragment,i),n=!1},d(i){e[30](null),Oe(t,i)}}}function tu(e){let t,n;return t=new la({}),{c(){Ne(t.$$.fragment)},l(r){De(t.$$.fragment,r)},m(r,i){Ie(t,r,i),n=!0},p:ce,i(r){n||($(t.$$.fragment,r),n=!0)},o(r){te(t.$$.fragment,r),n=!1},d(r){Oe(t,r)}}}function nu(e){let t,n,r,i,a,s;Sn(e[19]);let o={ctx:e,current:null,token:null,hasCatch:!1,pending:tu,then:Ul,catch:Rl,value:41,blocks:[,,,]};return Bi(e[18],o),{c(){t=H("meta"),n=Y(),r=ct(),o.block.c(),this.h()},l(u){const l=Li("svelte-1qxraob",document.head);t=R(l,"META",{name:!0,content:!0}),l.forEach(k),n=K(u),r=ct(),o.block.l(u),this.h()},h(){document.title="DESDR: Ethiopia",S(t,"name","description"),S(t,"content","DESDR Ethiopia")},m(u,l){q(document.head,t),U(u,n,l),U(u,r,l),o.block.m(u,o.anchor=l),o.mount=()=>r.parentNode,o.anchor=r,i=!0,a||(s=ie(window,"resize",e[19]),a=!0)},p(u,l){e=u,qi(o,e,l)},i(u){i||($(o.block),i=!0)},o(u){for(let l=0;l<3;l+=1){const f=o.blocks[l];te(f)}i=!1},d(u){k(t),u&&k(n),u&&k(r),o.block.d(u),o.token=null,o=null,a=!1,s()}}}function ru(e,t,n){let r,i,a,s;_e(e,Hn,B=>n(32,r=B)),_e(e,Rn,B=>n(34,a=B)),ue("dims");let o=ue("widget_params");_e(e,o,B=>n(33,i=B));let u=ue("dropdown_index");_e(e,u,B=>n(35,s=B)),ue("early_params"),ue("early_params");let l=0,f=[],c={id:"d1",index:s,widget_id:"w1"},d={id:"d2",index:0,widget_id:"w5"},h=null,b=null,w=null,N=null,y=null,_=null,m=null,g=null,p=null,C=null,E=null,O=null;Le(Hn,r=new ta,r),Le(Rn,a=new na,a);let z=r.createBackend({id:"duckdb1",type:"DuckDBBackend",name:"chirps_raw",url:ea,schema:[]});async function V(B){console.log("dbGoLive started");let re=Date.now();await B.init(!1),await B.loadCSVString("admin_raw",ra),await B.loadCSVString("crop_cal_raw",ia),await B.loadCSVString("badyear_raw",aa),await B.loadCSVString("evi_raw",sa);let Te=Date.now();return console.log("db go live time is,",Te-re),Te-re}let M=V(z);Vi(async()=>{await M,console.log("launch....");let B={region:1128,dekcap:24,freq:.23,year_start:1981,year_end:2020,back_fill_year:2001,sum_early_weight:.4,sum_late_weight:.4,vegetation_weight:.6,sum_early_first:1,sum_early_last:30,sum_late_first:1,sum_late_last:30,vegetation_first:10,vegetation_last:30,scalar_vegetation:1,exit_multiplier:.8},re="SELECT village, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last, evi_month FROM admin_raw ORDER BY gid",Te=r.createBackend({id:"defaults_q_backend",type:"QueryBackend",query:re,name:"defaults_q",params:B,backend:z}),ye=await Te.execute(),j={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};n(1,f=ye.map(J=>({chirps_early:{start:J.chirps_early_first,end:J.chirps_early_last},chirps_late:{start:J.chirps_late_first,end:J.chirps_late_last},vegetation:j[J.evi_month],village:J.village}))),Le(o,i=f,i),B.sum_early_first=i[0].chirps_early.start,B.sum_early_last=i[0].chirps_early.end,B.sum_late_first=i[0].chirps_late.start,B.sum_late_first=i[0].chirps_late.end,B.vegetation_first=i[0].vegetation.start,B.vegetation_last=i[0].vegetation.end;let x=new Vt,ee=new Vt;new Vt;let fe=new Vt,D=pt.climatology.query,W=pt.payout_combined.query,Fe=pt.matching.query,me=pt.check.query,Q="SELECT village, gid FROM admin_raw ORDER BY gid",Ce=pt.crop_cal.query,je=pt.badyear.query,Ve="SELECT * FROM (VALUES (0,'match'),(1,'ratio')) MATCHING_OPTIONS(idx, value);",Se=r.createBackend({id:"climatology_q_backend",type:"QueryBackend",query:D,name:"climatology",params:B,backend:z}),Ae=r.createBackend({id:"combined_payouts_q_backend",type:"QueryBackend",query:W,name:"combined_payouts",params:B,backend:z}),ze=r.createBackend({id:"matching_q_backend",type:"QueryBackend",query:Fe,name:"matching",params:B,backend:z}),We=r.createBackend({id:"villages_q_backend",type:"QueryBackend",query:Q,name:"villages_q",params:B,backend:z}),Je=r.createBackend({id:"crop_cal_q_backend",type:"QueryBackend",query:Ce,name:"crop_cal_q",params:B,backend:z}),nt=r.createBackend({id:"bad_year_q_backend",type:"QueryBackend",query:je,name:"bad_year_q",params:B,backend:z}),$e=r.createBackend({id:"check_q_backend",type:"QueryBackend",query:me,name:"check_q",params:B,backend:z}),ve=r.createBackend({id:"matching_table_options_q_backend",type:"QueryBackend",query:Ve,name:"matching_table_options_q",params:B,backend:z}),Pe=r.createBackend({id:"matching_table_backend",type:"MatchingTableBackEnd",main_data_name:"matching",main_data_default:null,function_store:Hl,default_func:"match"});fe.registerView(b,null),x.registerView(h,null),ee.registerView(w,null),Se.registerView(h),Ae.registerView(b),nt.registerView(b),We.registerView(p),Je.registerView(w),ze.registerView(Pe),Pe.registerView(N),ve.registerView(C),Se.registerView(y),Ae.registerView(y),Je.registerView(y),nt.registerView(y),We.registerView(y),ze.registerView(y),ve.registerView(y),Te.registerView(y),$e.registerView(O),await Se.execute(B),await We.execute(B),await Je.execute(B),await Ae.execute(B),await nt.execute(B),await $e.execute(B),await ze.execute(B),await ve.execute([]),await Pe.execute([]);let Ge={sum_early_slider:{left:Number(B.sum_early_first),right:Number(B.sum_early_last)},sum_late_slider:{left:Number(B.sum_late_first),right:Number(B.sum_late_last)},vegetation_slider:{left:Number(B.vegetation_first),right:Number(B.vegetation_last)}};await x.execute(Ge,null),await ee.execute(Ge,null),new ge({id:"village_dropdown climatology_q_backend",source:p,target:Se,postprocess:Me({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown combined_payouts_q_backend",source:p,target:Ae,postprocess:Me({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown crop_cal_q_backend",source:p,target:Je,postprocess:Me({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown bad_year_q_backend",source:p,target:nt,postprocess:Me({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown check_q_backend",source:p,target:$e,postprocess:Me({h:{"*":"d1",region:"value"}})}),new ge({id:"village_dropdown matching_q_backend",source:p,target:ze,postprocess:Me({h:{"*":"d1",region:"value"}})}),new ge({id:"matching_options_dropdown matching_table_backend",source:C,target:Pe,postprocess:Me({h:{"*":"d2",func_elected:"value"}})}),new ge({id:"login defaults_q_backend",source:E,target:Te,postprocess:Me({h:{"*":"l1",region:"region"}})}),new ge({id:"login climatology_q_backend",source:E,target:Se,postprocess:Me({h:{"*":"l1",region:"region"}})}),new ge({id:"login crop_cal_q_backend",source:E,target:Je,postprocess:Me({h:{"*":"l1",region:"region"}})}),new ge({id:"login combined_payouts_q_backend",source:E,target:Ae,postprocess:Me({h:{"*":"l1",region:"region",vegetation_first:"vegetation_first",vegetation_last:"vegetation_last",sum_early_first:"sum_early_first",sum_early_last:"sum_early_last",sum_late_first:"sum_late_first",sum_late_last:"sum_late_last"}})});let xe={"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"};new ge({id:"sum_early_slider combined_payouts_q_backend",source:m,target:Ae,postprocess:Me({h:xe})}),new ge({id:"sum_early_slider matching_q_backend",source:m,target:ze,postprocess:Me({h:xe})}),new ge({id:"sum_early_slider check_q_backend",source:m,target:$e,postprocess:Me({h:xe})});let dt={"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"};new ge({id:"sum_late_slider combined_payouts_q_backend",source:g,target:Ae,postprocess:Me({h:dt})}),new ge({id:"sum_late_slider matching_q_backend",source:g,target:ze,postprocess:Me({h:dt})}),new ge({id:"sum_late_slider check_q_backend",source:g,target:$e,postprocess:Me({h:dt})});let v={"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"};new ge({id:"vegetation_slider combined_payouts_q_backend",source:_,target:Ae,postprocess:Me({h:v})}),new ge({id:"vegetation_slider matching_q_backend",source:_,target:ze,postprocess:Me({h:v})}),new ge({id:"vegetation_slider check_q_backend",source:_,target:$e,postprocess:Me({h:v})}),new ge({id:"sum_early_slider cropcal_overlay",source:m,target:ee}),new ge({id:"sum_early_slider climatology_overlay",source:m,target:x}),new ge({id:"sum_late_slider cropcal_overlay",source:g,target:ee}),new ge({id:"sum_late_slider climatology_overlay",source:g,target:x}),new ge({id:"vegetation_slider cropcal_overlay",source:_,target:ee}),new ge({id:"vegetation_slider climatology_overlay",source:_,target:x})});function A(){n(0,l=window.innerWidth)}function L(B){Be[B?"unshift":"push"](()=>{y=B,n(6,y)})}function T(B){Be[B?"unshift":"push"](()=>{p=B,n(10,p)})}function I(B){Be[B?"unshift":"push"](()=>{O=B,n(13,O)})}function X(B){Be[B?"unshift":"push"](()=>{E=B,n(12,E)})}function ke(B){Be[B?"unshift":"push"](()=>{w=B,n(4,w)})}function ne(B){Be[B?"unshift":"push"](()=>{_=B,n(7,_)})}function se(B){Be[B?"unshift":"push"](()=>{g=B,n(9,g)})}function P(B){Be[B?"unshift":"push"](()=>{m=B,n(8,m)})}function ae(B){Be[B?"unshift":"push"](()=>{h=B,n(2,h)})}function Z(B){Be[B?"unshift":"push"](()=>{b=B,n(3,b)})}function we(B){Be[B?"unshift":"push"](()=>{N=B,n(5,N)})}function be(B){Be[B?"unshift":"push"](()=>{C=B,n(11,C)})}return[l,f,h,b,w,N,y,_,m,g,p,C,E,O,o,u,c,d,M,A,L,T,I,X,ke,ne,se,P,ae,Z,we,be]}class uu extends He{constructor(t){super(),Re(this,t,ru,nu,Ue,{},null,[-1,-1])}}export{uu as default};
