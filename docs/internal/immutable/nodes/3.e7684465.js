import{M as Oe,S as Mt,i as St,s as kt,H as ft,k as W,a as ge,l as Y,m as j,h as C,c as me,n as O,b as J,D as H,I as lt,J as ct,K as ut,g as ve,d as we,N as $e,O as ti,P as ni,Q as Fo,C as Ve,w as Pe,R as kl,T as Bg,U as ce,V as Te,W as mr,X as ri,Y as Mn,q as xe,r as Ce,u as Ze,e as br,Z as Bo,v as Ug,f as zg,_ as Vg,y as et,z as tt,A as nt,B as rt,$ as _d,a0 as Hg,a1 as jg,L as Ue,a2 as pt,a3 as yd,a4 as eo,a5 as vd,a6 as Tl,o as Wg}from"../chunks/index.18be492a.js";import{w as Sn}from"../chunks/paths.088b2208.js";import{m as rr,p as Vt,I as Yg,c as dt}from"../chunks/params.a205456c.js";import{_ as On,a as Gg,m as Xg,b as wd,c as El,e as Zg,i as Jg,f as Qg,S as Al,r as Kg,g as pf,h as gf,R as Uo,C as mf,j as Md,k as xl,l as Cl,n as em,o as Dn,p as ms,q as ii,s as tm,t as Nl,u as yt,v as bf,w as nm,x as to,y as rm,z as im,A as oi,B as om,D as am,E as Zi,F as sm,G as Dl,H as fm,I as Sd,J as no,K as lm,L as ai,M as Il,N as cm,O as um,P as dm,Q as hm}from"../chunks/database.7337c015.js";import{_ as pm}from"../chunks/preload-helper.41c905a7.js";const kd=Number.isInteger||function(t){return t<<0===t};var Td=On(function(t,n){var r=t<0?n.length+t:t;return Gg(n)?n.charAt(r):n[r]}),gm=On(function(t,n){if(n!=null)return kd(t)?Td(t,n):n[t]}),mm=On(function(t,n){return Xg(gm(t),n)});const ro=mm;var bm=On(function(t,n){return n==null||n!==n?t:n}),_m=function(){function e(t,n){this.xf=n,this.f=t,this.set=new wd}return e.prototype["@@transducer/init"]=El.init,e.prototype["@@transducer/result"]=El.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),ym=On(function(t,n){return new _m(t,n)}),vm=On(Zg([],ym,function(e,t){for(var n=new wd,r=[],i=0,o,a;i<t.length;)a=t[i],o=e(a),n.add(o)&&r.push(a),i+=1;return r}));const wm=vm;var Mm=wm(Jg);const Sm=Mm;var km=On(function(t,n){return t.map(function(r){for(var i=n,o=0,a;o<r.length;){if(i==null)return;a=r[o],i=kd(a)?Td(a,i):i[a],o+=1}return i})}),Tm=On(function(t,n){return km([t],n)[0]});const Ed=Tm;var Em=Qg(function(t,n,r){return bm(t,Ed(n,r))});const Am=Em;function vt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _f(e){let t,n,r;e.length!==2?(t=vt,n=(s,f)=>vt(e(s),f),r=(s,f)=>e(s)-f):(t=e===vt||e===vi?e:xm,n=e,r=e);function i(s,f,l=0,c=s.length){if(l<c){if(t(f,f)!==0)return c;do{const d=l+c>>>1;n(s[d],f)<0?l=d+1:c=d}while(l<c)}return l}function o(s,f,l=0,c=s.length){if(l<c){if(t(f,f)!==0)return c;do{const d=l+c>>>1;n(s[d],f)<=0?l=d+1:c=d}while(l<c)}return l}function a(s,f,l=0,c=s.length){const d=i(s,f,l,c-1);return d>l&&r(s[d-1],f)>-r(s[d],f)?d-1:d}return{left:i,center:a,right:o}}function xm(){return 0}function Ad(e){return e===null?NaN:+e}function*Cm(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Nm=_f(vt),Dm=Nm.right;_f(Ad).center;const yf=Dm;function Im(e){return e.length|0}function Lm(e){return!(e>0)}function Om(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Pm(e){return t=>e(...t)}function $m(...e){const t=typeof e[e.length-1]=="function"&&Pm(e.pop());e=e.map(Om);const n=e.map(Im),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Lm))return o;for(;;){o.push(i.map((s,f)=>e[f][s]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function qm(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function xd(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i))}if(n>1)return o/(n-1)}function Rm(e,t){const n=xd(e,t);return n&&Math.sqrt(n)}function _r(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class jn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,s=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);s&&(n[r++]=s),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Wn extends Map{constructor(t,n=Dd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(bs(this,t))}has(t){return super.has(bs(this,t))}set(t,n){return super.set(Cd(this,t),n)}delete(t){return super.delete(Nd(this,t))}}class vf extends Set{constructor(t,n=Dd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(bs(this,t))}add(t){return super.add(Cd(this,t))}delete(t){return super.delete(Nd(this,t))}}function bs({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Cd({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Nd({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Dd(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _s(e){return e}function wf(e,...t){return Mf(e,_s,_s,t)}function Gr(e,t,...n){return Mf(e,_s,t,n)}function Fm(e,t,...n){return Mf(e,Array.from,t,n)}function Mf(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const s=new Wn,f=r[a++];let l=-1;for(const c of o){const d=f(c,++l,o),u=s.get(d);u?u.push(c):s.set(d,[c])}for(const[c,d]of s)s.set(c,i(d,a));return t(s)}(e,0)}function Bm(e,t){return Array.from(t,n=>e[n])}function ys(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const s=io(a[i],a[o]);if(s)return s}})):(n=e.map(n),r.sort((i,o)=>io(n[i],n[o]))),Bm(e,r)}return e.sort(Id(n))}function Id(e=vt){if(e===vt)return io;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function io(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Sf(e,t,n){return(t.length!==2?ys(Gr(e,t,n),([r,i],[o,a])=>vt(i,a)||vt(r,o)):ys(wf(e,n),([r,i],[o,a])=>t(i,a)||vt(r,o))).map(([r])=>r)}const Um=Math.sqrt(50),zm=Math.sqrt(10),Vm=Math.sqrt(2);function oo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Um?10:o>=zm?5:o>=Vm?2:1;let s,f,l;return i<0?(l=Math.pow(10,-i)/a,s=Math.round(e*l),f=Math.round(t*l),s/l<e&&++s,f/l>t&&--f,l=-l):(l=Math.pow(10,i)*a,s=Math.round(e/l),f=Math.round(t/l),s*l<e&&++s,f*l>t&&--f),f<s&&.5<=n&&n<2?oo(e,t,n*2):[s,f,l]}function ao(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?oo(t,e,n):oo(e,t,n);if(!(o>=i))return[];const s=o-i+1,f=new Array(s);if(r)if(a<0)for(let l=0;l<s;++l)f[l]=(o-l)/-a;else for(let l=0;l<s;++l)f[l]=(o-l)*a;else if(a<0)for(let l=0;l<s;++l)f[l]=(i+l)/-a;else for(let l=0;l<s;++l)f[l]=(i+l)*a;return f}function vs(e,t,n){return t=+t,e=+e,n=+n,oo(e,t,n)[2]}function ws(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?vs(t,e,n):vs(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function jt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Hm(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function yn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function jm(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Ld(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?io:Id(i);r>n;){if(r-n>600){const f=r-n+1,l=t-n+1,c=Math.log(f),d=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*d*(f-d)/f)*(l-f/2<0?-1:1),h=Math.max(n,Math.floor(t-l*d/f+u)),p=Math.min(r,Math.floor(t+(f-l)*d/f+u));Ld(e,t,h,p,i)}const o=e[t];let a=n,s=r;for(Pr(e,n,t),i(e[r],o)>0&&Pr(e,n,r);a<s;){for(Pr(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}i(e[n],o)===0?Pr(e,n,s):(++s,Pr(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Pr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Od(e,t=vt){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?vt(a,i)>0:vt(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function so(e,t,n){if(e=Float64Array.from(Cm(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return yn(e);if(t>=1)return jt(e);var r,i=(r-1)*t,o=Math.floor(i),a=jt(Ld(e,o).subarray(0,o+1)),s=yn(e.subarray(o+1));return a+(s-a)*(i-o)}}function Wm(e,t,n=Ad){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),s=+n(e[o+1],o+1,e);return a+(s-a)*(i-o)}}function Ym(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Ms(e,t){return so(e,.5,t)}function*Gm(e){for(const t of e)yield*t}function Pd(e){return Array.from(Gm(e))}function Xm(e,t){const n=new Wn;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function Ss(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Yn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function fo(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function Zm(e){return e}var Ca=1,Na=2,ks=3,Oi=4,Ll=1e-6;function Jm(e){return"translate("+e+",0)"}function Qm(e){return"translate(0,"+e+")"}function Km(e){return t=>+e(t)}function eb(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function tb(){return!this.__axis}function nb(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Ca||e===Oi?-1:1,c=e===Oi||e===Na?"x":"y",d=e===Ca||e===ks?Jm:Qm;function u(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):Zm),b=Math.max(o,0)+s,m=t.range(),y=+m[0]+f,S=+m[m.length-1]+f,_=(t.bandwidth?eb:Km)(t.copy(),f),v=h.selection?h.selection():h,w=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(p,t).order(),E=k.exit(),R=k.enter().append("g").attr("class","tick"),I=k.select("line"),A=k.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(R),I=I.merge(R.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),A=A.merge(R.append("text").attr("fill","currentColor").attr(c,l*b).attr("dy",e===Ca?"0em":e===ks?"0.71em":"0.32em")),h!==v&&(w=w.transition(h),k=k.transition(h),I=I.transition(h),A=A.transition(h),E=E.transition(h).attr("opacity",Ll).attr("transform",function(P){return isFinite(P=_(P))?d(P+f):this.getAttribute("transform")}),R.attr("opacity",Ll).attr("transform",function(P){var q=this.parentNode.__axis;return d((q&&isFinite(q=q(P))?q:_(P))+f)})),E.remove(),w.attr("d",e===Oi||e===Na?a?"M"+l*a+","+y+"H"+f+"V"+S+"H"+l*a:"M"+f+","+y+"V"+S:a?"M"+y+","+l*a+"V"+f+"H"+S+"V"+l*a:"M"+y+","+f+"H"+S),k.attr("opacity",1).attr("transform",function(P){return d(_(P)+f)}),I.attr(c+"2",l*o),A.attr(c,l*b).text(g),v.filter(tb).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Na?"start":e===Oi?"end":"middle"),v.each(function(){this.__axis=_})}return u.scale=function(h){return arguments.length?(t=h,u):t},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),u):n.slice()},u.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),u):r&&r.slice()},u.tickFormat=function(h){return arguments.length?(i=h,u):i},u.tickSize=function(h){return arguments.length?(o=a=+h,u):o},u.tickSizeInner=function(h){return arguments.length?(o=+h,u):o},u.tickSizeOuter=function(h){return arguments.length?(a=+h,u):a},u.tickPadding=function(h){return arguments.length?(s=+h,u):s},u.offset=function(h){return arguments.length?(f=+h,u):f},u}function rb(e){return nb(ks,e)}function Xr(e){return typeof e=="string"?new Al([[document.querySelector(e)]],[document.documentElement]):new Al([[e]],Kg)}function ib(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ob(e,t){if(e=ib(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const $d=Math.PI/180,qd=180/Math.PI,lo=18,Rd=.96422,Fd=1,Bd=.82521,Ud=4/29,hr=6/29,zd=3*hr*hr,ab=hr*hr*hr;function Vd(e){if(e instanceof tn)return new tn(e.l,e.a,e.b,e.opacity);if(e instanceof pn)return Hd(e);e instanceof Uo||(e=Md(e));var t=Oa(e.r),n=Oa(e.g),r=Oa(e.b),i=Da((.2225045*t+.7168786*n+.0606169*r)/Fd),o,a;return t===n&&n===r?o=a=i:(o=Da((.4360747*t+.3850649*n+.1430804*r)/Rd),a=Da((.0139322*t+.0971045*n+.7141733*r)/Bd)),new tn(116*i-16,500*(o-i),200*(i-a),e.opacity)}function Ts(e,t,n,r){return arguments.length===1?Vd(e):new tn(e,t,n,r??1)}function tn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}pf(tn,Ts,gf(mf,{brighter(e){return new tn(this.l+lo*(e??1),this.a,this.b,this.opacity)},darker(e){return new tn(this.l-lo*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Rd*Ia(t),e=Fd*Ia(e),n=Bd*Ia(n),new Uo(La(3.1338561*t-1.6168667*e-.4906146*n),La(-.9787684*t+1.9161415*e+.033454*n),La(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Da(e){return e>ab?Math.pow(e,1/3):e/zd+Ud}function Ia(e){return e>hr?e*e*e:zd*(e-Ud)}function La(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Oa(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function sb(e){if(e instanceof pn)return new pn(e.h,e.c,e.l,e.opacity);if(e instanceof tn||(e=Vd(e)),e.a===0&&e.b===0)return new pn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*qd;return new pn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function co(e,t,n,r){return arguments.length===1?sb(e):new pn(e,t,n,r??1)}function pn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Hd(e){if(isNaN(e.h))return new tn(e.l,0,0,e.opacity);var t=e.h*$d;return new tn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}pf(pn,co,gf(mf,{brighter(e){return new pn(this.h,this.c,this.l+lo*(e??1),this.opacity)},darker(e){return new pn(this.h,this.c,this.l-lo*(e??1),this.opacity)},rgb(){return Hd(this).rgb()}}));var jd=-.14861,kf=1.78277,Tf=-.29227,zo=-.90649,si=1.97294,Ol=si*zo,Pl=si*kf,$l=kf*Tf-zo*jd;function fb(e){if(e instanceof Hn)return new Hn(e.h,e.s,e.l,e.opacity);e instanceof Uo||(e=Md(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=($l*r+Ol*t-Pl*n)/($l+Ol-Pl),o=r-i,a=(si*(n-i)-Tf*o)/zo,s=Math.sqrt(a*a+o*o)/(si*i*(1-i)),f=s?Math.atan2(a,o)*qd-120:NaN;return new Hn(f<0?f+360:f,s,i,e.opacity)}function nn(e,t,n,r){return arguments.length===1?fb(e):new Hn(e,t,n,r??1)}function Hn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pf(Hn,nn,gf(mf,{brighter(e){return e=e==null?xl:Math.pow(xl,e),new Hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cl:Math.pow(Cl,e),new Hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*$d,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Uo(255*(t+n*(jd*r+kf*i)),255*(t+n*(Tf*r+zo*i)),255*(t+n*(si*r)),this.opacity)}}));function lb(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function cb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ub(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wi(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function db(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function hb(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}function wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?em(t):(n==="number"?Dn:n==="string"?(r=ms(t))?(t=r,ii):tm:t instanceof ms?ii:t instanceof Date?db:cb(t)?lb:Array.isArray(t)?ub:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hb:Dn)(e,t)}function Ef(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function pb(e){return function(t,n){var r=e((t=Nl(t)).h,(n=Nl(n)).h),i=yt(t.s,n.s),o=yt(t.l,n.l),a=yt(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const gb=pb(bf);function mb(e,t){var n=yt((e=Ts(e)).l,(t=Ts(t)).l),r=yt(e.a,t.a),i=yt(e.b,t.b),o=yt(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function bb(e){return function(t,n){var r=e((t=co(t)).h,(n=co(n)).h),i=yt(t.c,n.c),o=yt(t.l,n.l),a=yt(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=o(s),t.opacity=a(s),t+""}}}const _b=bb(bf);function Wd(e){return function t(n){n=+n;function r(i,o){var a=e((i=nn(i)).h,(o=nn(o)).h),s=yt(i.s,o.s),f=yt(i.l,o.l),l=yt(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=s(c),i.l=f(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}Wd(bf);var Af=Wd(yt);function xf(e,t){t===void 0&&(t=e,e=wi);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Wt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Es=Math.PI,As=2*Es,Un=1e-6,yb=As-Un;function Yd(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function vb(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Yd;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Gd{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Yd:vb(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,f=r-t,l=i-n,c=a-t,d=s-n,u=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(u>Un)if(!(Math.abs(d*f-l*c)>Un)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-s,g=f*f+l*l,b=h*h+p*p,m=Math.sqrt(g),y=Math.sqrt(u),S=o*Math.tan((Es-Math.acos((g+u-b)/(2*m*y)))/2),_=S/y,v=S/m;Math.abs(_-1)>Un&&this._append`L${t+_*c},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>c*p)},${this._x1=t+v*f},${this._y1=n+v*l}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),f=r*Math.sin(i),l=t+s,c=n+f,d=1^a,u=a?i-o:o-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Un||Math.abs(this._y1-c)>Un)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%As+As),u>yb?this._append`A${r},${r},0,1,${d},${t-s},${n-f}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>Un&&this._append`A${r},${r},0,${+(u>=Es)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function uo(e=3){return new Gd(+e)}function wb(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ho(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function yr(e){return e=ho(Math.abs(e)),e?e[1]:NaN}function Mb(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),o.push(n.substring(i-=s,i+s)),!((f+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Sb(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var kb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fi(e){if(!(t=kb.exec(e)))throw new Error("invalid format: "+e);var t;return new Cf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fi.prototype=Cf.prototype;function Cf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Tb(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Xd;function Eb(e,t){var n=ho(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Xd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ho(e,Math.max(0,t+o-1))[0]}function ql(e,t){var n=ho(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Rl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wb,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ql(e*100,t),r:ql,s:Eb,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Fl(e){return e}var Bl=Array.prototype.map,Ul=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ab(e){var t=e.grouping===void 0||e.thousands===void 0?Fl:Mb(Bl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Fl:Sb(Bl.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function l(d){d=fi(d);var u=d.fill,h=d.align,p=d.sign,g=d.symbol,b=d.zero,m=d.width,y=d.comma,S=d.precision,_=d.trim,v=d.type;v==="n"?(y=!0,v="g"):Rl[v]||(S===void 0&&(S=12),_=!0,v="g"),(b||u==="0"&&h==="=")&&(b=!0,u="0",h="=");var w=g==="$"?n:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=g==="$"?r:/[%p]/.test(v)?a:"",E=Rl[v],R=/[defgprs%]/.test(v);S=S===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(A){var P=w,q=k,D,M,B;if(v==="c")q=E(A)+q,A="";else{A=+A;var L=A<0||1/A<0;if(A=isNaN(A)?f:E(Math.abs(A),S),_&&(A=Tb(A)),L&&+A==0&&p!=="+"&&(L=!1),P=(L?p==="("?p:s:p==="-"||p==="("?"":p)+P,q=(v==="s"?Ul[8+Xd/3]:"")+q+(L&&p==="("?")":""),R){for(D=-1,M=A.length;++D<M;)if(B=A.charCodeAt(D),48>B||B>57){q=(B===46?i+A.slice(D+1):A.slice(D))+q,A=A.slice(0,D);break}}}y&&!b&&(A=t(A,1/0));var V=P.length+A.length+q.length,U=V<m?new Array(m-V+1).join(u):"";switch(y&&b&&(A=t(U+A,U.length?m-q.length:1/0),U=""),h){case"<":A=P+A+q+U;break;case"=":A=P+U+A+q;break;case"^":A=U.slice(0,V=U.length>>1)+P+A+q+U.slice(V);break;default:A=U+P+A+q;break}return o(A)}return I.toString=function(){return d+""},I}function c(d,u){var h=l((d=fi(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(yr(u)/3)))*3,g=Math.pow(10,-p),b=Ul[8+p/3];return function(m){return h(g*m)+b}}return{format:l,formatPrefix:c}}var Pi,Ar,Zd;xb({thousands:",",grouping:[3],currency:["$",""]});function xb(e){return Pi=Ab(e),Ar=Pi.format,Zd=Pi.formatPrefix,Pi}function Cb(e){return Math.max(0,-yr(Math.abs(e)))}function Nb(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yr(t)/3)))*3-yr(Math.abs(e)))}function Db(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,yr(t)-yr(e))+1}var he=1e-6,Jd=1e-12,_e=Math.PI,Be=_e/2,zl=_e/4,At=_e*2,ht=180/_e,Fe=_e/180,Ee=Math.abs,xr=Math.atan,vn=Math.atan2,be=Math.cos,Qd=Math.exp,po=Math.log,Pa=Math.pow,de=Math.sin,Pt=Math.sign||function(e){return e>0?1:e<0?-1:0},wt=Math.sqrt,Nf=Math.tan;function Kd(e){return e>1?0:e<-1?_e:Math.acos(e)}function Bt(e){return e>1?Be:e<-1?-Be:Math.asin(e)}function $t(){}function go(e,t){e&&Hl.hasOwnProperty(e.type)&&Hl[e.type](e,t)}var Vl={Feature:function(e,t){go(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)go(n[r].geometry,t)}},Hl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){xs(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)xs(n[r],t,0)},Polygon:function(e,t){jl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)jl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)go(n[r],t)}};function xs(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function jl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)xs(e[n],t,1);t.polygonEnd()}function lr(e,t){e&&Vl.hasOwnProperty(e.type)?Vl[e.type](e,t):go(e,t)}function Cs(e){return[vn(e[1],e[0]),Bt(e[2])]}function vr(e){var t=e[0],n=e[1],r=be(n);return[r*be(t),r*de(t),de(n)]}function $i(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function mo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function $a(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function qi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ns(e){var t=wt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ds(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Is(e,t){return Ee(e)>_e&&(e-=Math.round(e/At)*At),[e,t]}Is.invert=Is;function eh(e,t,n){return(e%=At)?t||n?Ds(Yl(e),Gl(t,n)):Yl(e):t||n?Gl(t,n):Is}function Wl(e){return function(t,n){return t+=e,Ee(t)>_e&&(t-=Math.round(t/At)*At),[t,n]}}function Yl(e){var t=Wl(e);return t.invert=Wl(-e),t}function Gl(e,t){var n=be(e),r=de(e),i=be(t),o=de(t);function a(s,f){var l=be(f),c=be(s)*l,d=de(s)*l,u=de(f),h=u*n+c*r;return[vn(d*i-h*o,c*n-u*r),Bt(h*i+d*o)]}return a.invert=function(s,f){var l=be(f),c=be(s)*l,d=de(s)*l,u=de(f),h=u*i-d*o;return[vn(d*i+u*o,c*n+h*r),Bt(h*n-c*r)]},a}function Ib(e){e=eh(e[0]*Fe,e[1]*Fe,e.length>2?e[2]*Fe:0);function t(n){return n=e(n[0]*Fe,n[1]*Fe),n[0]*=ht,n[1]*=ht,n}return t.invert=function(n){return n=e.invert(n[0]*Fe,n[1]*Fe),n[0]*=ht,n[1]*=ht,n},t}function Lb(e,t,n,r,i,o){if(n){var a=be(t),s=de(t),f=r*n;i==null?(i=t+r*At,o=t-f/2):(i=Xl(a,i),o=Xl(a,o),(r>0?i<o:i>o)&&(i+=r*At));for(var l,c=i;r>0?c>o:c<o;c-=f)l=Cs([a,-s*be(c),-s*de(c)]),e.point(l[0],l[1])}}function Xl(e,t){t=vr(t),t[0]-=e,Ns(t);var n=Kd(-t[1]);return((-t[2]<0?-n:n)+At-he)%At}function th(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:$t,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ji(e,t){return Ee(e[0]-t[0])<he&&Ee(e[1]-t[1])<he}function Ri(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function nh(e,t,n,r,i){var o=[],a=[],s,f;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,b=p[0],m=p[g],y;if(Ji(b,m)){if(!b[2]&&!m[2]){for(i.lineStart(),s=0;s<g;++s)i.point((b=p[s])[0],b[1]);i.lineEnd();return}m[0]+=2*he}o.push(y=new Ri(b,p,null,!0)),a.push(y.o=new Ri(b,null,y,!1)),o.push(y=new Ri(m,p,null,!1)),a.push(y.o=new Ri(m,null,y,!0))}}),!!o.length){for(a.sort(t),Zl(o),Zl(a),s=0,f=a.length;s<f;++s)a[s].e=n=!n;for(var l=o[0],c,d;;){for(var u=l,h=!0;u.v;)if((u=u.n)===l)return;c=u.z,i.lineStart();do{if(u.v=u.o.v=!0,u.e){if(h)for(s=0,f=c.length;s<f;++s)i.point((d=c[s])[0],d[1]);else r(u.x,u.n.x,1,i);u=u.n}else{if(h)for(c=u.p.z,s=c.length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else r(u.x,u.p.x,-1,i);u=u.p}u=u.o,c=u.z,h=!h}while(!u.v);i.lineEnd()}}}function Zl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function qa(e){return Ee(e[0])<=_e?e[0]:Pt(e[0])*((Ee(e[0])+_e)%At-_e)}function Ob(e,t){var n=qa(t),r=t[1],i=de(r),o=[de(n),-be(n),0],a=0,s=0,f=new jn;i===1?r=Be+he:i===-1&&(r=-Be-he);for(var l=0,c=e.length;l<c;++l)if(u=(d=e[l]).length)for(var d,u,h=d[u-1],p=qa(h),g=h[1]/2+zl,b=de(g),m=be(g),y=0;y<u;++y,p=_,b=w,m=k,h=S){var S=d[y],_=qa(S),v=S[1]/2+zl,w=de(v),k=be(v),E=_-p,R=E>=0?1:-1,I=R*E,A=I>_e,P=b*w;if(f.add(vn(P*R*de(I),m*k+P*be(I))),a+=A?E+R*At:E,A^p>=n^_>=n){var q=mo(vr(h),vr(S));Ns(q);var D=mo(o,q);Ns(D);var M=(A^E>=0?-1:1)*Bt(D[2]);(r>M||r===M&&(q[0]||q[1]))&&(s+=A^E>=0?1:-1)}}return(a<-he||a<he&&f<-Jd)^s&1}function rh(e,t,n,r){return function(i){var o=t(i),a=th(),s=t(a),f=!1,l,c,d,u={point:h,lineStart:g,lineEnd:b,polygonStart:function(){u.point=m,u.lineStart=y,u.lineEnd=S,c=[],l=[]},polygonEnd:function(){u.point=h,u.lineStart=g,u.lineEnd=b,c=Pd(c);var _=Ob(l,r);c.length?(f||(i.polygonStart(),f=!0),nh(c,$b,_,n,i)):_&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,v){e(_,v)&&i.point(_,v)}function p(_,v){o.point(_,v)}function g(){u.point=p,o.lineStart()}function b(){u.point=h,o.lineEnd()}function m(_,v){d.push([_,v]),s.point(_,v)}function y(){s.lineStart(),d=[]}function S(){m(d[0][0],d[0][1]),s.lineEnd();var _=s.clean(),v=a.result(),w,k=v.length,E,R,I;if(d.pop(),l.push(d),d=null,!!k){if(_&1){if(R=v[0],(E=R.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),w=0;w<E;++w)i.point((I=R[w])[0],I[1]);i.lineEnd()}return}k>1&&_&2&&v.push(v.pop().concat(v.shift())),c.push(v.filter(Pb))}}return u}}function Pb(e){return e.length>1}function $b(e,t){return((e=e.x)[0]<0?e[1]-Be-he:Be-e[1])-((t=t.x)[0]<0?t[1]-Be-he:Be-t[1])}const Jl=rh(function(){return!0},qb,Fb,[-_e,-Be]);function qb(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var s=o>0?_e:-_e,f=Ee(o-t);Ee(f-_e)<he?(e.point(t,n=(n+a)/2>0?Be:-Be),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(o,n),i=0):r!==s&&f>=_e&&(Ee(t-r)<he&&(t-=r*he),Ee(o-s)<he&&(o-=s*he),n=Rb(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=o,n=a),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function Rb(e,t,n,r){var i,o,a=de(e-n);return Ee(a)>he?xr((de(t)*(o=be(r))*de(n)-de(r)*(i=be(t))*de(e))/(i*o*a)):(t+r)/2}function Fb(e,t,n,r){var i;if(e==null)i=n*Be,r.point(-_e,i),r.point(0,i),r.point(_e,i),r.point(_e,0),r.point(_e,-i),r.point(0,-i),r.point(-_e,-i),r.point(-_e,0),r.point(-_e,i);else if(Ee(e[0]-t[0])>he){var o=e[0]<t[0]?_e:-_e;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Bb(e){var t=be(e),n=6*Fe,r=t>0,i=Ee(t)>he;function o(c,d,u,h){Lb(h,e,n,u,c,d)}function a(c,d){return be(c)*be(d)>t}function s(c){var d,u,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(b,m){var y=[b,m],S,_=a(b,m),v=r?_?0:l(b,m):_?l(b+(b<0?_e:-_e),m):0;if(!d&&(p=h=_)&&c.lineStart(),_!==h&&(S=f(d,y),(!S||Ji(d,S)||Ji(y,S))&&(y[2]=1)),_!==h)g=0,_?(c.lineStart(),S=f(y,d),c.point(S[0],S[1])):(S=f(d,y),c.point(S[0],S[1],2),c.lineEnd()),d=S;else if(i&&d&&r^_){var w;!(v&u)&&(w=f(y,d,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}_&&(!d||!Ji(d,y))&&c.point(y[0],y[1]),d=y,h=_,u=v},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function f(c,d,u){var h=vr(c),p=vr(d),g=[1,0,0],b=mo(h,p),m=$i(b,b),y=b[0],S=m-y*y;if(!S)return!u&&c;var _=t*m/S,v=-t*y/S,w=mo(g,b),k=qi(g,_),E=qi(b,v);$a(k,E);var R=w,I=$i(k,R),A=$i(R,R),P=I*I-A*($i(k,k)-1);if(!(P<0)){var q=wt(P),D=qi(R,(-I-q)/A);if($a(D,k),D=Cs(D),!u)return D;var M=c[0],B=d[0],L=c[1],V=d[1],U;B<M&&(U=M,M=B,B=U);var X=B-M,ee=Ee(X-_e)<he,Z=ee||X<he;if(!ee&&V<L&&(U=L,L=V,V=U),Z?ee?L+V>0^D[1]<(Ee(D[0]-M)<he?L:V):L<=D[1]&&D[1]<=V:X>_e^(M<=D[0]&&D[0]<=B)){var K=qi(R,(-I+q)/A);return $a(K,k),[D,Cs(K)]}}}function l(c,d){var u=r?e:_e-e,h=0;return c<-u?h|=1:c>u&&(h|=2),d<-u?h|=4:d>u&&(h|=8),h}return rh(a,s,o,r?[0,-e]:[-_e,e-_e])}function Ub(e,t,n,r,i,o){var a=e[0],s=e[1],f=t[0],l=t[1],c=0,d=1,u=f-a,h=l-s,p;if(p=n-a,!(!u&&p>0)){if(p/=u,u<0){if(p<c)return;p<d&&(d=p)}else if(u>0){if(p>d)return;p>c&&(c=p)}if(p=i-a,!(!u&&p<0)){if(p/=u,u<0){if(p>d)return;p>c&&(c=p)}else if(u>0){if(p<c)return;p<d&&(d=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=o-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(e[0]=a+c*u,e[1]=s+c*h),d<1&&(t[0]=a+d*u,t[1]=s+d*h),!0}}}}}var zr=1e9,Fi=-zr;function ih(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function o(l,c,d,u){var h=0,p=0;if(l==null||(h=a(l,d))!==(p=a(c,d))||f(l,c)<0^d>0)do u.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else u.point(c[0],c[1])}function a(l,c){return Ee(l[0]-e)<he?c>0?0:3:Ee(l[0]-n)<he?c>0?2:1:Ee(l[1]-t)<he?c>0?1:0:c>0?3:2}function s(l,c){return f(l.x,c.x)}function f(l,c){var d=a(l,1),u=a(c,1);return d!==u?d-u:d===0?c[1]-l[1]:d===1?l[0]-c[0]:d===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,d=th(),u,h,p,g,b,m,y,S,_,v,w,k={point:E,lineStart:P,lineEnd:q,polygonStart:I,polygonEnd:A};function E(M,B){i(M,B)&&c.point(M,B)}function R(){for(var M=0,B=0,L=h.length;B<L;++B)for(var V=h[B],U=1,X=V.length,ee=V[0],Z,K,ye=ee[0],fe=ee[1];U<X;++U)Z=ye,K=fe,ee=V[U],ye=ee[0],fe=ee[1],K<=r?fe>r&&(ye-Z)*(r-K)>(fe-K)*(e-Z)&&++M:fe<=r&&(ye-Z)*(r-K)<(fe-K)*(e-Z)&&--M;return M}function I(){c=d,u=[],h=[],w=!0}function A(){var M=R(),B=w&&M,L=(u=Pd(u)).length;(B||L)&&(l.polygonStart(),B&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),L&&nh(u,s,M,o,l),l.polygonEnd()),c=l,u=h=p=null}function P(){k.point=D,h&&h.push(p=[]),v=!0,_=!1,y=S=NaN}function q(){u&&(D(g,b),m&&_&&d.rejoin(),u.push(d.result())),k.point=E,_&&c.lineEnd()}function D(M,B){var L=i(M,B);if(h&&p.push([M,B]),v)g=M,b=B,m=L,v=!1,L&&(c.lineStart(),c.point(M,B));else if(L&&_)c.point(M,B);else{var V=[y=Math.max(Fi,Math.min(zr,y)),S=Math.max(Fi,Math.min(zr,S))],U=[M=Math.max(Fi,Math.min(zr,M)),B=Math.max(Fi,Math.min(zr,B))];Ub(V,U,e,t,n,r)?(_||(c.lineStart(),c.point(V[0],V[1])),c.point(U[0],U[1]),L||c.lineEnd(),w=!1):L&&(c.lineStart(),c.point(M,B),w=!1)}y=M,S=B,_=L}return k}}const Ls=e=>e;var Ra=new jn,Os=new jn,oh,ah,Ps,$s,xn={point:$t,lineStart:$t,lineEnd:$t,polygonStart:function(){xn.lineStart=zb,xn.lineEnd=Hb},polygonEnd:function(){xn.lineStart=xn.lineEnd=xn.point=$t,Ra.add(Ee(Os)),Os=new jn},result:function(){var e=Ra/2;return Ra=new jn,e}};function zb(){xn.point=Vb}function Vb(e,t){xn.point=sh,oh=Ps=e,ah=$s=t}function sh(e,t){Os.add($s*e-Ps*t),Ps=e,$s=t}function Hb(){sh(oh,ah)}const Ql=xn;var wr=1/0,bo=wr,li=-wr,_o=li,jb={point:Wb,lineStart:$t,lineEnd:$t,polygonStart:$t,polygonEnd:$t,result:function(){var e=[[wr,bo],[li,_o]];return li=_o=-(bo=wr=1/0),e}};function Wb(e,t){e<wr&&(wr=e),e>li&&(li=e),t<bo&&(bo=t),t>_o&&(_o=t)}const yo=jb;var qs=0,Rs=0,Vr=0,vo=0,wo=0,dr=0,Fs=0,Bs=0,Hr=0,fh,lh,Jt,Qt,Ht={point:Gn,lineStart:Kl,lineEnd:ec,polygonStart:function(){Ht.lineStart=Xb,Ht.lineEnd=Zb},polygonEnd:function(){Ht.point=Gn,Ht.lineStart=Kl,Ht.lineEnd=ec},result:function(){var e=Hr?[Fs/Hr,Bs/Hr]:dr?[vo/dr,wo/dr]:Vr?[qs/Vr,Rs/Vr]:[NaN,NaN];return qs=Rs=Vr=vo=wo=dr=Fs=Bs=Hr=0,e}};function Gn(e,t){qs+=e,Rs+=t,++Vr}function Kl(){Ht.point=Yb}function Yb(e,t){Ht.point=Gb,Gn(Jt=e,Qt=t)}function Gb(e,t){var n=e-Jt,r=t-Qt,i=wt(n*n+r*r);vo+=i*(Jt+e)/2,wo+=i*(Qt+t)/2,dr+=i,Gn(Jt=e,Qt=t)}function ec(){Ht.point=Gn}function Xb(){Ht.point=Jb}function Zb(){ch(fh,lh)}function Jb(e,t){Ht.point=ch,Gn(fh=Jt=e,lh=Qt=t)}function ch(e,t){var n=e-Jt,r=t-Qt,i=wt(n*n+r*r);vo+=i*(Jt+e)/2,wo+=i*(Qt+t)/2,dr+=i,i=Qt*e-Jt*t,Fs+=i*(Jt+e),Bs+=i*(Qt+t),Hr+=i*3,Gn(Jt=e,Qt=t)}const tc=Ht;function uh(e){this._context=e}uh.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,At);break}}},result:$t};var Us=new jn,Fa,dh,hh,jr,Wr,Mo={point:$t,lineStart:function(){Mo.point=Qb},lineEnd:function(){Fa&&ph(dh,hh),Mo.point=$t},polygonStart:function(){Fa=!0},polygonEnd:function(){Fa=null},result:function(){var e=+Us;return Us=new jn,e}};function Qb(e,t){Mo.point=ph,dh=jr=e,hh=Wr=t}function ph(e,t){jr-=e,Wr-=t,Us.add(wt(jr*jr+Wr*Wr)),jr=e,Wr=t}const nc=Mo;let rc,So,ic,oc;class ac{constructor(t){this._append=t==null?gh:Kb(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ic||this._append!==So){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ic=r,So=this._append,oc=this._,this._=i}this._+=oc;break}}}result(){const t=this._;return this._="",t.length?t:null}}function gh(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Kb(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return gh;if(t!==rc){const n=10**t;rc=t,So=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return So}function Vo(e,t){let n=3,r=4.5,i,o;function a(s){return s&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),lr(s,i(o))),o.result()}return a.area=function(s){return lr(s,i(Ql)),Ql.result()},a.measure=function(s){return lr(s,i(nc)),nc.result()},a.bounds=function(s){return lr(s,i(yo)),yo.result()},a.centroid=function(s){return lr(s,i(tc)),tc.result()},a.projection=function(s){return arguments.length?(i=s==null?(e=null,Ls):(e=s).stream,a):e},a.context=function(s){return arguments.length?(o=s==null?(t=null,new ac(n)):new uh(t=s),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(o.pointRadius(+s),+s),a):r},a.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);n=f}return t===null&&(o=new ac(n)),a},a.projection(e).digits(n).context(t)}function zs(e){return{stream:Ho(e)}}function Ho(e){return function(t){var n=new Vs;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Vs(){}Vs.prototype={constructor:Vs,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Df(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),lr(n,e.stream(yo)),t(yo.result()),r!=null&&e.clipExtent(r),e}function If(e,t,n){return Df(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),s=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,f])},n)}function mh(e,t,n){return If(e,[[0,0],t],n)}function bh(e,t,n){return Df(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,s=-o*r[0][1];e.scale(150*o).translate([a,s])},n)}function _h(e,t,n){return Df(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],s=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,s])},n)}var sc=16,e_=be(30*Fe);function fc(e,t){return+t?n_(e,t):t_(e)}function t_(e){return Ho({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function n_(e,t){function n(r,i,o,a,s,f,l,c,d,u,h,p,g,b){var m=l-r,y=c-i,S=m*m+y*y;if(S>4*t&&g--){var _=a+u,v=s+h,w=f+p,k=wt(_*_+v*v+w*w),E=Bt(w/=k),R=Ee(Ee(w)-1)<he||Ee(o-d)<he?(o+d)/2:vn(v,_),I=e(R,E),A=I[0],P=I[1],q=A-r,D=P-i,M=y*q-m*D;(M*M/S>t||Ee((m*q+y*D)/S-.5)>.3||a*u+s*h+f*p<e_)&&(n(r,i,o,a,s,f,A,P,R,_/=k,v/=k,w,g,b),b.point(A,P),n(A,P,R,_,v,w,l,c,d,u,h,p,g,b))}}return function(r){var i,o,a,s,f,l,c,d,u,h,p,g,b={point:m,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),b.lineStart=v},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function m(E,R){E=e(E,R),r.point(E[0],E[1])}function y(){d=NaN,b.point=S,r.lineStart()}function S(E,R){var I=vr([E,R]),A=e(E,R);n(d,u,c,h,p,g,d=A[0],u=A[1],c=E,h=I[0],p=I[1],g=I[2],sc,r),r.point(d,u)}function _(){b.point=m,r.lineEnd()}function v(){y(),b.point=w,b.lineEnd=k}function w(E,R){S(i=E,R),o=d,a=u,s=h,f=p,l=g,b.point=S}function k(){n(d,u,c,h,p,g,o,a,i,s,f,l,sc,r),b.lineEnd=_,_()}return b}}var r_=Ho({point:function(e,t){this.stream.point(e*Fe,t*Fe)}});function i_(e){return Ho({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function o_(e,t,n,r,i){function o(a,s){return a*=r,s*=i,[t+e*a,n-e*s]}return o.invert=function(a,s){return[(a-t)/e*r,(n-s)/e*i]},o}function lc(e,t,n,r,i,o){if(!o)return o_(e,t,n,r,i);var a=be(o),s=de(o),f=a*e,l=s*e,c=a/e,d=s/e,u=(s*n-a*t)/e,h=(s*t+a*n)/e;function p(g,b){return g*=r,b*=i,[f*g-l*b+t,n-l*g-f*b]}return p.invert=function(g,b){return[r*(c*g-d*b+u),i*(h-d*g-c*b)]},p}function Pn(e){return yh(function(){return e})()}function yh(e){var t,n=150,r=480,i=250,o=0,a=0,s=0,f=0,l=0,c,d=0,u=1,h=1,p=null,g=Jl,b=null,m,y,S,_=Ls,v=.5,w,k,E,R,I;function A(M){return E(M[0]*Fe,M[1]*Fe)}function P(M){return M=E.invert(M[0],M[1]),M&&[M[0]*ht,M[1]*ht]}A.stream=function(M){return R&&I===M?R:R=r_(i_(c)(g(w(_(I=M)))))},A.preclip=function(M){return arguments.length?(g=M,p=void 0,D()):g},A.postclip=function(M){return arguments.length?(_=M,b=m=y=S=null,D()):_},A.clipAngle=function(M){return arguments.length?(g=+M?Bb(p=M*Fe):(p=null,Jl),D()):p*ht},A.clipExtent=function(M){return arguments.length?(_=M==null?(b=m=y=S=null,Ls):ih(b=+M[0][0],m=+M[0][1],y=+M[1][0],S=+M[1][1]),D()):b==null?null:[[b,m],[y,S]]},A.scale=function(M){return arguments.length?(n=+M,q()):n},A.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],q()):[r,i]},A.center=function(M){return arguments.length?(o=M[0]%360*Fe,a=M[1]%360*Fe,q()):[o*ht,a*ht]},A.rotate=function(M){return arguments.length?(s=M[0]%360*Fe,f=M[1]%360*Fe,l=M.length>2?M[2]%360*Fe:0,q()):[s*ht,f*ht,l*ht]},A.angle=function(M){return arguments.length?(d=M%360*Fe,q()):d*ht},A.reflectX=function(M){return arguments.length?(u=M?-1:1,q()):u<0},A.reflectY=function(M){return arguments.length?(h=M?-1:1,q()):h<0},A.precision=function(M){return arguments.length?(w=fc(k,v=M*M),D()):wt(v)},A.fitExtent=function(M,B){return If(A,M,B)},A.fitSize=function(M,B){return mh(A,M,B)},A.fitWidth=function(M,B){return bh(A,M,B)},A.fitHeight=function(M,B){return _h(A,M,B)};function q(){var M=lc(n,0,0,u,h,d).apply(null,t(o,a)),B=lc(n,r-M[0],i-M[1],u,h,d);return c=eh(s,f,l),k=Ds(t,B),E=Ds(c,k),w=fc(k,v),D()}function D(){return R=I=null,A}return function(){return t=e.apply(this,arguments),A.invert=t.invert&&P,q()}}function Lf(e){var t=0,n=_e/3,r=yh(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*Fe,n=o[1]*Fe):[t*ht,n*ht]},i}function a_(e){var t=be(e);function n(r,i){return[r*t,de(i)/t]}return n.invert=function(r,i){return[r/t,Bt(i*t)]},n}function s_(e,t){var n=de(e),r=(n+de(t))/2;if(Ee(r)<he)return a_(e);var i=1+n*(2*r-n),o=wt(i)/r;function a(s,f){var l=wt(i-2*r*de(f))/r;return[l*de(s*=r),o-l*be(s)]}return a.invert=function(s,f){var l=o-f,c=vn(s,Ee(l))*Pt(l);return l*r<0&&(c-=_e*Pt(s)*Pt(l)),[c/r,Bt((i-(s*s+l*l)*r*r)/(2*r))]},a}function ko(){return Lf(s_).scale(155.424).center([0,33.6442])}function vh(){return ko().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function f_(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function l_(){var e,t,n=vh(),r,i=ko().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ko().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,f,l={point:function(u,h){f=[u,h]}};function c(u){var h=u[0],p=u[1];return f=null,r.point(h,p),f||(o.point(h,p),f)||(s.point(h,p),f)}c.invert=function(u){var h=n.scale(),p=n.translate(),g=(u[0]-p[0])/h,b=(u[1]-p[1])/h;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?a:n).invert(u)},c.stream=function(u){return e&&t===u?e:e=f_([n.stream(t=u),i.stream(u),a.stream(u)])},c.precision=function(u){return arguments.length?(n.precision(u),i.precision(u),a.precision(u),d()):n.precision()},c.scale=function(u){return arguments.length?(n.scale(u),i.scale(u*.35),a.scale(u),c.translate(n.translate())):n.scale()},c.translate=function(u){if(!arguments.length)return n.translate();var h=n.scale(),p=+u[0],g=+u[1];return r=n.translate(u).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(l),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+he,g+.12*h+he],[p-.214*h-he,g+.234*h-he]]).stream(l),s=a.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+he,g+.166*h+he],[p-.115*h-he,g+.234*h-he]]).stream(l),d()},c.fitExtent=function(u,h){return If(c,u,h)},c.fitSize=function(u,h){return mh(c,u,h)},c.fitWidth=function(u,h){return bh(c,u,h)},c.fitHeight=function(u,h){return _h(c,u,h)};function d(){return e=t=null,c}return c.scale(1070)}function wh(e){return function(t,n){var r=be(t),i=be(n),o=e(r*i);return o===1/0?[2,0]:[o*i*de(t),o*de(n)]}}function Mi(e){return function(t,n){var r=wt(t*t+n*n),i=e(r),o=de(i),a=be(i);return[vn(t*o,r*a),Bt(r&&n*o/r)]}}var Mh=wh(function(e){return wt(2/(1+e))});Mh.invert=Mi(function(e){return 2*Bt(e/2)});function c_(){return Pn(Mh).scale(124.75).clipAngle(180-.001)}var Sh=wh(function(e){return(e=Kd(e))&&e/de(e)});Sh.invert=Mi(function(e){return e});function u_(){return Pn(Sh).scale(79.4188).clipAngle(180-.001)}function jo(e,t){return[e,po(Nf((Be+t)/2))]}jo.invert=function(e,t){return[e,2*xr(Qd(t))-Be]};function d_(){return kh(jo).scale(961/At)}function kh(e){var t=Pn(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,s,f,l;t.scale=function(d){return arguments.length?(r(d),c()):r()},t.translate=function(d){return arguments.length?(i(d),c()):i()},t.center=function(d){return arguments.length?(n(d),c()):n()},t.clipExtent=function(d){return arguments.length?(d==null?a=s=f=l=null:(a=+d[0][0],s=+d[0][1],f=+d[1][0],l=+d[1][1]),c()):a==null?null:[[a,s],[f,l]]};function c(){var d=_e*r(),u=t(Ib(t.rotate()).invert([0,0]));return o(a==null?[[u[0]-d,u[1]-d],[u[0]+d,u[1]+d]]:e===jo?[[Math.max(u[0]-d,a),s],[Math.min(u[0]+d,f),l]]:[[a,Math.max(u[1]-d,s)],[f,Math.min(u[1]+d,l)]])}return c()}function Bi(e){return Nf((Be+e)/2)}function h_(e,t){var n=be(e),r=e===t?de(e):po(n/be(t))/po(Bi(t)/Bi(e)),i=n*Pa(Bi(e),r)/r;if(!r)return jo;function o(a,s){i>0?s<-Be+he&&(s=-Be+he):s>Be-he&&(s=Be-he);var f=i/Pa(Bi(s),r);return[f*de(r*a),i-f*be(r*a)]}return o.invert=function(a,s){var f=i-s,l=Pt(r)*wt(a*a+f*f),c=vn(a,Ee(f))*Pt(f);return f*r<0&&(c-=_e*Pt(a)*Pt(f)),[c/r,2*xr(Pa(i/l,1/r))-Be]},o}function p_(){return Lf(h_).scale(109.5).parallels([30,30])}function To(e,t){return[e,t]}To.invert=To;function g_(){return Pn(To).scale(152.63)}function m_(e,t){var n=be(e),r=e===t?de(e):(n-be(t))/(t-e),i=n/r+e;if(Ee(r)<he)return To;function o(a,s){var f=i-s,l=r*a;return[f*de(l),i-f*be(l)]}return o.invert=function(a,s){var f=i-s,l=vn(a,Ee(f))*Pt(f);return f*r<0&&(l-=_e*Pt(a)*Pt(f)),[l/r,i-Pt(r)*wt(a*a+f*f)]},o}function b_(){return Lf(m_).scale(131.154).center([0,13.9389])}var Zr=1.340264,Jr=-.081106,Qr=893e-6,Kr=.003796,Eo=wt(3)/2,__=12;function Th(e,t){var n=Bt(Eo*de(t)),r=n*n,i=r*r*r;return[e*be(n)/(Eo*(Zr+3*Jr*r+i*(7*Qr+9*Kr*r))),n*(Zr+Jr*r+i*(Qr+Kr*r))]}Th.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,s,f;o<__&&(s=n*(Zr+Jr*r+i*(Qr+Kr*r))-t,f=Zr+3*Jr*r+i*(7*Qr+9*Kr*r),n-=a=s/f,r=n*n,i=r*r*r,!(Ee(a)<Jd));++o);return[Eo*e*(Zr+3*Jr*r+i*(7*Qr+9*Kr*r))/be(n),Bt(de(n)/Eo)]};function y_(){return Pn(Th).scale(177.158)}function Eh(e,t){var n=be(t),r=be(e)*n;return[n*de(e)/r,de(t)/r]}Eh.invert=Mi(xr);function v_(){return Pn(Eh).scale(144.049).clipAngle(60)}function Ah(e,t){return[be(t)*de(e),de(t)]}Ah.invert=Mi(Bt);function w_(){return Pn(Ah).scale(249.5).clipAngle(90+he)}function xh(e,t){var n=be(t),r=1+be(e)*n;return[n*de(e)/r,de(t)/r]}xh.invert=Mi(function(e){return 2*xr(e)});function M_(){return Pn(xh).scale(250).clipAngle(142)}function Ch(e,t){return[po(Nf((Be+t)/2)),-e]}Ch.invert=function(e,t){return[-t,2*xr(Qd(e))-Be]};function S_(){var e=kh(Ch),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function on(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Hs=Symbol("implicit");function Of(){var e=new Wn,t=[],n=[],r=Hs;function i(o){let a=e.get(o);if(a===void 0){if(r!==Hs)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Wn;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Of(t,n).unknown(r)},on.apply(i,arguments),i}function Yo(){var e=Of().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,s=!1,f=0,l=0,c=.5;delete e.unknown;function d(){var u=t().length,h=i<r,p=h?i:r,g=h?r:i;o=(g-p)/Math.max(1,u-f+l*2),s&&(o=Math.floor(o)),p+=(g-p-o*(u-f))*c,a=o*(1-f),s&&(p=Math.round(p),a=Math.round(a));var b=Ss(u).map(function(m){return p+o*m});return n(h?b.reverse():b)}return e.domain=function(u){return arguments.length?(t(u),d()):t()},e.range=function(u){return arguments.length?([r,i]=u,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(u){return[r,i]=u,r=+r,i=+i,s=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(u){return arguments.length?(s=!!u,d()):s},e.padding=function(u){return arguments.length?(f=Math.min(1,l=+u),d()):f},e.paddingInner=function(u){return arguments.length?(f=Math.min(1,u),d()):f},e.paddingOuter=function(u){return arguments.length?(l=+u,d()):l},e.align=function(u){return arguments.length?(c=Math.max(0,Math.min(1,u)),d()):c},e.copy=function(){return Yo(t(),[r,i]).round(s).paddingInner(f).paddingOuter(l).align(c)},on.apply(d(),arguments)}function Nh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Nh(t())},e}function k_(){return Nh(Yo.apply(null,arguments).paddingInner(1))}function T_(e){return function(){return e}}function js(e){return+e}var cc=[0,1];function qt(e){return e}function Ws(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:T_(isNaN(t)?NaN:.5)}function E_(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function A_(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Ws(i,r),o=n(a,o)):(r=Ws(r,i),o=n(o,a)),function(s){return o(r(s))}}function x_(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Ws(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var f=yf(e,s,1,r)-1;return o[f](i[f](s))}}function Si(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Go(){var e=cc,t=cc,n=wi,r,i,o,a=qt,s,f,l;function c(){var u=Math.min(e.length,t.length);return a!==qt&&(a=E_(e[0],e[u-1])),s=u>2?x_:A_,f=l=null,d}function d(u){return u==null||isNaN(u=+u)?o:(f||(f=s(e.map(r),t,n)))(r(a(u)))}return d.invert=function(u){return a(i((l||(l=s(t,e.map(r),Dn)))(u)))},d.domain=function(u){return arguments.length?(e=Array.from(u,js),c()):e.slice()},d.range=function(u){return arguments.length?(t=Array.from(u),c()):t.slice()},d.rangeRound=function(u){return t=Array.from(u),n=Ef,c()},d.clamp=function(u){return arguments.length?(a=u?!0:qt,c()):a!==qt},d.interpolate=function(u){return arguments.length?(n=u,c()):n},d.unknown=function(u){return arguments.length?(o=u,d):o},function(u,h){return r=u,i=h,c()}}function Dh(){return Go()(qt,qt)}function C_(e,t,n,r){var i=ws(e,t,n),o;switch(r=fi(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Nb(i,a))&&(r.precision=o),Zd(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Db(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Cb(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ar(r)}function ki(e){var t=e.domain;return e.ticks=function(n){var r=t();return ao(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return C_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],f,l,c=10;for(s<a&&(l=a,a=s,s=l,l=i,i=o,o=l);c-- >0;){if(l=vs(a,s,n),l===f)return r[i]=a,r[o]=s,t(r);if(l>0)a=Math.floor(a/l)*l,s=Math.ceil(s/l)*l;else if(l<0)a=Math.ceil(a*l)/l,s=Math.floor(s*l)/l;else break;f=l}return e},e}function Pf(){var e=Dh();return e.copy=function(){return Si(e,Pf())},on.apply(e,arguments),ki(e)}function Ih(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,js),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ih(e).unknown(t)},e=arguments.length?Array.from(e,js):[0,1],ki(n)}function Lh(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function uc(e){return Math.log(e)}function dc(e){return Math.exp(e)}function N_(e){return-Math.log(-e)}function D_(e){return-Math.exp(-e)}function I_(e){return isFinite(e)?+("1e"+e):e<0?0:e}function L_(e){return e===10?I_:e===Math.E?Math.exp:t=>Math.pow(e,t)}function O_(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hc(e){return(t,n)=>-e(-t,n)}function Oh(e){const t=e(uc,dc),n=t.domain;let r=10,i,o;function a(){return i=O_(r),o=L_(r),n()[0]<0?(i=hc(i),o=hc(o),e(N_,D_)):e(uc,dc),t}return t.base=function(s){return arguments.length?(r=+s,a()):r},t.domain=function(s){return arguments.length?(n(s),a()):n()},t.ticks=s=>{const f=n();let l=f[0],c=f[f.length-1];const d=c<l;d&&([l,c]=[c,l]);let u=i(l),h=i(c),p,g;const b=s==null?10:+s;let m=[];if(!(r%1)&&h-u<b){if(u=Math.floor(u),h=Math.ceil(h),l>0){for(;u<=h;++u)for(p=1;p<r;++p)if(g=u<0?p/o(-u):p*o(u),!(g<l)){if(g>c)break;m.push(g)}}else for(;u<=h;++u)for(p=r-1;p>=1;--p)if(g=u>0?p/o(-u):p*o(u),!(g<l)){if(g>c)break;m.push(g)}m.length*2<b&&(m=ao(l,c,b))}else m=ao(u,h,Math.min(h-u,b)).map(o);return d?m.reverse():m},t.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=fi(f)).precision==null&&(f.trim=!0),f=Ar(f)),s===1/0)return f;const l=Math.max(1,r*s/t.ticks().length);return c=>{let d=c/o(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=l?f(c):""}},t.nice=()=>n(Lh(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),t}function Ph(){const e=Oh(Go()).domain([1,10]);return e.copy=()=>Si(e,Ph()).base(e.base()),on.apply(e,arguments),e}function pc(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gc(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $h(e){var t=1,n=e(pc(t),gc(t));return n.constant=function(r){return arguments.length?e(pc(t=+r),gc(t)):t},ki(n)}function qh(){var e=$h(Go());return e.copy=function(){return Si(e,qh()).constant(e.constant())},on.apply(e,arguments)}function mc(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function P_(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $_(e){return e<0?-e*e:e*e}function Rh(e){var t=e(qt,qt),n=1;function r(){return n===1?e(qt,qt):n===.5?e(P_,$_):e(mc(n),mc(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ki(t)}function Fh(){var e=Rh(Go());return e.copy=function(){return Si(e,Fh()).exponent(e.exponent())},on.apply(e,arguments),e}function Bh(){var e=[],t=[],n=[],r;function i(){var a=0,s=Math.max(1,t.length);for(n=new Array(s-1);++a<s;)n[a-1]=Wm(e,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:t[yf(n,a)]}return o.invertExtent=function(a){var s=t.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(vt),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Bh().domain(e).range(t).unknown(r)},on.apply(o,arguments)}function Uh(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[yf(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Uh().domain(e).range(t).unknown(n)},on.apply(i,arguments)}const Ba=new Date,Ua=new Date;function je(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const f=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return f;let l;do f.push(l=new Date(+o)),t(o,s),e(o);while(l<o&&o<a);return f},i.filter=o=>je(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;t(a,-1),!o(a););else for(;--s>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Ba.setTime(+o),Ua.setTime(+a),e(Ba),e(Ua),Math.floor(n(Ba,Ua))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ao=je(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ao.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?je(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ao);Ao.range;const gn=1e3,Rt=gn*60,mn=Rt*60,wn=mn*24,$f=wn*7,bc=wn*30,za=wn*365,bn=je(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gn)},(e,t)=>(t-e)/gn,e=>e.getUTCSeconds());bn.range;const Xo=je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gn)},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getMinutes());Xo.range;const Zo=je(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rt)},(e,t)=>(t-e)/Rt,e=>e.getUTCMinutes());Zo.range;const Jo=je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gn-e.getMinutes()*Rt)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getHours());Jo.range;const Qo=je(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getUTCHours());Qo.range;const Cr=je(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rt)/wn,e=>e.getDate()-1);Cr.range;const Ko=je(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wn,e=>e.getUTCDate()-1);Ko.range;const qf=je(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/wn,e=>Math.floor(e/wn));qf.range;function Kn(e){return je(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rt)/$f)}const Mr=Kn(0),ci=Kn(1),zh=Kn(2),Vh=Kn(3),Xn=Kn(4),Hh=Kn(5),jh=Kn(6);Mr.range;ci.range;zh.range;Vh.range;Xn.range;Hh.range;jh.range;function er(e){return je(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$f)}const Sr=er(0),ui=er(1),Wh=er(2),Yh=er(3),Zn=er(4),Gh=er(5),Xh=er(6);Sr.range;ui.range;Wh.range;Yh.range;Zn.range;Gh.range;Xh.range;const ea=je(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ea.range;const ta=je(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ta.range;const Yt=je(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:je(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Yt.range;const Gt=je(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:je(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Gt.range;function Zh(e,t,n,r,i,o){const a=[[bn,1,gn],[bn,5,5*gn],[bn,15,15*gn],[bn,30,30*gn],[o,1,Rt],[o,5,5*Rt],[o,15,15*Rt],[o,30,30*Rt],[i,1,mn],[i,3,3*mn],[i,6,6*mn],[i,12,12*mn],[r,1,wn],[r,2,2*wn],[n,1,$f],[t,1,bc],[t,3,3*bc],[e,1,za]];function s(l,c,d){const u=c<l;u&&([l,c]=[c,l]);const h=d&&typeof d.range=="function"?d:f(l,c,d),p=h?h.range(l,+c+1):[];return u?p.reverse():p}function f(l,c,d){const u=Math.abs(c-l)/d,h=_f(([,,b])=>b).right(a,u);if(h===a.length)return e.every(ws(l/za,c/za,d));if(h===0)return Ao.every(Math.max(ws(l,c,d),1));const[p,g]=a[u/a[h-1][2]<a[h][2]/u?h-1:h];return p.every(g)}return[s,f]}const[q_,R_]=Zh(Gt,ta,Sr,qf,Qo,Zo),[F_,B_]=Zh(Yt,ea,Mr,Cr,Jo,Xo);function Va(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ha(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $r(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function U_(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,f=e.shortMonths,l=qr(i),c=Rr(i),d=qr(o),u=Rr(o),h=qr(a),p=Rr(a),g=qr(s),b=Rr(s),m=qr(f),y=Rr(f),S={a:L,A:V,b:U,B:X,c:null,d:Sc,e:Sc,f:c2,g:v2,G:M2,H:s2,I:f2,j:l2,L:Jh,m:u2,M:d2,p:ee,q:Z,Q:Ec,s:Ac,S:h2,u:p2,U:g2,V:m2,w:b2,W:_2,x:null,X:null,y:y2,Y:w2,Z:S2,"%":Tc},_={a:K,A:ye,b:fe,B:oe,c:null,d:kc,e:kc,f:A2,g:q2,G:F2,H:k2,I:T2,j:E2,L:Kh,m:x2,M:C2,p:te,q:ie,Q:Ec,s:Ac,S:N2,u:D2,U:I2,V:L2,w:O2,W:P2,x:null,X:null,y:$2,Y:R2,Z:B2,"%":Tc},v={a:I,A,b:P,B:q,c:D,d:wc,e:wc,f:r2,g:vc,G:yc,H:Mc,I:Mc,j:K_,L:n2,m:Q_,M:e2,p:R,q:J_,Q:o2,s:a2,S:t2,u:W_,U:Y_,V:G_,w:j_,W:X_,x:M,X:B,y:vc,Y:yc,Z:Z_,"%":i2};S.x=w(n,S),S.X=w(r,S),S.c=w(t,S),_.x=w(n,_),_.X=w(r,_),_.c=w(t,_);function w(T,F){return function(z){var N=[],Q=-1,se=0,le=T.length,ae,ne,Le;for(z instanceof Date||(z=new Date(+z));++Q<le;)T.charCodeAt(Q)===37&&(N.push(T.slice(se,Q)),(ne=_c[ae=T.charAt(++Q)])!=null?ae=T.charAt(++Q):ne=ae==="e"?" ":"0",(Le=F[ae])&&(ae=Le(z,ne)),N.push(ae),se=Q+1);return N.push(T.slice(se,Q)),N.join("")}}function k(T,F){return function(z){var N=$r(1900,void 0,1),Q=E(N,T,z+="",0),se,le;if(Q!=z.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(F&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(se=Ha($r(N.y,0,1)),le=se.getUTCDay(),se=le>4||le===0?ui.ceil(se):ui(se),se=Ko.offset(se,(N.V-1)*7),N.y=se.getUTCFullYear(),N.m=se.getUTCMonth(),N.d=se.getUTCDate()+(N.w+6)%7):(se=Va($r(N.y,0,1)),le=se.getDay(),se=le>4||le===0?ci.ceil(se):ci(se),se=Cr.offset(se,(N.V-1)*7),N.y=se.getFullYear(),N.m=se.getMonth(),N.d=se.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),le="Z"in N?Ha($r(N.y,0,1)).getUTCDay():Va($r(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(le+5)%7:N.w+N.U*7-(le+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,Ha(N)):Va(N)}}function E(T,F,z,N){for(var Q=0,se=F.length,le=z.length,ae,ne;Q<se;){if(N>=le)return-1;if(ae=F.charCodeAt(Q++),ae===37){if(ae=F.charAt(Q++),ne=v[ae in _c?F.charAt(Q++):ae],!ne||(N=ne(T,z,N))<0)return-1}else if(ae!=z.charCodeAt(N++))return-1}return N}function R(T,F,z){var N=l.exec(F.slice(z));return N?(T.p=c.get(N[0].toLowerCase()),z+N[0].length):-1}function I(T,F,z){var N=h.exec(F.slice(z));return N?(T.w=p.get(N[0].toLowerCase()),z+N[0].length):-1}function A(T,F,z){var N=d.exec(F.slice(z));return N?(T.w=u.get(N[0].toLowerCase()),z+N[0].length):-1}function P(T,F,z){var N=m.exec(F.slice(z));return N?(T.m=y.get(N[0].toLowerCase()),z+N[0].length):-1}function q(T,F,z){var N=g.exec(F.slice(z));return N?(T.m=b.get(N[0].toLowerCase()),z+N[0].length):-1}function D(T,F,z){return E(T,t,F,z)}function M(T,F,z){return E(T,n,F,z)}function B(T,F,z){return E(T,r,F,z)}function L(T){return a[T.getDay()]}function V(T){return o[T.getDay()]}function U(T){return f[T.getMonth()]}function X(T){return s[T.getMonth()]}function ee(T){return i[+(T.getHours()>=12)]}function Z(T){return 1+~~(T.getMonth()/3)}function K(T){return a[T.getUTCDay()]}function ye(T){return o[T.getUTCDay()]}function fe(T){return f[T.getUTCMonth()]}function oe(T){return s[T.getUTCMonth()]}function te(T){return i[+(T.getUTCHours()>=12)]}function ie(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var F=w(T+="",S);return F.toString=function(){return T},F},parse:function(T){var F=k(T+="",!1);return F.toString=function(){return T},F},utcFormat:function(T){var F=w(T+="",_);return F.toString=function(){return T},F},utcParse:function(T){var F=k(T+="",!0);return F.toString=function(){return T},F}}}var _c={"-":"",_:" ",0:"0"},Qe=/^\s*\d+/,z_=/^%/,V_=/[\\^$*+?|[\]().{}]/g;function ke(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function H_(e){return e.replace(V_,"\\$&")}function qr(e){return new RegExp("^(?:"+e.map(H_).join("|")+")","i")}function Rr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function j_(e,t,n){var r=Qe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function W_(e,t,n){var r=Qe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Y_(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function G_(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function X_(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function yc(e,t,n){var r=Qe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function vc(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Z_(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function J_(e,t,n){var r=Qe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Q_(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wc(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function K_(e,t,n){var r=Qe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Mc(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function e2(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function t2(e,t,n){var r=Qe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function n2(e,t,n){var r=Qe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function r2(e,t,n){var r=Qe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function i2(e,t,n){var r=z_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function o2(e,t,n){var r=Qe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function a2(e,t,n){var r=Qe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Sc(e,t){return ke(e.getDate(),t,2)}function s2(e,t){return ke(e.getHours(),t,2)}function f2(e,t){return ke(e.getHours()%12||12,t,2)}function l2(e,t){return ke(1+Cr.count(Yt(e),e),t,3)}function Jh(e,t){return ke(e.getMilliseconds(),t,3)}function c2(e,t){return Jh(e,t)+"000"}function u2(e,t){return ke(e.getMonth()+1,t,2)}function d2(e,t){return ke(e.getMinutes(),t,2)}function h2(e,t){return ke(e.getSeconds(),t,2)}function p2(e){var t=e.getDay();return t===0?7:t}function g2(e,t){return ke(Mr.count(Yt(e)-1,e),t,2)}function Qh(e){var t=e.getDay();return t>=4||t===0?Xn(e):Xn.ceil(e)}function m2(e,t){return e=Qh(e),ke(Xn.count(Yt(e),e)+(Yt(e).getDay()===4),t,2)}function b2(e){return e.getDay()}function _2(e,t){return ke(ci.count(Yt(e)-1,e),t,2)}function y2(e,t){return ke(e.getFullYear()%100,t,2)}function v2(e,t){return e=Qh(e),ke(e.getFullYear()%100,t,2)}function w2(e,t){return ke(e.getFullYear()%1e4,t,4)}function M2(e,t){var n=e.getDay();return e=n>=4||n===0?Xn(e):Xn.ceil(e),ke(e.getFullYear()%1e4,t,4)}function S2(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ke(t/60|0,"0",2)+ke(t%60,"0",2)}function kc(e,t){return ke(e.getUTCDate(),t,2)}function k2(e,t){return ke(e.getUTCHours(),t,2)}function T2(e,t){return ke(e.getUTCHours()%12||12,t,2)}function E2(e,t){return ke(1+Ko.count(Gt(e),e),t,3)}function Kh(e,t){return ke(e.getUTCMilliseconds(),t,3)}function A2(e,t){return Kh(e,t)+"000"}function x2(e,t){return ke(e.getUTCMonth()+1,t,2)}function C2(e,t){return ke(e.getUTCMinutes(),t,2)}function N2(e,t){return ke(e.getUTCSeconds(),t,2)}function D2(e){var t=e.getUTCDay();return t===0?7:t}function I2(e,t){return ke(Sr.count(Gt(e)-1,e),t,2)}function e0(e){var t=e.getUTCDay();return t>=4||t===0?Zn(e):Zn.ceil(e)}function L2(e,t){return e=e0(e),ke(Zn.count(Gt(e),e)+(Gt(e).getUTCDay()===4),t,2)}function O2(e){return e.getUTCDay()}function P2(e,t){return ke(ui.count(Gt(e)-1,e),t,2)}function $2(e,t){return ke(e.getUTCFullYear()%100,t,2)}function q2(e,t){return e=e0(e),ke(e.getUTCFullYear()%100,t,2)}function R2(e,t){return ke(e.getUTCFullYear()%1e4,t,4)}function F2(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Zn(e):Zn.ceil(e),ke(e.getUTCFullYear()%1e4,t,4)}function B2(){return"+0000"}function Tc(){return"%"}function Ec(e){return+e}function Ac(e){return Math.floor(+e/1e3)}var ir,Rf,di;U2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U2(e){return ir=U_(e),Rf=ir.format,ir.parse,di=ir.utcFormat,ir.utcParse,ir}function z2(e){return new Date(e)}function V2(e){return e instanceof Date?+e:+new Date(+e)}function Ff(e,t,n,r,i,o,a,s,f,l){var c=Dh(),d=c.invert,u=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),b=l("%I %p"),m=l("%a %d"),y=l("%b %d"),S=l("%B"),_=l("%Y");function v(w){return(f(w)<w?h:s(w)<w?p:a(w)<w?g:o(w)<w?b:r(w)<w?i(w)<w?m:y:n(w)<w?S:_)(w)}return c.invert=function(w){return new Date(d(w))},c.domain=function(w){return arguments.length?u(Array.from(w,V2)):u().map(z2)},c.ticks=function(w){var k=u();return e(k[0],k[k.length-1],w??10)},c.tickFormat=function(w,k){return k==null?v:l(k)},c.nice=function(w){var k=u();return(!w||typeof w.range!="function")&&(w=t(k[0],k[k.length-1],w??10)),w?u(Lh(k,w)):c},c.copy=function(){return Si(c,Ff(e,t,n,r,i,o,a,s,f,l))},c}function H2(){return on.apply(Ff(F_,B_,Yt,ea,Mr,Cr,Jo,Xo,bn,Rf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j2(){return on.apply(Ff(q_,R_,Gt,ta,Sr,Ko,Qo,Zo,bn,di).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function na(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ra(){var e=0,t=.5,n=1,r=1,i,o,a,s,f,l=qt,c,d=!1,u;function h(g){return isNaN(g=+g)?u:(g=.5+((g=+c(g))-o)*(r*g<r*o?s:f),l(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),o=c(t=+t),a=c(n=+n),s=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(b){var m,y,S;return arguments.length?([m,y,S]=b,l=xf(g,[m,y,S]),h):[l(0),l(.5),l(1)]}}return h.range=p(wi),h.rangeRound=p(Ef),h.unknown=function(g){return arguments.length?(u=g,h):u},function(g){return c=g,i=g(e),o=g(t),a=g(n),s=i===o?0:.5/(o-i),f=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function t0(){var e=ki(ra()(qt));return e.copy=function(){return na(e,t0())},Wo.apply(e,arguments)}function n0(){var e=Oh(ra()).domain([.1,1,10]);return e.copy=function(){return na(e,n0()).base(e.base())},Wo.apply(e,arguments)}function r0(){var e=$h(ra());return e.copy=function(){return na(e,r0()).constant(e.constant())},Wo.apply(e,arguments)}function i0(){var e=Rh(ra());return e.copy=function(){return na(e,i0()).exponent(e.exponent())},Wo.apply(e,arguments)}function pe(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const ia=pe("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),W2=pe("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Y2=pe("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),G2=pe("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),X2=pe("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Z2=pe("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),J2=pe("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Q2=pe("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),K2=pe("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),ey=pe("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ne=e=>nm(e[e.length-1]);var o0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(pe);const a0=Ne(o0);var s0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(pe);const f0=Ne(s0);var l0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(pe);const c0=Ne(l0);var u0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(pe);const d0=Ne(u0);var Ys=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(pe);const xo=Ne(Ys);var h0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(pe);const p0=Ne(h0);var Gs=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(pe);const Co=Ne(Gs);var g0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(pe);const m0=Ne(g0);var b0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(pe);const _0=Ne(b0);var y0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(pe);const v0=Ne(y0);var w0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(pe);const M0=Ne(w0);var S0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(pe);const k0=Ne(S0);var T0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(pe);const E0=Ne(T0);var A0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(pe);const x0=Ne(A0);var C0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(pe);const N0=Ne(C0);var D0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(pe);const I0=Ne(D0);var L0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(pe);const O0=Ne(L0);var P0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(pe);const $0=Ne(P0);var q0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(pe);const R0=Ne(q0);var F0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(pe);const B0=Ne(F0);var U0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(pe);const z0=Ne(U0);var V0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(pe);const H0=Ne(V0);var j0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(pe);const W0=Ne(j0);var Y0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(pe);const G0=Ne(Y0);var X0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(pe);const Z0=Ne(X0);var J0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(pe);const Q0=Ne(J0);var K0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(pe);const e1=Ne(K0);function t1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const n1=Af(nn(300,.5,0),nn(-240,.5,1));var r1=Af(nn(-100,.75,.35),nn(80,1.5,.8)),i1=Af(nn(260,.75,.35),nn(80,1.5,.8)),Ui=nn();function o1(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ui.h=360*e-100,Ui.s=1.5-1.5*t,Ui.l=.8-.9*t,Ui+""}var zi=to(),ty=Math.PI/3,ny=Math.PI*2/3;function a1(e){var t;return e=(.5-e)*Math.PI,zi.r=255*(t=Math.sin(e))*t,zi.g=255*(t=Math.sin(e+ty))*t,zi.b=255*(t=Math.sin(e+ny))*t,zi+""}function s1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function oa(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const f1=oa(pe("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var l1=oa(pe("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),c1=oa(pe("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),u1=oa(pe("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function or(e){return function(){return e}}const d1=Math.cos,Bf=Math.min,No=Math.sin,We=Math.sqrt,xc=1e-12,Do=Math.PI,aa=2*Do;function ry(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Gd(t)}function iy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function h1(e){this._context=e}h1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function sa(e){return new h1(e)}function oy(e){return e[0]}function ay(e){return e[1]}function sy(e,t){var n=or(!0),r=null,i=sa,o=null,a=ry(s);e=typeof e=="function"?e:e===void 0?oy:or(e),t=typeof t=="function"?t:t===void 0?ay:or(t);function s(f){var l,c=(f=iy(f)).length,d,u=!1,h;for(r==null&&(o=i(h=a())),l=0;l<=c;++l)!(l<c&&n(d=f[l],l,f))===u&&((u=!u)?o.lineStart():o.lineEnd()),u&&o.point(+e(d,l,f),+t(d,l,f));if(h)return o=null,h+""||null}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),s):t},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:or(!!f),s):n},s.curve=function(f){return arguments.length?(i=f,r!=null&&(o=i(r)),s):i},s.context=function(f){return arguments.length?(f==null?r=o=null:o=i(r=f),s):r},s}class p1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function fy(e){return new p1(e,!0)}function ly(e){return new p1(e,!1)}const cy=We(3),g1={draw(e,t){const n=We(t+Bf(t/28,.75))*.59436,r=n/2,i=r*cy;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Uf={draw(e,t){const n=We(t/Do);e.moveTo(n,0),e.arc(0,0,n,0,aa)}},m1={draw(e,t){const n=We(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},b1=We(1/3),uy=b1*2,_1={draw(e,t){const n=We(t/uy),r=n*b1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},y1={draw(e,t){const n=We(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},v1={draw(e,t){const n=We(t-Bf(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},w1={draw(e,t){const n=We(t),r=-n/2;e.rect(r,r,n,n)}},M1={draw(e,t){const n=We(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},dy=.8908130915292852,S1=No(Do/10)/No(7*Do/10),hy=No(aa/10)*S1,py=-d1(aa/10)*S1,k1={draw(e,t){const n=We(t*dy),r=hy*n,i=py*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=aa*o/5,s=d1(a),f=No(a);e.lineTo(f*n,-s*n),e.lineTo(s*r-f*i,f*r+s*i)}e.closePath()}},ja=We(3),T1={draw(e,t){const n=-We(t/(ja*3));e.moveTo(0,n*2),e.lineTo(-ja*n,-n),e.lineTo(ja*n,-n),e.closePath()}},gy=We(3),E1={draw(e,t){const n=We(t)*.6824,r=n/2,i=n*gy/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},It=-.5,Lt=We(3)/2,Xs=1/We(12),my=(Xs/2+1)*3,A1={draw(e,t){const n=We(t/my),r=n/2,i=n*Xs,o=r,a=n*Xs+n,s=-o,f=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,f),e.lineTo(It*r-Lt*i,Lt*r+It*i),e.lineTo(It*o-Lt*a,Lt*o+It*a),e.lineTo(It*s-Lt*f,Lt*s+It*f),e.lineTo(It*r+Lt*i,It*i-Lt*r),e.lineTo(It*o+Lt*a,It*a-Lt*o),e.lineTo(It*s+Lt*f,It*f-Lt*s),e.closePath()}},x1={draw(e,t){const n=We(t-Bf(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},by=[Uf,m1,_1,w1,k1,T1,A1],_y=[Uf,v1,x1,E1,g1,M1,y1];function In(){}function Io(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function fa(e){this._context=e}fa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Io(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Io(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yy(e){return new fa(e)}function C1(e){this._context=e}C1.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Io(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vy(e){return new C1(e)}function N1(e){this._context=e}N1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Io(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wy(e){return new N1(e)}function D1(e,t){this._basis=new fa(e),this._beta=t}D1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,s=-1,f;++s<=n;)f=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+f*o),this._beta*t[s]+(1-this._beta)*(i+f*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const My=function e(t){function n(r){return t===1?new fa(r):new D1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Lo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function zf(e,t){this._context=e,this._k=(1-t)/6}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Lo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Lo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Sy=function e(t){function n(r){return new zf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Vf(e,t){this._context=e,this._k=(1-t)/6}Vf.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Lo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const ky=function e(t){function n(r){return new Vf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Hf(e,t){this._context=e,this._k=(1-t)/6}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ty=function e(t){function n(r){return new Hf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function jf(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>xc){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>xc){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*l+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function I1(e,t){this._context=e,this._alpha=t}I1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:jf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ey=function e(t){function n(r){return t?new I1(r,t):new zf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function L1(e,t){this._context=e,this._alpha=t}L1.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ay=function e(t){function n(r){return t?new L1(r,t):new Vf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function O1(e,t){this._context=e,this._alpha=t}O1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xy=function e(t){function n(r){return t?new O1(r,t):new Hf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function P1(e){this._context=e}P1.prototype={areaStart:In,areaEnd:In,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Cy(e){return new P1(e)}function Cc(e){return e<0?-1:1}function Nc(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Cc(o)+Cc(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Dc(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Wa(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Oo(e){this._context=e}Oo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wa(this,this._t0,Dc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wa(this,Dc(this,n=Nc(this,e,t)),n);break;default:Wa(this,this._t0,n=Nc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $1(e){this._context=new q1(e)}($1.prototype=Object.create(Oo.prototype)).point=function(e,t){Oo.prototype.point.call(this,t,e)};function q1(e){this._context=e}q1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function Ny(e){return new Oo(e)}function Dy(e){return new $1(e)}function R1(e){this._context=e}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Ic(e),i=Ic(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Ic(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function Iy(e){return new R1(e)}function la(e,t){this._context=e,this._t=t}la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ly(e){return new la(e,.5)}function Oy(e){return new la(e,0)}function Py(e){return new la(e,1)}const $y=!0,qy=!1,J5=Object.freeze(Object.defineProperty({__proto__:null,prerender:$y,ssr:qy},Symbol.toStringTag,{value:"Module"}));let Po=class{constructor(t){this.compPos=function(n){var r=[];console.log("CompPos calculation");for(var i=0;i<this._array.length;i++){let o=+(this._array[i]>0&&n[i]>0);console.log("CompPos elements:",this._array[i],n[i]),console.log("CompPos ret check: ",o),r.push(o)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){var r=[];console.log("compZero calculation");for(var i=0;i<this._array.length;i++){let o=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));console.log("compZero elements:",this._array[i],n[i]),console.log("compZero ret check: ",o),r.push(o)}return r},this.getPos=function(){var n=[];console.log("getPos calculation");for(var r=0;r<this._array.length;r++){let i=+(this._array[r]>0);console.log("getPos element:",this._array[r]),console.log("getPos ret check: ",i),n.push(+(this._array[r]>0))}return n},this.getZero=function(){var n=[];console.log("getZero calculation");for(var r=0;r<this._array.length;r++){let i=+this.isNegative(this._array[r]);console.log("getZero element:",this._array[r]),console.log("getZero ret check: ",i),n.push(+(this._array[r]===0))}return n},this._array=t}get array(){return this._array}};const F1=function(e,t,n,r){console.log("----------------------------------------------------------"),console.log("NUMERATOR AND DENOMINATOR CALCULATION FOR: ",e,n),console.log("raw arrays for numerator and denominator",t,r);let i=t.map(Number),o=r.map(Number);console.log("arrays casted to number for numerator and denominator",i,o);let a=new Po(i),s=new Po(o),f=a.compPos(s.array),l=s.getPos();console.log("numerator and denominator arrays",f,l);let c=f.filter(h=>h>0).length,d=l.filter(h=>h>0).length;console.log("numerator and denominator",c,d);let u=(c/d).toFixed(2);return console.log("numerator / denominator = ",u,"for fields:",e,n),console.log("----------------------------------------------------------"),u},B1=function(e,t,n,r){console.log("----------------------------------------------------------"),console.log("NUMERATOR AND DENOMINATOR CALCULATION FOR: ",e,n),console.log("raw arrays for numerator and denominator",t,r);let i=t.map(Number),o=r.map(Number);console.log("arrays casted to number for numerator and denominator",i,o);let a=new Po(i),s=new Po(o),f=a.compZero(s.array),l=s.getZero();console.log("numerator and denominator arrays",f,l);let c=f.filter(h=>h>0).length,d=l.filter(h=>h>0).length;console.log("numerator and denominator",c,d);let u=(c/d).toFixed(2);return console.log("numerator / denominator = ",u,"for fields:",e,n),console.log("----------------------------------------------------------"),u},Ry=function(e,t,n,r){return console.log("=========================="),console.log("TRUE POSITIVE CALCULATION"),console.log("=========================="),F1(e,t,n,r)},Fy=function(e,t,n,r){return console.log("=========================="),console.log("TRUE NEGATIVE CALCULATION"),console.log("=========================="),B1(e,t,n,r)},By=function(e,t,n,r){console.log("=========================="),console.log("OVERALL MATCHING CALCULATION"),console.log("==========================");let i=Number(F1(e,t,n,r));console.log("r1 for true negative is:",i);let o=Number(B1(e,t,n,r));console.log("r2 for true negative is:",o);let a=i+o,s=2,f=a/s,l=f.toFixed(2);return console.log("overall matching is: (",i," + ",o,")/",s,"=",f,"to fixed gives",l),l};let Uy=[{"true positive":Ry,"true negative":Fy,"average matching":By}];const ar={default_data_backend:{id:"defaults_q_backend",type:"QueryBackend",query:"SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last, evi_month FROM admin_raw ORDER BY gid",name:"defaults_q",params:null,backend:"db"},backends:[{id:"climatology_q_backend",type:"QueryBackend",query:rr.climatology.query,name:"climatology_q",params:"params",backend:"db"},{id:"combined_payouts_q_backend",type:"QueryBackend",query:rr.payout_combined.query,name:"combined_payouts",params:"params",backend:"db"},{id:"matching_q_backend",type:"QueryBackend",query:rr.matching.query,name:"matching",params:"params",backend:"db"},{id:"villages_q_backend",type:"QueryBackend",query:"SELECT village, gid FROM admin_raw ORDER BY gid",name:"villages_q",params:"params",backend:"db"},{id:"crop_cal_q_backend",type:"QueryBackend",query:rr.crop_cal.query,name:"crop_cal_q",params:"params",backend:"db"},{id:"bad_year_q_backend",type:"QueryBackend",query:rr.badyear.query,name:"bad_year_q",params:"params",backend:"db"},{id:"check_q_backend",type:"QueryBackend",query:rr.check.query,name:"check_q",params:"params",backend:"db"},{id:"matching_table_options_q_backend",type:"QueryBackend",query:"SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);",name:"matching_table_options_q",params:"params",backend:"db"},{id:"matching_table_backend",type:"MatchingTableBackend",main_data_name:"matching",main_data_default:null,function_store:Uy,default_func:"true positive"},{id:"climatology_overlay",type:"OverlayBackend"},{id:"cropcal_overlay",type:"OverlayBackend"}],views:[{id:"climatology_chart",register_with:["climatology_overlay","climatology_q_backend"]},{id:"crop_cal_chart",register_with:["cropcal_overlay","crop_cal_q_backend"]},{id:"combined_payouts_chart",register_with:["combined_payouts_q_backend","bad_year_q_backend"]},{id:"matching_table_chart",register_with:["matching_table_backend"]},{id:"matching_table_chart",register_with:["matching_table_backend"]},{id:"village_dropdown",register_with:["villages_q_backend"]},{id:"sum_early_slider",register_with:["villages_q_backend"]},{id:"sum_late_slider",register_with:["villages_q_backend"]},{id:"vegetation_slider",register_with:["villages_q_backend"]},{id:"matching_options_dropdown",register_with:["matching_table_options_q_backend"]},{id:"queryView",register_with:["climatology_q_backend","combined_payouts_q_backend","crop_cal_q_backend","bad_year_q_backend","villages_q_backend","matching_q_backend","matching_table_options_q_backend","defaults_q_backend","check_q_backend"]}],backend_views:[{id:"matching_table_backend",register_with:["matching_q_backend"]}],interactions:[{id:"village_dropdown climatology_q_backend",source:"village_dropdown",target:"climatology_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"village_dropdown combined_payouts_q_backend",source:"village_dropdown",target:"combined_payouts_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"village_dropdown crop_cal_q_backend",source:"village_dropdown",target:"crop_cal_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"village_dropdown bad_year_q_backend",source:"village_dropdown",target:"bad_year_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"village_dropdown check_q_backend",source:"village_dropdown",target:"check_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"village_dropdown matching_q_backend",source:"village_dropdown",target:"matching_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"village_dropdown villages_q_backend",source:"village_dropdown",target:"villages_q_backend",postprocess:{h:{"*":"d1",region:"value"}}},{id:"matching_options_dropdown matching_table_backend",source:"matching_options_dropdown",target:"matching_table_backend",postprocess:{h:{"*":"d2",func_elected:"value"}}},{id:"login defaults_q_backend",source:"login",target:"defaults_q_backend",postprocess:{h:{"*":"l1",region:"region"}}},{id:"login climatology_q_backend",source:"login",target:"climatology_q_backend",postprocess:{h:{"*":"l1",region:"region"}}},{id:"login crop_cal_q_backend",source:"login",target:"crop_cal_q_backend",postprocess:{h:{"*":"l1",region:"region"}}},{id:"login combined_payouts_q_backend",source:"login",target:"combined_payouts_q_backend",postprocess:{h:{"*":"l1",region:"region",vegetation_first:"vegetation_first",vegetation_last:"vegetation_last",sum_early_first:"sum_early_first",sum_early_last:"sum_early_last",sum_late_first:"sum_late_first",sum_late_last:"sum_late_last"}}},{id:"sum_early_slider combined_payouts_q_backend",source:"sum_early_slider",target:"combined_payouts_q_backend",postprocess:{h:{"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"}}},{id:"sum_early_slider matching_q_backend",source:"sum_early_slider",target:"matching_q_backend",postprocess:{h:{"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"}}},{id:"sum_early_slider check_q_backend",source:"sum_early_slider",target:"check_q_backend",postprocess:{h:{"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"}}},{id:"sum_late_slider combined_payouts_q_backend",source:"sum_late_slider",target:"combined_payouts_q_backend",postprocess:{h:{"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"}}},{id:"sum_late_slider matching_q_backend",source:"sum_late_slider",target:"matching_q_backend",postprocess:{h:{"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"}}},{id:"sum_late_slider check_q_backend",source:"sum_late_slider",target:"check_q_backend",postprocess:{h:{"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"}}},{id:"vegetation_slider combined_payouts_q_backend",source:"vegetation_slider",target:"combined_payouts_q_backend",postprocess:{h:{"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"}}},{id:"vegetation_slider matching_q_backend",source:"vegetation_slider",target:"matching_q_backend",postprocess:{h:{"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"}}},{id:"vegetation_slider check_q_backend",source:"vegetation_slider",target:"check_q_backend",postprocess:{h:{"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"}}},{id:"sum_early_slider cropcal_overlay",source:"sum_early_slider",target:"cropcal_overlay",postprocess:null},{id:"sum_early_slider climatology_overlay",source:"sum_early_slider",target:"climatology_overlay",postprocess:null},{id:"sum_late_slider cropcal_overlay",source:"sum_late_slider",target:"cropcal_overlay",postprocess:null},{id:"sum_late_slider climatology_overlay",source:"sum_late_slider",target:"climatology_overlay",postprocess:null},{id:"vegetation_slider cropcal_overlay",source:"vegetation_slider",target:"cropcal_overlay",postprocess:null},{id:"vegetation_slider climatology_overlay",source:"vegetation_slider",target:"climatology_overlay",postprocess:null}]},zn={top:30,right:20,bottom:50,left:40},ca=Sn({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:zn}),at=Sn([]),Zs=Sn({}),ei=Sn(!1),Qi=Sn(null),bt=Sn(0);function zy(e){console.log(e.h);let t=[rm(Js,[e.h])];return im(...t)}function Js(e,t){const n=oi(t).length;if(om(e)||oi(e).length===0)return t;let r=null;if(e["*"]){r=Vy(e["*"],n,t);const o=am("*",e);return r.map(a=>Js(o,a))}let i={};for(const o in e){const a=e[o];Zi(Function,a)?i[o]=a(t):Zi(String,a)?i[o]=Ed(a.split("."),t):Zi(Object,a)?i[o]=Js(a,t):i[o]=a}return i}function Vy(e,t,n){let r=null;return e==="*"&&t==1?r=sm(n)[0]??[]:r=Am([],e.split("."),n),Zi(Array,r)||(r=[r]),r}const Ke={backends:{},views:{},backendViews:{},interactions:{}};async function Hy(){console.log("generating dashboard..."),console.log(`config passed for generation: 
`,ar);const e=new fm,t=ar.default_data_backend;let n=t;console.log("create backend...",n.id),t.backend==="db"&&(n.backend=Dl),t.params==="params"&&(n.params=Oe(Vt)),console.log("prepared backend spec is",n),Ke.backends[t.id]=e.createBackend(n);const r=await Ke.backends[t.id].execute(),i={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}},o=r.map(a=>({chirps_early:{start:a.chirps_early_first,end:a.chirps_early_last},chirps_late:{start:a.chirps_late_first,end:a.chirps_late_last},vegetation:i[a.evi_month],village:a.gid}));at.set(o),bt.set(0),Vt.update(a=>(a.sum_early_first=Oe(at)[Oe(bt)].chirps_early.start,a.sum_early_last=Oe(at)[Oe(bt)].chirps_early.end,a.sum_late_first=Oe(at)[Oe(bt)].chirps_late.start,a.sum_late_last=Oe(at)[Oe(bt)].chirps_late.end,a.vegetation_first=Oe(at)[Oe(bt)].vegetation.start,a.vegetation_last=Oe(at)[Oe(bt)].vegetation.end,a)),console.log("parameters are set to",Oe(Vt));for(const a of ar.backends){let s=a;console.log("create backend...",s.id),a.backend==="db"&&(s.backend=Dl),a.params==="params"&&(s.params=Oe(Vt)),console.log("prepared backend spec is",s),Ke.backends[a.id]=e.createBackend(s)}for(const a of ar.views){Ke.views[a.id]=Oe(dt)[a.id];for(const s of a.register_with)Ke.backends[s].registerView(Ke.views[a.id])}for(const a of ar.backend_views){Ke.backendViews[a.id]=Ke.backends[a.id];for(const s of a.register_with)Ke.backends[s].registerView(Ke.backendViews[a.id])}for(const a of ar.interactions)a.source=Oe(dt)[a.source],a.target=Ke.backends[a.target],a.postprocess!=null&&(a.postprocess=zy(a.postprocess)),Ke.interactions[a.id]=new Yg(a);console.log(`generator finished, dashboard is: 
`,Ke)}async function jy(){let e={sum_early_slider:{left:Number(Oe(Vt).sum_early_first),right:Number(Oe(Vt).sum_early_last)},sum_late_slider:{left:Number(Oe(Vt).sum_late_first),right:Number(Oe(Vt).sum_late_last)},vegetation_slider:{left:Number(Oe(Vt).vegetation_first),right:Number(Oe(Vt).vegetation_last)}};for(const t of Object.keys(Ke.backends))t.includes("overlay")||await Ke.backends[t].execute([Oe(Vt)]);for(const t of Object.keys(Ke.backends))t.includes("overlay")&&await Ke.backends[t].execute(e)}const Wy=e=>({}),Lc=e=>({}),Yy=e=>({}),Oc=e=>({}),Gy=e=>({}),Pc=e=>({}),Xy=e=>({}),$c=e=>({}),Zy=e=>({}),qc=e=>({}),Jy=e=>({}),Rc=e=>({}),Qy=e=>({}),Fc=e=>({}),Ky=e=>({}),Bc=e=>({}),e6=e=>({}),Uc=e=>({}),t6=e=>({}),zc=e=>({}),n6=e=>({}),Vc=e=>({}),r6=e=>({}),Hc=e=>({}),i6=e=>({}),jc=e=>({}),o6=e=>({}),Wc=e=>({}),a6=e=>({}),Yc=e=>({});function s6(e){let t,n,r,i,o,a,s,f,l,c,d,u,h,p,g,b,m,y,S,_,v,w,k,E,R,I,A,P,q,D,M;const B=e[1].header,L=ft(B,e,e[0],Yc),V=e[1].alert,U=ft(V,e,e[0],Wc),X=e[1].dropdown1,ee=ft(X,e,e[0],jc),Z=e[1].chart1,K=ft(Z,e,e[0],Hc),ye=e[1].dropdown2,fe=ft(ye,e,e[0],Vc),oe=e[1].chart2,te=ft(oe,e,e[0],zc),ie=e[1].dropdown3,T=ft(ie,e,e[0],Uc),F=e[1].chart3,z=ft(F,e,e[0],Bc),N=e[1].dropdown4,Q=ft(N,e,e[0],Fc),se=e[1].chart4,le=ft(se,e,e[0],Rc),ae=e[1].obplot,ne=ft(ae,e,e[0],qc),Le=e[1].slider1,De=ft(Le,e,e[0],$c),Ye=e[1].slider2,Ae=ft(Ye,e,e[0],Pc),gt=e[1].slider3,ze=ft(gt,e,e[0],Oc),Zt=e[1].slider4,Ge=ft(Zt,e,e[0],Lc);return{c(){t=W("div"),n=W("div"),L&&L.c(),r=ge(),i=W("div"),U&&U.c(),o=ge(),a=W("div"),ee&&ee.c(),s=ge(),f=W("div"),K&&K.c(),l=ge(),c=W("div"),fe&&fe.c(),d=ge(),u=W("div"),te&&te.c(),h=ge(),p=W("div"),T&&T.c(),g=ge(),b=W("div"),z&&z.c(),m=ge(),y=W("div"),Q&&Q.c(),S=ge(),_=W("div"),le&&le.c(),v=ge(),w=W("div"),ne&&ne.c(),k=ge(),E=W("div"),De&&De.c(),R=ge(),I=W("div"),Ae&&Ae.c(),A=ge(),P=W("div"),ze&&ze.c(),q=ge(),D=W("div"),Ge&&Ge.c(),this.h()},l($){t=Y($,"DIV",{class:!0});var G=j(t);n=Y(G,"DIV",{class:!0});var qe=j(n);L&&L.l(qe),qe.forEach(C),r=me(G),i=Y(G,"DIV",{class:!0});var mt=j(i);U&&U.l(mt),mt.forEach(C),o=me(G),a=Y(G,"DIV",{class:!0});var Ct=j(a);ee&&ee.l(Ct),Ct.forEach(C),s=me(G),f=Y(G,"DIV",{class:!0});var Nt=j(f);K&&K.l(Nt),Nt.forEach(C),l=me(G),c=Y(G,"DIV",{class:!0});var nr=j(c);fe&&fe.l(nr),nr.forEach(C),d=me(G),u=Y(G,"DIV",{class:!0});var x=j(u);te&&te.l(x),x.forEach(C),h=me(G),p=Y(G,"DIV",{class:!0});var re=j(p);T&&T.l(re),re.forEach(C),g=me(G),b=Y(G,"DIV",{class:!0});var Me=j(b);z&&z.l(Me),Me.forEach(C),m=me(G),y=Y(G,"DIV",{class:!0});var Se=j(y);Q&&Q.l(Se),Se.forEach(C),S=me(G),_=Y(G,"DIV",{class:!0});var Dt=j(_);le&&le.l(Dt),Dt.forEach(C),v=me(G),w=Y(G,"DIV",{class:!0});var Or=j(w);ne&&ne.l(Or),Or.forEach(C),k=me(G),E=Y(G,"DIV",{class:!0});var Ii=j(E);De&&De.l(Ii),Ii.forEach(C),R=me(G),I=Y(G,"DIV",{class:!0});var Li=j(I);Ae&&Ae.l(Li),Li.forEach(C),A=me(G),P=Y(G,"DIV",{class:!0});var Ml=j(P);ze&&ze.l(Ml),Ml.forEach(C),q=me(G),D=Y(G,"DIV",{class:!0});var Sl=j(D);Ge&&Ge.l(Sl),Sl.forEach(C),G.forEach(C),this.h()},h(){O(n,"class","mx-auto"),O(i,"class",""),O(a,"class","mx-auto"),O(f,"class",""),O(c,"class","mx-auto"),O(u,"class",""),O(p,"class","mx-auto"),O(b,"class",""),O(y,"class","mx-auto"),O(_,"class",""),O(w,"class",""),O(E,"class",""),O(I,"class",""),O(P,"class",""),O(D,"class",""),O(t,"class","px-5 py-2 bg-white")},m($,G){J($,t,G),H(t,n),L&&L.m(n,null),H(t,r),H(t,i),U&&U.m(i,null),H(t,o),H(t,a),ee&&ee.m(a,null),H(t,s),H(t,f),K&&K.m(f,null),H(t,l),H(t,c),fe&&fe.m(c,null),H(t,d),H(t,u),te&&te.m(u,null),H(t,h),H(t,p),T&&T.m(p,null),H(t,g),H(t,b),z&&z.m(b,null),H(t,m),H(t,y),Q&&Q.m(y,null),H(t,S),H(t,_),le&&le.m(_,null),H(t,v),H(t,w),ne&&ne.m(w,null),H(t,k),H(t,E),De&&De.m(E,null),H(t,R),H(t,I),Ae&&Ae.m(I,null),H(t,A),H(t,P),ze&&ze.m(P,null),H(t,q),H(t,D),Ge&&Ge.m(D,null),M=!0},p($,[G]){L&&L.p&&(!M||G&1)&&lt(L,B,$,$[0],M?ut(B,$[0],G,a6):ct($[0]),Yc),U&&U.p&&(!M||G&1)&&lt(U,V,$,$[0],M?ut(V,$[0],G,o6):ct($[0]),Wc),ee&&ee.p&&(!M||G&1)&&lt(ee,X,$,$[0],M?ut(X,$[0],G,i6):ct($[0]),jc),K&&K.p&&(!M||G&1)&&lt(K,Z,$,$[0],M?ut(Z,$[0],G,r6):ct($[0]),Hc),fe&&fe.p&&(!M||G&1)&&lt(fe,ye,$,$[0],M?ut(ye,$[0],G,n6):ct($[0]),Vc),te&&te.p&&(!M||G&1)&&lt(te,oe,$,$[0],M?ut(oe,$[0],G,t6):ct($[0]),zc),T&&T.p&&(!M||G&1)&&lt(T,ie,$,$[0],M?ut(ie,$[0],G,e6):ct($[0]),Uc),z&&z.p&&(!M||G&1)&&lt(z,F,$,$[0],M?ut(F,$[0],G,Ky):ct($[0]),Bc),Q&&Q.p&&(!M||G&1)&&lt(Q,N,$,$[0],M?ut(N,$[0],G,Qy):ct($[0]),Fc),le&&le.p&&(!M||G&1)&&lt(le,se,$,$[0],M?ut(se,$[0],G,Jy):ct($[0]),Rc),ne&&ne.p&&(!M||G&1)&&lt(ne,ae,$,$[0],M?ut(ae,$[0],G,Zy):ct($[0]),qc),De&&De.p&&(!M||G&1)&&lt(De,Le,$,$[0],M?ut(Le,$[0],G,Xy):ct($[0]),$c),Ae&&Ae.p&&(!M||G&1)&&lt(Ae,Ye,$,$[0],M?ut(Ye,$[0],G,Gy):ct($[0]),Pc),ze&&ze.p&&(!M||G&1)&&lt(ze,gt,$,$[0],M?ut(gt,$[0],G,Yy):ct($[0]),Oc),Ge&&Ge.p&&(!M||G&1)&&lt(Ge,Zt,$,$[0],M?ut(Zt,$[0],G,Wy):ct($[0]),Lc)},i($){M||(ve(L,$),ve(U,$),ve(ee,$),ve(K,$),ve(fe,$),ve(te,$),ve(T,$),ve(z,$),ve(Q,$),ve(le,$),ve(ne,$),ve(De,$),ve(Ae,$),ve(ze,$),ve(Ge,$),M=!0)},o($){we(L,$),we(U,$),we(ee,$),we(K,$),we(fe,$),we(te,$),we(T,$),we(z,$),we(Q,$),we(le,$),we(ne,$),we(De,$),we(Ae,$),we(ze,$),we(Ge,$),M=!1},d($){$&&C(t),L&&L.d($),U&&U.d($),ee&&ee.d($),K&&K.d($),fe&&fe.d($),te&&te.d($),T&&T.d($),z&&z.d($),Q&&Q.d($),le&&le.d($),ne&&ne.d($),De&&De.d($),Ae&&Ae.d($),ze&&ze.d($),Ge&&Ge.d($)}}}function f6(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=o=>{"$$scope"in o&&n(0,i=o.$$scope)},[i,r]}class Ya extends Mt{constructor(t){super(),St(this,t,f6,s6,kt,{})}}function Ln(e){return e!=null&&!Number.isNaN(e)}function Jn(e,t){return+Ln(t)-+Ln(e)||vt(e,t)}function Qs(e,t){return+Ln(t)-+Ln(e)||vi(e,t)}function Wf(e){return e!=null&&`${e}`!=""}function U1(e){return isFinite(e)?e:NaN}function Yf(e){return e>0&&isFinite(e)?e:NaN}function z1(e){return e<0&&isFinite(e)?e:NaN}function l6(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${c6(e.getUTCFullYear())}-${hn(e.getUTCMonth()+1,2)}-${hn(e.getUTCDate(),2)}${n||r||i||o?`T${hn(n,2)}:${hn(r,2)}${i||o?`:${hn(i,2)}${o?`.${hn(o,3)}`:""}`:""}Z`:""}`}function c6(e){return e<0?`-${hn(-e,6)}`:e>9999?`+${hn(e,6)}`:hn(e,4)}function hn(e,t){return`${e}`.padStart(t,"0")}const u6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function V1(e,t){return u6.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const d6=new Map([["second",bn],["minute",Xo],["hour",Jo],["day",Cr],["week",Mr],["month",ea],["year",Yt],["monday",ci],["tuesday",zh],["wednesday",Vh],["thursday",Xn],["friday",Hh],["saturday",jh],["sunday",Mr]]),h6=new Map([["second",bn],["minute",Zo],["hour",Qo],["day",qf],["week",Sr],["month",ta],["year",Gt],["monday",ui],["tuesday",Wh],["wednesday",Yh],["thursday",Zn],["friday",Gh],["saturday",Xh],["sunday",Sr]]);function H1(e,t){let n=`${e}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(n);switch(i&&(n=n.slice(i[0].length),r=+i[1]),n){case"quarter":n="month",r*=3;break;case"half":n="month",r*=6;break}let o=t.get(n);if(!o)throw new Error(`unknown interval: ${e}`);if(!(r>1))return o;if(!o.every)throw new Error(`non-periodic interval: ${n}`);return o.every(r)}function p6(e){return H1(e,d6)}function g6(e){return H1(e,h6)}function m6(e){if(!e)return!1;const t=e.floor(new Date(Date.UTC(2e3,11,31)));return Gt(t)>=t}function b6(e){if(!e)return!1;const t=e.floor(new Date(2e3,11,31));return Yt(t)>=t}const hi=Object.getPrototypeOf(Uint8Array),_6=Object.prototype.toString;function Ft(e,t,n){const r=typeof t;return r==="string"?Gc(e,j1(t),n):r==="function"?Gc(e,t,n):r==="number"||t instanceof Date||r==="boolean"?Je(e,Nr(t),n):typeof(t==null?void 0:t.transform)=="function"?Xc(t.transform(e),n):Xc(t,n)}function Gc(e,t,n){return Je(e,(n==null?void 0:n.prototype)instanceof hi?y6(t):t,n)}function Xc(e,t){return t===void 0?rn(e):e instanceof t?e:t.prototype instanceof hi&&!(e instanceof hi)?t.from(e,Gf):t.from(e)}function y6(e){return(t,n)=>Gf(e(t,n))}const Ki=[null],j1=e=>t=>t[e],W1={transform:$n},Ut={transform:e=>e},v6=()=>1,w6=()=>!0,st=e=>e==null?e:`${e}`,Ie=e=>e==null?e:+e,Y1=e=>e?e[0]:void 0,M6=e=>e?e[1]:void 0,Nr=e=>()=>e;function S6(e){const t=+`${e}`.slice(1)/100;return(n,r)=>so(n,t,r)}function Cn(e){return e instanceof hi?e:Je(e,Gf,Float64Array)}function Gf(e){return e==null?NaN:Number(e)}function k6(e){return Je(e,T6)}function T6(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?V1(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Qn(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:pa(e)?[void 0,e]:[e,void 0]}function Tt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function ua(e,t,n){if(e!=null)return kn(e,t,n)}function kn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function rn(e){return e==null||e instanceof Array||e instanceof hi?e:Array.from(e)}function Je(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Ks(e,t=Array){return e instanceof t?e.slice():t.from(e)}function G1({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function E6({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function A6(e){return G1(e)||E6(e)||e.interval!==void 0}function Ti(e){return(e==null?void 0:e.toString)===_6}function $o(e){return Ti(e)&&(e.type!==void 0||e.domain!==void 0)}function Xf(e){return Ti(e)&&typeof e.transform!="function"}function pi(e){return Xf(e)&&e.value===void 0&&e.channel===void 0}function x6(e,t,n,r=Ut){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function da(e,t){return e===void 0&&t===void 0?[Y1,M6]:[e,t]}function X1({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Qn(t)),e===void 0&&([e]=Qn(n)),e}function $n(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Z1(e,t){return Je(t,n=>e[n])}function Vn(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ef(e){let t;return[{transform:()=>t,label:Ei(e)},n=>t=n]}function C6(e){return e==null?[e]:ef(e)}function Ei(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function N6(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Xt(r)||Xt(i)?Je(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):Je(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function D6(e,t){const n=J1(t==null?void 0:t.interval,t==null?void 0:t.type);return n?Je(e,n):e}function J1(e,t){const n=Zf(e,t);return n&&(r=>Ln(r)?n.floor(r):r)}function Zf(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>Ss(Math.ceil(r*n),i*n).map(o=>o/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>Ss(Math.ceil(r/n),i/n).map(o=>o*n)}}if(typeof e=="string")return(t==="time"?p6:g6)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function Ai(e,t){if(e=Zf(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function I6(e,t){if(e=Ai(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function ha(e){return e===void 0||Xf(e)?e:{value:e}}function L6(e){return e==null?null:{transform:t=>Ft(t,e,Float64Array),label:Ei(e)}}function qn(e){return e&&typeof e[Symbol.iterator]=="function"}function Q1(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Zc(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Xt(e){for(const t of e)if(t!=null)return t instanceof Date}function O6(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&V1(t)}function P6(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function $6(e){for(const t of e)if(t!=null)return typeof t=="number"}function Ga(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function pa(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||ms(e)!==null)}function q6(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function _t(e){return e==null||gi(e)}function gi(e){return/^\s*none\s*$/i.test(e)}function R6(e){return/^\s*round\s*$/i.test(e)}function K1(e,t){return ua(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Jf(e="middle"){return K1(e,"frameAnchor")}function mi(e){if(e==null)return;const t=e[0],n=e[e.length-1];return vi(t,n)}function F6(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function B6(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function ep(e){return qn(e)?B6(e):e}const en=Symbol("position"),Tn=Symbol("color"),ga=Symbol("radius"),ma=Symbol("length"),ba=Symbol("opacity"),_a=Symbol("symbol"),Re=new Map([["x",en],["y",en],["fx",en],["fy",en],["r",ga],["color",Tn],["opacity",ba],["symbol",_a],["length",ma]]),U6=Math.sqrt(3),z6=2/U6,V6={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*z6,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},tp=new Map([["asterisk",g1],["circle",Uf],["cross",m1],["diamond",_1],["diamond2",y1],["hexagon",V6],["plus",v1],["square",w1],["square2",M1],["star",k1],["times",x1],["triangle",T1],["triangle2",E1],["wye",A1]]);function np(e){return e&&typeof e.draw=="function"}function H6(e){return np(e)?!0:typeof e!="string"?!1:tp.has(e.toLowerCase())}function Qf(e){if(e==null||np(e))return e;const t=tp.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function rp({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=ip(e)),t!=null&&!pi(t)&&(r=Xa(r,ap(t))),n&&(r=Xa(r,op))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||pi(t))&&{sort:t},transform:Xa(r,a)}}function Kf({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=ip(e)),t!=null&&!pi(t)&&(r=Za(r,ap(t))),n&&(r=Za(r,op))),{...i,...(t===null||pi(t))&&{sort:t},initializer:Za(r,o)}}function Xa(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,rn(n),r,i)}}function Za(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,s,f,l,c,d;return{data:s=n,facets:f=r,channels:a}=e.call(this,n,r,i,...o),{data:c=s,facets:d=f,channels:l}=t.call(this,s,f,{...i,...a},...o),{data:c,facets:d,channels:{...a,...l}}}}function ip(e){return(t,n)=>{const r=Ft(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function op(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function ap(e){return(typeof e=="function"&&e.length!==1?j6:W6)(e)}function j6(e){return(t,n)=>{const r=(i,o)=>e(t[i],t[o]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function W6(e){let t,n;({channel:t,value:e,order:n}={...ha(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Qs:Jn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Jn;break;case"descending":n=Qs;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let s;if(t===void 0)s=Ft(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(s=a[t],!s)return{};s=s.value}const f=(l,c)=>n(s[l],s[c]);return{data:i,facets:o.map(l=>l.slice().sort(f))}}}function Y6(e,t,n=G6){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Ti(e))return X6(e);if(typeof e=="function")return Z6(e);if(/^p\d{2}$/i.test(e))return dn(S6(e));switch(`${e}`.toLowerCase()){case"first":return Q6;case"last":return K6;case"identity":return J6;case"count":return Qc;case"distinct":return ev;case"sum":return t==null?Qc:tv;case"proportion":return Kc(t,"data");case"proportion-facet":return Kc(t,"facet");case"deviation":return dn(Rm);case"min":return dn(yn);case"min-index":return dn(jm);case"max":return dn(jt);case"max-index":return dn(Hm);case"mean":return Jc(Ym);case"median":return Jc(Ms);case"variance":return dn(xd);case"mode":return dn(Xm)}return n(e)}function G6(e){throw new Error(`invalid reduce: ${e}`)}function X6(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Z6(e){return{reduceIndex(t,n,r){return e(Z1(n,t),r)}}}function dn(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Jc(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Xt(n)?new Date(r):r}}}const J6={reduceIndex(e,t){return Z1(t,e)}},Q6={reduceIndex(e,t){return t[e[0]]}},K6={reduceIndex(e,t){return t[e[e.length-1]]}},Qc={label:"Frequency",reduceIndex(e){return e.length}},ev={label:"Distinct",reduceIndex(e,t){const n=new vf;for(const r of e)n.add(t[r]);return n.size}},tv=dn(Yn);function Kc(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Yn(n,o=>r[o])/i}}function bi(e,{scale:t,type:n,value:r,filter:i,hint:o},a){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),sp(a,{scale:t,type:n,value:Ft(e,r),label:Ei(r),filter:i,hint:o})}function nv(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,bi(t,r,n)]))}function rv(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:Je(o,a)]}));return n.channels=e,n}function sp(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Ga(r,pa)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Ga(r,q6)?null:"opacity";break;case"symbol":n!==!0&&Ga(r,H6)?(t.scale=null,t.value=Je(r,Qf)):t.scale="symbol";break;default:t.scale=Re.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Re.has(n))throw new Error(`unknown scale: ${n}`);return t}function iv(e,t,n,r,i){const{order:o,reverse:a,reduce:s=!0,limit:f}=i;for(const l in i){if(!Re.has(l))continue;let{value:c,order:d=o,reverse:u=a,reduce:h=s,limit:p=f}=ha(i[l]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?lp:fp:sv(d),h==null||h===!1)continue;const b=l==="fx"||l==="fy"?av(t,r[l]):ov(n,l);if(!b)throw new Error(`missing channel for scale: ${l}`);const m=b.value,[y=0,S=1/0]=qn(p)?p:p<0?[p]:[0,p];if(c==null)b.domain=()=>{let _=Array.from(new vf(m));return u&&(_=_.reverse()),(y!==0||S!==1/0)&&(_=_.slice(y,S)),_};else{const _=c==="data"?e:c==="height"?eu(n,"y1","y2"):c==="width"?eu(n,"x1","x2"):tf(n,c,c==="y"?"y2":c==="x"?"x2":void 0),v=Y6(h===!0?"max":h,_);b.domain=()=>{let w=Fm($n(m),k=>v.reduceIndex(k,_),k=>m[k]);return d&&w.sort(d),u&&w.reverse(),(y!==0||S!==1/0)&&(w=w.slice(y,S)),w.map(Y1)}}}}function ov(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function av(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const s of e[o])i[s]=a}return t}function eu(e,t,n){const r=tf(e,t),i=tf(e,n);return Je(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function tf(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function sv(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return fp;case"descending":return lp}throw new Error(`invalid order: ${e}`)}function fp([e,t],[n,r]){return Jn(t,r)||Jn(e,n)}function lp([e,t],[n,r]){return Qs(t,r)||Jn(e,n)}function fv(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function el(e={}){const{document:t=typeof window<"u"?window.document:void 0}=e;return{document:t}}function ot(e,{document:t}){return Xr(Sd(e).call(t.documentElement))}let nf=0;function lv(){const e=nf;return nf=0,e}function pr(e){console.warn(e),++nf}const cp=Math.PI,ln=2*cp,Ja=.618;function cv({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let s,f,l="frame";if(Ti(e)){let v;if({type:e,domain:f,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=up(e));const{width:c,height:d,marginLeft:u,marginRight:h,marginTop:p,marginBottom:g}=a,b=c-u-h-o-r,m=d-p-g-n-i;if(e=e==null?void 0:e({width:b,height:m,clip:l,...s}),e==null)return;l=uv(l,u,p,c-h,d-g);let y=u+o,S=p+n,_;if(f!=null){const[[v,w],[k,E]]=Vo(e).bounds(f),R=Math.min(b/(k-v),m/(E-w));R>0?(y-=(R*(v+k)-b)/2,S-=(R*(w+E)-m)/2,_=zs({point(I,A){this.stream.point(I*R+y,A*R+S)}})):pr("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=y===0&&S===0?dp():zs({point(v,w){this.stream.point(v+y,w+S)}})),{stream:v=>e.stream(_.stream(l(v)))}}function up(e){switch(`${e}`.toLowerCase()){case"albers-usa":return zt(l_,.7463,.4673);case"albers":return Vi(vh,.7463,.4673);case"azimuthal-equal-area":return zt(c_,4,4);case"azimuthal-equidistant":return zt(u_,ln,ln);case"conic-conformal":return Vi(p_,ln,ln);case"conic-equal-area":return Vi(ko,6.1702,2.9781);case"conic-equidistant":return Vi(b_,7.312,3.6282);case"equal-earth":return zt(y_,5.4133,2.6347);case"equirectangular":return zt(g_,ln,cp);case"gnomonic":return zt(v_,3.4641,3.4641);case"identity":return{type:dp};case"reflect-y":return{type:dv};case"mercator":return zt(d_,ln,ln);case"orthographic":return zt(w_,2,2);case"stereographic":return zt(M_,2,2);case"transverse-mercator":return zt(S_,ln,ln);default:throw new Error(`unknown projection type: ${e}`)}}function uv(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return ih(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function zt(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:s})=>{var l,c,d;const f=e();return a!=null&&((l=f.precision)==null||l.call(f,a)),o!=null&&((c=f.rotate)==null||c.call(f,o)),typeof s=="number"&&((d=f.clipAngle)==null||d.call(f,s)),f.scale(Math.min(r/t,i/n)),f.translate([r/2,i/2]),f},aspectRatio:n/t}}function Vi(e,t,n){const{type:r,aspectRatio:i}=zt(e,t,n);return{type:o=>{const{parallels:a,domain:s,width:f,height:l}=o,c=r(o);return a!=null&&(c.parallels(a),s===void 0&&c.fitSize([f,l],{type:"Sphere"})),c},aspectRatio:i}}const dp=Nr({stream:e=>e}),dv=Nr(zs({point(e,t){this.stream.point(e,-t)}}));function hv(e,t,n,r){const i=n[e],o=n[t],a=i.length,s=n[e]=new Float64Array(a).fill(NaN),f=n[t]=new Float64Array(a).fill(NaN);let l;const c=r.stream({point(d,u){s[l]=d,f[l]=u}});for(l=0;l<a;++l)c.point(i[l],o[l])}function pv(e,t){if(typeof(e==null?void 0:e.stream)=="function")return Ja;if(Ti(e)&&(e=e.type),e==null)return gv(t)?Ja:void 0;if(typeof e!="function"){const{aspectRatio:n}=up(e);if(n)return n}return Ja}function gv(e){for(const t of e)if(t.channels.geometry)return!0;return!1}const hp=new Map([["accent",W2],["category10",ia],["dark2",Y2],["paired",G2],["pastel1",X2],["pastel2",Z2],["set1",J2],["set2",Q2],["set3",K2],["tableau10",ey]]);function mv(e){return e!=null&&hp.has(`${e}`.toLowerCase())}const tu=new Map([...hp,["brbg",cn(o0,a0)],["prgn",cn(s0,f0)],["piyg",cn(l0,c0)],["puor",cn(u0,d0)],["rdbu",cn(Ys,xo)],["rdgy",cn(h0,p0)],["rdylbu",cn(Gs,Co)],["rdylgn",cn(g0,m0)],["spectral",cn(b0,_0)],["burd",nu(Ys,xo)],["buylrd",nu(Gs,Co)],["blues",Xe(V0,H0)],["greens",Xe(j0,W0)],["greys",Xe(Y0,G0)],["oranges",Xe(K0,e1)],["purples",Xe(X0,Z0)],["reds",Xe(J0,Q0)],["turbo",un(s1)],["viridis",un(f1)],["magma",un(l1)],["inferno",un(c1)],["plasma",un(u1)],["cividis",un(t1)],["cubehelix",un(n1)],["warm",un(r1)],["cool",un(i1)],["bugn",Xe(y0,v0)],["bupu",Xe(w0,M0)],["gnbu",Xe(S0,k0)],["orrd",Xe(T0,E0)],["pubu",Xe(C0,N0)],["pubugn",Xe(A0,x0)],["purd",Xe(D0,I0)],["rdpu",Xe(L0,O0)],["ylgn",Xe(q0,R0)],["ylgnbu",Xe(P0,$0)],["ylorbr",Xe(F0,B0)],["ylorrd",Xe(U0,z0)],["rainbow",ru(o1)],["sinebow",ru(a1)]]);function Xe(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Wt(t,n):e[n])}function cn(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Wt(t,n):e[n])}function nu(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Wt(r=>t(1-r),n):e[n].slice().reverse())}function un(e){return({length:t})=>Wt(e,Math.max(2,Math.floor(t)))}function ru(e){return({length:t})=>Wt(e,Math.floor(t)+1).slice(0,-1)}function pp(e){const t=`${e}`.toLowerCase();if(!tu.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return tu.get(t)}function ya(e,t){const n=pp(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function bv(e,t="greys"){const n=new Set,[r,i]=ya(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const iu=new Map([["brbg",a0],["prgn",f0],["piyg",c0],["puor",d0],["rdbu",xo],["rdgy",p0],["rdylbu",Co],["rdylgn",m0],["spectral",_0],["burd",e=>xo(1-e)],["buylrd",e=>Co(1-e)],["blues",H0],["greens",W0],["greys",G0],["purples",Z0],["reds",Q0],["oranges",e1],["turbo",s1],["viridis",f1],["magma",l1],["inferno",c1],["plasma",u1],["cividis",t1],["cubehelix",n1],["warm",r1],["cool",i1],["bugn",v0],["bupu",M0],["gnbu",k0],["orrd",E0],["pubugn",x0],["pubu",N0],["purd",I0],["rdpu",O0],["ylgnbu",$0],["ylgn",R0],["ylorbr",B0],["ylorrd",z0],["rainbow",o1],["sinebow",a1]]);function tl(e){const t=`${e}`.toLowerCase();if(!iu.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return iu.get(t)}const _v=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function yv(e){return e!=null&&_v.has(`${e}`.toLowerCase())}const gp=e=>t=>e(1-t),Qa=[0,1],ou=new Map([["number",Dn],["rgb",ii],["hsl",gb],["hcl",_b],["lab",mb]]);function mp(e){const t=`${e}`.toLowerCase();if(!ou.has(t))throw new Error(`unknown interpolator: ${t}`);return ou.get(t)}function xi(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:s=_p(e,n),unknown:f,round:l,scheme:c,interval:d,range:u=Re.get(e)===ga?Nv(n,s):Re.get(e)===ma?Dv(n,s):Re.get(e)===ba?Qa:void 0,interpolate:h=Re.get(e)===Tn?c==null&&u!==void 0?ii:tl(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):l?Ef:Dn,reverse:p}){if(d=Ai(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=mp(h)),h.length===1?(p&&(h=gp(h),p=!1),u===void 0&&(u=Float64Array.from(s,(g,b)=>b/(s.length-1)),u.length===2&&(u=Qa)),t.interpolate((u===Qa?Nr:rl)(h))):t.interpolate(h),a){const[g,b]=_r(s);(g>0||b<0)&&(s=Ks(s),mi(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return p&&(s=fo(s)),t.domain(s).unknown(f),i&&(t.nice(vv(i,r)),s=t.domain()),u!==void 0&&t.range(u),o&&t.clamp(o),{type:r,domain:s,range:u,scale:t,interpolate:h,interval:d}}function vv(e,t){return e===!0?void 0:typeof e=="number"?e:I6(e,t)}function wv(e,t,n){return xi(e,Pf(),t,n)}function Mv(e,t,n){return bp(e,t,{...n,exponent:.5})}function bp(e,t,{exponent:n=1,...r}){return xi(e,Fh().exponent(n),t,{...r,type:"pow"})}function Sv(e,t,{base:n=10,domain:r=Iv(t),...i}){return xi(e,Ph().base(n),t,{...i,domain:r})}function kv(e,t,{constant:n=1,...r}){return xi(e,qh().constant(n),t,r)}function Tv(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=Lv(t),unknown:s,interpolate:f,reverse:l}){return n===void 0&&(n=f!==void 0?Wt(f,i):Re.get(e)===Tn?ya(o,i):void 0),a.length>0&&(a=Bh(a,n===void 0?{length:i}:n).quantiles()),nl(e,t,{domain:a,range:n,reverse:l,unknown:s})}function Ev(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=_p(e,t),unknown:a,interpolate:s,reverse:f}){const[l,c]=_r(o);let d;return n===void 0?(d=ao(l,c,r),d[0]<=l&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,n=s!==void 0?Wt(s,r):Re.get(e)===Tn?ya(i,r):void 0):(d=Wt(Dn(l,c),r+1).slice(1,-1),l instanceof Date&&(d=d.map(u=>new Date(u)))),mi(rn(o))<0&&d.reverse(),nl(e,t,{domain:d,range:n,reverse:f,unknown:a})}function nl(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Wt(o,n.length+1):Re.get(e)===Tn?ya(i,n.length+1):void 0,reverse:s}){n=rn(n);const f=mi(n);if(!isNaN(f)&&!Av(n,f))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(a=fo(a)),{type:"threshold",scale:Uh(f<0?fo(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function Av(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=vi(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function xv(){return{type:"identity",scale:Ih()}}function _i(e,t=U1){return e.length?[yn(e,({value:n})=>n===void 0?n:yn(n,t)),jt(e,({value:n})=>n===void 0?n:jt(n,t))]:[0,1]}function _p(e,t){const n=Re.get(e);return(n===ga||n===ba||n===ma?Cv:_i)(t)}function Cv(e){return[0,e.length?jt(e,({value:t})=>t===void 0?t:jt(t,U1)):1]}function Nv(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=so(e,.5,({value:a})=>a===void 0?NaN:so(a,.25,Yf)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/jt(i);return o<1?i.map(a=>a*o):i}function Dv(e,t){const n=Ms(e,({value:o})=>o===void 0?NaN:Ms(o,Math.abs)),r=t.map(o=>12*o/n),i=60/jt(r);return i<1?r.map(o=>o*i):r}function Iv(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return _i(e,Yf);if(n<0)return _i(e,z1)}return[1,10]}function Lv(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function rl(e){return(t,n)=>r=>e(t+r*(n-t))}function va(e,t,n,r,{type:i,nice:o,clamp:a,domain:s=_i(r),unknown:f,pivot:l=0,scheme:c,range:d,symmetric:u=!0,interpolate:h=Re.get(e)===Tn?c==null&&d!==void 0?ii:tl(c!==void 0?c:"rdbu"):Dn,reverse:p}){l=+l;let[g,b]=s;if(vi(g,b)<0&&([g,b]=[b,g],p=!p),g=Math.min(g,l),b=Math.max(b,l),typeof h!="function"&&(h=mp(h)),d!==void 0&&(h=h.length===1?rl(h)(...d):xf(h,d)),p&&(h=gp(h)),u){const m=n.apply(l),y=m-n.apply(g),S=n.apply(b)-m;y<S?g=n.invert(m-S):y>S&&(b=n.invert(m+y))}return t.domain([g,l,b]).unknown(f).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[g,b],pivot:l,interpolate:h,scale:t}}function Ov(e,t,n){return va(e,t0(),Rv,t,n)}function Pv(e,t,n){return yp(e,t,{...n,exponent:.5})}function yp(e,t,{exponent:n=1,...r}){return va(e,i0().exponent(n=+n),Uv(n),t,{...r,type:"diverging-pow"})}function $v(e,t,{base:n=10,pivot:r=1,domain:i=_i(t,r<0?z1:Yf),...o}){return va(e,n0().base(n=+n),Fv,t,{domain:i,pivot:r,...o})}function qv(e,t,{constant:n=1,...r}){return va(e,r0().constant(n=+n),zv(n),t,r)}const Rv={apply(e){return e},invert(e){return e}},Fv={apply:Math.log,invert:Math.exp},Bv={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function Uv(e){return e===.5?Bv:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function zv(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function vp(e,t,n,r){return xi(e,t,n,r)}function Vv(e,t,n){return vp(e,H2(),t,n)}function Hv(e,t,n){return vp(e,j2(),t,n)}const Ci=Symbol("ordinal");function wp(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:s,hint:f}){return i=Ai(i,r),o===void 0&&(o=Sp(n,i,e)),(r==="categorical"||r===Ci)&&(r="ordinal"),s&&(o=fo(o)),t.domain(o),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:f,interval:i}}function jv(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:s,...f}){r=Ai(r,n),i===void 0&&(i=Sp(t,r,e));let l;if(Re.get(e)===_a)l=Gv(t),o=o===void 0?Xv(l):Je(o,Qf);else if(Re.get(e)===Tn&&(o===void 0&&(n==="ordinal"||n===Ci)&&(o=bv(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"tableau10"),a!==void 0))if(o!==void 0){const c=tl(a),d=o[0],u=o[1]-o[0];o=({length:h})=>Wt(p=>c(d+u*p),h)}else o=pp(a);if(s===Hs)throw new Error(`implicit unknown on ${e} scale is not supported`);return wp(e,Of().unknown(s),t,{...f,type:n,domain:i,range:o,hint:l})}function Wv(e,t,{align:n=.5,padding:r=.5,...i}){return Mp(k_().align(n).padding(r),t,i,e)}function Yv(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return Mp(Yo().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function Mp(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=wp(r,e,t,n),e.round=i,e}function Sp(e,t,n){const r=new vf;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=_r(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&Re.get(n)===en)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return ys(r,Jn)}function au(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function Gv(e){return{fill:au(e,"fill"),stroke:au(e,"stroke")}}function Xv(e){return _t(e.fill)?_y:by}function rf(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:s,nice:f,clamp:l,zero:c,align:d,padding:u,projection:h,facet:{label:p=t}={},...g}={}){const b={};for(const[m,y]of e){const S=g[m],_=Ap(m,y,{round:Re.get(m)===en?s:void 0,nice:f,clamp:l,zero:c,align:d,padding:u,projection:h,...S});if(_){let{label:v=m==="fx"||m==="fy"?p:t,percent:w,transform:k,inset:E,insetTop:R=E!==void 0?E:m==="y"?r:0,insetRight:I=E!==void 0?E:m==="x"?i:0,insetBottom:A=E!==void 0?E:m==="y"?o:0,insetLeft:P=E!==void 0?E:m==="x"?a:0}=S||{};if(k==null)k=void 0;else if(typeof k!="function")throw new Error("invalid scale transform; not a function");_.percent=!!w,_.label=v===void 0?Jv(y,_):v,_.transform=k,m==="x"||m==="fx"?(_.insetLeft=+P,_.insetRight=+I):(m==="y"||m==="fy")&&(_.insetTop=+R,_.insetBottom=+A),b[m]=_}}return b}function su(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:o}])=>(n.type=r,i!=null&&(n.interval=i),o!=null&&(n.label=o),[t,n])))}function Zv(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?il(t):t;i&&fu(i,a),o&&lu(o,a);const s=i||o?kp(e,t):t;n&&fu(n,s),r&&lu(r,s)}function Jv(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!tr(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function il(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:s,marginRight:f,marginBottom:l,marginLeft:c}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,f),marginBottom:Math.max(r,l),marginLeft:Math.max(i,c),width:o,height:a}}function kp({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:f}=il(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:s,height:t?t.scale.bandwidth()+r+o:f,facet:{width:s,height:f}}}function fu(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,s=o+n,f=i-a-r;e.range=[s,Math.max(s,f)],tr(e)||(e.range=Ep(e)),e.scale.range(e.range)}Tp(e)}function lu(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,s=o+n,f=i-a-r;e.range=[Math.max(s,f),s],tr(e)?e.range.reverse():e.range=Ep(e),e.scale.range(e.range)}Tp(e)}function Tp(e){e.round===void 0&&tw(e)&&Qv(e)<=30&&e.scale.round(!0)}function Qv({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,s=Math.abs(r-n)/Math.max(1,a+o*2);return(s-Math.floor(s))*a}function Ep(e){const t=e.scale.domain().length+Cp(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function Kv(e,t,n){return Ap(e,n===void 0?void 0:[{hint:n}],{...t})}function Ap(e,t=[],n={}){const r=ew(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&tr({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Xt)?pr(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${sr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${sr(r)}".`):i.some(O6)?pr(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${sr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${sr(r)}".`):i.some(P6)&&pr(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${sr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${sr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Hi(t,n,Cn);break;case"identity":switch(Re.get(e)){case en:n=Hi(t,n,Cn);break;case _a:n=Hi(t,n,nw);break}break;case"utc":case"time":n=Hi(t,n,k6);break}switch(r){case"diverging":return Ov(e,t,n);case"diverging-sqrt":return Pv(e,t,n);case"diverging-pow":return yp(e,t,n);case"diverging-log":return $v(e,t,n);case"diverging-symlog":return qv(e,t,n);case"categorical":case"ordinal":case Ci:return jv(e,t,n);case"cyclical":case"sequential":case"linear":return wv(e,t,n);case"sqrt":return Mv(e,t,n);case"threshold":return nl(e,t,n);case"quantile":return Tv(e,t,n);case"quantize":return Ev(e,t,n);case"pow":return bp(e,t,n);case"log":return Sv(e,t,n);case"symlog":return kv(e,t,n);case"utc":return Hv(e,t,n);case"time":return Vv(e,t,n);case"point":return Wv(e,t,n);case"band":return Yv(e,t,n);case"identity":return Re.get(e)===en?xv():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function sr(e){return typeof e=="symbol"?e.description:e}const cu={toString:()=>"projection"};function ew(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=cu);for(const{type:l}of t)if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}if(n===cu)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:l})=>l!==void 0))return;const f=Re.get(e);if(f===ga)return"sqrt";if(f===ba||f===ma)return"linear";if(f===_a)return"ordinal";if((r||i||[]).length>2)return Ka(f);if(r!==void 0){if(Zc(r))return Ka(f);if(Xt(r))return"utc"}else{const l=t.map(({value:c})=>c).filter(c=>c!==void 0);if(l.some(Zc))return Ka(f);if(l.some(Xt))return"utc"}if(f===Tn){if(a!=null||yv(o))return"diverging";if(mv(o))return"categorical"}return"linear"}function Ka(e){switch(e){case en:return"point";case Tn:return Ci;default:return"ordinal"}}function xp({type:e}){return e==="time"||e==="utc"}function tr({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ci}function Cp({type:e}){return e==="threshold"}function tw({type:e}){return e==="point"||e==="band"}function Nn(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Hi(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function nw(e){return Je(e,Qf)}function of(e={}){let t;for(const n in e)if(Re.has(n)&&$o(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=Np(Kv(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function rw(e){return t=>{if(!Re.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?Np(e[t]):void 0}}function Np({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:s,pivot:f}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const l=e.unknown?e.unknown():void 0;return{type:t,domain:Ks(n),...r!==void 0&&{range:Ks(r)},...a!==void 0&&{transform:a},...s&&{percent:s},...l!==void 0&&{unknown:l},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function iw(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>i!==r[o]))&&(n=r,t=e(...r)),t)}const ow=iw(e=>new Intl.NumberFormat(e));function aw(e="en-US"){const t=ow(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Dp(e){return l6(e,"Invalid Date")}function sw(e="en-US"){const t=aw(e);return n=>(n instanceof Date?Dp:typeof n=="number"?t:st)(n)}const _n=sw(),Et=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let fw=0;function uu(){return`plot-clip-${++fw}`}function lw(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:s,fillOpacity:f,stroke:l,strokeWidth:c,strokeOpacity:d,strokeLinejoin:u,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:b,opacity:m,mixBlendMode:y,imageFilter:S,paintOrder:_,pointerEvents:v,shapeRendering:w},{ariaLabel:k,fill:E="currentColor",fillOpacity:R,stroke:I="none",strokeOpacity:A,strokeWidth:P,strokeLinecap:q,strokeLinejoin:D,strokeMiterlimit:M,paintOrder:B}){E===null&&(s=null,f=null),I===null&&(l=null,d=null),_t(E)?!_t(I)&&!_t(s)&&(I="none"):_t(I)&&!_t(l)&&(E="none");const[L,V]=Qn(s,E),[U,X]=Tt(f,R),[ee,Z]=Qn(l,I),[K,ye]=Tt(d,A),[fe,oe]=Tt(m);gi(Z)||(c===void 0&&(c=P),h===void 0&&(h=q),u===void 0&&(u=D),p===void 0&&!R6(u)&&(p=M),!gi(V)&&_===void 0&&(_=B));const[te,ie]=Tt(c);return E!==null&&(e.fill=He(V,"currentColor"),e.fillOpacity=Fr(X,1)),I!==null&&(e.stroke=He(Z,"none"),e.strokeWidth=Fr(ie,1),e.strokeOpacity=Fr(ye,1),e.strokeLinejoin=He(u,"miter"),e.strokeLinecap=He(h,"butt"),e.strokeMiterlimit=Fr(p,4),e.strokeDasharray=He(g,"none"),e.strokeDashoffset=He(b,"0")),e.target=st(a),e.ariaLabel=st(k),e.ariaDescription=st(i),e.ariaHidden=st(o),e.opacity=Fr(oe,1),e.mixBlendMode=He(y,"normal"),e.imageFilter=He(S,"none"),e.paintOrder=He(_,"normal"),e.pointerEvents=He(v,"auto"),e.shapeRendering=He(w,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:L,scale:"auto",optional:!0},fillOpacity:{value:U,scale:"auto",optional:!0},stroke:{value:ee,scale:"auto",optional:!0},strokeOpacity:{value:K,scale:"auto",optional:!0},strokeWidth:{value:te,optional:!0},opacity:{value:fe,scale:"auto",optional:!0}}}function cw(e,t){t&&e.filter(n=>Wf(t[n])).append("title").call(dw,t)}function uw(e,t){t&&e.filter(([n])=>Wf(t[n])).append("title").call(hw,t)}function dw(e,t){t&&e.text(n=>_n(t[n]))}function hw(e,t){t&&e.text(([n])=>_n(t[n]))}function Rn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:f,strokeWidth:l,opacity:c,href:d}){r&&ue(e,"aria-label",u=>r[u]),o&&ue(e,"fill",u=>o[u]),a&&ue(e,"fill-opacity",u=>a[u]),s&&ue(e,"stroke",u=>s[u]),f&&ue(e,"stroke-opacity",u=>f[u]),l&&ue(e,"stroke-width",u=>l[u]),c&&ue(e,"opacity",u=>c[u]),d&&Ip(e,u=>d[u],t),n||cw(e,i)}function pw(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:s,strokeOpacity:f,strokeWidth:l,opacity:c,href:d}){r&&ue(e,"aria-label",([u])=>r[u]),o&&ue(e,"fill",([u])=>o[u]),a&&ue(e,"fill-opacity",([u])=>a[u]),s&&ue(e,"stroke",([u])=>s[u]),f&&ue(e,"stroke-opacity",([u])=>f[u]),l&&ue(e,"stroke-width",([u])=>l[u]),c&&ue(e,"opacity",([u])=>c[u]),d&&Ip(e,([u])=>d[u],t),n||uw(e,i)}function gw({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:s,href:f},{tip:l}){return[e,l?void 0:t,n,r,i,o,a,s,f].filter(c=>c!==void 0)}function mw(e,t,n){const r=wf(e,i=>t[i]);return n===void 0&&r.size>e.length>>1&&pr("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*bw(e,t,n,r){const{z:i}=n,{z:o}=r,a=gw(r,n),s=[...t,...a];for(const f of o?mw(e,o,i):[e]){let l,c;e:for(const d of f){for(const u of s)if(!Ln(u[d])){c&&c.push(-1);continue e}if(l===void 0){c&&(yield c),l=a.map(u=>Vn(u[d])),c=[d];continue}c.push(d);for(let u=0;u<a.length;++u)if(Vn(a[u][d])!==l[u]){yield c,l=a.map(p=>Vn(p[d])),c=[d];continue e}}c&&(yield c)}}function _w(e){return e===!0?e="frame":e===!1&&(e=null),ua(e,"clip",["frame","sphere"])}function yw(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:o,height:a,marginLeft:s,marginRight:f,marginTop:l,marginBottom:c}=n,d=uu();i=`url(#${d})`,e=ot("svg:g",r).call(u=>u.append("svg:clipPath").attr("id",d).append("rect").attr("x",s).attr("y",l).attr("width",o-f-s).attr("height",a-l-c)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:o}=r;if(!o)throw new Error('the "sphere" clip option requires a projection');const a=uu();i=`url(#${a})`,e.append("clipPath").attr("id",a).append("path").attr("d",Vo(o)({type:"Sphere"}));break}}ue(e,"aria-label",t.ariaLabel),ue(e,"aria-description",t.ariaDescription),ue(e,"aria-hidden",t.ariaHidden),ue(e,"clip-path",i)}function an(e,t,n,r){yw(e,t,n,r),ue(e,"fill",t.fill),ue(e,"fill-opacity",t.fillOpacity),ue(e,"stroke",t.stroke),ue(e,"stroke-width",t.strokeWidth),ue(e,"stroke-opacity",t.strokeOpacity),ue(e,"stroke-linejoin",t.strokeLinejoin),ue(e,"stroke-linecap",t.strokeLinecap),ue(e,"stroke-miterlimit",t.strokeMiterlimit),ue(e,"stroke-dasharray",t.strokeDasharray),ue(e,"stroke-dashoffset",t.strokeDashoffset),ue(e,"shape-rendering",t.shapeRendering),ue(e,"filter",t.imageFilter),ue(e,"paint-order",t.paintOrder),ue(e,"pointer-events",t.pointerEvents)}function sn(e,t){vw(e,"mix-blend-mode",t.mixBlendMode),ue(e,"opacity",t.opacity)}function Ip(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(no.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(no.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function ue(e,t,n){n!=null&&e.attr(t,n)}function vw(e,t,n){n!=null&&e.style(t,n)}function fn(e,t,{x:n,y:r},i=Et,o=Et){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function He(e,t){if((e=st(e))!==t)return e}function Fr(e,t){if((e=Ie(e))!==t)return e}const ww=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ol(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!ww.test(e))throw new Error(`invalid class name: ${e}`);return e}function al(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function wa({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}function Mw(e,t,n={}){let r=.5-Et,i=.5+Et,o=.5+Et,a=.5-Et;for(const{marginTop:g,marginRight:b,marginBottom:m,marginLeft:y}of t)g>r&&(r=g),b>i&&(i=b),m>o&&(o=m),y>a&&(a=y);let{margin:s,marginTop:f=s!==void 0?s:r,marginRight:l=s!==void 0?s:i,marginBottom:c=s!==void 0?s:o,marginLeft:d=s!==void 0?s:a}=n;f=+f,l=+l,c=+c,d=+d;let{width:u=640,height:h=Sw(e,t,n,{width:u,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,f-r+c-o)}=n;u=+u,h=+h;const p={width:u,height:h,marginTop:f,marginRight:l,marginBottom:c,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:f,marginRight:m=g!==void 0?g:l,marginBottom:y=g!==void 0?g:c,marginLeft:S=g!==void 0?g:d}=n.facet??{};b=+b,m=+m,y=+y,S=+S,p.facet={marginTop:b,marginRight:m,marginBottom:y,marginLeft:S}}return p}function Sw({x:e,y:t,fy:n,fx:r},i,{projection:o,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:l,marginBottomDefault:c,marginLeftDefault:d}){const u=n?n.scale.domain().length:1,h=pv(o,i);if(h){const g=r?r.scale.domain().length:1,b=(1.1*u-.1)/(1.1*g-.1)*h,m=Math.max(.1,Math.min(10,b));return Math.round((s-d-l)*m+f+c)}const p=t?tr(t)?t.scale.domain().length:Math.max(7,17/u):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const g=du("y",t)/(du("x",e)*a),b=r?r.scale.bandwidth():1,m=n?n.scale.bandwidth():1,y=b*(s-d-l)-e.insetLeft-e.insetRight;return(g*y+t.insetTop+t.insetBottom)/m+f+c}return!!(t||n)*Math.max(1,Math.min(60,p*u))*20+!!r*30+60}function du(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=f=>Math.pow(f,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=_r(r);return Math.abs(i(a)-i(o))}function kw(e,t){const{fx:n,fy:r}=rf(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?$m(i,o).map(([a,s],f)=>({x:a,y:s,i:f})):i?i.map((a,s)=>({x:a,i:s})):o?o.map((a,s)=>({y:a,i:s})):void 0}function Tw(e,{x:t,y:n}){return t&&(t=af(t)),n&&(n=af(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function sl(e,{fx:t,fy:n}){const r=$n(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Gr(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Gr(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Gr(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function Ew(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function Aw(e){const t=[],n=new Uint32Array(Yn(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const xw=new Map([["top",es],["right",rs],["bottom",ts],["left",ns],["top-left",ji(es,ns)],["top-right",ji(es,rs)],["bottom-left",ji(ts,ns)],["bottom-right",ji(ts,rs)],["top-empty",Dw],["right-empty",Ow],["bottom-empty",Iw],["left-empty",Lw],["empty",Pw]]);function Cw(e){if(e==null)return null;const t=xw.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const hu=new WeakMap;function af(e){let t=hu.get(e);return t||hu.set(e,t=new Wn(Je(e,(n,r)=>[n,r]))),t}function Fn(e,t){return af(e).get(t)}function Nw(e,t,n){return t=Vn(t),n=Vn(n),e.find(r=>Object.is(Vn(r.x),t)&&Object.is(Vn(r.y),n))}function Ma(e,t,n){var r;return(r=Nw(e,t,n))==null?void 0:r.empty}function es(e,{y:t},{y:n}){return t?Fn(t,n)===0:!0}function ts(e,{y:t},{y:n}){return t?Fn(t,n)===t.length-1:!0}function ns(e,{x:t},{x:n}){return t?Fn(t,n)===0:!0}function rs(e,{x:t},{x:n}){return t?Fn(t,n)===t.length-1:!0}function Dw(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Fn(t,r);if(o>0)return Ma(e,n,t[o-1])}function Iw(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Fn(t,r);if(o<t.length-1)return Ma(e,n,t[o+1])}function Lw(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Fn(t,n);if(o>0)return Ma(e,t[o-1],r)}function Ow(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=Fn(t,n);if(o<t.length-1)return Ma(e,t[o+1],r)}function Pw(e,t,{empty:n}){return n}function ji(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function is(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class xt{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:s,fy:f,sort:l,dx:c=0,dy:d=0,margin:u=0,marginTop:h=u,marginRight:p=u,marginBottom:g=u,marginLeft:b=u,clip:m,channels:y,tip:S,render:_}=r;if(this.data=t,this.sort=pi(l)?l:null,this.initializer=Kf(r).initializer,this.transform=this.initializer?r.transform:rp(r).transform,o===null||o===!1?this.facet=null:(this.facet=kn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===Ki&&typeof s=="string"?[s]:s,this.fy=t===Ki&&typeof f=="string"?[f]:f),this.facetAnchor=Cw(a),n=ep(n),y!==void 0&&(n={...$w(y),...n}),i!==void 0&&(n={...lw(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,w])=>{if(Xf(w.value)){const{value:k,scale:E=w.scale}=w.value;w={...w,scale:E,value:k}}if(t===Ki&&typeof w.value=="string"){const{value:k}=w;w={...w,value:[k]}}return[v,w]}).filter(([v,{value:w,optional:k}])=>{if(w!=null)return!0;if(k)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+b,this.clip=_w(m),this.tip=qw(S),this.facet==="super"){if(s||f)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:w}=n[v];if(!(w!=="x"&&w!=="y"))throw new Error("super-faceting cannot use x or y")}}_!=null&&(this.render=Op(_,this.render))}initialize(t,n,r){let i=rn(this.data);t===void 0&&i!=null&&(t=[$n(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=rn(i)),t!==void 0&&(t.original=o);const a=nv(this.channels,i);return this.sort!=null&&iv(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=Ln}=n[i];if(o!==null){const a=r[i];t=t.filter(s=>o(a[s]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&hv(i,o,n,r.projection)}}scale(t,n,r){const i=rv(t,n);return r.projection&&this.project(t,i,r),i}}function Lp(...e){return e.plot=xt.prototype.plot,e}function Op(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,s){return e.call(this,n,r,i,o,a,(f,l,c,d,u)=>t.call(this,f,l,c,d,u,s))}}function $w(e){return Object.fromEntries(Object.entries(ep(e)).map(([t,n])=>(n=ha(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function qw(e){return e===!0?"xy":e===!1?null:ua(e,"tip",["x","y","xy"])}function fl(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:e}const pu=new WeakMap;function ll(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:s,render:f,...l}={}){return a=+a,i!=null&&(n??(n=null),s={...s,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),s={...s,py:{value:o,scale:"y"}}),{x:n,y:r,channels:s,...l,render:Op(function(c,d,u,h,p,g){const b=p.ownerSVGElement,{data:m}=p.getMarkState(this);let y=pu.get(b);y||pu.set(b,y={sticky:!1,roots:[],renders:[]});let S=y.renders.push(Z)-1;const{x:_,y:v,fx:w,fy:k}=d;let E=w?w(c.fx)-h.marginLeft:0,R=k?k(c.fy)-h.marginTop:0;_!=null&&_.bandwidth&&(E+=_.bandwidth()/2),v!=null&&v.bandwidth&&(R+=v.bandwidth()/2);const I=c.fi!=null;let A;if(I){let oe=y.facetStates;oe||(y.facetStates=oe=new Map),A=oe.get(this),A||oe.set(this,A=new Map)}const[P,q]=wa(this,h),{px:D,py:M}=u,B=D?oe=>D[oe]:Pp(u,P),L=M?oe=>M[oe]:$p(u,q);let V,U,X;function ee(oe,te){if(I)if(X&&(X=cancelAnimationFrame(X)),oe==null)A.delete(c.fi);else{A.set(c.fi,te),X=requestAnimationFrame(()=>{X=null;for(const ie of A.values())if(ie<te){oe=null;break}Z(oe)});return}Z(oe)}function Z(oe){if(V===oe)return;V=oe;const te=V==null?[]:[V];I&&(te.fx=c.fx,te.fy=c.fy,te.fi=c.fi);const ie=g(te,d,u,h,p);if(U){if(I){const T=U.parentNode,F=U.getAttribute("transform"),z=ie.getAttribute("transform");F?ie.setAttribute("transform",F):ie.removeAttribute("transform"),z?T.setAttribute("transform",z):T.removeAttribute("transform"),ie.removeAttribute("aria-label"),ie.removeAttribute("aria-description"),ie.removeAttribute("aria-hidden")}U.replaceWith(ie)}return y.roots[S]=U=ie,p.dispatchValue(V==null?null:m[V]),ie}function K(oe){if(y.sticky||oe.pointerType==="mouse"&&oe.buttons===1)return;let[te,ie]=ob(oe);te-=E,ie-=R;let T=null,F=a*a;for(const z of c){const N=e*(B(z)-te),Q=t*(L(z)-ie),se=N*N+Q*Q;se<=F&&(T=z,F=se)}ee(T,F)}function ye(oe){oe.pointerType==="mouse"&&V!=null&&(y.sticky&&y.roots.some(te=>te==null?void 0:te.contains(oe.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(te=>te(null))):y.sticky=!0,oe.stopImmediatePropagation()))}function fe(oe){oe.pointerType==="mouse"&&(y.sticky||ee(null))}return b.addEventListener("pointerenter",K),b.addEventListener("pointermove",K),b.addEventListener("pointerdown",ye),b.addEventListener("pointerleave",fe),Z(null)},f)}}function Rw(e){return ll(1,1,e)}function Fw(e){return ll(1,.01,e)}function Bw(e){return ll(.01,1,e)}function Pp({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function $p({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function qp(e){return tr(e)&&e.interval===void 0?void 0:"tabular-nums"}function Uw(e,t){return e===void 0?Xt(t)?Dp:st:typeof e=="function"?e:(typeof e=="string"?Xt(t)?di:Ar:Nr)(e)}function zw(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:s=0,marginBottom:f=16+r,marginLeft:l=0,style:c,ticks:d=(i-l-s)/64,tickFormat:u,fontVariant:h=qp(e),round:p=!0,opacity:g,className:b}=t;const m=el(t);b=ol(b),g=Tt(g)[1],u===null&&(u=()=>null);const y=ot("svg",m).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(P=>P.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(al,c);let S=P=>P.selectAll(".tick line").attr("y1",a+f-o),_;const v=p?(P,q)=>P.rangeRound(q):(P,q)=>P.range(q),{type:w,domain:k,range:E,interpolate:R,scale:I,pivot:A}=e;if(R){const P=E===void 0?R:xf(R.length===1?rl(R):R,E);_=v(I.copy(),Wt(Dn(l,i-s),Math.min(k.length+(A!==void 0),E===void 0?1/0:E.length)));const q=256,D=m.document.createElement("canvas");D.width=q,D.height=1;const M=D.getContext("2d");for(let B=0,L=q-1;B<q;++B)M.fillStyle=P(B/L),M.fillRect(B,0,1,1);y.append("image").attr("opacity",g).attr("x",l).attr("y",a).attr("width",i-l-s).attr("height",o-a-f).attr("preserveAspectRatio","none").attr("xlink:href",D.toDataURL())}else if(w==="threshold"){const P=k,q=u===void 0?D=>D:typeof u=="string"?Ar(u):u;_=v(Pf().domain([-1,E.length-1]),[l,i-s]),y.append("g").attr("fill-opacity",g).selectAll().data(E).enter().append("rect").attr("x",(D,M)=>_(M-1)).attr("y",a).attr("width",(D,M)=>_(M)-_(M-1)).attr("height",o-a-f).attr("fill",D=>D),d=Je(P,(D,M)=>M),u=D=>q(P[D],D)}else _=v(Yo().domain(k),[l,i-s]),y.append("g").attr("fill-opacity",g).selectAll().data(k).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-f).attr("fill",I),S=()=>{};return y.append("g").attr("transform",`translate(0,${o-f})`).call(rb(_).ticks(Array.isArray(d)?null:d,typeof u=="string"?u:void 0).tickFormat(typeof u=="function"?u:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",He(h,"normal")).call(S).call(P=>P.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",l).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}function gu(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function Vw(e,{opacity:t,...n}={}){if(!tr(e)&&!Cp(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Rp(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Tt(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Hw(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:_t(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...s}={},f){const[d,u]=Qn(t),[h,p]=Qn(r),g=gu(f,d),b=gu(f,h),m=a*a*Math.PI;return n=Tt(n)[1],i=Tt(i)[1],o=Tt(o)[1],Rp(e,s,(y,S,_,v)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",v).attr("fill",d==="color"?w=>g.scale(w):u).attr("fill-opacity",n).attr("stroke",h==="color"?w=>b.scale(w):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",w=>{const k=uo();return e.scale(w).draw(k,m),k}))}function Rp(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=qp(e),swatchSize:a=15,swatchWidth:s=a,swatchHeight:f=a,marginLeft:l=0,className:c,style:d,width:u}=t;const h=el(t);c=ol(c),i=Uw(i,e.domain);const p=ot("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,s,f).call(b=>b.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,s,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",u===void 0?null:`${+u}px`).style("font-variant",He(o,"normal")).call(al,d).node()}const sf=new Map([["symbol",Hw],["color",Bp],["opacity",Ww]]);function jw(e,t,n={}){return(r,i)=>{if(!sf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return sf.get(r)(e[r],Fp(t,n[r],i),o=>e[o])}}function Fp({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return F6(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Bp(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return Vw(e,n);case"ramp":return zw(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function Ww({type:e,interpolate:t,...n},{legend:r=!0,color:i=to(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Bp({type:e,...n,interpolate:Yw(i)},{legend:r,...o})}function Yw(e){const{r:t,g:n,b:r}=to(e)||to(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function Gw(e,t,n){const r=[];for(const[i,o]of sf){const a=n[i];if(a!=null&&a.legend&&i in e){const s=o(e[i],Fp(t,e[i],a),f=>e[f]);s!=null&&r.push(s)}}return r}const Up=Math.PI/180;function Sa(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=os(n),e.markerMid=os(r),e.markerEnd=os(i)}function os(e){if(e==null||e===!1)return null;if(e===!0)return bu;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return mu("auto");case"arrow-reverse":return mu("auto-start-reverse");case"dot":return Xw;case"circle":case"circle-fill":return bu;case"circle-stroke":return Zw}throw new Error(`invalid marker: ${e}`)}function mu(e){return(t,n)=>ot("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Xw(e,t){return ot("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function bu(e,t){return ot("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Zw(e,t){return ot("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let Jw=0;function cl(e,t,{stroke:n},r){return zp(e,t,n&&(i=>n[i]),r)}function Qw(e,t,{stroke:n},r){return zp(e,t,n&&(([i])=>n[i]),r)}function zp(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a){const s=new Map;function f(l){return function(c){const d=o(c);let u=s.get(l);u||s.set(l,u=new Map);let h=u.get(d);if(!h){const p=this.parentNode.insertBefore(l(d,a),this),g=`plot-marker-${++Jw}`;p.setAttribute("id",g),u.set(d,h=`url(#${g})`)}return h}}t&&e.attr("marker-start",f(t)),n&&e.attr("marker-mid",f(n)),r&&e.attr("marker-end",f(r))}function ul({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Vp(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function dl({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Vp(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Vp(e,t,n){return e===void 0&&t===void 0&&n===void 0?Et?[1,0]:[.5,.5]:[t,n]}function Hp(e,{interval:t}){return e={...ha(e)},e.interval=Zf(e.interval===void 0?t:e.interval),e}function ka(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:s,interval:f}=Hp(i,n);if(s==null||f==null&&!r)return n;const l=Ei(i);if(f==null){let h;const p={transform:g=>h||(h=Ft(g,s)),label:l};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0?p:a}}let c,d;function u(h){return d!==void 0&&h===c?d:d=Je(Ft(c=h,s),p=>f.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:u,label:l}:o,[`${e}2`]:a===void 0?{transform:h=>u(h).map(p=>f.offset(p)),label:l}:a})}function jp(e,t,n){const{[e]:r}=n,{value:i,interval:o}=Hp(r,n);return i==null||o==null?n:t({...n,[e]:{label:Ei(r),transform:a=>{const s=Je(Ft(a,i),l=>o.floor(l)),f=s.map(l=>o.offset(l));return s.map(Xt(s)?(l,c)=>l==null||isNaN(l=+l)||(c=f[c],c==null)||isNaN(c=+c)?void 0:new Date((l+c)/2):(l,c)=>l==null||(c=f[c],c==null)?NaN:(+l+ +c)/2)}}})}function Kw(e={}){return ka("x",ul,e,!0)}function Wp(e={}){return ka("y",dl,e,!0)}function e3(e={}){return ka("x",ul,e)}function t3(e={}){return ka("y",dl,e)}function n3(e={}){return jp("x",ul,e)}function r3(e={}){return jp("y",dl,e)}const Yp={ariaLabel:"rule",fill:null,stroke:"currentColor"};class i3 extends xt{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:s=a,insetBottom:f=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},fl(n,"x"),Yp),this.insetTop=Ie(s),this.insetBottom=Ie(f),Sa(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y1:l,y2:c}=r,{width:d,height:u,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetTop:m,insetBottom:y}=this;return ot("svg:g",o).call(an,this,i).call(fn,this,{x:f&&a},Et,0).call(S=>S.selectAll().data(t).enter().append("line").call(sn,this).attr("x1",f?_=>f[_]:(g+d-p)/2).attr("x2",f?_=>f[_]:(g+d-p)/2).attr("y1",l&&!Nn(s)?_=>l[_]+m:h+m).attr("y2",c&&!Nn(s)?s.bandwidth?_=>c[_]+s.bandwidth()-y:_=>c[_]-y:u-b-y).call(Rn,this,r).call(cl,this,r,o)).node()}}class o3 extends xt{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:s=a,insetLeft:f=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},fl(n,"y"),Yp),this.insetRight=Ie(s),this.insetLeft=Ie(f),Sa(this,n)}render(t,n,r,i,o){const{x:a,y:s}=n,{y:f,x1:l,x2:c}=r,{width:d,height:u,marginTop:h,marginRight:p,marginLeft:g,marginBottom:b}=i,{insetLeft:m,insetRight:y}=this;return ot("svg:g",o).call(an,this,i,o).call(fn,this,{y:f&&s},0,Et).call(S=>S.selectAll().data(t).enter().append("line").call(sn,this).attr("x1",l&&!Nn(a)?_=>l[_]+m:g+m).attr("x2",c&&!Nn(a)?a.bandwidth?_=>c[_]+a.bandwidth()-y:_=>c[_]-y:d-p-y).attr("y1",f?_=>f[_]:(h+u-b)/2).attr("y2",f?_=>f[_]:(h+u-b)/2).call(Rn,this,r).call(cl,this,r,o)).node()}}function hl(e,t){let{x:n=Ut,y:r,y1:i,y2:o,...a}=t3(t);return[i,o]=Gp(r,i,o),new i3(e,{...a,x:n,y1:i,y2:o})}function pl(e,t){let{y:n=Ut,x:r,x1:i,x2:o,...a}=e3(t);return[i,o]=Gp(r,i,o),new o3(e,{...a,y:n,x1:i,x2:o})}function Gp(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Xp(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const a3={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Zp="­";class gl extends xt{constructor(t,n={}){const{x:r,y:i,text:o=qn(t)&&Q1(t)?Ut:W1,frameAnchor:a,textAnchor:s=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:f=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:l=1,lineWidth:c=1/0,textOverflow:d,monospace:u,fontFamily:h=u?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:b,fontWeight:m,rotate:y}=n,[S,_]=Tt(y,0),[v,w]=d3(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:L6(S),optional:!0},text:{value:o,filter:Wf,optional:!0}},n,a3),this.rotate=_,this.textAnchor=He(s,"middle"),this.lineAnchor=kn(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+c,this.textOverflow=Jp(d),this.monospace=!!u,this.fontFamily=st(h),this.fontSize=w,this.fontStyle=st(g),this.fontVariant=st(b),this.fontWeight=st(m),this.frameAnchor=Jf(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Kp(this),this.clipLine=eg(this)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y:l,rotate:c,text:d,title:u,fontSize:h}=r,{rotate:p}=this,[g,b]=wa(this,i);return ot("svg:g",o).call(an,this,i,o).call(Qp,this,d,i).call(fn,this,{x:f&&a,y:l&&s}).call(m=>m.selectAll().data(t).enter().append("text").call(sn,this).call(s3,this,d,u).attr("transform",Xp`translate(${f?y=>f[y]:g},${l?y=>l[y]:b})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(ue,"font-size",h&&(y=>h[y])).call(Rn,this,r)).node()}}function Jp(e){return e==null?null:kn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function s3(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:s,clipLine:f}=t;e.each(function(l){const c=s(_n(n[l])??"").map(f),d=c.length,u=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(no.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(u+p)*o}em`):g.setAttribute("dy",`${h*o}em`),g.textContent=c[p],this.appendChild(g),h=0}}else u&&this.setAttribute("y",`${u*o}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[l]){const h=this.ownerDocument.createElementNS(no.svg,"title");h.textContent=n[l],this.appendChild(h)}})}function Ta(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=da(t,n)),new gl(e,{...r,x:t,y:n})}function f3(e,{x:t=Ut,...n}={}){return new gl(e,r3({...n,x:t}))}function l3(e,{y:t=Ut,...n}={}){return new gl(e,n3({...n,y:t}))}function Qp(e,t,n){ue(e,"text-anchor",t.textAnchor),ue(e,"font-family",t.fontFamily),ue(e,"font-size",t.fontSize),ue(e,"font-style",t.fontStyle),ue(e,"font-variant",t.fontVariant===void 0?c3(n):t.fontVariant),ue(e,"font-weight",t.fontWeight)}function c3(e){return e&&($6(e)||Xt(e))?"tabular-nums":void 0}const u3=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function d3(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),u3.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function h3(e,t,n){const r=[];let i,o=0;for(const[a,s,f]of p3(e)){if(i===void 0&&(i=a),o>i&&n(e,i,s)>t&&(r.push(e.slice(i,o)+(e[o-1]===Zp?"-":"")),i=a),f){r.push(e.slice(i,s)),i=void 0;continue}o=s}return r}function*p3(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Zp:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const _u={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function ml(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Dr(e,i))r+=_u[e[i]]??(ng(e,i)?120:_u.e);return r}function bl(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Dr(e,i))r+=ng(e,i)?200:100;return r}function Kp({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?bl:ml,i=t*100;return o=>h3(o,i,r)}function eg({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?bl:ml,i=t*100;switch(n){case"clip-start":return o=>vu(o,i,r,"");case"clip-end":return o=>yu(o,i,r,"");case"ellipsis-start":return o=>vu(o,i,r,gr);case"ellipsis-middle":return o=>g3(o,i,r,gr);case"ellipsis-end":return o=>yu(o,i,r,gr)}}const gr="…";function kr(e,t,n,r){const i=[];let o=0;for(let a=0,s=0,f=e.length;a<f;a=s){s=Dr(e,a);const l=n(e,a,s);if(o+l>t){for(o+=r;o>t&&a>0;)s=a,a=i.pop(),o-=n(e,a,s);return[a,t-o]}o+=l,i.push(a)}return[-1,0]}function yu(e,t,n,r){e=e.trim();const i=n(r),[o]=kr(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function g3(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,s]=kr(e,t/2,n,o),[f]=kr(e,i-t/2-s+o,n,-o);return f<0?r:e.slice(0,a).trimEnd()+r+e.slice(Dr(e,f)).trimStart()}function vu(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=kr(e,i-t+o,n,-o);return a<0?r:r+e.slice(Dr(e,a)).trimStart()}const ff=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,wu=/\p{Extended_Pictographic}/uy;function Dr(e,t){return t+=m3(e,t)?2:1,_3(e,t)&&(t=ff.lastIndex),b3(e,t)?Dr(e,t+1):t}function tg(e,t){return e.charCodeAt(t)<128}function m3(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function b3(e,t){return e.charCodeAt(t)===8205}function _3(e,t){return tg(e,t)?!1:(ff.lastIndex=t,ff.test(e))}function ng(e,t){return tg(e,t)?!1:(wu.lastIndex=t,wu.test(e))}const y3={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},rg=3.5,v3=rg*5,ig={draw(e,t,n){const r=t*n/v3;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},w3={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},M3=new Map([["arrow",ig],["spike",w3]]);function S3(e){return e&&typeof e.draw=="function"}function k3(e){if(S3(e))return e;const t=M3.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class og extends xt{constructor(t,n={}){const{x:r,y:i,r:o=rg,length:a,rotate:s,shape:f=ig,anchor:l="middle",frameAnchor:c}=n,[d,u]=Tt(a,12),[h,p]=Tt(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,y3),this.r=+o,this.length=u,this.rotate=p,this.shape=k3(f),this.anchor=kn(l,"anchor",["start","middle","end"]),this.frameAnchor=Jf(c)}render(t,n,r,i,o){const{x:a,y:s}=n,{x:f,y:l,length:c,rotate:d}=r,{length:u,rotate:h,anchor:p,shape:g,r:b}=this,[m,y]=wa(this,i);return ot("svg:g",o).call(an,this,i,o).call(fn,this,{x:f&&a,y:l&&s}).call(S=>S.selectAll().data(t).enter().append("path").call(sn,this).attr("transform",Xp`translate(${f?_=>f[_]:m},${l?_=>l[_]:y})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?_=>` translate(0,${c[_]})`:` translate(0,${u})`:c?_=>` translate(0,${c[_]/2})`:` translate(0,${u/2})`}`).attr("d",c?_=>{const v=uo();return g.draw(v,c[_],b),v}:(()=>{const _=uo();return g.draw(_,u,b),_})()).call(Rn,this,r)).node()}}function T3(e,t={}){const{x:n=Ut,...r}=t;return new og(e,{...r,x:n})}function E3(e,t={}){const{y:n=Ut,...r}=t;return new og(e,{...r,y:n})}function Bn(e,t){return arguments.length<2&&!qn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Ea({anchor:e}={},t){return e===void 0?t[0]:kn(e,"anchor",t)}function ag(e){return Ea(e,["left","right"])}function sg(e){return Ea(e,["right","left"])}function fg(e){return Ea(e,["bottom","top"])}function lg(e){return Ea(e,["top","bottom"])}function Ni(){const[e,t]=Bn(...arguments);return cg("y",ag(t),e,t)}function A3(){const[e,t]=Bn(...arguments);return cg("fy",sg(t),e,t)}function Ir(){const[e,t]=Bn(...arguments);return ug("x",fg(t),e,t)}function x3(){const[e,t]=Bn(...arguments);return ug("fx",lg(t),e,t)}function cg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:f=r,fillOpacity:l=i,textAnchor:c,textStroke:d,textStrokeOpacity:u,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:g,tickRotate:b,x:m,margin:y,marginTop:S=y===void 0?20:y,marginRight:_=y===void 0?t==="right"?40:0:y,marginBottom:v=y===void 0?20:y,marginLeft:w=y===void 0?t==="left"?40:0:y,label:k,labelAnchor:E,labelArrow:R,labelOffset:I,...A}){return p=Ie(p),g=Ie(g),b=Ie(b),E!==void 0&&(E=kn(E,"labelAnchor",["center","top","bottom"])),R=yg(R),Lp(p&&!_t(o)?C3(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:b,x:m,...A}):null,_t(f)?null:D3(e,t,n,{fill:f,fillOpacity:l,stroke:d,strokeOpacity:u,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:b,x:m,marginTop:S,marginRight:_,marginBottom:v,marginLeft:w,...A}),!_t(f)&&k!==null?Ta([],gg({fill:f,fillOpacity:l,...A},function(P,q,D,M,B){const L=M[e],{marginTop:V,marginRight:U,marginBottom:X,marginLeft:ee}=e==="y"&&B.inset||B,Z=E??(L.bandwidth?"center":"top"),K=I??(t==="right"?U:ee)-3;return Z==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=Z,this.frameAnchor=`${Z}-${t}`,this.rotate=0),this.dy=Z==="top"?3-V:Z==="bottom"?X-3:0,this.dx=t==="right"?K:-K,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[_g(e,L,{anchor:t,label:k,labelAnchor:Z,labelArrow:R})]}}}})):null)}function ug(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:s=1,fill:f=r,fillOpacity:l=i,textAnchor:c,textStroke:d,textStrokeOpacity:u,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:g,tickRotate:b,y:m,margin:y,marginTop:S=y===void 0?t==="top"?30:0:y,marginRight:_=y===void 0?20:y,marginBottom:v=y===void 0?t==="bottom"?30:0:y,marginLeft:w=y===void 0?20:y,label:k,labelAnchor:E,labelArrow:R,labelOffset:I,...A}){return p=Ie(p),g=Ie(g),b=Ie(b),E!==void 0&&(E=kn(E,"labelAnchor",["center","left","right"])),R=yg(R),Lp(p&&!_t(o)?N3(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:b,y:m,...A}):null,_t(f)?null:I3(e,t,n,{fill:f,fillOpacity:l,stroke:d,strokeOpacity:u,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:b,y:m,marginTop:S,marginRight:_,marginBottom:v,marginLeft:w,...A}),!_t(f)&&k!==null?Ta([],gg({fill:f,fillOpacity:l,...A},function(P,q,D,M,B){const L=M[e],{marginTop:V,marginRight:U,marginBottom:X,marginLeft:ee}=e==="x"&&B.inset||B,Z=E??(L.bandwidth?"center":"right"),K=I??(t==="top"?V:X)-3;return Z==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${Z}`,this.textAnchor=Z==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-K:K,this.dx=Z==="right"?U-3:Z==="left"?3-ee:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[_g(e,L,{anchor:t,label:k,labelAnchor:Z,labelArrow:R})]}}}})):null)}function C3(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:l=0,insetLeft:c=l,insetRight:d=l,dx:u=0,y:h=e==="y"?void 0:null,...p}){return Lr(E3,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:s,y:h,...p,dx:t==="left"?+u-Et+ +c:+u+Et-d,anchor:"start",length:f,shape:t==="left"?F3:B3})}function N3(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:l=0,insetTop:c=l,insetBottom:d=l,dy:u=0,x:h=e==="x"?void 0:null,...p}){return Lr(T3,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:s,x:h,...p,dy:t==="bottom"?+u-Et-d:+u+Et+ +c,anchor:"start",length:f,shape:t==="bottom"?q3:R3})}function D3(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Up):0),tickFormat:f,text:l=typeof f=="function"?f:void 0,textAnchor:c=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:d=a>60?"top":a<-60?"bottom":"middle",fontVariant:u,inset:h=0,insetLeft:p=h,insetRight:g=h,dx:b=0,y:m=e==="y"?void 0:null,...y}){return Lr(l3,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:l===void 0?null:l,textAnchor:c,lineAnchor:d,fontVariant:u,rotate:a,y:m,...y,dx:t==="left"?+b-o-s+ +p:+b+ +o+ +s-g},function(S,_,v){u===void 0&&(this.fontVariant=bg(S)),l===void 0&&(v.text=mg(S,_,f))})}function I3(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:s=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Up):0),tickFormat:f,text:l=typeof f=="function"?f:void 0,textAnchor:c=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:u,inset:h=0,insetTop:p=h,insetBottom:g=h,dy:b=0,x:m=e==="x"?void 0:null,...y}){return Lr(f3,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:l===void 0?null:l,textAnchor:c,lineAnchor:d,fontVariant:u,rotate:a,x:m,...y,dy:t==="bottom"?+b+ +o+ +s-g:+b-o-s+ +p},function(S,_,v){u===void 0&&(this.fontVariant=bg(S)),l===void 0&&(v.text=mg(S,_,f))})}function L3(){const[e,t]=Bn(...arguments);return dg("y",ag(t),e,t)}function O3(){const[e,t]=Bn(...arguments);return dg("fy",sg(t),e,t)}function P3(){const[e,t]=Bn(...arguments);return hg("x",fg(t),e,t)}function $3(){const[e,t]=Bn(...arguments);return hg("fx",lg(t),e,t)}function dg(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...s}){return Lr(pl,e,`${e}-grid`,n,{y:r,x1:o,x2:a,...pg(s)})}function hg(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...s}){return Lr(hl,e,`${e}-grid`,n,{x:r,y1:o,y2:a,...pg(s)})}function pg({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function gg({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:o,monospace:a,pointerEvents:s,shapeRendering:f},l){return[,e]=Qn(e),[,t]=Tt(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:o,monospace:a,pointerEvents:s,shapeRendering:f,initializer:l}}function Lr(e,t,n,r,i,o){let a;const s=e(r,Kf(i,function(f,l,c,d,u,h){const p=f==null&&(t==="fx"||t==="fy"),{[t]:g}=d;if(!g)throw new Error(`missing scale: ${t}`);let{ticks:b,tickSpacing:m,interval:y}=i;if(xp(g)&&typeof b=="string"&&(y=b,b=void 0),f==null){if(qn(b))f=rn(b);else if(g.ticks)if(b!==void 0)f=g.ticks(b);else if(y=Ai(y===void 0?g.interval:y,g.type),y!==void 0){const[_,v]=_r(g.domain());f=y.range(_,y.offset(y.floor(v)))}else{const[_,v]=_r(g.range());b=(v-_)/(m===void 0?t==="x"?80:35:m),f=g.ticks(b)}else f=g.domain();t==="y"||t==="x"?l=[$n(f)]:a[t]={scale:t,value:Ut}}o==null||o.call(this,g,b,a);const S=Object.fromEntries(Object.entries(a).map(([_,v])=>[_,{...v,value:Ft(f,v.value)}]));return p&&(l=h.filterFacets(f,S)),{data:f,facets:l,channels:S}}));return r==null?(a=s.channels,s.channels={}):a={},s.ariaLabel=n,s}function mg(e,t,n){return{value:lf(e,t,n)}}function lf(e,t,n){return e.tickFormat?e.tickFormat(qn(t)?null:t,n):n===void 0?m6(e.interval)?di("%Y"):b6(e.interval)?Rf("%Y"):_n:typeof n=="string"?(Xt(e.domain())?di:Ar)(n):Nr(n)}const q3={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},R3={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},F3={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},B3={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function bg(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function U3(e){return Math.sign(mi(e.domain()))*Math.sign(mi(e.range()))}function _g(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&z3(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=U3(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function yg(e="auto"){return _t(e)?!1:typeof e=="boolean"?e:kn(e,"labelArrow",["auto","up","right","down","left"])}function z3(e){return xp(e)||e.interval!=null}const V3={ariaLabel:"frame",fill:"none",stroke:"currentColor"},H3={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class j3 extends xt{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:o=r,insetBottom:a=r,insetLeft:s=r,rx:f,ry:l}=t;super(Ki,void 0,t,n==null?V3:H3),this.anchor=ua(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ie(i),this.insetRight=Ie(o),this.insetBottom=Ie(a),this.insetLeft=Ie(s),this.rx=Ie(f),this.ry=Ie(l)}render(t,n,r,i,o){const{marginTop:a,marginRight:s,marginBottom:f,marginLeft:l,width:c,height:d}=i,{anchor:u,insetTop:h,insetRight:p,insetBottom:g,insetLeft:b,rx:m,ry:y}=this,S=l+b,_=c-s-p,v=a+h,w=d-f-g;return ot(u?"svg:line":"svg:rect",o).datum(0).call(an,this,i,o).call(sn,this).call(Rn,this,r).call(fn,this,{}).call(u==="left"?k=>k.attr("x1",S).attr("x2",S).attr("y1",v).attr("y2",w):u==="right"?k=>k.attr("x1",_).attr("x2",_).attr("y1",v).attr("y2",w):u==="top"?k=>k.attr("x1",S).attr("x2",_).attr("y1",v).attr("y2",v):u==="bottom"?k=>k.attr("x1",S).attr("x2",_).attr("y1",w).attr("y2",w):k=>k.attr("x",S).attr("y",v).attr("width",_-S).attr("height",w-v).attr("rx",m).attr("ry",y)).node()}}function vg(e){return new j3(e)}const as={ariaLabel:"tip",fill:"white",stroke:"currentColor"},W3=new Set(["geometry","href","src","ariaLabel"]);class Y3 extends xt{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&qn(t)&&Q1(t)&&(n={...n,title:Ut});const{x:r,y:i,x1:o,x2:a,y1:s,y2:f,anchor:l,monospace:c,fontFamily:d=c?"ui-monospace, monospace":void 0,fontSize:u,fontStyle:h,fontVariant:p,fontWeight:g,lineHeight:b=1,lineWidth:m=20,frameAnchor:y,textAnchor:S="start",textOverflow:_,textPadding:v=8,pointerSize:w=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&f!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:s,scale:"y",optional:f==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:f,scale:"y",optional:s==null}},n,as),this.anchor=K1(l,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=Jf(y),this.textAnchor=He(S,"middle"),this.textPadding=+v,this.pointerSize=+w,this.pathFilter=st(k),this.lineHeight=+b,this.lineWidth=+m,this.textOverflow=Jp(_),this.monospace=!!c,this.fontFamily=st(d),this.fontSize=Ie(u),this.fontStyle=st(h),this.fontVariant=st(p),this.fontWeight=st(g);for(const E in as)E in this.channels&&(this[E]=as[E]);this.splitLines=Kp(this),this.clipLine=eg(this)}render(t,n,r,i,o){const a=this,{x:s,y:f,fx:l,fy:c}=n,{ownerSVGElement:d,document:u}=o,{anchor:h,monospace:p,lineHeight:g,lineWidth:b}=this,{textPadding:m,pointerSize:y,pathFilter:S}=this,{marginTop:_,marginLeft:v}=i,w=Q3(r),{x1:k,y1:E,x2:R,y2:I,x:A=k??R,y:P=E??I}=r,q=l?l(t.fx)-v:0,D=c?c(t.fy)-_:0,[M,B]=wa(this,i),L=Pp(r,M),V=$p(r,B),U=p?bl:ml,X=U(gr),ee=l&&lf(l),Z=c&&lf(c);function*K(te,ie){if("title"in te){const T=te.title.value[ie];for(const F of a.splitLines(_n(T)))yield{name:"",value:a.clipLine(F)};return}for(const T in te){if(T==="x1"&&"x2"in te||T==="y1"&&"y2"in te)continue;const F=te[T],z=F.value[ie];if(!(!Ln(z)&&F.scale==null))if(T==="x2"&&"x1"in te)yield{name:ss(n,F,"x"),value:Mu(te.x1,F,ie)};else if(T==="y2"&&"y1"in te)yield{name:ss(n,F,"y"),value:Mu(te.y1,F,ie)};else{const N=F.scale,Q={name:ss(n,F,T),value:_n(z)};(N==="color"||N==="opacity")&&(Q[N]=r[T][ie]),yield Q}}t.fi!=null&&l&&(yield{name:String(l.label??"fx"),value:ee(t.fx)}),t.fi!=null&&c&&(yield{name:String(c.label??"fy"),value:Z(t.fy)})}const ye=ot("svg:g",o).call(an,this,i,o).call(Qp,this).call(fn,this,{x:A&&s,y:P&&f}).call(te=>te.selectAll().data(t).enter().append("g").attr("transform",ie=>`translate(${Math.round(L(ie))},${Math.round(V(ie))})`).call(sn,this).call(ie=>ie.append("path").attr("filter",S)).call(ie=>ie.append("text").each(function(T){const F=Xr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const z=new Set;for(const N of K(w,T)){const Q=N.name;Q&&z.has(Q)||(z.add(Q),fe(F,N))}})));function fe(te,{name:ie,value:T,color:F,opacity:z}){const N=F!=null||z!=null;let Q,se=b*100;const[le]=kr(ie,se,U,X);if(le>=0)ie=ie.slice(0,le).trimEnd()+gr,Q=T.trim(),T="";else{(ie||!T&&!N)&&(T=" "+T);const[ne]=kr(T,se-U(ie),U,X);ne>=0&&(T=T.slice(0,ne).trimEnd()+gr,Q=T.trim())}const ae=te.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");ie&&ae.append("tspan").attr("font-weight","bold").text(ie),T&&ae.append(()=>u.createTextNode(T)),N&&ae.append("tspan").text(" ■").attr("fill",F).attr("fill-opacity",z).style("user-select","none"),Q&&ae.append("title").text(Q)}function oe(){const{width:te,height:ie}=i.facet??i;ye.selectChildren().each(function(T){let{x:F,width:z,height:N}=this.getBBox();z=Math.round(z),N=Math.round(N);let Q=h;if(Q===void 0){Q=a.previousAnchor;const ae=L(T)+q,ne=V(T)+D,Le=ae+z+m*2<te,De=ae-z-m*2>0,Ye=ne+N+y+m*2+7<ie,Ae=ne-N-y-m*2>0,gt=(/-left$/.test(Q)?Le||!De:Le&&!De)?"left":"right",ze=(/^top-/.test(Q)?Ye||!Ae:Ye&&!Ae)?"top":"bottom";Q=a.previousAnchor=`${ze}-${gt}`}const se=this.firstChild,le=this.lastChild;if(se.setAttribute("d",J3(Q,y,m,z,N)),F)for(const ae of le.childNodes)ae.setAttribute("x",-F);le.setAttribute("y",`${+X3(Q,le.childNodes.length,g).toFixed(6)}em`),le.setAttribute("transform",`translate(${Z3(Q,y,m,z,N)})`)})}return d.isConnected?Promise.resolve().then(oe):typeof requestAnimationFrame<"u"&&requestAnimationFrame(oe),ye.node()}}function G3(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=da(t,n)),new Y3(e,{...r,x:t,y:n})}function X3(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function Z3(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function J3(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function Q3({channels:e}){const t={};for(const n in e){if(W3.has(n))continue;const r=fv(e,n);r&&(t[n]=r)}return t}function Mu(e,t,n){var r;return(r=t.hint)!=null&&r.length?`${_n(t.value[n]-e.value[n])}`:`${_n(e.value[n])}–${_n(t.value[n])}`}function ss(e,t,n){var r;return String(((r=e[t.scale])==null?void 0:r.label)??(t==null?void 0:t.label)??n)}function Di(e={}){var B;const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:o}=e,a=ol(e.className),s=e.marks===void 0?[]:Su(e.marks);s.push(...o4(s));const f=r4(t,e),l=new Map;for(const L of s){const V=ku(L,f,e);V&&l.set(L,V)}const c=new Map;f&&Br(c,[f]),Br(c,l);const d=Su(a4(s,c,e));for(const L of d){const V=ku(L,f,e);V&&l.set(L,V)}s.unshift(...d);let u=kw(c,e);if(u!==void 0){const L=f?is(u,f):void 0;for(const U of s){if(U.facet===null||U.facet==="super")continue;const X=l.get(U);X!==void 0&&(X.facetsIndex=U.fx!=null||U.fy!=null?is(u,X):L)}const V=new Set;for(const{facetsIndex:U}of l.values())U==null||U.forEach((X,ee)=>{(X==null?void 0:X.length)>0&&V.add(ee)});u.forEach(0<V.size&&V.size<u.length?(U,X)=>U.empty=!V.has(X):U=>U.empty=!1);for(const U of s)if(U.facet==="exclude"){const X=l.get(U);X!==void 0&&(X.facetsIndex=Aw(X.facetsIndex))}}for(const L of Re.keys())$o(e[L])&&L!=="fx"&&L!=="fy"&&c.set(L,[]);const h=new Map;for(const L of s){if(h.has(L))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:V,channels:U}=l.get(L)??{},{data:X,facets:ee,channels:Z}=L.initialize(V,U,e);_l(Z,e),h.set(L,{data:X,facets:ee,channels:Z})}const p=rf(Br(c,h),e),g=su(p),b=Mw(p,s,e);Zv(p,b);const{fx:m,fy:y}=g,S=m||y?kp(p,b):b,_=m||y?h4(g,b):b,v=el(e),w=v.document,k=Sd("svg").call(w.documentElement);let E=k;v.ownerSVGElement=k,v.className=a,v.projection=cv(e,S),v.filterFacets=(L,V)=>is(u,{channels:V,groups:sl(L,V)}),v.getMarkState=L=>{const V=h.get(L),U=l.get(L);return{...V,channels:{...V.channels,...U==null?void 0:U.channels}}},v.dispatchValue=L=>{E.value!==L&&(E.value=L,E.dispatchEvent(new Event("input",{bubbles:!0})))};const R=new Set;for(const[L,V]of h)if(L.initializer!=null){const U=L.facet==="super"?_:S,X=L.initializer(V.data,V.facets,V.channels,g,U,v);if(X.data!==void 0&&(V.data=X.data),X.facets!==void 0&&(V.facets=X.facets),X.channels!==void 0){const{fx:ee,fy:Z,...K}=X.channels;n4(K),Object.assign(V.channels,K);for(const ye of Object.values(K)){const{scale:fe}=ye;fe!=null&&Re.get(fe)!==en&&(wg(ye,e),R.add(fe))}(ee!=null||Z!=null)&&l.set(L,!0)}}if(R.size){const L=new Map;Br(L,h,X=>R.has(X)),Br(c,h,X=>R.has(X));const V=d4(rf(L,e),p),U=su(V);Object.assign(p,V),Object.assign(g,U)}let I,A;u!==void 0&&(I={x:m==null?void 0:m.domain(),y:y==null?void 0:y.domain()},u=Tw(u,I),A=Ew(m,y,b));for(const[L,V]of h)V.values=L.scale(V.channels,g,v);const{width:P,height:q}=b;Xr(k).attr("class",a).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",q).attr("viewBox",`0 0 ${P} ${q}`).attr("aria-label",i).attr("aria-description",o).call(L=>L.append("style").text(`.${a} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${a} text,
.${a} tspan {
  white-space: pre;
}`)).call(al,n);for(const L of s){const{channels:V,values:U,facets:X}=h.get(L);if(u===void 0||L.facet==="super"){let ee=null;if(X&&(ee=X[0],ee=L.filter(ee,V,U),ee.length===0))continue;const Z=L.render(ee,g,U,_,v);if(Z==null)continue;k.appendChild(Z)}else{let ee;for(const Z of u){if(!(((B=L.facetAnchor)==null?void 0:B.call(L,u,I,Z))??!Z.empty))continue;let K=null;if(X){const fe=l.has(L);if(K=X[fe?Z.i:0],K=L.filter(K,V,U),K.length===0)continue;fe&&(K.fx=Z.x,K.fy=Z.y,K.fi=Z.i)}const ye=L.render(K,g,U,S,v);if(ye!=null){(ee??(ee=Xr(k).append("g"))).append(()=>ye).datum(Z);for(const fe of["aria-label","aria-description","aria-hidden","transform"])ye.hasAttribute(fe)&&(ee.attr(fe,ye.getAttribute(fe)),ye.removeAttribute(fe))}}ee==null||ee.selectChildren().attr("transform",A)}}const D=Gw(p,v,e);if(r!=null||D.length>0){E=w.createElement("figure"),E.style.maxWidth="initial";for(const L of D)E.appendChild(L);if(E.appendChild(k),r!=null){const L=w.createElement("figcaption");L.appendChild(r!=null&&r.ownerDocument?r:w.createTextNode(r)),E.appendChild(L)}}E.scale=rw(p),E.legend=jw(p,v,e);const M=lv();return M>0&&Xr(k).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${M.toLocaleString("en-US")} warning${M===1?"":"s"}. Please check the console.`),E}function K3({marks:e=[],...t}={}){return Di({...t,marks:[...e,this]})}xt.prototype.plot=K3;function Su(e){return e.flat(1/0).filter(t=>t!=null).map(e4)}function e4(e){return typeof e.render=="function"?e:new t4(e)}class t4 extends xt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function _l(e,t){for(const n in e)wg(e[n],t);return e}function wg(e,t){const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:o,transform:a=i?s=>s*100:J1(o,r)}=t[n]??{};a!=null&&(e.value=Je(e.value,a))}function n4(e){for(const t in e)sp(t,e[t])}function Br(e,t,n=w6){for(const{channels:r}of t.values())for(const i in r){const o=r[i],{scale:a}=o;if(a!=null&&n(a)){const s=e.get(a);s!==void 0?s.push(o):e.set(a,[o])}}return e}function r4(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=rn(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=bi(i,{value:n,scale:"fx"})),r!=null&&(o.fy=bi(i,{value:r,scale:"fy"})),_l(o,t);const a=sl(i,o);return{channels:o,groups:a,data:e.data}}function ku(e,t,n){var f;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=rn(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const c={};return r!=null&&(c.fx=bi(l,{value:r,scale:"fx"})),i!=null&&(c.fy=bi(l,{value:i,scale:"fy"})),_l(c,n),{channels:c,groups:sl(l,c)}}if(t===void 0)return;const{channels:o,groups:a,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:o,groups:a};s.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&((f=rn(e.data))==null?void 0:f.length)===s.length&&pr(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function i4(e,t={}){return Kf({...t,x:null,y:null},(n,r,i,o,a,s)=>s.getMarkState(e))}function o4(e){const t=[];for(const n of e){const r=n.tip;if(r){const i=r==="x"?Fw:r==="y"?Bw:Rw;t.push(G3(n.data,i(i4(n))))}}return t}function a4(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:s={},axis:f,grid:l,facet:c={},facet:{axis:d=f,grid:u}=c,x:{axis:h=f,grid:p=h===null?null:l}=i,y:{axis:g=f,grid:b=g===null?null:l}=o,fx:{axis:m=d,grid:y=m===null?null:u}=a,fy:{axis:S=d,grid:_=S===null?null:u}=s}=n;(r||!$o(i)&&!Tu("x",e))&&(h=p=null),(r||!$o(o)&&!Tu("y",e))&&(g=b=null),t.has("fx")||(m=y=null),t.has("fy")||(S=_=null),h===void 0&&(h=!Gi(e,"x")),g===void 0&&(g=!Gi(e,"y")),m===void 0&&(m=!Gi(e,"fx")),S===void 0&&(S=!Gi(e,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),m===!0&&(m=h==="top"||h===null?"bottom":"top"),S===!0&&(S=g==="right"||g===null?"left":"right");const v=[];return Yi(v,_,O3,s),Wi(v,S,A3,"right","left",c,s),Yi(v,y,$3,a),Wi(v,m,x3,"top","bottom",c,a),Yi(v,b,L3,o),Wi(v,g,Ni,"left","right",n,o),Yi(v,p,P3,i),Wi(v,h,Ir,"bottom","top",n,i),v}function Wi(e,t,n,r,i,o,a){if(!t)return;const s=s4(t);a=f4(s?r:t,o,a);const{line:f}=a;(n===Ni||n===Ir)&&f&&!gi(f)&&e.push(vg(l4(a))),e.push(n(a)),s&&e.push(n({...a,anchor:i,label:null}))}function Yi(e,t,n,r){!t||gi(t)||e.push(n(c4(t,r)))}function s4(e){return/^\s*both\s*$/i.test(e)}function f4(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:f,fontVariant:l,ariaLabel:c,ariaDescription:d,label:u=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:g}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:s,tickRotate:f,fontVariant:l,ariaLabel:c,ariaDescription:d,label:u,labelAnchor:h,labelArrow:p,labelOffset:g}}function l4(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function c4(e,{stroke:t=pa(e)?e:void 0,ticks:n=u4(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function u4(e){switch(typeof e){case"number":return!0;case"string":return!pa(e)}return qn(e)||typeof(e==null?void 0:e.range)=="function"}function Gi(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Tu(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function d4(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function h4({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:s,height:f}=il(n),l=e&&Eu(e),c=t&&Eu(t);return{marginTop:t?c[0]:r,marginRight:e?s-l[1]:i,marginBottom:t?f-c[1]:o,marginLeft:e?l[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:f}}function Eu(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const p4=new Map([["basis",yy],["basis-closed",vy],["basis-open",wy],["bundle",My],["bump-x",fy],["bump-y",ly],["cardinal",Sy],["cardinal-closed",ky],["cardinal-open",Ty],["catmull-rom",Ey],["catmull-rom-closed",Ay],["catmull-rom-open",xy],["linear",sa],["linear-closed",Cy],["monotone-x",Ny],["monotone-y",Dy],["natural",Iy],["step",Ly],["step-after",Py],["step-before",Oy]]);function g4(e=sa,t){if(typeof e=="function")return e;const n=p4.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Mg(e=Tr,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?Tr:g4(e,t)}function Tr(e){return sa(e)}function m4(e={}){return G1(e)?e:{...e,x:Ut}}function b4(e={},t={}){arguments.length===1&&([e,t]=y4(e));const{y1:n,y:r=n,x:i,...o}=t,[a,s,f,l]=w4(r,i,"y","x",e,o);return{...a,y1:n,y:s,x1:f,x2:l,x:N6(f,l)}}function _4({x:e,x1:t,x2:n,...r}={}){return r=fl(r,"y"),t===void 0&&n===void 0?b4({x:e,...r}):([t,n]=x6(e,t,n),{...r,x1:t,x2:n})}function y4(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const v4={length:!0};function w4(e,t=v6,n,r,{offset:i,order:o,reverse:a},s){const f=X1(s),[l,c]=C6(e),[d,u]=ef(t),[h,p]=ef(t);return d.hint=h.hint=v4,i=M4(i),o=T4(o,i,r),[rp(s,(g,b,m)=>{const y=e==null?void 0:c(D6(Ft(g,e),m==null?void 0:m[n])),S=Ft(g,t,Float64Array),_=Ft(g,f),v=o&&o(g,y,S,_),w=g.length,k=u(new Float64Array(w)),E=p(new Float64Array(w)),R=[];for(const I of b){const A=y?Array.from(wf(I,P=>y[P]).values()):[I];v&&D4(A,v);for(const P of A){let q=0,D=0;a&&P.reverse();for(const M of P){const B=S[M];B<0?q=E[M]=(k[M]=q)+B:B>0?D=E[M]=(k[M]=D)+B:E[M]=k[M]=D}}R.push(A)}return i&&i(R,k,E,_),{data:g,facets:b}}),l,d,h]}function M4(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return S4;case"center":case"silhouette":return k4;case"wiggle":return kg}throw new Error(`unknown offset: ${e}`)}}function Sg(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function S4(e,t,n){for(const r of e)for(const i of r){const[o,a]=Sg(i,n);for(const s of i){const f=1/(a-o||1);t[s]=f*(t[s]-o),n[s]=f*(n[s]-o)}}}function k4(e,t,n){for(const r of e){for(const i of r){const[o,a]=Sg(i,n);for(const s of i){const f=(a+o)/2;t[s]-=f,n[s]-=f}}Tg(r,t,n)}Eg(e,t,n)}function kg(e,t,n,r){for(const i of e){const o=new Wn;let a=0;for(const s of i){let f=-1;const l=s.map(h=>Math.abs(n[h]-t[h])),c=s.map(h=>{f=r?r[h]:++f;const p=n[h]-t[h],g=o.has(f)?p-o.get(f):0;return o.set(f,p),g}),d=[0,...qm(c)];for(const h of s)t[h]+=a,n[h]+=a;const u=Yn(l);u&&(a-=Yn(l,(h,p)=>(c[p]/2+d[p])*h)/u)}Tg(i,t,n)}Eg(e,t,n)}function Tg(e,t,n){const r=yn(e,i=>yn(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function Eg(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),o=i.map(s=>(yn(s,f=>t[f])+jt(s,f=>n[f]))/2),a=yn(o);for(let s=0;s<r;s++){const f=a-o[s];for(const l of i[s])t[l]+=f,n[l]+=f}}function T4(e,t,n){if(e===void 0&&t===kg)return Au;if(e!=null){if(typeof e=="string"){switch(e.toLowerCase()){case"value":case n:return E4;case"z":return A4;case"sum":return x4;case"appearance":return C4;case"inside-out":return Au}return xu(j1(e))}if(typeof e=="function")return xu(e);if(Array.isArray(e))return N4(e);throw new Error(`invalid order: ${e}`)}}function E4(e,t,n){return n}function A4(e,t,n,r){return r}function x4(e,t,n,r){return Aa(r,Sf($n(e),i=>Yn(i,o=>n[o]),i=>r[i]))}function C4(e,t,n,r){return Aa(r,Sf($n(e),i=>t[Od(i,o=>n[o])],i=>r[i]))}function Au(e,t,n,r){const i=$n(e),o=Sf(i,c=>t[Od(c,d=>n[d])],c=>r[c]),a=Gr(i,c=>Yn(c,d=>n[d]),c=>r[c]),s=[],f=[];let l=0;for(const c of o)l<0?(l+=a.get(c),s.push(c)):(l-=a.get(c),f.push(c));return Aa(r,f.reverse().concat(s))}function xu(e){return t=>Ft(t,e)}function N4(e){return(t,n,r,i)=>Aa(i,e)}function Aa(e,t){if(!e)throw new Error("missing channel: z");return t=new Wn(t.map((n,r)=>[n,r])),e.map(n=>t.get(n))}function D4(e,t){for(const n of e)n.sort((r,i)=>Jn(t[r],t[i]))}const I4={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class L4 extends xt{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,curve:s,tension:f}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,I4),this.curve=Mg(s,f),Sa(this,n)}project(t,n,r){this.curve!==Tr&&super.project(t,n,r)}render(t,n,r,i,o){const{x1:a,y1:s,x2:f=a,y2:l=s}=r,{curve:c}=this;return ot("svg:g",o).call(an,this,i,o).call(fn,this,n).call(d=>d.selectAll().data(t).enter().append("path").call(sn,this).attr("d",c===Tr&&o.projection?O4(o.projection,a,s,f,l):u=>{const h=uo(),p=c(h);return p.lineStart(),p.point(a[u],s[u]),p.point(f[u],l[u]),p.lineEnd(),h}).call(Rn,this,r).call(cl,this,r,o)).node()}}function O4(e,t,n,r,i){const o=Vo(e);return t=Cn(t),n=Cn(n),r=Cn(r),i=Cn(i),a=>o({type:"LineString",coordinates:[[t[a],n[a]],[r[a],i[a]]]})}function cf(e,{x:t,x1:n,x2:r,y:i,y1:o,y2:a,...s}={}){return[n,r]=Cu(t,n,r),[o,a]=Cu(i,o,a),new L4(e,{...s,x1:n,x2:r,y1:o,y2:a})}function Cu(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class P4 extends xt{constructor(t,n,r={},i){super(t,n,r,i);const{inset:o=0,insetTop:a=o,insetRight:s=o,insetBottom:f=o,insetLeft:l=o,rx:c,ry:d}=r;this.insetTop=Ie(a),this.insetRight=Ie(s),this.insetBottom=Ie(f),this.insetLeft=Ie(l),this.rx=He(c,"auto"),this.ry=He(d,"auto")}render(t,n,r,i,o){const{rx:a,ry:s}=this;return ot("svg:g",o).call(an,this,i,o).call(this._transform,this,n).call(f=>f.selectAll().data(t).enter().append("rect").call(sn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ue,"rx",a).call(ue,"ry",s).call(Rn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?o=>n[o]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?o=>n[o]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:o}){const{insetLeft:a,insetRight:s}=this,f=n&&t?t.bandwidth():o-r-i;return Math.max(0,f-a-s)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:o}){const{insetTop:a,insetBottom:s}=this,f=n&&t?t.bandwidth():o-r-i;return Math.max(0,f-a-s)}}const $4={ariaLabel:"cell"};class q4 extends P4{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,$4)}_transform(t,n){t.call(fn,n,{},0,0)}}function R4(e,{x:t,y:n,...r}={}){return[t,n]=da(t,n),new q4(e,{...r,x:t,y:n})}const F4={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let B4=class extends xt{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:X1(n),optional:!0}},n,F4),this.z=o,this.curve=Mg(a,s),Sa(this,n)}filter(t){return t}project(t,n,r){this.curve!==Tr&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:s}=r,{curve:f}=this;return ot("svg:g",o).call(an,this,i,o).call(fn,this,n).call(l=>l.selectAll().data(bw(t,[a,s],this,r)).enter().append("path").call(sn,this).call(pw,this,r).call(Qw,this,r,o).attr("d",f===Tr&&o.projection?U4(o.projection,a,s):sy().curve(f).defined(c=>c>=0).x(c=>a[c]).y(c=>s[c]))).node()}};function U4(e,t,n){const r=Vo(e);return t=Cn(t),n=Cn(n),i=>{let o=[];const a=[o];for(const s of i)s===-1?(o=[],a.push(o)):o.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:a})}}function z4(e,{x:t,y:n,...r}={}){return[t,n]=da(t,n),new B4(e,{...r,x:t,y:n})}const V4={ariaLabel:"rect"};class Ag extends xt{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,inset:s=0,insetTop:f=s,insetRight:l=s,insetBottom:c=s,insetLeft:d=s,rx:u,ry:h}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,V4),this.insetTop=Ie(f),this.insetRight=Ie(l),this.insetBottom=Ie(c),this.insetLeft=Ie(d),this.rx=He(u,"auto"),this.ry=He(h,"auto")}render(t,n,r,i,o){const{x:a,y:s}=n,{x1:f,y1:l,x2:c,y2:d}=r,{marginTop:u,marginRight:h,marginBottom:p,marginLeft:g,width:b,height:m}=i,{projection:y}=o,{insetTop:S,insetRight:_,insetBottom:v,insetLeft:w,rx:k,ry:E}=this;return ot("svg:g",o).call(an,this,i,o).call(fn,this,{x:f&&c&&a,y:l&&d&&s},0,0).call(R=>R.selectAll().data(t).enter().append("rect").call(sn,this).attr("x",f&&c&&(y||!Nn(a))?I=>Math.min(f[I],c[I])+w:g+w).attr("y",l&&d&&(y||!Nn(s))?I=>Math.min(l[I],d[I])+S:u+S).attr("width",f&&c&&(y||!Nn(a))?I=>Math.max(0,Math.abs(c[I]-f[I])-w-_):b-h-g-_-w).attr("height",l&&d&&(y||!Nn(s))?I=>Math.max(0,Math.abs(l[I]-d[I])-S-v):m-u-p-S-v).call(ue,"rx",k).call(ue,"ry",E).call(Rn,this,r)).node()}}function H4(e,t){return new Ag(e,Kw(Wp(t)))}function xg(e,t={}){return A6(t)||(t={...t,y:W1,x2:Ut,interval:1}),new Ag(e,_4(Wp(m4(t))))}var Cg={exports:{}},j4=Cg.exports={};j4.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Ng=Cg.exports,W4=function(e){var t=e.stateHandler.getState;function n(a){var s=t(a);return s&&!!s.isDetectable}function r(a){t(a).isDetectable=!0}function i(a){return!!t(a).busy}function o(a,s){t(a).busy=!!s}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:o}},Y4=function(e){var t={};function n(a){var s=e.get(a);return s===void 0?[]:t[s]||[]}function r(a,s){var f=e.get(a);t[f]||(t[f]=[]),t[f].push(s)}function i(a,s){for(var f=n(a),l=0,c=f.length;l<c;++l)if(f[l]===s){f.splice(l,1);break}}function o(a){var s=n(a);s&&(s.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:o}},G4=function(){var e=1;function t(){return e++}return{generate:t}},X4=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(o){var a=n(o);return a&&a.id!==void 0?a.id:null}function i(o){var a=n(o);if(!a)throw new Error("setId required the element to have a resize detection state.");var s=t.generate();return a.id=s,s}return{get:r,set:i}},Z4=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,o){i[o]=function(){var s=console[o];if(s.apply)s.apply(console,arguments);else for(var f=0;f<arguments.length;f++)s(arguments[f])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Dg={exports:{}},Ig=Dg.exports={};Ig.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,o=document.createElement("div"),a=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(a[0]);return i>4?i:r}();return e===n};Ig.isLegacyOpera=function(){return!!window.opera};var Lg=Dg.exports,Og={exports:{}},J4=Og.exports={};J4.getOption=Q4;function Q4(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var K4=Og.exports,Nu=K4,e8=function(t){t=t||{};var n=t.reporter,r=Nu.getOption(t,"async",!0),i=Nu.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var o=Du(),a,s=!1;function f(p,g){!s&&i&&r&&o.size()===0&&d(),o.add(p,g)}function l(){for(s=!0;o.size();){var p=o;o=Du(),p.process()}s=!1}function c(p){s||(p===void 0&&(p=r),a&&(u(a),a=null),p?d():l())}function d(){a=h(l)}function u(p){var g=clearTimeout;return g(p)}function h(p){var g=function(b){return setTimeout(b,0)};return g(p)}return{add:f,force:c}};function Du(){var e={},t=0,n=0,r=0;function i(s,f){f||(f=s,s=0),s>n?n=s:s<r&&(r=s),e[s]||(e[s]=[]),e[s].push(f),t++}function o(){for(var s=r;s<=n;s++)for(var f=e[s],l=0;l<f.length;l++){var c=f[l];c()}}function a(){return t}return{add:i,process:o,size:a}}var yl="_erd";function t8(e){return e[yl]={},Pg(e)}function Pg(e){return e[yl]}function n8(e){delete e[yl]}var r8={initState:t8,getState:Pg,cleanState:n8},Ur=Lg,i8=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,c){function d(){c(l)}if(Ur.isIE(8))r(l).object={proxy:d},l.attachEvent("onresize",d);else{var u=s(l);if(!u)throw new Error("Element is not detectable by this strategy.");u.contentDocument.defaultView.addEventListener("resize",d)}}function o(l){var c=e.important?" !important; ":"; ";return(l.join(c)+c).trim()}function a(l,c,d){d||(d=c,c=l,l=null),l=l||{},l.debug;function u(h,p){var g=o(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),b=!1,m=window.getComputedStyle(h),y=h.offsetWidth,S=h.offsetHeight;r(h).startSize={width:y,height:S};function _(){function v(){if(m.position==="static"){h.style.setProperty("position","relative",l.important?"important":"");var E=function(R,I,A,P){function q(M){return M.replace(/[^-\d\.]/g,"")}var D=A[P];D!=="auto"&&q(D)!=="0"&&(R.warn("An element that is positioned static has style."+P+"="+D+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+P+" will be set to 0. Element: ",I),I.style.setProperty(P,"0",l.important?"important":""))};E(t,h,m,"top"),E(t,h,m,"right"),E(t,h,m,"bottom"),E(t,h,m,"left")}}function w(){b||v();function E(I,A){if(!I.contentDocument){var P=r(I);P.checkForObjectDocumentTimeoutId&&window.clearTimeout(P.checkForObjectDocumentTimeoutId),P.checkForObjectDocumentTimeoutId=setTimeout(function(){P.checkForObjectDocumentTimeoutId=0,E(I,A)},100);return}A(I.contentDocument)}var R=this;E(R,function(A){p(h)})}m.position!==""&&(v(),b=!0);var k=document.createElement("object");k.style.cssText=g,k.tabIndex=-1,k.type="text/html",k.setAttribute("aria-hidden","true"),k.onload=w,Ur.isIE()||(k.data="about:blank"),r(h)&&(h.appendChild(k),r(h).object=k,Ur.isIE()&&(k.data="about:blank"))}n?n.add(_):_()}Ur.isIE(8)?d(c):u(c,d)}function s(l){return r(l).object}function f(l){if(r(l)){var c=s(l);c&&(Ur.isIE(8)?l.detachEvent("onresize",c.proxy):l.removeChild(c),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:a,addListener:i,uninstall:f}},o8=Ng.forEach,a8=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var o=c(),a="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";function f(_){d(_,a,s)}f(window.document);function l(_){var v=e.important?" !important; ":"; ";return(_.join(v)+v).trim()}function c(){var _=500,v=500,w=document.createElement("div");w.style.cssText=l(["position: absolute","width: "+_*2+"px","height: "+v*2+"px","visibility: hidden","margin: 0","padding: 0"]);var k=document.createElement("div");k.style.cssText=l(["position: absolute","width: "+_+"px","height: "+v+"px","overflow: scroll","visibility: none","top: "+-_*3+"px","left: "+-v*3+"px","visibility: hidden","margin: 0","padding: 0"]),k.appendChild(w),document.body.insertBefore(k,document.body.firstChild);var E=_-k.clientWidth,R=v-k.clientHeight;return document.body.removeChild(k),{width:E,height:R}}function d(_,v,w){function k(A,P){P=P||function(D){_.head.appendChild(D)};var q=_.createElement("style");return q.innerHTML=A,q.id=v,P(q),q}if(!_.getElementById(v)){var E=w+"_animation",R=w+"_animation_active",I=`/* Created by the element-resize-detector library. */
`;I+="."+w+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,I+="."+R+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+E,"animation-name: "+E])+` }
`,I+="@-webkit-keyframes "+E+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,I+="@keyframes "+E+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",k(I)}}function u(_){_.className+=" "+s+"_animation_active"}function h(_,v,w){if(_.addEventListener)_.addEventListener(v,w);else if(_.attachEvent)_.attachEvent("on"+v,w);else return t.error("[scroll] Don't know how to add event listeners.")}function p(_,v,w){if(_.removeEventListener)_.removeEventListener(v,w);else if(_.detachEvent)_.detachEvent("on"+v,w);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(_){return r(_).container.childNodes[0].childNodes[0].childNodes[0]}function b(_){return r(_).container.childNodes[0].childNodes[0].childNodes[1]}function m(_,v){var w=r(_).listeners;if(!w.push)throw new Error("Cannot add listener to an element that is not detectable.");r(_).listeners.push(v)}function y(_,v,w){w||(w=v,v=_,_=null),_=_||{};function k(){if(_.debug){var T=Array.prototype.slice.call(arguments);if(T.unshift(i.get(v),"Scroll: "),t.log.apply)t.log.apply(null,T);else for(var F=0;F<T.length;F++)t.log(T[F])}}function E(T){function F(z){var N=z.getRootNode&&z.getRootNode().contains(z);return z===z.ownerDocument.body||z.ownerDocument.body.contains(z)||N}return!F(T)||window.getComputedStyle(T)===null}function R(T){var F=r(T).container.childNodes[0],z=window.getComputedStyle(F);return!z.width||z.width.indexOf("px")===-1}function I(){var T=window.getComputedStyle(v),F={};return F.position=T.position,F.width=v.offsetWidth,F.height=v.offsetHeight,F.top=T.top,F.right=T.right,F.bottom=T.bottom,F.left=T.left,F.widthCSS=T.width,F.heightCSS=T.height,F}function A(){var T=I();r(v).startSize={width:T.width,height:T.height},k("Element start size",r(v).startSize)}function P(){r(v).listeners=[]}function q(){if(k("storeStyle invoked."),!r(v)){k("Aborting because element has been uninstalled");return}var T=I();r(v).style=T}function D(T,F,z){r(T).lastWidth=F,r(T).lastHeight=z}function M(T){return g(T).childNodes[0]}function B(){return 2*o.width+1}function L(){return 2*o.height+1}function V(T){return T+10+B()}function U(T){return T+10+L()}function X(T){return T*2+B()}function ee(T){return T*2+L()}function Z(T,F,z){var N=g(T),Q=b(T),se=V(F),le=U(z),ae=X(F),ne=ee(z);N.scrollLeft=se,N.scrollTop=le,Q.scrollLeft=ae,Q.scrollTop=ne}function K(){var T=r(v).container;if(!T){T=document.createElement("div"),T.className=s,T.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(v).container=T,u(T),v.appendChild(T);var F=function(){r(v).onRendered&&r(v).onRendered()};h(T,"animationstart",F),r(v).onAnimationStart=F}return T}function ye(){function T(){var qe=r(v).style;if(qe.position==="static"){v.style.setProperty("position","relative",_.important?"important":"");var mt=function(Ct,Nt,nr,x){function re(Se){return Se.replace(/[^-\d\.]/g,"")}var Me=nr[x];Me!=="auto"&&re(Me)!=="0"&&(Ct.warn("An element that is positioned static has style."+x+"="+Me+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+x+" will be set to 0. Element: ",Nt),Nt.style[x]=0)};mt(t,v,qe,"top"),mt(t,v,qe,"right"),mt(t,v,qe,"bottom"),mt(t,v,qe,"left")}}function F(qe,mt,Ct,Nt){return qe=qe?qe+"px":"0",mt=mt?mt+"px":"0",Ct=Ct?Ct+"px":"0",Nt=Nt?Nt+"px":"0",["left: "+qe,"top: "+mt,"right: "+Nt,"bottom: "+Ct]}if(k("Injecting elements"),!r(v)){k("Aborting because element has been uninstalled");return}T();var z=r(v).container;z||(z=K());var N=o.width,Q=o.height,se=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),le=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(F(-(1+N),-(1+Q),-Q,-N))),ae=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ne=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Le=l(["position: absolute","left: 0","top: 0"]),De=l(["position: absolute","width: 200%","height: 200%"]),Ye=document.createElement("div"),Ae=document.createElement("div"),gt=document.createElement("div"),ze=document.createElement("div"),Zt=document.createElement("div"),Ge=document.createElement("div");Ye.dir="ltr",Ye.style.cssText=se,Ye.className=s,Ae.className=s,Ae.style.cssText=le,gt.style.cssText=ae,ze.style.cssText=Le,Zt.style.cssText=ne,Ge.style.cssText=De,gt.appendChild(ze),Zt.appendChild(Ge),Ae.appendChild(gt),Ae.appendChild(Zt),Ye.appendChild(Ae),z.appendChild(Ye);function $(){var qe=r(v);qe&&qe.onExpand?qe.onExpand():k("Aborting expand scroll handler: element has been uninstalled")}function G(){var qe=r(v);qe&&qe.onShrink?qe.onShrink():k("Aborting shrink scroll handler: element has been uninstalled")}h(gt,"scroll",$),h(Zt,"scroll",G),r(v).onExpandScroll=$,r(v).onShrinkScroll=G}function fe(){function T(ae,ne,Le){var De=M(ae),Ye=V(ne),Ae=U(Le);De.style.setProperty("width",Ye+"px",_.important?"important":""),De.style.setProperty("height",Ae+"px",_.important?"important":"")}function F(ae){var ne=v.offsetWidth,Le=v.offsetHeight,De=ne!==r(v).lastWidth||Le!==r(v).lastHeight;k("Storing current size",ne,Le),D(v,ne,Le),n.add(0,function(){if(De){if(!r(v)){k("Aborting because element has been uninstalled");return}if(!z()){k("Aborting because element container has not been initialized");return}if(_.debug){var Ae=v.offsetWidth,gt=v.offsetHeight;(Ae!==ne||gt!==Le)&&t.warn(i.get(v),"Scroll: Size changed before updating detector elements.")}T(v,ne,Le)}}),n.add(1,function(){if(!r(v)){k("Aborting because element has been uninstalled");return}if(!z()){k("Aborting because element container has not been initialized");return}Z(v,ne,Le)}),De&&ae&&n.add(2,function(){if(!r(v)){k("Aborting because element has been uninstalled");return}if(!z()){k("Aborting because element container has not been initialized");return}ae()})}function z(){return!!r(v).container}function N(){function ae(){return r(v).lastNotifiedWidth===void 0}k("notifyListenersIfNeeded invoked");var ne=r(v);if(ae()&&ne.lastWidth===ne.startSize.width&&ne.lastHeight===ne.startSize.height)return k("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(ne.lastWidth===ne.lastNotifiedWidth&&ne.lastHeight===ne.lastNotifiedHeight)return k("Not notifying: Size already notified");k("Current size not notified, notifying..."),ne.lastNotifiedWidth=ne.lastWidth,ne.lastNotifiedHeight=ne.lastHeight,o8(r(v).listeners,function(Le){Le(v)})}function Q(){if(k("startanimation triggered."),R(v)){k("Ignoring since element is still unrendered...");return}k("Element rendered.");var ae=g(v),ne=b(v);(ae.scrollLeft===0||ae.scrollTop===0||ne.scrollLeft===0||ne.scrollTop===0)&&(k("Scrollbars out of sync. Updating detector elements..."),F(N))}function se(){if(k("Scroll detected."),R(v)){k("Scroll event fired while unrendered. Ignoring...");return}F(N)}if(k("registerListenersAndPositionElements invoked."),!r(v)){k("Aborting because element has been uninstalled");return}r(v).onRendered=Q,r(v).onExpand=se,r(v).onShrink=se;var le=r(v).style;T(v,le.width,le.height)}function oe(){if(k("finalizeDomMutation invoked."),!r(v)){k("Aborting because element has been uninstalled");return}var T=r(v).style;D(v,T.width,T.height),Z(v,T.width,T.height)}function te(){w(v)}function ie(){k("Installing..."),P(),A(),n.add(0,q),n.add(1,ye),n.add(2,fe),n.add(3,oe),n.add(4,te)}k("Making detectable..."),E(v)?(k("Element is detached"),K(),k("Waiting until element is attached..."),r(v).onRendered=function(){k("Element is now attached"),ie()}):ie()}function S(_){var v=r(_);v&&(v.onExpandScroll&&p(g(_),"scroll",v.onExpandScroll),v.onShrinkScroll&&p(b(_),"scroll",v.onShrinkScroll),v.onAnimationStart&&p(v.container,"animationstart",v.onAnimationStart),v.container&&_.removeChild(v.container))}return{makeDetectable:y,addListener:m,uninstall:S,initDocument:f}},Yr=Ng.forEach,s8=W4,f8=Y4,l8=G4,c8=X4,u8=Z4,Iu=Lg,d8=e8,En=r8,h8=i8,p8=a8;function Lu(e){return Array.isArray(e)||e.length!==void 0}function Ou(e){if(Array.isArray(e))return e;var t=[];return Yr(e,function(n){t.push(n)}),t}function Pu(e){return e&&e.nodeType===1}var g8=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=l8(),r=c8({idGenerator:n,stateHandler:En});t=r}var i=e.reporter;if(!i){var o=i===!1;i=u8(o)}var a=An(e,"batchProcessor",d8({reporter:i})),s={};s.callOnAdd=!!An(e,"callOnAdd",!0),s.debug=!!An(e,"debug",!1);var f=f8(t),l=s8({stateHandler:En}),c,d=An(e,"strategy","object"),u=An(e,"important",!1),h={reporter:i,batchProcessor:a,stateHandler:En,idHandler:t,important:u};if(d==="scroll"&&(Iu.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):Iu.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")c=p8(h);else if(d==="object")c=h8(h);else throw new Error("Invalid strategy name: "+d);var p={};function g(y,S,_){function v(A){var P=f.get(A);Yr(P,function(D){D(A)})}function w(A,P,q){f.add(P,q),A&&q(P)}if(_||(_=S,S=y,y={}),!S)throw new Error("At least one element required.");if(!_)throw new Error("Listener required.");if(Pu(S))S=[S];else if(Lu(S))S=Ou(S);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var k=0,E=An(y,"callOnAdd",s.callOnAdd),R=An(y,"onReady",function(){}),I=An(y,"debug",s.debug);Yr(S,function(P){En.getState(P)||(En.initState(P),t.set(P));var q=t.get(P);if(I&&i.log("Attaching listener to element",q,P),!l.isDetectable(P)){if(I&&i.log(q,"Not detectable."),l.isBusy(P)){I&&i.log(q,"System busy making it detectable"),w(E,P,_),p[q]=p[q]||[],p[q].push(function(){k++,k===S.length&&R()});return}return I&&i.log(q,"Making detectable..."),l.markBusy(P,!0),c.makeDetectable({debug:I,important:u},P,function(M){if(I&&i.log(q,"onElementDetectable"),En.getState(M)){l.markAsDetectable(M),l.markBusy(M,!1),c.addListener(M,v),w(E,M,_);var B=En.getState(M);if(B&&B.startSize){var L=M.offsetWidth,V=M.offsetHeight;(B.startSize.width!==L||B.startSize.height!==V)&&v(M)}p[q]&&Yr(p[q],function(U){U()})}else I&&i.log(q,"Element uninstalled before being detectable.");delete p[q],k++,k===S.length&&R()})}I&&i.log(q,"Already detecable, adding listener."),w(E,P,_),k++}),k===S.length&&R()}function b(y){if(!y)return i.error("At least one element is required.");if(Pu(y))y=[y];else if(Lu(y))y=Ou(y);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Yr(y,function(S){f.removeAllListeners(S),c.uninstall(S),En.cleanState(S)})}function m(y){c.initDocument&&c.initDocument(y)}return{listenTo:g,removeListener:f.removeListener,removeAllListeners:f.removeAllListeners,uninstall:b,initDocument:m}};function An(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const m8=lm(g8);var Xi=m8({strategy:"scroll"});function xa(e,t){Xi.listenTo(e,t);var n=t;return{update:function(r){Xi.removeListener(e,n),Xi.listenTo(e,r),n=r},destroy:function(){Xi.removeListener(e,n)}}}function b8(e){let t,n,r,i,o,a,s,f;return{c(){t=W("div"),n=ge(),r=W("div"),i=W("div"),o=ge(),a=ti("svg"),this.h()},l(l){t=Y(l,"DIV",{}),j(t).forEach(C),n=me(l),r=Y(l,"DIV",{id:!0});var c=j(r);i=Y(c,"DIV",{}),j(i).forEach(C),o=me(c),a=ni(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var d=j(a);d.forEach(C),c.forEach(C),this.h()},h(){O(a,"class",""),O(a,"viewBox","0 0 800 0"),O(a,"width","100%"),O(a,"height","0"),O(r,"id",e[0])},m(l,c){J(l,t,c),J(l,n,c),J(l,r,c),H(r,i),e[10](i),H(r,o),H(r,a),e[11](r),s||(f=Fo(xa.call(null,t,v8)),s=!0)},p(l,[c]){c&1&&O(r,"id",l[0])},i:Ve,o:Ve,d(l){l&&C(t),l&&C(n),l&&C(r),e[10](null),e[11](null),s=!1,f()}}}let _8=800,y8=200;function v8(){}function w8(e,t,n){let{name:r,title:i,xAttr:o,yAttr:a,xDomainMin:s=null,xDomainMax:f=null}=t,{theplot:l=null}=t,c,d,u={},h=[];function p(m,y){if(!m||m.length==0)return;y=="overlay"?u=m??u:h=m??h;let S={x:{domain:[+s,+f]},width:_8,height:y8,marginBottom:50,marks:[Ir({ticks:h.length,fontSize:"0.8rem"}),Ni({fontSize:"0.8rem"}),hl([1]),pl([0]),z4(h,{x:o,y:a,marker:!0,strokeWidth:3})]};oi(u).length>0&&(S.color={domain:ro("key",u),range:ia,legend:!0,style:{"font-size":"0.8rem","margin-left":"2em"}},S.marks.push(xg(u,{x1:"left",x2:"right",y2:jt(ro(a,h)),fill:"key",color:"key",opacity:.2}))),n(3,l=Di(S)),l.children[1].setAttribute("width","100%"),n(2,d.innerHTML="",d),d.appendChild(l)}function g(m){Pe[m?"unshift":"push"](()=>{d=m,n(2,d)})}function b(m){Pe[m?"unshift":"push"](()=>{c=m,n(1,c)})}return e.$$set=m=>{"name"in m&&n(0,r=m.name),"title"in m&&n(4,i=m.title),"xAttr"in m&&n(5,o=m.xAttr),"yAttr"in m&&n(6,a=m.yAttr),"xDomainMin"in m&&n(7,s=m.xDomainMin),"xDomainMax"in m&&n(8,f=m.xDomainMax),"theplot"in m&&n(3,l=m.theplot)},[r,c,d,l,i,o,a,s,f,p,g,b]}class M8 extends Mt{constructor(t){super(),St(this,t,w8,b8,kt,{name:0,title:4,xAttr:5,yAttr:6,xDomainMin:7,xDomainMax:8,theplot:3,render:9})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),$e()}get title(){return this.$$.ctx[4]}set title(t){this.$$set({title:t}),$e()}get xAttr(){return this.$$.ctx[5]}set xAttr(t){this.$$set({xAttr:t}),$e()}get yAttr(){return this.$$.ctx[6]}set yAttr(t){this.$$set({yAttr:t}),$e()}get xDomainMin(){return this.$$.ctx[7]}set xDomainMin(t){this.$$set({xDomainMin:t}),$e()}get xDomainMax(){return this.$$.ctx[8]}set xDomainMax(t){this.$$set({xDomainMax:t}),$e()}get theplot(){return this.$$.ctx[3]}set theplot(t){this.$$set({theplot:t}),$e()}get render(){return this.$$.ctx[9]}}function $u(e){return Object.prototype.toString.call(e)==="[object Date]"}function uf(e,t,n,r){if(typeof n=="number"||$u(n)){const i=r-n,o=(n-t)/(e.dt||1/60),a=e.opts.stiffness*i,s=e.opts.damping*o,f=(a-s)*e.inv_mass,l=(o+f)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,$u(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,o)=>uf(e,t[o],n[o],r[o]));if(typeof n=="object"){const i={};for(const o in n)i[o]=uf(e,t[o],n[o],r[o]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function S8(e,t={}){const n=Sn(e),{stiffness:r=.15,damping:i=.8,precision:o=.01}=t;let a,s,f,l=e,c=e,d=1,u=0,h=!1;function p(b,m={}){c=b;const y=f={};return e==null||m.hard||g.stiffness>=1&&g.damping>=1?(h=!0,a=kl(),l=b,n.set(e=c),Promise.resolve()):(m.soft&&(u=1/((m.soft===!0?.5:+m.soft)*60),d=0),s||(a=kl(),h=!1,s=Bg(S=>{if(h)return h=!1,s=null,!1;d=Math.min(d+u,1);const _={inv_mass:d,opts:g,settled:!0,dt:(S-a)*60/1e3},v=uf(_,l,e,c);return a=S,l=e,n.set(e=v),_.settled&&(s=null),!_.settled})),new Promise(S=>{s.promise.then(()=>{y===f&&S()})}))}const g={set:p,update:(b,m)=>p(b(c,e),m),subscribe:n.subscribe,stiffness:r,damping:i,precision:o};return g}function qu(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function Ru(e){let t,n,r,i,o=(e[6]==="label"||e[7]==="label")&&Fu(e);return{c(){t=W("span"),o&&o.c(),this.h()},l(a){t=Y(a,"SPAN",{class:!0,style:!0});var s=j(t);o&&o.l(s),s.forEach(C),this.h()},h(){O(t,"class","pip first"),O(t,"style",n=e[14]+": 0%;"),ce(t,"selected",e[18](e[0])),ce(t,"in-range",e[17](e[0]))},m(a,s){J(a,t,s),o&&o.m(t,null),r||(i=[Te(t,"click",function(){mr(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}),Te(t,"touchend",ri(function(){mr(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}))],r=!0)},p(a,s){e=a,e[6]==="label"||e[7]==="label"?o?o.p(e,s):(o=Fu(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null),s&16384&&n!==(n=e[14]+": 0%;")&&O(t,"style",n),s&262145&&ce(t,"selected",e[18](e[0])),s&131073&&ce(t,"in-range",e[17](e[0]))},d(a){a&&C(t),o&&o.d(),r=!1,Mn(i)}}}function Fu(e){let t,n=e[12](e[16](e[0]),0,0)+"",r,i=e[10]&&Bu(e),o=e[11]&&Uu(e);return{c(){t=W("span"),i&&i.c(),r=xe(n),o&&o.c(),this.h()},l(a){t=Y(a,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),o&&o.l(s),s.forEach(C),this.h()},h(){O(t,"class","pipVal")},m(a,s){J(a,t,s),i&&i.m(t,null),H(t,r),o&&o.m(t,null)},p(a,s){a[10]?i?i.p(a,s):(i=Bu(a),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&69633&&n!==(n=a[12](a[16](a[0]),0,0)+"")&&Ze(r,n),a[11]?o?o.p(a,s):(o=Uu(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&C(t),i&&i.d(),o&&o.d()}}}function Bu(e){let t,n;return{c(){t=W("span"),n=xe(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[10]),i.forEach(C),this.h()},h(){O(t,"class","pipVal-prefix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i&1024&&Ze(n,r[10])},d(r){r&&C(t)}}}function Uu(e){let t,n;return{c(){t=W("span"),n=xe(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[11]),i.forEach(C),this.h()},h(){O(t,"class","pipVal-suffix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i&2048&&Ze(n,r[11])},d(r){r&&C(t)}}}function zu(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Yu(qu(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=br()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);t=br()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);J(i,t,o)},p(i,o){if(o&4120131){n=Array(i[20]+1);let a;for(a=0;a<n.length;a+=1){const s=qu(i,n,a);r[a]?r[a].p(s,o):(r[a]=Yu(s),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){Bo(r,i),i&&C(t)}}}function Vu(e){let t,n,r,i,o,a=(e[6]==="label"||e[9]==="label")&&Hu(e);return{c(){t=W("span"),a&&a.c(),n=ge(),this.h()},l(s){t=Y(s,"SPAN",{class:!0,style:!0});var f=j(t);a&&a.l(f),n=me(f),f.forEach(C),this.h()},h(){O(t,"class","pip"),O(t,"style",r=e[14]+": "+e[15](e[19](e[30]))+"%;"),ce(t,"selected",e[18](e[19](e[30]))),ce(t,"in-range",e[17](e[19](e[30])))},m(s,f){J(s,t,f),a&&a.m(t,null),H(t,n),i||(o=[Te(t,"click",function(){mr(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}),Te(t,"touchend",ri(function(){mr(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}))],i=!0)},p(s,f){e=s,e[6]==="label"||e[9]==="label"?a?a.p(e,f):(a=Hu(e),a.c(),a.m(t,n)):a&&(a.d(1),a=null),f&573440&&r!==(r=e[14]+": "+e[15](e[19](e[30]))+"%;")&&O(t,"style",r),f&786432&&ce(t,"selected",e[18](e[19](e[30]))),f&655360&&ce(t,"in-range",e[17](e[19](e[30])))},d(s){s&&C(t),a&&a.d(),i=!1,Mn(o)}}}function Hu(e){let t,n=e[12](e[19](e[30]),e[30],e[15](e[19](e[30])))+"",r,i=e[10]&&ju(e),o=e[11]&&Wu(e);return{c(){t=W("span"),i&&i.c(),r=xe(n),o&&o.c(),this.h()},l(a){t=Y(a,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),o&&o.l(s),s.forEach(C),this.h()},h(){O(t,"class","pipVal")},m(a,s){J(a,t,s),i&&i.m(t,null),H(t,r),o&&o.m(t,null)},p(a,s){a[10]?i?i.p(a,s):(i=ju(a),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&561152&&n!==(n=a[12](a[19](a[30]),a[30],a[15](a[19](a[30])))+"")&&Ze(r,n),a[11]?o?o.p(a,s):(o=Wu(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&C(t),i&&i.d(),o&&o.d()}}}function ju(e){let t,n;return{c(){t=W("span"),n=xe(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[10]),i.forEach(C),this.h()},h(){O(t,"class","pipVal-prefix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i&1024&&Ze(n,r[10])},d(r){r&&C(t)}}}function Wu(e){let t,n;return{c(){t=W("span"),n=xe(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[11]),i.forEach(C),this.h()},h(){O(t,"class","pipVal-suffix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i&2048&&Ze(n,r[11])},d(r){r&&C(t)}}}function Yu(e){let t=e[19](e[30])!==e[0]&&e[19](e[30])!==e[1],n,r=t&&Vu(e);return{c(){r&&r.c(),n=br()},l(i){r&&r.l(i),n=br()},m(i,o){r&&r.m(i,o),J(i,n,o)},p(i,o){o&524291&&(t=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),t?r?r.p(i,o):(r=Vu(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&C(n)}}}function Gu(e){let t,n,r,i,o=(e[6]==="label"||e[8]==="label")&&Xu(e);return{c(){t=W("span"),o&&o.c(),this.h()},l(a){t=Y(a,"SPAN",{class:!0,style:!0});var s=j(t);o&&o.l(s),s.forEach(C),this.h()},h(){O(t,"class","pip last"),O(t,"style",n=e[14]+": 100%;"),ce(t,"selected",e[18](e[1])),ce(t,"in-range",e[17](e[1]))},m(a,s){J(a,t,s),o&&o.m(t,null),r||(i=[Te(t,"click",function(){mr(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}),Te(t,"touchend",ri(function(){mr(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}))],r=!0)},p(a,s){e=a,e[6]==="label"||e[8]==="label"?o?o.p(e,s):(o=Xu(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null),s&16384&&n!==(n=e[14]+": 100%;")&&O(t,"style",n),s&262146&&ce(t,"selected",e[18](e[1])),s&131074&&ce(t,"in-range",e[17](e[1]))},d(a){a&&C(t),o&&o.d(),r=!1,Mn(i)}}}function Xu(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",r,i=e[10]&&Zu(e),o=e[11]&&Ju(e);return{c(){t=W("span"),i&&i.c(),r=xe(n),o&&o.c(),this.h()},l(a){t=Y(a,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),o&&o.l(s),s.forEach(C),this.h()},h(){O(t,"class","pipVal")},m(a,s){J(a,t,s),i&&i.m(t,null),H(t,r),o&&o.m(t,null)},p(a,s){a[10]?i?i.p(a,s):(i=Zu(a),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&1118210&&n!==(n=a[12](a[16](a[1]),a[20],100)+"")&&Ze(r,n),a[11]?o?o.p(a,s):(o=Ju(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&C(t),i&&i.d(),o&&o.d()}}}function Zu(e){let t,n;return{c(){t=W("span"),n=xe(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[10]),i.forEach(C),this.h()},h(){O(t,"class","pipVal-prefix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i&1024&&Ze(n,r[10])},d(r){r&&C(t)}}}function Ju(e){let t,n;return{c(){t=W("span"),n=xe(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[11]),i.forEach(C),this.h()},h(){O(t,"class","pipVal-suffix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i&2048&&Ze(n,r[11])},d(r){r&&C(t)}}}function k8(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&Ru(e),o=(e[6]&&e[9]!==!1||e[9])&&zu(e),a=(e[6]&&e[8]!==!1||e[8])&&Gu(e);return{c(){t=W("div"),i&&i.c(),n=ge(),o&&o.c(),r=ge(),a&&a.c(),this.h()},l(s){t=Y(s,"DIV",{class:!0});var f=j(t);i&&i.l(f),n=me(f),o&&o.l(f),r=me(f),a&&a.l(f),f.forEach(C),this.h()},h(){O(t,"class","rangePips"),ce(t,"disabled",e[5]),ce(t,"hoverable",e[4]),ce(t,"vertical",e[2]),ce(t,"reversed",e[3]),ce(t,"focus",e[13])},m(s,f){J(s,t,f),i&&i.m(t,null),H(t,n),o&&o.m(t,null),H(t,r),a&&a.m(t,null)},p(s,[f]){s[6]&&s[7]!==!1||s[7]?i?i.p(s,f):(i=Ru(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[6]&&s[9]!==!1||s[9]?o?o.p(s,f):(o=zu(s),o.c(),o.m(t,r)):o&&(o.d(1),o=null),s[6]&&s[8]!==!1||s[8]?a?a.p(s,f):(a=Gu(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f&32&&ce(t,"disabled",s[5]),f&16&&ce(t,"hoverable",s[4]),f&4&&ce(t,"vertical",s[2]),f&8&&ce(t,"reversed",s[3]),f&8192&&ce(t,"focus",s[13])},i:Ve,o:Ve,d(s){s&&C(t),i&&i.d(),o&&o.d(),a&&a.d()}}}function T8(e,t,n){let r,i,o,a,s,{range:f=!1}=t,{min:l=0}=t,{max:c=100}=t,{step:d=1}=t,{values:u=[(c+l)/2]}=t,{vertical:h=!1}=t,{reversed:p=!1}=t,{hoverable:g=!0}=t,{disabled:b=!1}=t,{pipstep:m=void 0}=t,{all:y=!0}=t,{first:S=void 0}=t,{last:_=void 0}=t,{rest:v=void 0}=t,{prefix:w=""}=t,{suffix:k=""}=t,{formatter:E=(M,B)=>M}=t,{focus:R=void 0}=t,{orientationStart:I=void 0}=t,{percentOf:A=void 0}=t,{moveHandle:P=void 0}=t,{fixFloat:q=void 0}=t;function D(M){b||P(void 0,M)}return e.$$set=M=>{"range"in M&&n(22,f=M.range),"min"in M&&n(0,l=M.min),"max"in M&&n(1,c=M.max),"step"in M&&n(23,d=M.step),"values"in M&&n(24,u=M.values),"vertical"in M&&n(2,h=M.vertical),"reversed"in M&&n(3,p=M.reversed),"hoverable"in M&&n(4,g=M.hoverable),"disabled"in M&&n(5,b=M.disabled),"pipstep"in M&&n(25,m=M.pipstep),"all"in M&&n(6,y=M.all),"first"in M&&n(7,S=M.first),"last"in M&&n(8,_=M.last),"rest"in M&&n(9,v=M.rest),"prefix"in M&&n(10,w=M.prefix),"suffix"in M&&n(11,k=M.suffix),"formatter"in M&&n(12,E=M.formatter),"focus"in M&&n(13,R=M.focus),"orientationStart"in M&&n(14,I=M.orientationStart),"percentOf"in M&&n(15,A=M.percentOf),"moveHandle"in M&&n(26,P=M.moveHandle),"fixFloat"in M&&n(16,q=M.fixFloat)},e.$$.update=()=>{e.$$.dirty&41943047&&n(27,r=m||((c-l)/d>=(h?50:100)?(c-l)/(h?10:20):1)),e.$$.dirty&142606339&&n(20,i=parseInt((c-l)/(d*r),10)),e.$$.dirty&142671873&&n(19,o=function(M){return q(l+M*d*r)}),e.$$.dirty&16842752&&n(18,a=function(M){return u.some(B=>q(B)===q(M))}),e.$$.dirty&20971520&&n(17,s=function(M){if(f==="min")return u[0]>M;if(f==="max")return u[0]<M;if(f)return u[0]<M&&u[1]>M})},[l,c,h,p,g,b,y,S,_,v,w,k,E,R,I,A,q,s,a,o,i,D,f,d,u,m,P,r]}class E8 extends Mt{constructor(t){super(),St(this,t,T8,k8,kt,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function Qu(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}function Ku(e){let t,n=e[21](e[64],e[66],e[23](e[64]))+"",r,i=e[18]&&ed(e),o=e[19]&&td(e);return{c(){t=W("span"),i&&i.c(),r=xe(n),o&&o.c(),this.h()},l(a){t=Y(a,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),o&&o.l(s),s.forEach(C),this.h()},h(){O(t,"class","rangeFloat")},m(a,s){J(a,t,s),i&&i.m(t,null),H(t,r),o&&o.m(t,null)},p(a,s){a[18]?i?i.p(a,s):(i=ed(a),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s[0]&10485761&&n!==(n=a[21](a[64],a[66],a[23](a[64]))+"")&&Ze(r,n),a[19]?o?o.p(a,s):(o=td(a),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(a){a&&C(t),i&&i.d(),o&&o.d()}}}function ed(e){let t,n;return{c(){t=W("span"),n=xe(e[18]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[18]),i.forEach(C),this.h()},h(){O(t,"class","rangeFloat-prefix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i[0]&262144&&Ze(n,r[18])},d(r){r&&C(t)}}}function td(e){let t,n;return{c(){t=W("span"),n=xe(e[19]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[19]),i.forEach(C),this.h()},h(){O(t,"class","rangeFloat-suffix")},m(r,i){J(r,t,i),H(t,n)},p(r,i){i[0]&524288&&Ze(n,r[19])},d(r){r&&C(t)}}}function nd(e){let t,n,r,i,o,a,s,f,l,c,d,u,h=e[7]&&Ku(e);return{c(){t=W("span"),n=W("span"),r=ge(),h&&h.c(),this.h()},l(p){t=Y(p,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var g=j(t);n=Y(g,"SPAN",{class:!0}),j(n).forEach(C),r=me(g),h&&h.l(g),g.forEach(C),this.h()},h(){O(n,"class","rangeNub"),O(t,"role","slider"),O(t,"class","rangeHandle"),O(t,"data-handle",e[66]),O(t,"style",i=e[28]+": "+e[29][e[66]]+"%; z-index: "+(e[26]===e[66]?3:2)+";"),O(t,"aria-valuemin",o=e[2]===!0&&e[66]===1?e[0][0]:e[3]),O(t,"aria-valuemax",a=e[2]===!0&&e[66]===0?e[0][1]:e[4]),O(t,"aria-valuenow",s=e[64]),O(t,"aria-valuetext",f=""+(e[18]+e[21](e[64],e[66],e[23](e[64]))+e[19])),O(t,"aria-orientation",l=e[6]?"vertical":"horizontal"),O(t,"aria-disabled",e[10]),O(t,"disabled",e[10]),O(t,"tabindex",c=e[10]?-1:0),ce(t,"active",e[24]&&e[26]===e[66]),ce(t,"press",e[25]&&e[26]===e[66])},m(p,g){J(p,t,g),H(t,n),H(t,r),h&&h.m(t,null),d||(u=[Te(t,"blur",e[34]),Te(t,"focus",e[35]),Te(t,"keydown",e[36])],d=!0)},p(p,g){p[7]?h?h.p(p,g):(h=Ku(p),h.c(),h.m(t,null)):h&&(h.d(1),h=null),g[0]&872415232&&i!==(i=p[28]+": "+p[29][p[66]]+"%; z-index: "+(p[26]===p[66]?3:2)+";")&&O(t,"style",i),g[0]&13&&o!==(o=p[2]===!0&&p[66]===1?p[0][0]:p[3])&&O(t,"aria-valuemin",o),g[0]&21&&a!==(a=p[2]===!0&&p[66]===0?p[0][1]:p[4])&&O(t,"aria-valuemax",a),g[0]&1&&s!==(s=p[64])&&O(t,"aria-valuenow",s),g[0]&11272193&&f!==(f=""+(p[18]+p[21](p[64],p[66],p[23](p[64]))+p[19]))&&O(t,"aria-valuetext",f),g[0]&64&&l!==(l=p[6]?"vertical":"horizontal")&&O(t,"aria-orientation",l),g[0]&1024&&O(t,"aria-disabled",p[10]),g[0]&1024&&O(t,"disabled",p[10]),g[0]&1024&&c!==(c=p[10]?-1:0)&&O(t,"tabindex",c),g[0]&83886080&&ce(t,"active",p[24]&&p[26]===p[66]),g[0]&100663296&&ce(t,"press",p[25]&&p[26]===p[66])},d(p){p&&C(t),h&&h.d(),d=!1,Mn(u)}}}function rd(e){let t,n;return{c(){t=W("span"),this.h()},l(r){t=Y(r,"SPAN",{class:!0,style:!0}),j(t).forEach(C),this.h()},h(){O(t,"class","rangeBar"),O(t,"style",n=e[28]+": "+e[32](e[29])+"%; "+e[27]+": "+e[33](e[29])+"%;")},m(r,i){J(r,t,i)},p(r,i){i[0]&939524096&&n!==(n=r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;")&&O(t,"style",n)},d(r){r&&C(t)}}}function id(e){let t,n;return t=new E8({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[28],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[24],percentOf:e[23],moveHandle:e[31],fixFloat:e[30]}}),{c(){et(t.$$.fragment)},l(r){tt(t.$$.fragment,r)},m(r,i){nt(t,r,i),n=!0},p(r,i){const o={};i[0]&1&&(o.values=r[0]),i[0]&8&&(o.min=r[3]),i[0]&16&&(o.max=r[4]),i[0]&32&&(o.step=r[5]),i[0]&4&&(o.range=r[2]),i[0]&64&&(o.vertical=r[6]),i[0]&256&&(o.reversed=r[8]),i[0]&268435456&&(o.orientationStart=r[28]),i[0]&512&&(o.hoverable=r[9]),i[0]&1024&&(o.disabled=r[10]),i[0]&8192&&(o.all=r[13]),i[0]&16384&&(o.first=r[14]),i[0]&32768&&(o.last=r[15]),i[0]&65536&&(o.rest=r[16]),i[0]&4096&&(o.pipstep=r[12]),i[0]&262144&&(o.prefix=r[18]),i[0]&524288&&(o.suffix=r[19]),i[0]&1048576&&(o.formatter=r[20]),i[0]&16777216&&(o.focus=r[24]),i[0]&8388608&&(o.percentOf=r[23]),t.$set(o)},i(r){n||(ve(t.$$.fragment,r),n=!0)},o(r){we(t.$$.fragment,r),n=!1},d(r){rt(t,r)}}}function A8(e){let t,n,r,i,o,a,s=e[0],f=[];for(let d=0;d<s.length;d+=1)f[d]=nd(Qu(e,s,d));let l=e[2]&&rd(e),c=e[11]&&id(e);return{c(){t=W("div");for(let d=0;d<f.length;d+=1)f[d].c();n=ge(),l&&l.c(),r=ge(),c&&c.c(),this.h()},l(d){t=Y(d,"DIV",{id:!0,class:!0});var u=j(t);for(let h=0;h<f.length;h+=1)f[h].l(u);n=me(u),l&&l.l(u),r=me(u),c&&c.l(u),u.forEach(C),this.h()},h(){O(t,"id",e[17]),O(t,"class","rangeSlider"),ce(t,"range",e[2]),ce(t,"disabled",e[10]),ce(t,"hoverable",e[9]),ce(t,"vertical",e[6]),ce(t,"reversed",e[8]),ce(t,"focus",e[24]),ce(t,"min",e[2]==="min"),ce(t,"max",e[2]==="max"),ce(t,"pips",e[11]),ce(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,u){J(d,t,u);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null);H(t,n),l&&l.m(t,null),H(t,r),c&&c.m(t,null),e[50](t),i=!0,o||(a=[Te(window,"mousedown",e[39]),Te(window,"touchstart",e[39]),Te(window,"mousemove",e[40]),Te(window,"touchmove",e[40]),Te(window,"mouseup",e[41]),Te(window,"touchend",e[42]),Te(window,"keydown",e[43]),Te(t,"mousedown",e[37]),Te(t,"mouseup",e[38]),Te(t,"touchstart",ri(e[37])),Te(t,"touchend",ri(e[38]))],o=!0)},p(d,u){if(u[0]&934020317|u[1]&56){s=d[0];let h;for(h=0;h<s.length;h+=1){const p=Qu(d,s,h);f[h]?f[h].p(p,u):(f[h]=nd(p),f[h].c(),f[h].m(t,n))}for(;h<f.length;h+=1)f[h].d(1);f.length=s.length}d[2]?l?l.p(d,u):(l=rd(d),l.c(),l.m(t,r)):l&&(l.d(1),l=null),d[11]?c?(c.p(d,u),u[0]&2048&&ve(c,1)):(c=id(d),c.c(),ve(c,1),c.m(t,null)):c&&(Ug(),we(c,1,1,()=>{c=null}),zg()),(!i||u[0]&131072)&&O(t,"id",d[17]),(!i||u[0]&4)&&ce(t,"range",d[2]),(!i||u[0]&1024)&&ce(t,"disabled",d[10]),(!i||u[0]&512)&&ce(t,"hoverable",d[9]),(!i||u[0]&64)&&ce(t,"vertical",d[6]),(!i||u[0]&256)&&ce(t,"reversed",d[8]),(!i||u[0]&16777216)&&ce(t,"focus",d[24]),(!i||u[0]&4)&&ce(t,"min",d[2]==="min"),(!i||u[0]&4)&&ce(t,"max",d[2]==="max"),(!i||u[0]&2048)&&ce(t,"pips",d[11]),(!i||u[0]&122880)&&ce(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(ve(c),i=!0)},o(d){we(c),i=!1},d(d){d&&C(t),Bo(f,d),l&&l.d(),c&&c.d(),e[50](null),o=!1,Mn(a)}}}function od(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function fs(e){return e.type.includes("touch")?e.touches[0]:e}function x8(e,t,n){let r,i,o,a,s,f,l=Ve,c=()=>(l(),l=_d(T,x=>n(29,f=x)),T);e.$$.on_destroy.push(()=>l());let{slider:d=void 0}=t,{range:u=!1}=t,{pushy:h=!1}=t,{min:p=0}=t,{max:g=100}=t,{step:b=1}=t,{values:m=[(g+p)/2]}=t,{vertical:y=!1}=t,{float:S=!1}=t,{reversed:_=!1}=t,{hoverable:v=!0}=t,{disabled:w=!1}=t,{pips:k=!1}=t,{pipstep:E=void 0}=t,{all:R=void 0}=t,{first:I=void 0}=t,{last:A=void 0}=t,{rest:P=void 0}=t,{id:q=void 0}=t,{prefix:D=""}=t,{suffix:M=""}=t,{formatter:B=(x,re,Me)=>x}=t,{handleFormatter:L=B}=t,{precision:V=2}=t,{springValues:U={stiffness:.15,damping:.4}}=t;const X=Vg();let ee=0,Z=!1,K=!1,ye=!1,fe=!1,oe=m.length-1,te,ie,T;const F=x=>parseFloat(x.toFixed(V));function z(x){const re=d.querySelectorAll(".handle"),Me=Array.prototype.includes.call(re,x),Se=Array.prototype.some.call(re,Dt=>Dt.contains(x));return Me||Se}function N(x){return u==="min"||u==="max"?x.slice(0,1):u?x.slice(0,2):x}function Q(){return d.getBoundingClientRect()}function se(x){const re=Q();let Me=0,Se=0,Dt=0;y?(Me=x.clientY-re.top,Se=Me/re.height*100,Se=_?Se:100-Se):(Me=x.clientX-re.left,Se=Me/re.width*100,Se=_?100-Se:Se),Dt=(g-p)/100*Se+p;let Or;return u===!0&&m[0]===m[1]?Dt>m[1]?1:0:(Or=m.indexOf([...m].sort((Ii,Li)=>Math.abs(Dt-Ii)-Math.abs(Dt-Li))[0]),Or)}function le(x){const re=Q();let Me=0,Se=0,Dt=0;y?(Me=x.clientY-re.top,Se=Me/re.height*100,Se=_?Se:100-Se):(Me=x.clientX-re.left,Se=Me/re.width*100,Se=_?100-Se:Se),Dt=(g-p)/100*Se+p,ae(oe,Dt)}function ae(x,re){return re=o(re),typeof x>"u"&&(x=oe),u&&(x===0&&re>m[1]?h?n(0,m[1]=re,m):re=m[1]:x===1&&re<m[0]&&(h?n(0,m[0]=re,m):re=m[0])),m[x]!==re&&n(0,m[x]=re,m),ie!==re&&(Nt(),ie=re),re}function ne(x){return u==="min"?0:x[0]}function Le(x){return u==="max"?0:u==="min"?100-x[0]:100-x[1]}function De(x){fe&&(n(24,Z=!1),K=!1,n(25,ye=!1))}function Ye(x){w||(n(26,oe=od(x.target)),n(24,Z=!0))}function Ae(x){if(!w){const re=od(x.target);let Me=x.ctrlKey||x.metaKey||x.shiftKey?b*10:b,Se=!1;switch(x.key){case"PageDown":Me*=10;case"ArrowRight":case"ArrowUp":ae(re,m[re]+Me),Se=!0;break;case"PageUp":Me*=10;case"ArrowLeft":case"ArrowDown":ae(re,m[re]-Me),Se=!0;break;case"Home":ae(re,p),Se=!0;break;case"End":ae(re,g),Se=!0;break}Se&&(x.preventDefault(),x.stopPropagation())}}function gt(x){if(!w){const re=x.target,Me=fs(x);n(24,Z=!0),K=!0,n(25,ye=!0),n(26,oe=se(Me)),te=ie=o(m[oe]),mt(),x.type==="touchstart"&&!re.matches(".pipVal")&&le(Me)}}function ze(x){x.type==="touchend"&&Ct(),n(25,ye=!1)}function Zt(x){fe=!1,Z&&x.target!==d&&!d.contains(x.target)&&n(24,Z=!1)}function Ge(x){w||K&&le(fs(x))}function $(x){if(!w){const re=x.target;K&&((re===d||d.contains(re))&&(n(24,Z=!0),!z(re)&&!re.matches(".pipVal")&&le(fs(x))),Ct())}K=!1,n(25,ye=!1)}function G(x){K=!1,n(25,ye=!1)}function qe(x){w||(x.target===d||d.contains(x.target))&&(fe=!0)}function mt(){!w&&X("start",{activeHandle:oe,value:te,values:m.map(x=>o(x))})}function Ct(){!w&&X("stop",{activeHandle:oe,startValue:te,value:m[oe],values:m.map(x=>o(x))})}function Nt(){!w&&X("change",{activeHandle:oe,startValue:te,previousValue:typeof ie>"u"?te:ie,value:m[oe],values:m.map(x=>o(x))})}function nr(x){Pe[x?"unshift":"push"](()=>{d=x,n(1,d)})}return e.$$set=x=>{"slider"in x&&n(1,d=x.slider),"range"in x&&n(2,u=x.range),"pushy"in x&&n(44,h=x.pushy),"min"in x&&n(3,p=x.min),"max"in x&&n(4,g=x.max),"step"in x&&n(5,b=x.step),"values"in x&&n(0,m=x.values),"vertical"in x&&n(6,y=x.vertical),"float"in x&&n(7,S=x.float),"reversed"in x&&n(8,_=x.reversed),"hoverable"in x&&n(9,v=x.hoverable),"disabled"in x&&n(10,w=x.disabled),"pips"in x&&n(11,k=x.pips),"pipstep"in x&&n(12,E=x.pipstep),"all"in x&&n(13,R=x.all),"first"in x&&n(14,I=x.first),"last"in x&&n(15,A=x.last),"rest"in x&&n(16,P=x.rest),"id"in x&&n(17,q=x.id),"prefix"in x&&n(18,D=x.prefix),"suffix"in x&&n(19,M=x.suffix),"formatter"in x&&n(20,B=x.formatter),"handleFormatter"in x&&n(21,L=x.handleFormatter),"precision"in x&&n(45,V=x.precision),"springValues"in x&&n(46,U=x.springValues)},e.$$.update=()=>{e.$$.dirty[0]&24&&n(49,i=function(x){return x<=p?p:x>=g?g:x}),e.$$.dirty[0]&56|e.$$.dirty[1]&262144&&n(48,o=function(x){if(x<=p)return F(p);if(x>=g)return F(g);let re=(x-p)%b,Me=x-re;return Math.abs(re)*2>=b&&(Me+=re>0?b:-b),Me=i(Me),F(Me)}),e.$$.dirty[0]&24&&n(23,r=function(x){let re=(x-p)/(g-p)*100;return isNaN(re)||re<=0?0:re>=100?100:F(re)}),e.$$.dirty[0]&12582937|e.$$.dirty[1]&229376&&(Array.isArray(m)||(n(0,m=[(g+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,m=N(m.map(x=>o(x)))),ee!==m.length?c(n(22,T=S8(m.map(x=>r(x)),U))):T.set(m.map(x=>r(x))),n(47,ee=m.length)),e.$$.dirty[0]&320&&n(28,a=y?_?"top":"bottom":_?"right":"left"),e.$$.dirty[0]&320&&n(27,s=y?_?"bottom":"top":_?"left":"right")},[m,d,u,p,g,b,y,S,_,v,w,k,E,R,I,A,P,q,D,M,B,L,T,r,Z,ye,oe,s,a,f,F,ae,ne,Le,De,Ye,Ae,gt,ze,Zt,Ge,$,G,qe,h,V,U,ee,o,i,nr]}class C8 extends Mt{constructor(t){super(),St(this,t,x8,A8,kt,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function N8(e){let t,n;return{c(){t=W("p"),n=xe(e[4])},l(r){t=Y(r,"P",{});var i=j(t);n=Ce(i,e[4]),i.forEach(C)},m(r,i){J(r,t,i),H(t,n)},p:Ve,d(r){r&&C(t)}}}function D8(e){let t,n,r,i,o,a=e[4]&&N8(e);function s(l){e[10](l)}let f={min:e[2],max:e[3],pips:!0,range:!0,float:!0,first:"label",last:"label",disabled:e[1]==null,id:"slider"};return e[0]!==void 0&&(f.values=e[0]),r=new C8({props:f}),Pe.push(()=>Hg(r,"values",s)),r.$on("stop",e[5]),{c(){t=W("div"),a&&a.c(),n=ge(),et(r.$$.fragment),this.h()},l(l){t=Y(l,"DIV",{class:!0,id:!0});var c=j(t);a&&a.l(c),n=me(c),tt(r.$$.fragment,c),c.forEach(C),this.h()},h(){O(t,"class","px-[1%] py-[1%] ml-[2.1%]"),O(t,"id","slider")},m(l,c){J(l,t,c),a&&a.m(t,null),H(t,n),nt(r,t,null),o=!0},p(l,[c]){l[4]&&a.p(l,c);const d={};c&2&&(d.disabled=l[1]==null),!i&&c&1&&(i=!0,d.values=l[0],jg(()=>i=!1)),r.$set(d)},i(l){o||(ve(r.$$.fragment,l),o=!0)},o(l){we(r.$$.fragment,l),o=!1},d(l){l&&C(t),a&&a.d(),rt(r)}}}function I8(e,t,n){let r,i,o,a,s;Ue(e,at,w=>n(9,r=w)),Ue(e,bt,w=>n(12,i=w)),Ue(e,ei,w=>n(13,o=w)),Ue(e,ca,w=>n(14,a=w)),Ue(e,Qi,w=>n(1,s=w));let{spec:f}=t,{min:l,max:c,id:d,description:u,widget_id:h}=f;a.margin;let p=[l,c],g=[...p],b=[];function m(){i!=null&&r!=null&&r.length!=0&&(console.log("args for widget for slider",r[i]),console.log("widget for slider",r[i][h]),n(0,p=[Number(r[i][h].start),Number(r[i][h].end)]),console.log("render for slider values are",p),_())}function y(w){console.log("addsource",w),b.push(w)}function S(){pt(ei,o=!0,o),_()}function _(){if(!ai(p,g)){let w={};w[d]={left:p[0],right:p[1]},pt(at,r[i][h]={start:Number(p[0]),end:Number(p[1])},r),b.forEach(k=>{k.trigger(w,d)})}g=[...p]}function v(w){p=w,n(0,p)}return e.$$set=w=>{"spec"in w&&n(6,f=w.spec)},e.$$.update=()=>{e.$$.dirty&512&&m()},[p,s,l,c,u,S,f,m,y,r,v]}class vl extends Mt{constructor(t){super(),St(this,t,I8,D8,kt,{spec:6,render:7,addSourceIact:8})}get render(){return this.$$.ctx[7]}get addSourceIact(){return this.$$.ctx[8]}}function L8(e,t={}){if(!e||e.length===0)return[];let n=oi(e[0]),r=t.include?t.include:n;r=Il(t.include||n,t.exclude||[]);let i=Il(n,r);return console.log(r,i),cm(o=>r.map(a=>{let s=um(i,o);return s[t.key||"key"]=a,s[t.value||"value"]=o[a],s}),e)}function O8(e){let t,n,r,i,o,a,s,f;return{c(){t=W("div"),n=ge(),r=W("div"),i=W("div"),o=ge(),a=ti("svg"),this.h()},l(l){t=Y(l,"DIV",{}),j(t).forEach(C),n=me(l),r=Y(l,"DIV",{id:!0});var c=j(r);i=Y(c,"DIV",{}),j(i).forEach(C),o=me(c),a=ni(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var d=j(a);d.forEach(C),c.forEach(C),this.h()},h(){O(a,"class",""),O(a,"viewBox","0 0 800 0"),O(a,"width","100%"),O(a,"height","0"),O(r,"id",e[0])},m(l,c){J(l,t,c),J(l,n,c),J(l,r,c),H(r,i),e[13](i),H(r,o),H(r,a),e[14](a),e[15](r),s||(f=Fo(xa.call(null,t,$8)),s=!0)},p(l,[c]){c&1&&O(r,"id",l[0])},i:Ve,o:Ve,d(l){l&&C(t),l&&C(n),l&&C(r),e[13](null),e[14](null),e[15](null),s=!1,f()}}}let P8=400;function $8(){}function q8(e,t,n){let r;Ue(e,ca,w=>n(19,r=w));let{name:i,groupNames:o=[],title:a="",xAttr:s,yAttr:f="val",yMax:l,xDomainMin:c=null,xDomainMax:d=null}=t,{theplot:u=null}=t,h=null,p=null,g=[],b=[{year:1994,rank:1},{year:2003,rank:2}],m;function y(w,k){console.log("OBPlot",w,k,m.getBoundingClientRect()),k=="overlay"||(k=="bad_year_q"?(w&&w.forEach((M,B)=>{M.rank=B+1,M[s]=Number(M[s])}),b=w??b):w&&(g=L8(w,{include:o}),g.forEach(M=>M[s]=Number(M[s]))));let E=r.margin,R=m.getBoundingClientRect().width,I=P8-E.top-E.bottom;n(4,c=+c),n(5,d=+d);let A=of({x:{type:"linear",domain:[c-1,d]}}),P=M=>(b.length-M.rank)*(.3/b.length)+.7,q={x:A,color:{domain:o,range:ia,legend:!0,style:{"font-size":"0.8rem","margin-left":"2em"}},width:R,height:I,marginBottom:50,marks:[Ir({ticks:dm(M=>M+c,d-c),tickRotate:-45,fontSize:"0.8rem",tickFormat:M=>(M+"").slice(-2)}),Ni({fontSize:"0.8rem",label:"Payout"}),pl([0]),hl([A.domain[0]]),cf(b,{x1:M=>M[s]-.5,x2:M=>M[s]+.5,y:P,stroke:"black",opacity:.8,strokeWidth:1}),H4(b,{x1:M=>M[s]-.5,x2:M=>M[s]+.5,y1:0,y2:P,fill:"gray",opacity:.1})]};o.forEach((M,B)=>{let L=(1+B)/o.length*.7;q.marks.push(cf(g,{filter:V=>V.key==M&&V[s]>=c&&V[s]<=d,x:V=>+V[s]+L-.35,y1:0,y2:f,stroke:"key",strokeWidth:4}))}),console.log("OBPlot options",q),n(6,u=Di(q)),u.children[1].setAttribute("width","100%"),console.log("OBPlot",u),n(2,p.innerHTML="",p),p.appendChild(u)}function S(w){Pe[w?"unshift":"push"](()=>{p=w,n(2,p)})}function _(w){Pe[w?"unshift":"push"](()=>{m=w,n(3,m)})}function v(w){Pe[w?"unshift":"push"](()=>{h=w,n(1,h)})}return e.$$set=w=>{"name"in w&&n(0,i=w.name),"groupNames"in w&&n(7,o=w.groupNames),"title"in w&&n(8,a=w.title),"xAttr"in w&&n(9,s=w.xAttr),"yAttr"in w&&n(10,f=w.yAttr),"yMax"in w&&n(11,l=w.yMax),"xDomainMin"in w&&n(4,c=w.xDomainMin),"xDomainMax"in w&&n(5,d=w.xDomainMax),"theplot"in w&&n(6,u=w.theplot)},[i,h,p,m,c,d,u,o,a,s,f,l,y,S,_,v]}class R8 extends Mt{constructor(t){super(),St(this,t,q8,O8,kt,{name:0,groupNames:7,title:8,xAttr:9,yAttr:10,yMax:11,xDomainMin:4,xDomainMax:5,theplot:6,render:12})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),$e()}get groupNames(){return this.$$.ctx[7]}set groupNames(t){this.$$set({groupNames:t}),$e()}get title(){return this.$$.ctx[8]}set title(t){this.$$set({title:t}),$e()}get xAttr(){return this.$$.ctx[9]}set xAttr(t){this.$$set({xAttr:t}),$e()}get yAttr(){return this.$$.ctx[10]}set yAttr(t){this.$$set({yAttr:t}),$e()}get yMax(){return this.$$.ctx[11]}set yMax(t){this.$$set({yMax:t}),$e()}get xDomainMin(){return this.$$.ctx[4]}set xDomainMin(t){this.$$set({xDomainMin:t}),$e()}get xDomainMax(){return this.$$.ctx[5]}set xDomainMax(t){this.$$set({xDomainMax:t}),$e()}get theplot(){return this.$$.ctx[6]}set theplot(t){this.$$set({theplot:t}),$e()}get render(){return this.$$.ctx[12]}}function F8(e){let t,n,r,i,o,a,s,f,l;return{c(){t=W("div"),n=ge(),r=W("div"),i=W("div"),o=ge(),a=ti("svg"),s=ti("g"),this.h()},l(c){t=Y(c,"DIV",{}),j(t).forEach(C),n=me(c),r=Y(c,"DIV",{id:!0});var d=j(r);i=Y(d,"DIV",{}),j(i).forEach(C),o=me(d),a=ni(d,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=j(a);s=ni(u,"g",{}),j(s).forEach(C),u.forEach(C),d.forEach(C),this.h()},h(){O(a,"class",""),O(a,"viewBox","0 0 800 0"),O(a,"width","100%"),O(a,"height","0"),O(r,"id",e[0])},m(c,d){J(c,t,d),J(c,n,d),J(c,r,d),H(r,i),e[8](i),H(r,o),H(r,a),H(a,s),e[9](s),e[10](r),f||(l=Fo(xa.call(null,t,U8)),f=!0)},p(c,[d]){d&1&&O(r,"id",c[0])},i:Ve,o:Ve,d(c){c&&C(t),c&&C(n),c&&C(r),e[8](null),e[9](null),e[10](null),f=!1,l()}}}let ad=800,B8=200;function U8(){}function z8(e,t,n){let{name:r,xDomainMin:i,xDomainMax:o,timeDomainMode:a}=t,s,f,l={},c=[],d;function u(b,m){if(console.log("data into crop calendar is:",b),m=="overlay")l=b??l;else{if(!b||b.length===0)return;c=b}ad-zn.left-zn.right;let y=Math.max(B8,Sm(ro("crop",c)).length*100+50),S={x:{domain:[+i,+o],type:"linear"},y:{axis:null},width:ad,height:y,marginBottom:50,fy:{label:null,tickRotate:-90,labelAnchor:"center"},marks:[Ir({ticks:36,fontSize:"0.8rem"}),vg(),cf(c,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),Ta(c,{x:w=>{let k=(w.end_time-w.start_time)/2+w.start_time;return console.log("yy",w,k),k},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:11,color:"gray",text:"activity"})]};oi(l).length>0&&(S.color={domain:ro("key",l),range:ia,legend:!0,style:{"font-size":"0.8rem","margin-left":"2em"}},S.marks.push(xg(l,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})));let _=Di(S);_.children[1].setAttribute("width","100%"),n(2,f.innerHTML="",f),f.appendChild(_)}function h(b){Pe[b?"unshift":"push"](()=>{f=b,n(2,f)})}function p(b){Pe[b?"unshift":"push"](()=>{d=b,n(3,d)})}function g(b){Pe[b?"unshift":"push"](()=>{s=b,n(1,s)})}return e.$$set=b=>{"name"in b&&n(0,r=b.name),"xDomainMin"in b&&n(4,i=b.xDomainMin),"xDomainMax"in b&&n(5,o=b.xDomainMax),"timeDomainMode"in b&&n(6,a=b.timeDomainMode)},[r,s,f,d,i,o,a,u,h,p,g]}class V8 extends Mt{constructor(t){super(),St(this,t,z8,F8,kt,{name:0,xDomainMin:4,xDomainMax:5,timeDomainMode:6,render:7})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),$e()}get xDomainMin(){return this.$$.ctx[4]}set xDomainMin(t){this.$$set({xDomainMin:t}),$e()}get xDomainMax(){return this.$$.ctx[5]}set xDomainMax(t){this.$$set({xDomainMax:t}),$e()}get timeDomainMode(){return this.$$.ctx[6]}set timeDomainMode(t){this.$$set({timeDomainMode:t}),$e()}get render(){return this.$$.ctx[7]}}function H8(e){let t,n,r,i,o,a,s,f;return{c(){t=W("div"),n=ge(),r=W("div"),i=W("div"),o=ge(),a=ti("svg"),this.h()},l(l){t=Y(l,"DIV",{}),j(t).forEach(C),n=me(l),r=Y(l,"DIV",{id:!0});var c=j(r);i=Y(c,"DIV",{}),j(i).forEach(C),o=me(c),a=ni(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var d=j(a);d.forEach(C),c.forEach(C),this.h()},h(){O(a,"class",""),O(a,"viewBox","0 0 800 0"),O(a,"width","100%"),O(a,"height","0"),O(r,"id",e[0])},m(l,c){J(l,t,c),J(l,n,c),J(l,r,c),H(r,i),e[5](i),H(r,o),H(r,a),e[6](r),s||(f=Fo(xa.call(null,t,j8)),s=!0)},p(l,[c]){c&1&&O(r,"id",l[0])},i:Ve,o:Ve,d(l){l&&C(t),l&&C(n),l&&C(r),e[5](null),e[6](null),s=!1,f()}}}let sd=800,fd=300;function j8(){}function W8(e,t,n){let{name:r}=t,i,o,a=[];function s(c,d){if(console.log("MatchingTable data",c),n(4,a=c??a),!a||a.length==0)return;sd-zn.left-zn.right,fd-zn.top-zn.bottom;let u=of({color:{type:"linear",scheme:"Greens",legend:!0,style:{"font-size":"0.8rem","margin-left":150}}}),h=of({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=a.map(y=>h.apply(co(u.apply(+y.value)).l)),g={padding:0,width:sd,height:fd,marginLeft:150,color:u,marks:[Ir({fontSize:"0.8rem",label:null}),Ni({fontSize:"0.8rem",label:null}),R4(a,{x:"x",y:"y",fill:y=>+y.value,stroke:"white"}),Ta(a,{x:"x",y:"y",text:y=>y.value,fill:p,fontSize:"12pt",fontWeight:"bold",textAnchor:"middle"})]},b=Di(g);b.children[1].setAttribute("width","100%"),n(2,o.innerHTML="",o),o.appendChild(b)}function f(c){Pe[c?"unshift":"push"](()=>{o=c,n(2,o)})}function l(c){Pe[c?"unshift":"push"](()=>{i=c,n(1,i)})}return e.$$set=c=>{"name"in c&&n(0,r=c.name)},e.$$.update=()=>{e.$$.dirty&16&&s(a)},[r,i,o,s,a,f,l]}class Y8 extends Mt{constructor(t){super(),St(this,t,W8,H8,kt,{name:0,render:3})}get render(){return this.$$.ctx[3]}}function ld(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function cd(e){var i;let t,n=((i=e[15].village)==null?void 0:i.replace(/_/g," "))+"",r;return{c(){t=W("option"),r=xe(n),this.h()},l(o){t=Y(o,"OPTION",{});var a=j(t);r=Ce(a,n),a.forEach(C),this.h()},h(){t.__value=e[17],t.value=t.__value},m(o,a){J(o,t,a),H(t,r)},p(o,a){var s;a&1&&n!==(n=((s=o[15].village)==null?void 0:s.replace(/_/g," "))+"")&&Ze(r,n)},d(o){o&&C(t)}}}function G8(e){let t,n,r,i,o=e[0],a=[];for(let s=0;s<o.length;s+=1)a[s]=cd(ld(e,o,s));return{c(){t=W("div"),n=W("select");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0,id:!0});var f=j(t);n=Y(f,"SELECT",{class:!0});var l=j(n);for(let c=0;c<a.length;c+=1)a[c].l(l);l.forEach(C),f.forEach(C),this.h()},h(){O(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&yd(()=>e[7].call(n)),O(t,"class","px-[1%] py-[1%] ml-[5.9%]"),O(t,"id","dropdown")},m(s,f){J(s,t,f),H(t,n);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(n,null);eo(n,e[1],!0),r||(i=[Te(n,"change",e[7]),Te(n,"change",e[2])],r=!0)},p(s,[f]){if(f&1){o=s[0];let l;for(l=0;l<o.length;l+=1){const c=ld(s,o,l);a[l]?a[l].p(c,f):(a[l]=cd(c),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}f&2&&eo(n,s[1])},i:Ve,o:Ve,d(s){s&&C(t),Bo(a,s),r=!1,Mn(i)}}}function X8(e,t,n){let r,i;Ue(e,bt,m=>n(6,r=m)),Ue(e,ca,m=>n(9,i=m));let{spec:o}=t,a=[],s=null,f=null,{id:l,index:c,widget_id:d}=o,u=[];i.margin;function h(m,y){console.log("whats in dropdown",m),n(0,u=m??u),n(1,f=r??f),console.log("at end of render",u,f)}function p(m){console.log("addsource",m),a.push(m)}function g(){if(console.log("onStop for regular dropdown",u,s,ai(f,s)),console.log("onStop for regular dropdown and new selection ",f,s),console.log("onStop for regular dropdown new selection value ",u[f]),!ai(f,s)){let m={};pt(bt,r=f,r),m[l]={value:u[f].gid},console.log("dropdown.onstop",a),a.forEach(y=>{console.log("dropdown.trigger",m,l),y.trigger(m,l)})}s=f}function b(){f=vd(this),n(1,f)}return e.$$set=m=>{"spec"in m&&n(3,o=m.spec)},e.$$.update=()=>{e.$$.dirty&65&&h(u)},[u,f,g,o,h,p,r,b]}class Z8 extends Mt{constructor(t){super(),St(this,t,X8,G8,kt,{spec:3,render:4,addSourceIact:5})}get render(){return this.$$.ctx[4]}get addSourceIact(){return this.$$.ctx[5]}}function ud(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function dd(e){let t=console.log("in matching dropdown, row is",e[16],e[18])+"",n,r,i=Object.values(e[16])[1]+"",o,a;return{c(){n=xe(t),r=W("option"),o=xe(i),this.h()},l(s){n=Ce(s,t),r=Y(s,"OPTION",{});var f=j(r);o=Ce(f,i),f.forEach(C),this.h()},h(){r.__value=a=Object.values(e[16])[0],r.value=r.__value},m(s,f){J(s,n,f),J(s,r,f),H(r,o)},p(s,f){f&1&&t!==(t=console.log("in matching dropdown, row is",s[16],s[18])+"")&&Ze(n,t),f&1&&i!==(i=Object.values(s[16])[1]+"")&&Ze(o,i),f&1&&a!==(a=Object.values(s[16])[0])&&(r.__value=a,r.value=r.__value)},d(s){s&&C(n),s&&C(r)}}}function J8(e){let t,n,r,i,o=e[0],a=[];for(let s=0;s<o.length;s+=1)a[s]=dd(ud(e,o,s));return{c(){t=W("div"),n=W("select");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0,id:!0});var f=j(t);n=Y(f,"SELECT",{class:!0});var l=j(n);for(let c=0;c<a.length;c+=1)a[c].l(l);l.forEach(C),f.forEach(C),this.h()},h(){O(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&yd(()=>e[8].call(n)),O(t,"class","px-[1%] py-[1%] ml-[5.9%]"),O(t,"id","dropdown")},m(s,f){J(s,t,f),H(t,n);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(n,null);eo(n,e[1],!0),r||(i=[Te(n,"change",e[8]),Te(n,"change",e[2])],r=!0)},p(s,[f]){if(f&1){o=s[0];let l;for(l=0;l<o.length;l+=1){const c=ud(s,o,l);a[l]?a[l].p(c,f):(a[l]=dd(c),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}f&3&&eo(n,s[1])},i:Ve,o:Ve,d(s){s&&C(t),Bo(a,s),r=!1,Mn(i)}}}function Q8(e,t,n){let r,i;Ue(e,bt,y=>n(7,r=y)),Ue(e,ca,y=>n(10,i=y));let{spec:o}=t,a=[],s=null,f=null,l=null,{id:c,index:d,widget_id:u}=o,h=[];i.margin;function p(y,S){console.log("whats in dropdown matching",y),n(0,h=y??h),n(1,f=f??0),n(6,l=r),console.log("at end of render for dropdown matching",h,f)}function g(y){console.log("addsource",y),a.push(y)}function b(){if(console.log("onStop for matching",h,s,ai(f,s)),!ai(f,s)){let y={};console.log("dropdownMatching value for index is",f),console.log("dropdownMatching.onstop value to pass",h,f,Object.values(h[f])[1],typeof f),y[c]={value:Object.values(h[f])[1]},console.log("dropdownMatching.onstop",a),a.forEach(S=>{console.log("dropdownMatching.trigger",y,c),S.trigger(y,c)})}s=f}function m(){f=vd(this),n(1,f),n(7,r),n(6,l),n(0,h),n(0,h)}return e.$$set=y=>{"spec"in y&&n(3,o=y.spec)},e.$$.update=()=>{e.$$.dirty&193&&(console.log("render triggered with drop_down index of...",r,l),r-l!=0&&(n(1,f=0),b()),p(h))},[h,f,b,o,p,g,l,r,m]}class K8 extends Mt{constructor(t){super(),St(this,t,Q8,J8,kt,{spec:3,render:4,addSourceIact:5})}get render(){return this.$$.ctx[4]}get addSourceIact(){return this.$$.ctx[5]}}const hd="0.6.0";var qo=i5,Ro=s5,Kt=[],Ot=[],e5=typeof Uint8Array<"u"?Uint8Array:Array,ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fr=0,t5=ls.length;fr<t5;++fr)Kt[fr]=ls[fr],Ot[ls.charCodeAt(fr)]=fr;Ot["-".charCodeAt(0)]=62;Ot["_".charCodeAt(0)]=63;function n5(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function r5(e,t,n){return(t+n)*3/4-n}function i5(e){var t,n=n5(e),r=n[0],i=n[1],o=new e5(r5(e,r,i)),a=0,s=i>0?r-4:r,f;for(f=0;f<s;f+=4)t=Ot[e.charCodeAt(f)]<<18|Ot[e.charCodeAt(f+1)]<<12|Ot[e.charCodeAt(f+2)]<<6|Ot[e.charCodeAt(f+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=Ot[e.charCodeAt(f)]<<2|Ot[e.charCodeAt(f+1)]>>4,o[a++]=t&255),i===1&&(t=Ot[e.charCodeAt(f)]<<10|Ot[e.charCodeAt(f+1)]<<4|Ot[e.charCodeAt(f+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function o5(e){return Kt[e>>18&63]+Kt[e>>12&63]+Kt[e>>6&63]+Kt[e&63]}function a5(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(o5(r));return i.join("")}function s5(e){for(var t,n=e.length,r=n%3,i=[],o=16383,a=0,s=n-r;a<s;a+=o)i.push(a5(e,a,a+o>s?s:a+o));return r===1?(t=e[n-1],i.push(Kt[t>>2]+Kt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Kt[t>>10]+Kt[t>>4&63]+Kt[t<<2&63]+"=")),i.join("")}const $g=!0,Er=BigInt("-9223372036854775808"),wl=BigInt("9223372036854775807"),df=BigInt("0"),f5=BigInt("8"),l5=BigInt("256");class yi{constructor(t,n){this.tableName=t,this.id=n}equals(t){return t instanceof yi?this.tableName===t.tableName&&this.id===t.id:!1}static fromJSON(t){if(typeof t.$id!="string")throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: $id isn't a string.`);const n=t.$id.split("|");if(n.length!==2)throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: Wrong number of parts.`);return new yi(n[0],n[1])}toJSON(){return{$id:`${this.tableName}|${this.id}`}}toString(){return this.id}inspect(){return`Id('${this.tableName}', '${this.id}')`}}function qg(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function c5(e){e<df&&(e-=Er+Er);let t=e.toString(16);t.length%2==1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=f5;return Ro(n)}function u5(e){const t=qo(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=df,r=df;for(const i of t)n+=BigInt(i)*l5**r,r++;return n>wl&&(n+=Er+Er),n}function d5(e){if(e<Er||wl<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Ro(new Uint8Array(t))}function h5(e){const t=qo(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const p5=DataView.prototype.setBigInt64?d5:c5,g5=DataView.prototype.getBigInt64?h5:u5,pd=64,m5=/^_+$/,b5=/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/;function Rg(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>pd)throw new Error(`Field name ${e} exceeds maximum field name length ${pd}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);if(m5.test(e))throw new Error(`Field name ${e} can't exclusively be underscores.`);if(!b5.test(e))throw new Error(`Field name ${e} must only contain alphanumeric characters or underscores and can't start with a number.`)}function cr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(e instanceof Array)return e.map(cr);if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$id"||r==="$weakRef"||r==="$strongRef")return yi.fromJSON(e);if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return qo(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return g5(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=qo(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const a=new DataView(i.buffer).getFloat64(0,$g);if(!qg(a))throw new Error(`Float ${a} should be encoded as a number`);return a}if(r==="$set"){if(!(e.$set instanceof Array))throw new Error(`Malformed $set field on ${e}`);return new Set(e.$set.map(cr))}if(r==="$map"){if(!(e.$map instanceof Array))throw new Error(`Malformed $map field on ${e}`);const i=new Map;for(const o of e.$map){if(!(o instanceof Array)||o.length!==2)throw new Error(`Malformed pair in $map ${e}`);const a=cr(o[0]),s=cr(o[1]);i.set(a,s)}return i}}const n={};for(const[r,i]of Object.entries(e))Rg(r),n[r]=cr(i);return n}function cs(e){return cr(e)}function us(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":n)}function ur(e,t,n){if(e===void 0)throw new Error(`undefined is not a valid Convex value (present at path ${n} in original object ${us(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);if(e===null)return e;if(e instanceof yi)return e.toJSON();if(typeof e=="bigint"){if(e<Er||wl<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:p5(e)}}if(typeof e=="number")if(qg(e)){const o=new ArrayBuffer(8);return new DataView(o).setFloat64(0,e,$g),{$float:Ro(new Uint8Array(o))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Ro(new Uint8Array(e))};if(e instanceof Array)return e.map((o,a)=>ur(o,t,n+`[${a}]`));if(e instanceof Set)return{$set:[...e].map((o,a)=>ur(o,t,n+`.keys()[${a}]`))};if(e instanceof Map)return{$map:[...e].map(([o,a],s)=>{const f=ur(o,t,n+`.keys()[${s}]`),l=ur(a,t,n+`.values()[${s}]`);return[f,l]})};if(typeof e!="object")throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${us(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const r=Object.getPrototypeOf(e);if(r!==null&&r!==Object.prototype)throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${us(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const i={};for(const[o,a]of Object.entries(e))Rg(o),i[o]=ur(a,t,n+`.${o}`);return i}function ds(e){return ur(e,e,"")}const _5="color:rgb(0, 145, 255)";function Fg(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A"}}function hs(e,t,n,r){const i=Fg(t);e=="info"?console.log(`%c[CONVEX ${i}(${n})] ${r}`,_5):console.error(`[CONVEX ${i}(${n})] ${r}`)}function gd(e,t,n){const r=Fg(e);return new Error(`[CONVEX ${r}(${t})] ${n}`)}const ps=560,y5=typeof window<"u"&&typeof window.fetch<"u",gs=y5?window.fetch:(...e)=>pm(()=>import("../chunks/index.c7fea64a.js"),["../chunks/index.c7fea64a.js","../chunks/database.7337c015.js","../chunks/index.18be492a.js","../chunks/paths.088b2208.js","../assets/database.e38cfa3a.css"],import.meta.url).then(({default:t})=>t(...e));class v5{constructor(t){this.address=`${t.address}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.auth=t}clearAuth(){this.auth=void 0}setDebug(t){this.debug=t}query(t){return async(...n)=>{const r=JSON.stringify(ds(n)),i=encodeURIComponent(r),o=`${this.address}/${hd}/udf?path=${t}&args=${i}`,a=this.auth?{Authorization:`Bearer ${this.auth}`}:{},s=await gs(o,{credentials:"include",headers:a});if(!s.ok&&s.status!=ps)throw new Error(await s.text());const f=await s.json(),l=cs(f.value);for(const c of f.logs)hs("info","query",t,c);if(!f.success)throw gd("query",t,l);return l}}mutation(t){return async(...n)=>{const r=JSON.stringify({path:t,args:ds(n),tokens:[]}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const o=await gs(`${this.address}/${hd}/udf`,{body:r,method:"POST",headers:i,credentials:"include"});if(!o.ok&&o.status!=ps)throw new Error(await o.text());const a=await o.json(),s=cs(a.value);for(const f of a.logs)hs("info","mutation",t,f);if(!a.success)throw gd("mutation",t,s);return s}}action(t){return async(...n)=>{const r=JSON.stringify({path:t,args:ds(n),debug:this.debug}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const o=await gs(`${this.address}/action`,{body:r,method:"POST",headers:i,credentials:"include"});if(!o.ok&&o.status!=ps)throw new Error(await o.text());const a=await o.json();for(const s of a.logLines??[])hs("info","action",t,s);switch(a.status){case"success":return cs(a.value),a.value;case"error":throw new Error(a.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(a)}`)}}}}function w5(e){let t,n,r,i,o,a,s,f,l,c,d,u,h,p,g=e[4]?"(unsaved changes)":"",b,m,y;return{c(){t=W("label"),n=xe("Logged in as "),r=xe(e[6]),i=ge(),o=W("button"),a=xe("Save"),s=ge(),f=W("button"),l=W("a"),c=xe("Download"),u=ge(),h=W("button"),p=xe("Logout "),b=xe(g),this.h()},l(S){t=Y(S,"LABEL",{for:!0,class:!0});var _=j(t);n=Ce(_,"Logged in as "),r=Ce(_,e[6]),_.forEach(C),i=me(S),o=Y(S,"BUTTON",{class:!0,label:!0});var v=j(o);a=Ce(v,"Save"),v.forEach(C),s=me(S),f=Y(S,"BUTTON",{class:!0});var w=j(f);l=Y(w,"A",{href:!0,download:!0});var k=j(l);c=Ce(k,"Download"),k.forEach(C),w.forEach(C),u=me(S),h=Y(S,"BUTTON",{class:!0});var E=j(h);p=Ce(E,"Logout "),b=Ce(E,g),E.forEach(C),this.h()},h(){O(t,"for",e[7]),O(t,"class","form-label"),O(o,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),O(o,"label","Save"),O(l,"href",d=hf(e[2],e[1])),O(l,"download","data.txt"),O(f,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),O(h,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5")},m(S,_){J(S,t,_),H(t,n),H(t,r),J(S,i,_),J(S,o,_),H(o,a),J(S,s,_),J(S,f,_),H(f,l),H(l,c),J(S,u,_),J(S,h,_),H(h,p),H(h,b),m||(y=[Te(o,"click",e[10]),Te(h,"click",e[12])],m=!0)},p(S,_){_&64&&Ze(r,S[6]),_&6&&d!==(d=hf(S[2],S[1]))&&O(l,"href",d),_&16&&g!==(g=S[4]?"(unsaved changes)":"")&&Ze(b,g)},d(S){S&&C(t),S&&C(i),S&&C(o),S&&C(s),S&&C(f),S&&C(u),S&&C(h),m=!1,Mn(y)}}}function M5(e){var l;let t,n,r,i,o,a,s,f=((l=e[5][0])==null?void 0:l.label)&&md(e);return{c(){f&&f.c(),t=ge(),n=W("input"),r=ge(),i=W("button"),o=xe("Login"),this.h()},l(c){f&&f.l(c),t=me(c),n=Y(c,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),r=me(c),i=Y(c,"BUTTON",{class:!0,label:!0});var d=j(i);o=Ce(d,"Login"),d.forEach(C),this.h()},h(){O(n,"type","text"),O(n,"class","form-select appearance-none border border-solid border-gray-300 rounded px-3"),O(n,"id",e[7]),O(n,"placeholder","Username"),O(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),O(i,"label","Login")},m(c,d){f&&f.m(c,d),J(c,t,d),J(c,n,d),Tl(n,e[5][0].value),J(c,r,d),J(c,i,d),H(i,o),a||(s=[Te(n,"input",e[17]),Te(n,"input",e[8]),Te(i,"click",e[9])],a=!0)},p(c,d){var u;(u=c[5][0])!=null&&u.label?f?f.p(c,d):(f=md(c),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),d&32&&n.value!==c[5][0].value&&Tl(n,c[5][0].value)},d(c){f&&f.d(c),c&&C(t),c&&C(n),c&&C(r),c&&C(i),a=!1,Mn(s)}}}function md(e){let t,n=e[5][0].label+"",r;return{c(){t=W("label"),r=xe(n),this.h()},l(i){t=Y(i,"LABEL",{for:!0,class:!0});var o=j(t);r=Ce(o,n),o.forEach(C),this.h()},h(){O(t,"for",e[7]),O(t,"class","form-label")},m(i,o){J(i,t,o),H(t,r)},p(i,o){o&32&&n!==(n=i[5][0].label+"")&&Ze(r,n)},d(i){i&&C(t)}}}function S5(e){let t;return{c(){t=xe("v")},l(n){t=Ce(n,"v")},m(n,r){J(n,t,r)},d(n){n&&C(t)}}}function k5(e){let t;return{c(){t=xe("^")},l(n){t=Ce(n,"^")},m(n,r){J(n,t,r)},d(n){n&&C(t)}}}function bd(e){let t,n,r,i,o=e[13]()+"",a,s,f;return{c(){t=W("div"),n=xe("copy"),r=ge(),i=W("pre"),a=xe(o),this.h()},l(l){t=Y(l,"DIV",{class:!0});var c=j(t);n=Ce(c,"copy"),c.forEach(C),r=me(l),i=Y(l,"PRE",{id:!0});var d=j(i);a=Ce(d,o),d.forEach(C),this.h()},h(){O(t,"class","underline text-blue-600 hover:text-blue-900 hover:cursor-pointer"),O(i,"id","userState")},m(l,c){J(l,t,c),H(t,n),J(l,r,c),J(l,i,c),H(i,a),s||(f=Te(t,"click",E5),s=!0)},p:Ve,d(l){l&&C(t),l&&C(r),l&&C(i),s=!1,f()}}}function T5(e){let t,n,r,i,o,a,s,f;function l(b,m){return b[6]==null?M5:w5}let c=l(e),d=c(e);function u(b,m){return b[3]?k5:S5}let h=u(e),p=h(e),g=e[3]&&bd(e);return{c(){t=W("form"),n=W("div"),d.c(),r=ge(),i=W("button"),p.c(),o=ge(),g&&g.c(),a=br(),this.h()},l(b){t=Y(b,"FORM",{});var m=j(t);n=Y(m,"DIV",{class:!0});var y=j(n);d.l(y),r=me(y),i=Y(y,"BUTTON",{class:!0});var S=j(i);p.l(S),S.forEach(C),y.forEach(C),m.forEach(C),o=me(b),g&&g.l(b),a=br(),this.h()},h(){O(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5"),O(n,"class","mb-3")},m(b,m){J(b,t,m),H(t,n),d.m(n,null),H(n,r),H(n,i),p.m(i,null),J(b,o,m),g&&g.m(b,m),J(b,a,m),s||(f=Te(i,"click",e[11]),s=!0)},p(b,[m]){c===(c=l(b))&&d?d.p(b,m):(d.d(1),d=c(b),d&&(d.c(),d.m(n,r))),h!==(h=u(b))&&(p.d(1),p=h(b),p&&(p.c(),p.m(i,null))),b[3]?g?g.p(b,m):(g=bd(b),g.c(),g.m(a.parentNode,a)):g&&(g.d(1),g=null)},i:Ve,o:Ve,d(b){b&&C(t),d.d(),p.d(),b&&C(o),g&&g.d(b),b&&C(a),s=!1,f()}}}async function E5(){let e=document.getElementById("userState").innerHTML;try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}function hf(e,t){console.log(":::encode:::");const r=JSON.stringify({widget_params:e,query_results:t},(i,o)=>typeof o=="bigint"?o.toString()+"n":o,4);return encodeURI("data:text/plain;charset=utf-8,"+r)}function A5(e,t,n){let r,i,o,a,s,f=Ve,l=()=>(f(),f=_d(_,D=>n(5,s=D)),_),c;Ue(e,Zs,D=>n(1,r=D)),Ue(e,at,D=>n(2,i=D)),Ue(e,bt,D=>n(19,o=D)),Ue(e,ei,D=>n(4,a=D)),Ue(e,Qi,D=>n(6,c=D)),e.$$.on_destroy.push(()=>f());const d={address:"https://rightful-anteater-150.convex.cloud"};let u=v5;const h=new u(d);window.convex=h;const p=h.mutation("saveParams"),g=h.query("getParams");let{spec:b}=t,m=b.id,y={INPUT:[],SUBMIT:[]},S=!1,{table:_=Sn([{value:"",label:""}])}=t;l();function v(D){pt(_,s=D,s),s.length<1&&pt(_,s=[{value:"",label:""}],s)}function w(D){console.log("addsource",D),y.SUBMIT.push(D)}function k(){console.log("handle inputs in login"),hm(y.INPUT,m,s[0])}async function E(){if(s[0].value.length==0){alert("Please enter a valid username.");return}pt(Qi,c=s[0].value,c),console.log("user for login -->",c);let D=await g(s[0].value);console.log("user village state",D),D!=null&&pt(at,i=JSON.parse(D),i);let M={};console.log("login parameters are: ",i,[o]),console.log("query results for login: ",r.villages_q),M[m]={region:r.villages_q[o].gid,vegetation_first:i[o].vegetation.start,vegetation_last:i[o].vegetation.end,sum_early_first:i[o].chirps_early.start,sum_early_last:i[o].chirps_early.end,sum_late_first:i[o].chirps_late.start,sum_late_last:i[o].chirps_late.end,valid_results:i[o].isValid},console.log("login results",M),console.log("login.onsubmit",y),y.SUBMIT.forEach(B=>{B.id!="login defaults_q_backend"&&(console.log("login.trigger",M,m,B),B.trigger(M,m))}),console.log("handle login sees widgets as --> ",i),s[0].value}function R(){console.log("save",i);const D=JSON.stringify(i,(M,B)=>typeof B=="bigint"?B.toString()+"n":B,4);p(D,c),pt(ei,a=!1,a)}function I(){n(3,S=!S)}function A(){console.log("logout.onsubmit",y),pt(Qi,c=null,c);let D={};y.SUBMIT.forEach(M=>{M.trigger(D,m)}),pt(_,s[0].value="",s),pt(ei,a=!1,a)}function P(){return JSON.stringify({dropdown_index:o,widget_params:i,query_results:r},(B,L)=>typeof L=="bigint"?L.toString()+"n":L,4)}function q(){s[0].value=this.value,_.set(s)}return e.$$set=D=>{"spec"in D&&n(14,b=D.spec),"table"in D&&l(n(0,_=D.table))},e.$$.update=()=>{e.$$.dirty&6&&hf(i,r)},[_,r,i,S,a,s,c,m,k,E,R,I,A,P,b,v,w,q]}class x5 extends Mt{constructor(t){super(),St(this,t,A5,T5,kt,{spec:14,table:0,render:15,addSourceIact:16})}get spec(){return this.$$.ctx[14]}set spec(t){this.$$set({spec:t}),$e()}get table(){return this.$$.ctx[0]}set table(t){this.$$set({table:t}),$e()}get render(){return this.$$.ctx[15]}get addSourceIact(){return this.$$.ctx[16]}}function C5(e,t,n){let r,i;Ue(e,bt,l=>n(4,r=l)),Ue(e,at,l=>n(5,i=l));let{name:o,title:a=""}=t,s=[];function f(l,c){s=l??s,!(!s||s.length==0)&&(console.log("data into alert is",Object.values(s[0])[0]),Object.values(s[0])[0]<1?(alert("Not enough rainfall to set an index for one of your windows; do not save these values..."),pt(at,i[r].isValid=!1,i),console.log("widget params",i[r])):(pt(at,i[r].isValid=!0,i),console.log("widget params",i[r])))}return e.$$set=l=>{"name"in l&&n(0,o=l.name),"title"in l&&n(1,a=l.title)},[o,a,f]}class N5 extends Mt{constructor(t){super(),St(this,t,C5,null,kt,{name:0,title:1,render:2})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),$e()}get title(){return this.$$.ctx[1]}set title(t){this.$$set({title:t}),$e()}get render(){return this.$$.ctx[2]}}function D5(e,t,n){let r,i;Ue(e,at,s=>n(2,r=s)),Ue(e,Zs,s=>n(3,i=s));let o=[];function a(s,f){o=s??o,console.log("in query update.... ",s,f),pt(Zs,i[f]=o,i);let l={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};f=="defaults_q"&&pt(at,r=o.map(c=>({chirps_early:{start:c.chirps_early_first,end:c.chirps_early_last},chirps_late:{start:c.chirps_late_first,end:c.chirps_late_last},vegetation:l[c.evi_month]})),r)}return[a]}class I5 extends Mt{constructor(t){super(),St(this,t,D5,null,kt,{render:0})}get render(){return this.$$.ctx[0]}}function L5(e){let t,n,r={table:Sn([{value:"",label:"Login to use tool:"}]),spec:{id:"l1"},slot:"header"};return t=new x5({props:r}),e[5](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[5](null),rt(t,i)}}}function O5(e){let t,n,r={slot:"alert",name:"no variance alert"};return t=new N5({props:r}),e[4](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[4](null),rt(t,i)}}}function P5(e){let t,n,r={slot:"dropdown1",spec:{id:"d1",index:e[1],widget_id:"w1"}};return t=new Z8({props:r}),e[3](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};o&2&&(a.spec={id:"d1",index:i[1],widget_id:"w1"}),t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[3](null),rt(t,i)}}}function $5(e){let t,n,r={slot:"chart1",name:"line",title:"Climatology",xAttr:"dekad",yAttr:"average_value",xDomainMin:"1",xDomainMax:"36"};return t=new M8({props:r}),e[10](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[10](null),rt(t,i)}}}function q5(e){let t,n,r={slot:"chart2",name:"testCropCal",xDomainMin:"1",xDomainMax:"36",timeDomainMode:"fixed"};return t=new V8({props:r}),e[9](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[9](null),rt(t,i)}}}function R5(e){let t,n,r={slot:"slider1",spec:{min:1,max:36,id:"sum_early_slider",description:"CHIPRS sum early",widget_id:"chirps_early"}};return t=new vl({props:r}),e[8](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[8](null),rt(t,i)}}}function F5(e){let t,n,r={slot:"slider2",spec:{min:1,max:36,id:"sum_late_slider",description:"CHIRPS sum late",widget_id:"chirps_late"}};return t=new vl({props:r}),e[7](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[7](null),rt(t,i)}}}function B5(e){let t,n,r={slot:"slider3",spec:{min:1,max:36,id:"vegetation_slider",description:"Vegetation",widget_id:"vegetation"}};return t=new vl({props:r}),e[6](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[6](null),rt(t,i)}}}function U5(e){let t,n,r={slot:"chart1",name:"Bar Grouped",title:"Payouts",groupNames:["sum_early","sum_late","vegetation","combined_payout"],xAttr:"year",yAttr:"value",yMax:"1",xDomainMin:"1981",xDomainMax:"2021"};return t=new R8({props:r}),e[13](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[13](null),rt(t,i)}}}function z5(e){let t,n,r={slot:"dropdown2",spec:{id:"d2",index:0,widget_id:"w5"}};return t=new K8({props:r}),e[12](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[12](null),rt(t,i)}}}function V5(e){let t,n,r={slot:"chart2",name:"matching_table"};return t=new Y8({props:r}),e[11](t),{c(){et(t.$$.fragment)},l(i){tt(t.$$.fragment,i)},m(i,o){nt(t,i,o),n=!0},p(i,o){const a={};t.$set(a)},i(i){n||(ve(t.$$.fragment,i),n=!0)},o(i){we(t.$$.fragment,i),n=!1},d(i){e[11](null),rt(t,i)}}}function H5(e){let t,n,r,i,o,a,s,f,l,c,d,u,h={};return n=new I5({props:h}),e[2](n),i=new Ya({props:{$$slots:{dropdown1:[P5],alert:[O5],header:[L5]},$$scope:{ctx:e}}}),f=new Ya({props:{$$slots:{slider3:[B5],slider2:[F5],slider1:[R5],chart2:[q5],chart1:[$5]},$$scope:{ctx:e}}}),d=new Ya({props:{$$slots:{chart2:[V5],dropdown2:[z5],chart1:[U5]},$$scope:{ctx:e}}}),{c(){t=W("div"),et(n.$$.fragment),r=ge(),et(i.$$.fragment),o=ge(),a=W("div"),s=W("div"),et(f.$$.fragment),l=ge(),c=W("div"),et(d.$$.fragment),this.h()},l(p){t=Y(p,"DIV",{});var g=j(t);tt(n.$$.fragment,g),r=me(g),tt(i.$$.fragment,g),g.forEach(C),o=me(p),a=Y(p,"DIV",{class:!0});var b=j(a);s=Y(b,"DIV",{class:!0});var m=j(s);tt(f.$$.fragment,m),m.forEach(C),l=me(b),c=Y(b,"DIV",{class:!0});var y=j(c);tt(d.$$.fragment,y),y.forEach(C),b.forEach(C),this.h()},h(){O(s,"class","col-span-1"),O(c,"class","col-span-1"),O(a,"class","grid grid-cols-1 sm:grid-cols-2")},m(p,g){J(p,t,g),nt(n,t,null),H(t,r),nt(i,t,null),J(p,o,g),J(p,a,g),H(a,s),nt(f,s,null),H(a,l),H(a,c),nt(d,c,null),u=!0},p(p,[g]){const b={};n.$set(b);const m={};g&16387&&(m.$$scope={dirty:g,ctx:p}),i.$set(m);const y={};g&16385&&(y.$$scope={dirty:g,ctx:p}),f.$set(y);const S={};g&16385&&(S.$$scope={dirty:g,ctx:p}),d.$set(S)},i(p){u||(ve(n.$$.fragment,p),ve(i.$$.fragment,p),ve(f.$$.fragment,p),ve(d.$$.fragment,p),u=!0)},o(p){we(n.$$.fragment,p),we(i.$$.fragment,p),we(f.$$.fragment,p),we(d.$$.fragment,p),u=!1},d(p){p&&C(t),e[2](null),rt(n),rt(i),p&&C(o),p&&C(a),rt(f),rt(d)}}}function j5(e,t,n){let r,i;Ue(e,dt,m=>n(0,r=m)),Ue(e,bt,m=>n(1,i=m)),Wg(async()=>{await Hy(),await jy()});function o(m){Pe[m?"unshift":"push"](()=>{r.queryView=m,dt.set(r)})}function a(m){Pe[m?"unshift":"push"](()=>{r.village_dropdown=m,dt.set(r)})}function s(m){Pe[m?"unshift":"push"](()=>{r.alert=m,dt.set(r)})}function f(m){Pe[m?"unshift":"push"](()=>{r.login=m,dt.set(r)})}function l(m){Pe[m?"unshift":"push"](()=>{r.vegetation_slider=m,dt.set(r)})}function c(m){Pe[m?"unshift":"push"](()=>{r.sum_late_slider=m,dt.set(r)})}function d(m){Pe[m?"unshift":"push"](()=>{r.sum_early_slider=m,dt.set(r)})}function u(m){Pe[m?"unshift":"push"](()=>{r.crop_cal_chart=m,dt.set(r)})}function h(m){Pe[m?"unshift":"push"](()=>{r.climatology_chart=m,dt.set(r)})}function p(m){Pe[m?"unshift":"push"](()=>{r.matching_table_chart=m,dt.set(r)})}function g(m){Pe[m?"unshift":"push"](()=>{r.matching_options_dropdown=m,dt.set(r)})}function b(m){Pe[m?"unshift":"push"](()=>{r.combined_payouts_chart=m,dt.set(r)})}return[r,i,o,a,s,f,l,c,d,u,h,p,g,b]}class e7 extends Mt{constructor(t){super(),St(this,t,j5,H5,kt,{})}}export{e7 as component,J5 as universal};
