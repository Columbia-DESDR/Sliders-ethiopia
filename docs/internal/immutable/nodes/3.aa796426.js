import{S as ht,i as pt,s as gt,C as yt,k as W,a as oe,l as Y,m as H,h as D,c as se,n as B,b as J,D as $,E as wt,F as vt,G as Mt,g as he,d as ge,K as Oe,L as Yr,M as Gr,N as Aa,I as ke,O as Se,w as Le,P as Xf,Q as og,R as re,T as be,U as ur,V as Zr,W as bn,q as Ee,r as xe,u as Qe,e as xn,X as Ca,v as sg,f as fg,Y as lg,y as Ve,z as He,A as je,B as We,Z as $u,_ as cg,$ as ug,J as Pe,a0 as Je,a1 as Hs,a2 as zi,a3 as zu,a4 as Jf,a5 as dg,a6 as hg,a7 as pg,o as gg}from"../chunks/index.2e68a764.js";import{S as Qf,r as mg,d as js,e as Ws,R as Na,C as Ys,a as Vu,b as Kf,c as el,f as bg,i as An,g as Jo,h as Xr,j as _g,k as tl,n as ct,l as Gs,m as yg,_ as nl,o as Hu,p as xt,q as wg,s as dr,t as Zs,u as Qo,v as Bn,w as vg,x as Mg,y as Sg,z as ju,A as Tg,B as kg,D as Eg,E as Vi,F as xg,G as Ag,H as Cg,I as Hi,J as hr,K as rl,L as Ng,M as Dg,N as Ig,O as Lg,P as Og,Q as Pg,T as Rg,U as Ui,V as Bg,W as qg,X as il,Y as Fg,Z as De,$ as Ug,a0 as al,a1 as $g,a2 as zg,a3 as Vg,a4 as Hg,a5 as Xn,a6 as jg,a7 as Wg}from"../chunks/model_out.68c07326.js";import{w as Xs}from"../chunks/index.80c86aec.js";import{D as ir}from"../chunks/util.51240e5c.js";import{_ as Yg}from"../chunks/preload-helper.41c905a7.js";function Ko(e){return typeof e=="string"?new Qf([[document.querySelector(e)]],[document.documentElement]):new Qf([[e]],mg)}function ut(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function li(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Js(e){let t,n,r;e.length!==2?(t=ut,n=(s,f)=>ut(e(s),f),r=(s,f)=>e(s)-f):(t=e===ut||e===li?e:Gg,n=e,r=e);function i(s,f,l=0,c=s.length){if(l<c){if(t(f,f)!==0)return c;do{const u=l+c>>>1;n(s[u],f)<0?l=u+1:c=u}while(l<c)}return l}function a(s,f,l=0,c=s.length){if(l<c){if(t(f,f)!==0)return c;do{const u=l+c>>>1;n(s[u],f)<=0?l=u+1:c=u}while(l<c)}return l}function o(s,f,l=0,c=s.length){const u=i(s,f,l,c-1);return u>l&&r(s[u-1],f)>-r(s[u],f)?u-1:u}return{left:i,center:o,right:a}}function Gg(){return 0}function Wu(e){return e===null?NaN:+e}function*Zg(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Xg=Js(ut),Jg=Xg.right;Js(Wu).center;const Qs=Jg;function Qg(e){return e.length|0}function Kg(e){return!(e>0)}function em(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function tm(e){return t=>e(...t)}function nm(...e){const t=typeof e[e.length-1]=="function"&&tm(e.pop());e=e.map(em);const n=e.map(Qg),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Kg))return a;for(;;){a.push(i.map((s,f)=>e[f][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function rm(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Yu(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function im(e,t){const n=Yu(e,t);return n&&Math.sqrt(n)}function pr(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class qn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Cn extends Map{constructor(t,n=Xu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(es(this,t))}has(t){return super.has(es(this,t))}set(t,n){return super.set(Gu(this,t),n)}delete(t){return super.delete(Zu(this,t))}}class Ks extends Set{constructor(t,n=Xu){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(es(this,t))}add(t){return super.add(Gu(this,t))}delete(t){return super.delete(Zu(this,t))}}function es({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Gu({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Zu({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Xu(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ts(e){return e}function ef(e,...t){return Ju(e,ts,ts,t)}function or(e,t,...n){return Ju(e,ts,t,n)}function Ju(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new Cn,f=r[o++];let l=-1;for(const c of a){const u=f(c,++l,a),d=s.get(u);d?d.push(c):s.set(u,[c])}for(const[c,u]of s)s.set(c,i(u,o));return t(s)}(e,0)}function am(e,t){return Array.from(t,n=>e[n])}function ji(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=Wi(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>Wi(n[i],n[a]))),am(e,r)}return e.sort(Qu(n))}function Qu(e=ut){if(e===ut)return Wi;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Wi(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function tf(e,t,n){return(t.length!==2?ji(or(e,t,n),([r,i],[a,o])=>ut(i,o)||ut(r,a)):ji(ef(e,n),([r,i],[a,o])=>t(i,o)||ut(r,a))).map(([r])=>r)}const om=Math.sqrt(50),sm=Math.sqrt(10),fm=Math.sqrt(2);function Yi(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=om?10:a>=sm?5:a>=fm?2:1;let s,f,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(e*l),f=Math.round(t*l),s/l<e&&++s,f/l>t&&--f,l=-l):(l=Math.pow(10,i)*o,s=Math.round(e/l),f=Math.round(t/l),s*l<e&&++s,f*l>t&&--f),f<s&&.5<=n&&n<2?Yi(e,t,n*2):[s,f,l]}function Gi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Yi(t,e,n):Yi(e,t,n);if(!(a>=i))return[];const s=a-i+1,f=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)f[l]=(a-l)/-o;else for(let l=0;l<s;++l)f[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)f[l]=(i+l)/-o;else for(let l=0;l<s;++l)f[l]=(i+l)*o;return f}function ns(e,t,n){return t=+t,e=+e,n=+n,Yi(e,t,n)[2]}function rs(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?ns(t,e,n):ns(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function lm(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function pn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function cm(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Ku(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Wi:Qu(i);r>n;){if(r-n>600){const f=r-n+1,l=t-n+1,c=Math.log(f),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(f-u)/f)*(l-f/2<0?-1:1),h=Math.max(n,Math.floor(t-l*u/f+d)),p=Math.min(r,Math.floor(t+(f-l)*u/f+d));Ku(e,t,h,p,i)}const a=e[t];let o=n,s=r;for(Nr(e,n,t),i(e[r],a)>0&&Nr(e,n,r);o<s;){for(Nr(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Nr(e,n,s):(++s,Nr(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Nr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function ed(e,t=ut){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?ut(o,i)>0:ut(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Zi(e,t,n){if(e=Float64Array.from(Zg(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return pn(e);if(t>=1)return zt(e);var r,i=(r-1)*t,a=Math.floor(i),o=zt(Ku(e,a).subarray(0,a+1)),s=pn(e.subarray(a+1));return o+(s-o)*(i-a)}}function um(e,t,n=Wu){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function dm(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function is(e,t){return Zi(e,.5,t)}function*hm(e){for(const t of e)yield*t}function td(e){return Array.from(hm(e))}function pm(e,t){const n=new Cn;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function as(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Fn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Xi(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function nn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Da(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const os=Symbol("implicit");function nf(){var e=new Cn,t=[],n=[],r=os;function i(a){let o=e.get(a);if(o===void 0){if(r!==os)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Cn;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return nf(t,n).unknown(r)},nn.apply(i,arguments),i}function Ia(){var e=nf().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,f=0,l=0,c=.5;delete e.unknown;function u(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,d-f+l*2),s&&(a=Math.floor(a)),p+=(g-p-a*(d-f))*c,o=a*(1-f),s&&(p=Math.round(p),o=Math.round(o));var _=as(d).map(function(m){return p+a*m});return n(h?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,u()):s},e.padding=function(d){return arguments.length?(f=Math.min(1,l=+d),u()):f},e.paddingInner=function(d){return arguments.length?(f=Math.min(1,d),u()):f},e.paddingOuter=function(d){return arguments.length?(l=+d,u()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},e.copy=function(){return Ia(t(),[r,i]).round(s).paddingInner(f).paddingOuter(l).align(c)},nn.apply(u(),arguments)}function nd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nd(t())},e}function gm(){return nd(Ia.apply(null,arguments).paddingInner(1))}const rd=Math.PI/180,id=180/Math.PI,Ji=18,ad=.96422,od=1,sd=.82521,fd=4/29,sr=6/29,ld=3*sr*sr,mm=sr*sr*sr;function cd(e){if(e instanceof Xt)return new Xt(e.l,e.a,e.b,e.opacity);if(e instanceof cn)return ud(e);e instanceof Na||(e=Vu(e));var t=po(e.r),n=po(e.g),r=po(e.b),i=co((.2225045*t+.7168786*n+.0606169*r)/od),a,o;return t===n&&n===r?a=o=i:(a=co((.4360747*t+.3850649*n+.1430804*r)/ad),o=co((.0139322*t+.0971045*n+.7141733*r)/sd)),new Xt(116*i-16,500*(a-i),200*(i-o),e.opacity)}function ss(e,t,n,r){return arguments.length===1?cd(e):new Xt(e,t,n,r??1)}function Xt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}js(Xt,ss,Ws(Ys,{brighter(e){return new Xt(this.l+Ji*(e??1),this.a,this.b,this.opacity)},darker(e){return new Xt(this.l-Ji*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=ad*uo(t),e=od*uo(e),n=sd*uo(n),new Na(ho(3.1338561*t-1.6168667*e-.4906146*n),ho(-.9787684*t+1.9161415*e+.033454*n),ho(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function co(e){return e>mm?Math.pow(e,1/3):e/ld+fd}function uo(e){return e>sr?e*e*e:ld*(e-fd)}function ho(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function po(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function bm(e){if(e instanceof cn)return new cn(e.h,e.c,e.l,e.opacity);if(e instanceof Xt||(e=cd(e)),e.a===0&&e.b===0)return new cn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*id;return new cn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function Qi(e,t,n,r){return arguments.length===1?bm(e):new cn(e,t,n,r??1)}function cn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function ud(e){if(isNaN(e.h))return new Xt(e.l,0,0,e.opacity);var t=e.h*rd;return new Xt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}js(cn,Qi,Ws(Ys,{brighter(e){return new cn(this.h,this.c,this.l+Ji*(e??1),this.opacity)},darker(e){return new cn(this.h,this.c,this.l-Ji*(e??1),this.opacity)},rgb(){return ud(this).rgb()}}));var dd=-.14861,rf=1.78277,af=-.29227,La=-.90649,Jr=1.97294,ol=Jr*La,sl=Jr*rf,fl=rf*af-La*dd;function _m(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);e instanceof Na||(e=Vu(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(fl*r+ol*t-sl*n)/(fl+ol-sl),a=r-i,o=(Jr*(n-i)-af*a)/La,s=Math.sqrt(o*o+a*a)/(Jr*i*(1-i)),f=s?Math.atan2(o,a)*id-120:NaN;return new Rn(f<0?f+360:f,s,i,e.opacity)}function Jt(e,t,n,r){return arguments.length===1?_m(e):new Rn(e,t,n,r??1)}function Rn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}js(Rn,Jt,Ws(Ys,{brighter(e){return e=e==null?Kf:Math.pow(Kf,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?el:Math.pow(el,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*rd,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Na(255*(t+n*(dd*r+rf*i)),255*(t+n*(af*r+La*i)),255*(t+n*(Jr*r)),this.opacity)}}));function ym(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function wm(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vm(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ci(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Mm(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Sm(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ci(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function ci(e,t){var n=typeof t,r;return t==null||n==="boolean"?bg(t):(n==="number"?An:n==="string"?(r=Jo(t))?(t=r,Xr):_g:t instanceof Jo?Xr:t instanceof Date?Mm:wm(t)?ym:Array.isArray(t)?vm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Sm:An)(e,t)}function of(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Tm(e){return function(t,n){var r=e((t=tl(t)).h,(n=tl(n)).h),i=ct(t.s,n.s),a=ct(t.l,n.l),o=ct(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const km=Tm(Gs);function Em(e,t){var n=ct((e=ss(e)).l,(t=ss(t)).l),r=ct(e.a,t.a),i=ct(e.b,t.b),a=ct(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function xm(e){return function(t,n){var r=e((t=Qi(t)).h,(n=Qi(n)).h),i=ct(t.c,n.c),a=ct(t.l,n.l),o=ct(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const Am=xm(Gs);function hd(e){return function t(n){n=+n;function r(i,a){var o=e((i=Jt(i)).h,(a=Jt(a)).h),s=ct(i.s,a.s),f=ct(i.l,a.l),l=ct(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=f(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}hd(Gs);var sf=hd(ct);function ff(e,t){t===void 0&&(t=e,e=ci);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Vt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Cm(e){return function(){return e}}function fs(e){return+e}var ll=[0,1];function It(e){return e}function ls(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cm(isNaN(t)?NaN:.5)}function Nm(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Dm(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ls(i,r),a=n(o,a)):(r=ls(r,i),a=n(a,o)),function(s){return a(r(s))}}function Im(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ls(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var f=Qs(e,s,1,r)-1;return a[f](i[f](s))}}function ui(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Oa(){var e=ll,t=ll,n=ci,r,i,a,o=It,s,f,l;function c(){var d=Math.min(e.length,t.length);return o!==It&&(o=Nm(e[0],e[d-1])),s=d>2?Im:Dm,f=l=null,u}function u(d){return d==null||isNaN(d=+d)?a:(f||(f=s(e.map(r),t,n)))(r(o(d)))}return u.invert=function(d){return o(i((l||(l=s(t,e.map(r),An)))(d)))},u.domain=function(d){return arguments.length?(e=Array.from(d,fs),c()):e.slice()},u.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},u.rangeRound=function(d){return t=Array.from(d),n=of,c()},u.clamp=function(d){return arguments.length?(o=d?!0:It,c()):o!==It},u.interpolate=function(d){return arguments.length?(n=d,c()):n},u.unknown=function(d){return arguments.length?(a=d,u):a},function(d,h){return r=d,i=h,c()}}function pd(){return Oa()(It,It)}function Lm(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ki(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gr(e){return e=Ki(Math.abs(e)),e?e[1]:NaN}function Om(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),a.push(n.substring(i-=s,i+s)),!((f+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Pm(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Rm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qr(e){if(!(t=Rm.exec(e)))throw new Error("invalid format: "+e);var t;return new lf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Qr.prototype=lf.prototype;function lf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bm(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var gd;function qm(e,t){var n=Ki(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(gd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ki(e,Math.max(0,t+a-1))[0]}function cl(e,t){var n=Ki(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ul={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lm,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cl(e*100,t),r:cl,s:qm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dl(e){return e}var hl=Array.prototype.map,pl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Fm(e){var t=e.grouping===void 0||e.thousands===void 0?dl:Om(hl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?dl:Pm(hl.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function l(u){u=Qr(u);var d=u.fill,h=u.align,p=u.sign,g=u.symbol,_=u.zero,m=u.width,y=u.comma,v=u.precision,b=u.trim,w=u.type;w==="n"?(y=!0,w="g"):ul[w]||(v===void 0&&(v=12),b=!0,w="g"),(_||d==="0"&&h==="=")&&(_=!0,d="0",h="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",M=g==="$"?r:/[%p]/.test(w)?o:"",P=ul[w],L=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function x(k){var R=T,E=M,N,S,A;if(w==="c")E=P(k)+E,k="";else{k=+k;var z=k<0||1/k<0;if(k=isNaN(k)?f:P(Math.abs(k),v),b&&(k=Bm(k)),z&&+k==0&&p!=="+"&&(z=!1),R=(z?p==="("?p:s:p==="-"||p==="("?"":p)+R,E=(w==="s"?pl[8+gd/3]:"")+E+(z&&p==="("?")":""),L){for(N=-1,S=k.length;++N<S;)if(A=k.charCodeAt(N),48>A||A>57){E=(A===46?i+k.slice(N+1):k.slice(N))+E,k=k.slice(0,N);break}}}y&&!_&&(k=t(k,1/0));var G=R.length+k.length+E.length,X=G<m?new Array(m-G+1).join(d):"";switch(y&&_&&(k=t(X+k,X.length?m-E.length:1/0),X=""),h){case"<":k=R+k+E+X;break;case"=":k=R+X+k+E;break;case"^":k=X.slice(0,G=X.length>>1)+R+k+E+X.slice(G);break;default:k=X+R+k+E;break}return a(k)}return x.toString=function(){return u+""},x}function c(u,d){var h=l((u=Qr(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(gr(d)/3)))*3,g=Math.pow(10,-p),_=pl[8+p/3];return function(m){return h(g*m)+_}}return{format:l,formatPrefix:c}}var Mi,Sr,md;Um({thousands:",",grouping:[3],currency:["$",""]});function Um(e){return Mi=Fm(e),Sr=Mi.format,md=Mi.formatPrefix,Mi}function $m(e){return Math.max(0,-gr(Math.abs(e)))}function zm(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(t)/3)))*3-gr(Math.abs(e)))}function Vm(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gr(t)-gr(e))+1}function Hm(e,t,n,r){var i=rs(e,t,n),a;switch(r=Qr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=zm(i,o))&&(r.precision=a),md(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Vm(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=$m(i))&&(r.precision=a-(r.type==="%")*2);break}}return Sr(r)}function di(e){var t=e.domain;return e.ticks=function(n){var r=t();return Gi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Hm(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],f,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=ns(o,s,n),l===f)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;f=l}return e},e}function cf(){var e=pd();return e.copy=function(){return ui(e,cf())},nn.apply(e,arguments),di(e)}function bd(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,fs),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return bd(e).unknown(t)},e=arguments.length?Array.from(e,fs):[0,1],di(n)}function _d(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function gl(e){return Math.log(e)}function ml(e){return Math.exp(e)}function jm(e){return-Math.log(-e)}function Wm(e){return-Math.exp(-e)}function Ym(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Gm(e){return e===10?Ym:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Zm(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function bl(e){return(t,n)=>-e(-t,n)}function yd(e){const t=e(gl,ml),n=t.domain;let r=10,i,a;function o(){return i=Zm(r),a=Gm(r),n()[0]<0?(i=bl(i),a=bl(a),e(jm,Wm)):e(gl,ml),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const f=n();let l=f[0],c=f[f.length-1];const u=c<l;u&&([l,c]=[c,l]);let d=i(l),h=i(c),p,g;const _=s==null?10:+s;let m=[];if(!(r%1)&&h-d<_){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/a(-d):p*a(d),!(g<l)){if(g>c)break;m.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/a(-d):p*a(d),!(g<l)){if(g>c)break;m.push(g)}m.length*2<_&&(m=Gi(l,c,_))}else m=Gi(d,h,Math.min(h-d,_)).map(a);return u?m.reverse():m},t.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Qr(f)).precision==null&&(f.trim=!0),f=Sr(f)),s===1/0)return f;const l=Math.max(1,r*s/t.ticks().length);return c=>{let u=c/a(Math.round(i(c)));return u*r<r-.5&&(u*=r),u<=l?f(c):""}},t.nice=()=>n(_d(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function wd(){const e=yd(Oa()).domain([1,10]);return e.copy=()=>ui(e,wd()).base(e.base()),nn.apply(e,arguments),e}function _l(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function vd(e){var t=1,n=e(_l(t),yl(t));return n.constant=function(r){return arguments.length?e(_l(t=+r),yl(t)):t},di(n)}function Md(){var e=vd(Oa());return e.copy=function(){return ui(e,Md()).constant(e.constant())},nn.apply(e,arguments)}function wl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Jm(e){return e<0?-e*e:e*e}function Sd(e){var t=e(It,It),n=1;function r(){return n===1?e(It,It):n===.5?e(Xm,Jm):e(wl(n),wl(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},di(t)}function Td(){var e=Sd(Oa());return e.copy=function(){return ui(e,Td()).exponent(e.exponent())},nn.apply(e,arguments),e}function kd(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=um(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Qs(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ut),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return kd().domain(e).range(t).unknown(r)},nn.apply(a,arguments)}function Ed(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Qs(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Ed().domain(e).range(t).unknown(n)},nn.apply(i,arguments)}const go=new Date,mo=new Date;function Ge(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const f=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return f;let l;do f.push(l=new Date(+a)),t(a,s),e(a);while(l<a&&a<o);return f},i.filter=a=>Ge(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(go.setTime(+a),mo.setTime(+o),e(go),e(mo),Math.floor(n(go,mo))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const ea=Ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ea.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ea);ea.range;const un=1e3,Lt=un*60,dn=Lt*60,gn=dn*24,uf=gn*7,vl=gn*30,bo=gn*365,hn=Ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*un)},(e,t)=>(t-e)/un,e=>e.getUTCSeconds());hn.range;const Pa=Ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*un)},(e,t)=>{e.setTime(+e+t*Lt)},(e,t)=>(t-e)/Lt,e=>e.getMinutes());Pa.range;const Ra=Ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lt)},(e,t)=>(t-e)/Lt,e=>e.getUTCMinutes());Ra.range;const Ba=Ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*un-e.getMinutes()*Lt)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getHours());Ba.range;const qa=Ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCHours());qa.range;const Tr=Ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lt)/gn,e=>e.getDate()-1);Tr.range;const hi=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gn,e=>e.getUTCDate()-1);hi.range;const xd=Ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/gn,e=>Math.floor(e/gn));xd.range;function jn(e){return Ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Lt)/uf)}const mr=jn(0),Kr=jn(1),Ad=jn(2),Cd=jn(3),Un=jn(4),Nd=jn(5),Dd=jn(6);mr.range;Kr.range;Ad.range;Cd.range;Un.range;Nd.range;Dd.range;function Wn(e){return Ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uf)}const br=Wn(0),ei=Wn(1),Id=Wn(2),Ld=Wn(3),$n=Wn(4),Od=Wn(5),Pd=Wn(6);br.range;ei.range;Id.range;Ld.range;$n.range;Od.range;Pd.range;const fr=Ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fr.range;const lr=Ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lr.range;const Qt=Ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Qt.range;const Kt=Ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Kt.range;function Rd(e,t,n,r,i,a){const o=[[hn,1,un],[hn,5,5*un],[hn,15,15*un],[hn,30,30*un],[a,1,Lt],[a,5,5*Lt],[a,15,15*Lt],[a,30,30*Lt],[i,1,dn],[i,3,3*dn],[i,6,6*dn],[i,12,12*dn],[r,1,gn],[r,2,2*gn],[n,1,uf],[t,1,vl],[t,3,3*vl],[e,1,bo]];function s(l,c,u){const d=c<l;d&&([l,c]=[c,l]);const h=u&&typeof u.range=="function"?u:f(l,c,u),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function f(l,c,u){const d=Math.abs(c-l)/u,h=Js(([,,_])=>_).right(o,d);if(h===o.length)return e.every(rs(l/bo,c/bo,u));if(h===0)return ea.every(Math.max(rs(l,c,u),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[s,f]}const[Qm,Km]=Rd(Kt,lr,br,xd,qa,Ra),[eb,tb]=Rd(Qt,fr,mr,Tr,Ba,Pa);function _o(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nb(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,f=e.shortMonths,l=Ir(i),c=Lr(i),u=Ir(a),d=Lr(a),h=Ir(o),p=Lr(o),g=Ir(s),_=Lr(s),m=Ir(f),y=Lr(f),v={a:z,A:G,b:X,B:V,c:null,d:xl,e:xl,f:kb,g:Pb,G:Bb,H:Mb,I:Sb,j:Tb,L:Bd,m:Eb,M:xb,p:K,q:ee,Q:Nl,s:Dl,S:Ab,u:Cb,U:Nb,V:Db,w:Ib,W:Lb,x:null,X:null,y:Ob,Y:Rb,Z:qb,"%":Cl},b={a:de,A:me,b:F,B:pe,c:null,d:Al,e:Al,f:zb,g:Qb,G:e2,H:Fb,I:Ub,j:$b,L:Fd,m:Vb,M:Hb,p:Be,q:Ne,Q:Nl,s:Dl,S:jb,u:Wb,U:Yb,V:Gb,w:Zb,W:Xb,x:null,X:null,y:Jb,Y:Kb,Z:t2,"%":Cl},w={a:x,A:k,b:R,B:E,c:N,d:kl,e:kl,f:_b,g:Tl,G:Sl,H:El,I:El,j:pb,L:bb,m:hb,M:gb,p:L,q:db,Q:wb,s:vb,S:mb,u:sb,U:fb,V:lb,w:ob,W:cb,x:S,X:A,y:Tl,Y:Sl,Z:ub,"%":yb};v.x=T(n,v),v.X=T(r,v),v.c=T(t,v),b.x=T(n,b),b.X=T(r,b),b.c=T(t,b);function T(O,U){return function(Z){var q=[],ye=-1,te=0,we=O.length,ne,I,j;for(Z instanceof Date||(Z=new Date(+Z));++ye<we;)O.charCodeAt(ye)===37&&(q.push(O.slice(te,ye)),(I=Ml[ne=O.charAt(++ye)])!=null?ne=O.charAt(++ye):I=ne==="e"?" ":"0",(j=U[ne])&&(ne=j(Z,I)),q.push(ne),te=ye+1);return q.push(O.slice(te,ye)),q.join("")}}function M(O,U){return function(Z){var q=Dr(1900,void 0,1),ye=P(q,O,Z+="",0),te,we;if(ye!=Z.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(U&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(te=yo(Dr(q.y,0,1)),we=te.getUTCDay(),te=we>4||we===0?ei.ceil(te):ei(te),te=hi.offset(te,(q.V-1)*7),q.y=te.getUTCFullYear(),q.m=te.getUTCMonth(),q.d=te.getUTCDate()+(q.w+6)%7):(te=_o(Dr(q.y,0,1)),we=te.getDay(),te=we>4||we===0?Kr.ceil(te):Kr(te),te=Tr.offset(te,(q.V-1)*7),q.y=te.getFullYear(),q.m=te.getMonth(),q.d=te.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),we="Z"in q?yo(Dr(q.y,0,1)).getUTCDay():_o(Dr(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(we+5)%7:q.w+q.U*7-(we+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,yo(q)):_o(q)}}function P(O,U,Z,q){for(var ye=0,te=U.length,we=Z.length,ne,I;ye<te;){if(q>=we)return-1;if(ne=U.charCodeAt(ye++),ne===37){if(ne=U.charAt(ye++),I=w[ne in Ml?U.charAt(ye++):ne],!I||(q=I(O,Z,q))<0)return-1}else if(ne!=Z.charCodeAt(q++))return-1}return q}function L(O,U,Z){var q=l.exec(U.slice(Z));return q?(O.p=c.get(q[0].toLowerCase()),Z+q[0].length):-1}function x(O,U,Z){var q=h.exec(U.slice(Z));return q?(O.w=p.get(q[0].toLowerCase()),Z+q[0].length):-1}function k(O,U,Z){var q=u.exec(U.slice(Z));return q?(O.w=d.get(q[0].toLowerCase()),Z+q[0].length):-1}function R(O,U,Z){var q=m.exec(U.slice(Z));return q?(O.m=y.get(q[0].toLowerCase()),Z+q[0].length):-1}function E(O,U,Z){var q=g.exec(U.slice(Z));return q?(O.m=_.get(q[0].toLowerCase()),Z+q[0].length):-1}function N(O,U,Z){return P(O,t,U,Z)}function S(O,U,Z){return P(O,n,U,Z)}function A(O,U,Z){return P(O,r,U,Z)}function z(O){return o[O.getDay()]}function G(O){return a[O.getDay()]}function X(O){return f[O.getMonth()]}function V(O){return s[O.getMonth()]}function K(O){return i[+(O.getHours()>=12)]}function ee(O){return 1+~~(O.getMonth()/3)}function de(O){return o[O.getUTCDay()]}function me(O){return a[O.getUTCDay()]}function F(O){return f[O.getUTCMonth()]}function pe(O){return s[O.getUTCMonth()]}function Be(O){return i[+(O.getUTCHours()>=12)]}function Ne(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var U=T(O+="",v);return U.toString=function(){return O},U},parse:function(O){var U=M(O+="",!1);return U.toString=function(){return O},U},utcFormat:function(O){var U=T(O+="",b);return U.toString=function(){return O},U},utcParse:function(O){var U=M(O+="",!0);return U.toString=function(){return O},U}}}var Ml={"-":"",_:" ",0:"0"},Ke=/^\s*\d+/,rb=/^%/,ib=/[\\^$*+?|[\]().{}]/g;function _e(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ab(e){return e.replace(ib,"\\$&")}function Ir(e){return new RegExp("^(?:"+e.map(ab).join("|")+")","i")}function Lr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ob(e,t,n){var r=Ke.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function sb(e,t,n){var r=Ke.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function fb(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function lb(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function cb(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Sl(e,t,n){var r=Ke.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Tl(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ub(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function db(e,t,n){var r=Ke.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function hb(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function kl(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function pb(e,t,n){var r=Ke.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function El(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function gb(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mb(e,t,n){var r=Ke.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bb(e,t,n){var r=Ke.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function _b(e,t,n){var r=Ke.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function yb(e,t,n){var r=rb.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function wb(e,t,n){var r=Ke.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vb(e,t,n){var r=Ke.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function xl(e,t){return _e(e.getDate(),t,2)}function Mb(e,t){return _e(e.getHours(),t,2)}function Sb(e,t){return _e(e.getHours()%12||12,t,2)}function Tb(e,t){return _e(1+Tr.count(Qt(e),e),t,3)}function Bd(e,t){return _e(e.getMilliseconds(),t,3)}function kb(e,t){return Bd(e,t)+"000"}function Eb(e,t){return _e(e.getMonth()+1,t,2)}function xb(e,t){return _e(e.getMinutes(),t,2)}function Ab(e,t){return _e(e.getSeconds(),t,2)}function Cb(e){var t=e.getDay();return t===0?7:t}function Nb(e,t){return _e(mr.count(Qt(e)-1,e),t,2)}function qd(e){var t=e.getDay();return t>=4||t===0?Un(e):Un.ceil(e)}function Db(e,t){return e=qd(e),_e(Un.count(Qt(e),e)+(Qt(e).getDay()===4),t,2)}function Ib(e){return e.getDay()}function Lb(e,t){return _e(Kr.count(Qt(e)-1,e),t,2)}function Ob(e,t){return _e(e.getFullYear()%100,t,2)}function Pb(e,t){return e=qd(e),_e(e.getFullYear()%100,t,2)}function Rb(e,t){return _e(e.getFullYear()%1e4,t,4)}function Bb(e,t){var n=e.getDay();return e=n>=4||n===0?Un(e):Un.ceil(e),_e(e.getFullYear()%1e4,t,4)}function qb(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+_e(t/60|0,"0",2)+_e(t%60,"0",2)}function Al(e,t){return _e(e.getUTCDate(),t,2)}function Fb(e,t){return _e(e.getUTCHours(),t,2)}function Ub(e,t){return _e(e.getUTCHours()%12||12,t,2)}function $b(e,t){return _e(1+hi.count(Kt(e),e),t,3)}function Fd(e,t){return _e(e.getUTCMilliseconds(),t,3)}function zb(e,t){return Fd(e,t)+"000"}function Vb(e,t){return _e(e.getUTCMonth()+1,t,2)}function Hb(e,t){return _e(e.getUTCMinutes(),t,2)}function jb(e,t){return _e(e.getUTCSeconds(),t,2)}function Wb(e){var t=e.getUTCDay();return t===0?7:t}function Yb(e,t){return _e(br.count(Kt(e)-1,e),t,2)}function Ud(e){var t=e.getUTCDay();return t>=4||t===0?$n(e):$n.ceil(e)}function Gb(e,t){return e=Ud(e),_e($n.count(Kt(e),e)+(Kt(e).getUTCDay()===4),t,2)}function Zb(e){return e.getUTCDay()}function Xb(e,t){return _e(ei.count(Kt(e)-1,e),t,2)}function Jb(e,t){return _e(e.getUTCFullYear()%100,t,2)}function Qb(e,t){return e=Ud(e),_e(e.getUTCFullYear()%100,t,2)}function Kb(e,t){return _e(e.getUTCFullYear()%1e4,t,4)}function e2(e,t){var n=e.getUTCDay();return e=n>=4||n===0?$n(e):$n.ceil(e),_e(e.getUTCFullYear()%1e4,t,4)}function t2(){return"+0000"}function Cl(){return"%"}function Nl(e){return+e}function Dl(e){return Math.floor(+e/1e3)}var Jn,$d,Fa;n2({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function n2(e){return Jn=nb(e),$d=Jn.format,Jn.parse,Fa=Jn.utcFormat,Jn.utcParse,Jn}function r2(e){return new Date(e)}function i2(e){return e instanceof Date?+e:+new Date(+e)}function df(e,t,n,r,i,a,o,s,f,l){var c=pd(),u=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),_=l("%I %p"),m=l("%a %d"),y=l("%b %d"),v=l("%B"),b=l("%Y");function w(T){return(f(T)<T?h:s(T)<T?p:o(T)<T?g:a(T)<T?_:r(T)<T?i(T)<T?m:y:n(T)<T?v:b)(T)}return c.invert=function(T){return new Date(u(T))},c.domain=function(T){return arguments.length?d(Array.from(T,i2)):d().map(r2)},c.ticks=function(T){var M=d();return e(M[0],M[M.length-1],T??10)},c.tickFormat=function(T,M){return M==null?w:l(M)},c.nice=function(T){var M=d();return(!T||typeof T.range!="function")&&(T=t(M[0],M[M.length-1],T??10)),T?d(_d(M,T)):c},c.copy=function(){return ui(c,df(e,t,n,r,i,a,o,s,f,l))},c}function a2(){return nn.apply(df(eb,tb,Qt,fr,mr,Tr,Ba,Pa,hn,$d).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o2(){return nn.apply(df(Qm,Km,Kt,lr,br,hi,qa,Ra,hn,Fa).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ua(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $a(){var e=0,t=.5,n=1,r=1,i,a,o,s,f,l=It,c,u=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:f),l(u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),o=c(n=+n),s=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(_){var m,y,v;return arguments.length?([m,y,v]=_,l=ff(g,[m,y,v]),h):[l(0),l(.5),l(1)]}}return h.range=p(ci),h.rangeRound=p(of),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function zd(){var e=di($a()(It));return e.copy=function(){return Ua(e,zd())},Da.apply(e,arguments)}function Vd(){var e=yd($a()).domain([.1,1,10]);return e.copy=function(){return Ua(e,Vd()).base(e.base())},Da.apply(e,arguments)}function Hd(){var e=vd($a());return e.copy=function(){return Ua(e,Hd()).constant(e.constant())},Da.apply(e,arguments)}function jd(){var e=Sd($a());return e.copy=function(){return Ua(e,jd()).exponent(e.exponent())},Da.apply(e,arguments)}var Wd={exports:{}},s2=Wd.exports={};s2.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Yd=Wd.exports,f2=function(e){var t=e.stateHandler.getState;function n(o){var s=t(o);return s&&!!s.isDetectable}function r(o){t(o).isDetectable=!0}function i(o){return!!t(o).busy}function a(o,s){t(o).busy=!!s}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},l2=function(e){var t={};function n(o){var s=e.get(o);return s===void 0?[]:t[s]||[]}function r(o,s){var f=e.get(o);t[f]||(t[f]=[]),t[f].push(s)}function i(o,s){for(var f=n(o),l=0,c=f.length;l<c;++l)if(f[l]===s){f.splice(l,1);break}}function a(o){var s=n(o);s&&(s.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},c2=function(){var e=1;function t(){return e++}return{generate:t}},u2=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var o=n(a);return o&&o.id!==void 0?o.id:null}function i(a){var o=n(a);if(!o)throw new Error("setId required the element to have a resize detection state.");var s=t.generate();return o.id=s,s}return{get:r,set:i}},d2=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var s=console[a];if(s.apply)s.apply(console,arguments);else for(var f=0;f<arguments.length;f++)s(arguments[f])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},Gd={exports:{}},Zd=Gd.exports={};Zd.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),o=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(o[0]);return i>4?i:r}();return e===n};Zd.isLegacyOpera=function(){return!!window.opera};var Xd=Gd.exports,Jd={exports:{}},h2=Jd.exports={};h2.getOption=p2;function p2(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var g2=Jd.exports,Il=g2,m2=function(t){t=t||{};var n=t.reporter,r=Il.getOption(t,"async",!0),i=Il.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=Ll(),o,s=!1;function f(p,g){!s&&i&&r&&a.size()===0&&u(),a.add(p,g)}function l(){for(s=!0;a.size();){var p=a;a=Ll(),p.process()}s=!1}function c(p){s||(p===void 0&&(p=r),o&&(d(o),o=null),p?u():l())}function u(){o=h(l)}function d(p){var g=clearTimeout;return g(p)}function h(p){var g=function(_){return setTimeout(_,0)};return g(p)}return{add:f,force:c}};function Ll(){var e={},t=0,n=0,r=0;function i(s,f){f||(f=s,s=0),s>n?n=s:s<r&&(r=s),e[s]||(e[s]=[]),e[s].push(f),t++}function a(){for(var s=r;s<=n;s++)for(var f=e[s],l=0;l<f.length;l++){var c=f[l];c()}}function o(){return t}return{add:i,process:a,size:o}}var hf="_erd";function b2(e){return e[hf]={},Qd(e)}function Qd(e){return e[hf]}function _2(e){delete e[hf]}var y2={initState:b2,getState:Qd,cleanState:_2},Or=Xd,w2=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,c){function u(){c(l)}if(Or.isIE(8))r(l).object={proxy:u},l.attachEvent("onresize",u);else{var d=s(l);if(!d)throw new Error("Element is not detectable by this strategy.");d.contentDocument.defaultView.addEventListener("resize",u)}}function a(l){var c=e.important?" !important; ":"; ";return(l.join(c)+c).trim()}function o(l,c,u){u||(u=c,c=l,l=null),l=l||{},l.debug;function d(h,p){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),_=!1,m=window.getComputedStyle(h),y=h.offsetWidth,v=h.offsetHeight;r(h).startSize={width:y,height:v};function b(){function w(){if(m.position==="static"){h.style.setProperty("position","relative",l.important?"important":"");var P=function(L,x,k,R){function E(S){return S.replace(/[^-\d\.]/g,"")}var N=k[R];N!=="auto"&&E(N)!=="0"&&(L.warn("An element that is positioned static has style."+R+"="+N+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+R+" will be set to 0. Element: ",x),x.style.setProperty(R,"0",l.important?"important":""))};P(t,h,m,"top"),P(t,h,m,"right"),P(t,h,m,"bottom"),P(t,h,m,"left")}}function T(){_||w();function P(x,k){if(!x.contentDocument){var R=r(x);R.checkForObjectDocumentTimeoutId&&window.clearTimeout(R.checkForObjectDocumentTimeoutId),R.checkForObjectDocumentTimeoutId=setTimeout(function(){R.checkForObjectDocumentTimeoutId=0,P(x,k)},100);return}k(x.contentDocument)}var L=this;P(L,function(k){p(h)})}m.position!==""&&(w(),_=!0);var M=document.createElement("object");M.style.cssText=g,M.tabIndex=-1,M.type="text/html",M.setAttribute("aria-hidden","true"),M.onload=T,Or.isIE()||(M.data="about:blank"),r(h)&&(h.appendChild(M),r(h).object=M,Or.isIE()&&(M.data="about:blank"))}n?n.add(b):b()}Or.isIE(8)?u(c):d(c,u)}function s(l){return r(l).object}function f(l){if(r(l)){var c=s(l);c&&(Or.isIE(8)?l.detachEvent("onresize",c.proxy):l.removeChild(c),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:o,addListener:i,uninstall:f}},v2=Yd.forEach,M2=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=c(),o="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";function f(b){u(b,o,s)}f(window.document);function l(b){var w=e.important?" !important; ":"; ";return(b.join(w)+w).trim()}function c(){var b=500,w=500,T=document.createElement("div");T.style.cssText=l(["position: absolute","width: "+b*2+"px","height: "+w*2+"px","visibility: hidden","margin: 0","padding: 0"]);var M=document.createElement("div");M.style.cssText=l(["position: absolute","width: "+b+"px","height: "+w+"px","overflow: scroll","visibility: none","top: "+-b*3+"px","left: "+-w*3+"px","visibility: hidden","margin: 0","padding: 0"]),M.appendChild(T),document.body.insertBefore(M,document.body.firstChild);var P=b-M.clientWidth,L=w-M.clientHeight;return document.body.removeChild(M),{width:P,height:L}}function u(b,w,T){function M(k,R){R=R||function(N){b.head.appendChild(N)};var E=b.createElement("style");return E.innerHTML=k,E.id=w,R(E),E}if(!b.getElementById(w)){var P=T+"_animation",L=T+"_animation_active",x=`/* Created by the element-resize-detector library. */
`;x+="."+T+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,x+="."+L+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+P,"animation-name: "+P])+` }
`,x+="@-webkit-keyframes "+P+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,x+="@keyframes "+P+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",M(x)}}function d(b){b.className+=" "+s+"_animation_active"}function h(b,w,T){if(b.addEventListener)b.addEventListener(w,T);else if(b.attachEvent)b.attachEvent("on"+w,T);else return t.error("[scroll] Don't know how to add event listeners.")}function p(b,w,T){if(b.removeEventListener)b.removeEventListener(w,T);else if(b.detachEvent)b.detachEvent("on"+w,T);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(b){return r(b).container.childNodes[0].childNodes[0].childNodes[0]}function _(b){return r(b).container.childNodes[0].childNodes[0].childNodes[1]}function m(b,w){var T=r(b).listeners;if(!T.push)throw new Error("Cannot add listener to an element that is not detectable.");r(b).listeners.push(w)}function y(b,w,T){T||(T=w,w=b,b=null),b=b||{};function M(){if(b.debug){var O=Array.prototype.slice.call(arguments);if(O.unshift(i.get(w),"Scroll: "),t.log.apply)t.log.apply(null,O);else for(var U=0;U<O.length;U++)t.log(O[U])}}function P(O){function U(Z){var q=Z.getRootNode&&Z.getRootNode().contains(Z);return Z===Z.ownerDocument.body||Z.ownerDocument.body.contains(Z)||q}return!U(O)||window.getComputedStyle(O)===null}function L(O){var U=r(O).container.childNodes[0],Z=window.getComputedStyle(U);return!Z.width||Z.width.indexOf("px")===-1}function x(){var O=window.getComputedStyle(w),U={};return U.position=O.position,U.width=w.offsetWidth,U.height=w.offsetHeight,U.top=O.top,U.right=O.right,U.bottom=O.bottom,U.left=O.left,U.widthCSS=O.width,U.heightCSS=O.height,U}function k(){var O=x();r(w).startSize={width:O.width,height:O.height},M("Element start size",r(w).startSize)}function R(){r(w).listeners=[]}function E(){if(M("storeStyle invoked."),!r(w)){M("Aborting because element has been uninstalled");return}var O=x();r(w).style=O}function N(O,U,Z){r(O).lastWidth=U,r(O).lastHeight=Z}function S(O){return g(O).childNodes[0]}function A(){return 2*a.width+1}function z(){return 2*a.height+1}function G(O){return O+10+A()}function X(O){return O+10+z()}function V(O){return O*2+A()}function K(O){return O*2+z()}function ee(O,U,Z){var q=g(O),ye=_(O),te=G(U),we=X(Z),ne=V(U),I=K(Z);q.scrollLeft=te,q.scrollTop=we,ye.scrollLeft=ne,ye.scrollTop=I}function de(){var O=r(w).container;if(!O){O=document.createElement("div"),O.className=s,O.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(w).container=O,d(O),w.appendChild(O);var U=function(){r(w).onRendered&&r(w).onRendered()};h(O,"animationstart",U),r(w).onAnimationStart=U}return O}function me(){function O(){var Ae=r(w).style;if(Ae.position==="static"){w.style.setProperty("position","relative",b.important?"important":"");var Ye=function(ot,_t,On,C){function Q(Me){return Me.replace(/[^-\d\.]/g,"")}var ve=On[C];ve!=="auto"&&Q(ve)!=="0"&&(ot.warn("An element that is positioned static has style."+C+"="+ve+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+C+" will be set to 0. Element: ",_t),_t.style[C]=0)};Ye(t,w,Ae,"top"),Ye(t,w,Ae,"right"),Ye(t,w,Ae,"bottom"),Ye(t,w,Ae,"left")}}function U(Ae,Ye,ot,_t){return Ae=Ae?Ae+"px":"0",Ye=Ye?Ye+"px":"0",ot=ot?ot+"px":"0",_t=_t?_t+"px":"0",["left: "+Ae,"top: "+Ye,"right: "+_t,"bottom: "+ot]}if(M("Injecting elements"),!r(w)){M("Aborting because element has been uninstalled");return}O();var Z=r(w).container;Z||(Z=de());var q=a.width,ye=a.height,te=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),we=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(U(-(1+q),-(1+ye),-ye,-q))),ne=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),I=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),j=l(["position: absolute","left: 0","top: 0"]),ft=l(["position: absolute","width: 200%","height: 200%"]),nt=document.createElement("div"),qe=document.createElement("div"),$e=document.createElement("div"),at=document.createElement("div"),mt=document.createElement("div"),bt=document.createElement("div");nt.dir="ltr",nt.style.cssText=te,nt.className=s,qe.className=s,qe.style.cssText=we,$e.style.cssText=ne,at.style.cssText=j,mt.style.cssText=I,bt.style.cssText=ft,$e.appendChild(at),mt.appendChild(bt),qe.appendChild($e),qe.appendChild(mt),nt.appendChild(qe),Z.appendChild(nt);function At(){var Ae=r(w);Ae&&Ae.onExpand?Ae.onExpand():M("Aborting expand scroll handler: element has been uninstalled")}function lt(){var Ae=r(w);Ae&&Ae.onShrink?Ae.onShrink():M("Aborting shrink scroll handler: element has been uninstalled")}h($e,"scroll",At),h(mt,"scroll",lt),r(w).onExpandScroll=At,r(w).onShrinkScroll=lt}function F(){function O(ne,I,j){var ft=S(ne),nt=G(I),qe=X(j);ft.style.setProperty("width",nt+"px",b.important?"important":""),ft.style.setProperty("height",qe+"px",b.important?"important":"")}function U(ne){var I=w.offsetWidth,j=w.offsetHeight,ft=I!==r(w).lastWidth||j!==r(w).lastHeight;M("Storing current size",I,j),N(w,I,j),n.add(0,function(){if(ft){if(!r(w)){M("Aborting because element has been uninstalled");return}if(!Z()){M("Aborting because element container has not been initialized");return}if(b.debug){var qe=w.offsetWidth,$e=w.offsetHeight;(qe!==I||$e!==j)&&t.warn(i.get(w),"Scroll: Size changed before updating detector elements.")}O(w,I,j)}}),n.add(1,function(){if(!r(w)){M("Aborting because element has been uninstalled");return}if(!Z()){M("Aborting because element container has not been initialized");return}ee(w,I,j)}),ft&&ne&&n.add(2,function(){if(!r(w)){M("Aborting because element has been uninstalled");return}if(!Z()){M("Aborting because element container has not been initialized");return}ne()})}function Z(){return!!r(w).container}function q(){function ne(){return r(w).lastNotifiedWidth===void 0}M("notifyListenersIfNeeded invoked");var I=r(w);if(ne()&&I.lastWidth===I.startSize.width&&I.lastHeight===I.startSize.height)return M("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(I.lastWidth===I.lastNotifiedWidth&&I.lastHeight===I.lastNotifiedHeight)return M("Not notifying: Size already notified");M("Current size not notified, notifying..."),I.lastNotifiedWidth=I.lastWidth,I.lastNotifiedHeight=I.lastHeight,v2(r(w).listeners,function(j){j(w)})}function ye(){if(M("startanimation triggered."),L(w)){M("Ignoring since element is still unrendered...");return}M("Element rendered.");var ne=g(w),I=_(w);(ne.scrollLeft===0||ne.scrollTop===0||I.scrollLeft===0||I.scrollTop===0)&&(M("Scrollbars out of sync. Updating detector elements..."),U(q))}function te(){if(M("Scroll detected."),L(w)){M("Scroll event fired while unrendered. Ignoring...");return}U(q)}if(M("registerListenersAndPositionElements invoked."),!r(w)){M("Aborting because element has been uninstalled");return}r(w).onRendered=ye,r(w).onExpand=te,r(w).onShrink=te;var we=r(w).style;O(w,we.width,we.height)}function pe(){if(M("finalizeDomMutation invoked."),!r(w)){M("Aborting because element has been uninstalled");return}var O=r(w).style;N(w,O.width,O.height),ee(w,O.width,O.height)}function Be(){T(w)}function Ne(){M("Installing..."),R(),k(),n.add(0,E),n.add(1,me),n.add(2,F),n.add(3,pe),n.add(4,Be)}M("Making detectable..."),P(w)?(M("Element is detached"),de(),M("Waiting until element is attached..."),r(w).onRendered=function(){M("Element is now attached"),Ne()}):Ne()}function v(b){var w=r(b);w&&(w.onExpandScroll&&p(g(b),"scroll",w.onExpandScroll),w.onShrinkScroll&&p(_(b),"scroll",w.onShrinkScroll),w.onAnimationStart&&p(w.container,"animationstart",w.onAnimationStart),w.container&&b.removeChild(w.container))}return{makeDetectable:y,addListener:m,uninstall:v,initDocument:f}},Br=Yd.forEach,S2=f2,T2=l2,k2=c2,E2=u2,x2=d2,Ol=Xd,A2=m2,Mn=y2,C2=w2,N2=M2;function Pl(e){return Array.isArray(e)||e.length!==void 0}function Rl(e){if(Array.isArray(e))return e;var t=[];return Br(e,function(n){t.push(n)}),t}function Bl(e){return e&&e.nodeType===1}var D2=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=k2(),r=E2({idGenerator:n,stateHandler:Mn});t=r}var i=e.reporter;if(!i){var a=i===!1;i=x2(a)}var o=Sn(e,"batchProcessor",A2({reporter:i})),s={};s.callOnAdd=!!Sn(e,"callOnAdd",!0),s.debug=!!Sn(e,"debug",!1);var f=T2(t),l=S2({stateHandler:Mn}),c,u=Sn(e,"strategy","object"),d=Sn(e,"important",!1),h={reporter:i,batchProcessor:o,stateHandler:Mn,idHandler:t,important:d};if(u==="scroll"&&(Ol.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),u="object"):Ol.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),u="object")),u==="scroll")c=N2(h);else if(u==="object")c=C2(h);else throw new Error("Invalid strategy name: "+u);var p={};function g(y,v,b){function w(k){var R=f.get(k);Br(R,function(N){N(k)})}function T(k,R,E){f.add(R,E),k&&E(R)}if(b||(b=v,v=y,y={}),!v)throw new Error("At least one element required.");if(!b)throw new Error("Listener required.");if(Bl(v))v=[v];else if(Pl(v))v=Rl(v);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var M=0,P=Sn(y,"callOnAdd",s.callOnAdd),L=Sn(y,"onReady",function(){}),x=Sn(y,"debug",s.debug);Br(v,function(R){Mn.getState(R)||(Mn.initState(R),t.set(R));var E=t.get(R);if(x&&i.log("Attaching listener to element",E,R),!l.isDetectable(R)){if(x&&i.log(E,"Not detectable."),l.isBusy(R)){x&&i.log(E,"System busy making it detectable"),T(P,R,b),p[E]=p[E]||[],p[E].push(function(){M++,M===v.length&&L()});return}return x&&i.log(E,"Making detectable..."),l.markBusy(R,!0),c.makeDetectable({debug:x,important:d},R,function(S){if(x&&i.log(E,"onElementDetectable"),Mn.getState(S)){l.markAsDetectable(S),l.markBusy(S,!1),c.addListener(S,w),T(P,S,b);var A=Mn.getState(S);if(A&&A.startSize){var z=S.offsetWidth,G=S.offsetHeight;(A.startSize.width!==z||A.startSize.height!==G)&&w(S)}p[E]&&Br(p[E],function(X){X()})}else x&&i.log(E,"Element uninstalled before being detectable.");delete p[E],M++,M===v.length&&L()})}x&&i.log(E,"Already detecable, adding listener."),T(P,R,b),M++}),M===v.length&&L()}function _(y){if(!y)return i.error("At least one element is required.");if(Bl(y))y=[y];else if(Pl(y))y=Rl(y);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Br(y,function(v){f.removeAllListeners(v),c.uninstall(v),Mn.cleanState(v)})}function m(y){c.initDocument&&c.initDocument(y)}return{listenTo:g,removeListener:f.removeListener,removeAllListeners:f.removeAllListeners,uninstall:_,initDocument:m}};function Sn(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const I2=yg(D2);var Si=I2({strategy:"scroll"});function za(e,t){Si.listenTo(e,t);var n=t;return{update:function(r){Si.removeListener(e,n),Si.listenTo(e,r),n=r},destroy:function(){Si.removeListener(e,n)}}}function Kd(e,t,n){return function(){for(var r=[],i=0,a=e,o=0;o<t.length||i<arguments.length;){var s;o<t.length&&(!nl(t[o])||i>=arguments.length)?s=t[o]:(s=arguments[i],i+=1),r[o]=s,nl(s)||(a-=1),o+=1}return a<=0?n.apply(this,r):Hu(a,Kd(e,r,n))}}var L2=xt(function(t,n){return t===1?wg(n):Hu(t,Kd(t,[],n))});function O2(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var P2=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=dr.init,e.prototype["@@transducer/result"]=dr.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),R2=xt(function(t,n){return new P2(t,n)}),pf=xt(Zs(["fantasy-land/map","map"],R2,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return L2(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return Qo(function(r,i){return r[i]=t(n[i]),r},{},Bn(n));default:return O2(t,n)}}));const eh=Number.isInteger||function(t){return t<<0===t};var th=xt(function(t,n){var r=t<0?n.length+t:t;return vg(n)?n.charAt(r):n[r]}),B2=xt(function(t,n){if(n!=null)return eh(t)?th(t,n):n[t]}),q2=xt(function(t,n){return pf(B2(t),n)});const ta=q2;function F2(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var U2=function(e){return{"@@transducer/init":dr.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?F2(r):r}}},$2=function(t){var n=U2(t);return{"@@transducer/init":dr.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return Mg(i)?Qo(n,r,i):Qo(n,r,[i])}}},z2=xt(function(t,n){return pf(t,$2(n))}),V2=xt(Zs(["fantasy-land/chain","chain"],z2,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:Sg(!1)(pf(t,n))}));const nh=V2;var H2=xt(function(t,n){return n==null||n!==n?t:n}),j2=function(){function e(t,n){this.xf=n,this.f=t,this.set=new ju}return e.prototype["@@transducer/init"]=dr.init,e.prototype["@@transducer/result"]=dr.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),W2=xt(function(t,n){return new j2(t,n)}),Y2=xt(Zs([],W2,function(e,t){for(var n=new ju,r=[],i=0,a,o;i<t.length;)o=t[i],a=e(o),n.add(a)&&r.push(o),i+=1;return r}));const G2=Y2;var Z2=G2(Tg);const X2=Z2;var J2=xt(function(t,n){return t.map(function(r){for(var i=n,a=0,o;a<r.length;){if(i==null)return;o=r[a],i=eh(o)?th(o,i):i[o],a+=1}return i})}),Q2=xt(function(t,n){return J2([t],n)[0]});const rh=Q2;var K2=kg(function(t,n,r){return H2(t,rh(n,r))});const e_=K2;function t_(e){return e}var wo=1,vo=2,cs=3,Ti=4,ql=1e-6;function n_(e){return"translate("+e+",0)"}function r_(e){return"translate(0,"+e+")"}function i_(e){return t=>+e(t)}function a_(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function o_(){return!this.__axis}function s_(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===wo||e===Ti?-1:1,c=e===Ti||e===vo?"x":"y",u=e===wo||e===cs?n_:r_;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):t_),_=Math.max(a,0)+s,m=t.range(),y=+m[0]+f,v=+m[m.length-1]+f,b=(t.bandwidth?a_:i_)(t.copy(),f),w=h.selection?h.selection():h,T=w.selectAll(".domain").data([null]),M=w.selectAll(".tick").data(p,t).order(),P=M.exit(),L=M.enter().append("g").attr("class","tick"),x=M.select("line"),k=M.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(L),x=x.merge(L.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),k=k.merge(L.append("text").attr("fill","currentColor").attr(c,l*_).attr("dy",e===wo?"0em":e===cs?"0.71em":"0.32em")),h!==w&&(T=T.transition(h),M=M.transition(h),x=x.transition(h),k=k.transition(h),P=P.transition(h).attr("opacity",ql).attr("transform",function(R){return isFinite(R=b(R))?u(R+f):this.getAttribute("transform")}),L.attr("opacity",ql).attr("transform",function(R){var E=this.parentNode.__axis;return u((E&&isFinite(E=E(R))?E:b(R))+f)})),P.remove(),T.attr("d",e===Ti||e===vo?o?"M"+l*o+","+y+"H"+f+"V"+v+"H"+l*o:"M"+f+","+y+"V"+v:o?"M"+y+","+l*o+"V"+f+"H"+v+"V"+l*o:"M"+y+","+f+"H"+v),M.attr("opacity",1).attr("transform",function(R){return u(b(R)+f)}),x.attr(c+"2",l*a),k.attr(c,l*_).text(g),w.filter(o_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===vo?"start":e===Ti?"end":"middle"),w.each(function(){this.__axis=b})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(f=+h,d):f},d}function f_(e){return s_(cs,e)}const us=Math.PI,ds=2*us,Pn=1e-6,l_=ds-Pn;function ih(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function c_(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ih;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class ah{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ih:c_(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,f=r-t,l=i-n,c=o-t,u=s-n,d=c*c+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(u*f-l*c)>Pn)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-s,g=f*f+l*l,_=h*h+p*p,m=Math.sqrt(g),y=Math.sqrt(d),v=a*Math.tan((us-Math.acos((g+d-_)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>Pn&&this._append`L${t+b*c},${n+b*u}`,this._append`A${a},${a},0,0,${+(u*h>c*p)},${this._x1=t+w*f},${this._y1=n+w*l}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),f=r*Math.sin(i),l=t+s,c=n+f,u=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Pn||Math.abs(this._y1-c)>Pn)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%ds+ds),d>l_?this._append`A${r},${r},0,1,${u},${t-s},${n-f}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>Pn&&this._append`A${r},${r},0,${+(d>=us)},${u},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function na(e=3){return new ah(+e)}var fe=1e-6,oh=1e-12,ue=Math.PI,Ue=ue/2,Fl=ue/4,Et=ue*2,st=180/ue,Fe=ue/180,Te=Math.abs,kr=Math.atan,mn=Math.atan2,ce=Math.cos,sh=Math.exp,ra=Math.log,Mo=Math.pow,ae=Math.sin,Ot=Math.sign||function(e){return e>0?1:e<0?-1:0},dt=Math.sqrt,gf=Math.tan;function fh(e){return e>1?0:e<-1?ue:Math.acos(e)}function Bt(e){return e>1?Ue:e<-1?-Ue:Math.asin(e)}function Pt(){}function ia(e,t){e&&$l.hasOwnProperty(e.type)&&$l[e.type](e,t)}var Ul={Feature:function(e,t){ia(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ia(n[r].geometry,t)}},$l={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){hs(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hs(n[r],t,0)},Polygon:function(e,t){zl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)zl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ia(n[r],t)}};function hs(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function zl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)hs(e[n],t,1);t.polygonEnd()}function tr(e,t){e&&Ul.hasOwnProperty(e.type)?Ul[e.type](e,t):ia(e,t)}function ps(e){return[mn(e[1],e[0]),Bt(e[2])]}function _r(e){var t=e[0],n=e[1],r=ce(n);return[r*ce(t),r*ae(t),ae(n)]}function ki(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function aa(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function So(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ei(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function gs(e){var t=dt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ms(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function bs(e,t){return Te(e)>ue&&(e-=Math.round(e/Et)*Et),[e,t]}bs.invert=bs;function lh(e,t,n){return(e%=Et)?t||n?ms(Hl(e),jl(t,n)):Hl(e):t||n?jl(t,n):bs}function Vl(e){return function(t,n){return t+=e,Te(t)>ue&&(t-=Math.round(t/Et)*Et),[t,n]}}function Hl(e){var t=Vl(e);return t.invert=Vl(-e),t}function jl(e,t){var n=ce(e),r=ae(e),i=ce(t),a=ae(t);function o(s,f){var l=ce(f),c=ce(s)*l,u=ae(s)*l,d=ae(f),h=d*n+c*r;return[mn(u*i-h*a,c*n-d*r),Bt(h*i+u*a)]}return o.invert=function(s,f){var l=ce(f),c=ce(s)*l,u=ae(s)*l,d=ae(f),h=d*i-u*a;return[mn(u*i+d*a,c*n+h*r),Bt(h*n-c*r)]},o}function u_(e){e=lh(e[0]*Fe,e[1]*Fe,e.length>2?e[2]*Fe:0);function t(n){return n=e(n[0]*Fe,n[1]*Fe),n[0]*=st,n[1]*=st,n}return t.invert=function(n){return n=e.invert(n[0]*Fe,n[1]*Fe),n[0]*=st,n[1]*=st,n},t}function d_(e,t,n,r,i,a){if(n){var o=ce(t),s=ae(t),f=r*n;i==null?(i=t+r*Et,a=t-f/2):(i=Wl(o,i),a=Wl(o,a),(r>0?i<a:i>a)&&(i+=r*Et));for(var l,c=i;r>0?c>a:c<a;c-=f)l=ps([o,-s*ce(c),-s*ae(c)]),e.point(l[0],l[1])}}function Wl(e,t){t=_r(t),t[0]-=e,gs(t);var n=fh(-t[1]);return((-t[2]<0?-n:n)+Et-fe)%Et}function ch(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Pt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function $i(e,t){return Te(e[0]-t[0])<fe&&Te(e[1]-t[1])<fe}function xi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function uh(e,t,n,r,i){var a=[],o=[],s,f;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,_=p[0],m=p[g],y;if($i(_,m)){if(!_[2]&&!m[2]){for(i.lineStart(),s=0;s<g;++s)i.point((_=p[s])[0],_[1]);i.lineEnd();return}m[0]+=2*fe}a.push(y=new xi(_,p,null,!0)),o.push(y.o=new xi(_,null,y,!1)),a.push(y=new xi(m,p,null,!1)),o.push(y.o=new xi(m,null,y,!0))}}),!!a.length){for(o.sort(t),Yl(a),Yl(o),s=0,f=o.length;s<f;++s)o[s].e=n=!n;for(var l=a[0],c,u;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,f=c.length;s<f;++s)i.point((u=c[s])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((u=c[s])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Yl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function To(e){return Te(e[0])<=ue?e[0]:Ot(e[0])*((Te(e[0])+ue)%Et-ue)}function h_(e,t){var n=To(t),r=t[1],i=ae(r),a=[ae(n),-ce(n),0],o=0,s=0,f=new qn;i===1?r=Ue+fe:i===-1&&(r=-Ue-fe);for(var l=0,c=e.length;l<c;++l)if(d=(u=e[l]).length)for(var u,d,h=u[d-1],p=To(h),g=h[1]/2+Fl,_=ae(g),m=ce(g),y=0;y<d;++y,p=b,_=T,m=M,h=v){var v=u[y],b=To(v),w=v[1]/2+Fl,T=ae(w),M=ce(w),P=b-p,L=P>=0?1:-1,x=L*P,k=x>ue,R=_*T;if(f.add(mn(R*L*ae(x),m*M+R*ce(x))),o+=k?P+L*Et:P,k^p>=n^b>=n){var E=aa(_r(h),_r(v));gs(E);var N=aa(a,E);gs(N);var S=(k^P>=0?-1:1)*Bt(N[2]);(r>S||r===S&&(E[0]||E[1]))&&(s+=k^P>=0?1:-1)}}return(o<-fe||o<fe&&f<-oh)^s&1}function dh(e,t,n,r){return function(i){var a=t(i),o=ch(),s=t(o),f=!1,l,c,u,d={point:h,lineStart:g,lineEnd:_,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=v,c=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=_,c=td(c);var b=h_(l,r);c.length?(f||(i.polygonStart(),f=!0),uh(c,g_,b,n,i)):b&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(b,w){e(b,w)&&i.point(b,w)}function p(b,w){a.point(b,w)}function g(){d.point=p,a.lineStart()}function _(){d.point=h,a.lineEnd()}function m(b,w){u.push([b,w]),s.point(b,w)}function y(){s.lineStart(),u=[]}function v(){m(u[0][0],u[0][1]),s.lineEnd();var b=s.clean(),w=o.result(),T,M=w.length,P,L,x;if(u.pop(),l.push(u),u=null,!!M){if(b&1){if(L=w[0],(P=L.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),T=0;T<P;++T)i.point((x=L[T])[0],x[1]);i.lineEnd()}return}M>1&&b&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(p_))}}return d}}function p_(e){return e.length>1}function g_(e,t){return((e=e.x)[0]<0?e[1]-Ue-fe:Ue-e[1])-((t=t.x)[0]<0?t[1]-Ue-fe:Ue-t[1])}const Gl=dh(function(){return!0},m_,__,[-ue,-Ue]);function m_(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?ue:-ue,f=Te(a-t);Te(f-ue)<fe?(e.point(t,n=(n+o)/2>0?Ue:-Ue),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&f>=ue&&(Te(t-r)<fe&&(t-=r*fe),Te(a-s)<fe&&(a-=s*fe),n=b_(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function b_(e,t,n,r){var i,a,o=ae(e-n);return Te(o)>fe?kr((ae(t)*(a=ce(r))*ae(n)-ae(r)*(i=ce(t))*ae(e))/(i*a*o)):(t+r)/2}function __(e,t,n,r){var i;if(e==null)i=n*Ue,r.point(-ue,i),r.point(0,i),r.point(ue,i),r.point(ue,0),r.point(ue,-i),r.point(0,-i),r.point(-ue,-i),r.point(-ue,0),r.point(-ue,i);else if(Te(e[0]-t[0])>fe){var a=e[0]<t[0]?ue:-ue;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function y_(e){var t=ce(e),n=6*Fe,r=t>0,i=Te(t)>fe;function a(c,u,d,h){d_(h,e,n,d,c,u)}function o(c,u){return ce(c)*ce(u)>t}function s(c){var u,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(_,m){var y=[_,m],v,b=o(_,m),w=r?b?0:l(_,m):b?l(_+(_<0?ue:-ue),m):0;if(!u&&(p=h=b)&&c.lineStart(),b!==h&&(v=f(u,y),(!v||$i(u,v)||$i(y,v))&&(y[2]=1)),b!==h)g=0,b?(c.lineStart(),v=f(y,u),c.point(v[0],v[1])):(v=f(u,y),c.point(v[0],v[1],2),c.lineEnd()),u=v;else if(i&&u&&r^b){var T;!(w&d)&&(T=f(y,u,!0))&&(g=0,r?(c.lineStart(),c.point(T[0][0],T[0][1]),c.point(T[1][0],T[1][1]),c.lineEnd()):(c.point(T[1][0],T[1][1]),c.lineEnd(),c.lineStart(),c.point(T[0][0],T[0][1],3)))}b&&(!u||!$i(u,y))&&c.point(y[0],y[1]),u=y,h=b,d=w},lineEnd:function(){h&&c.lineEnd(),u=null},clean:function(){return g|(p&&h)<<1}}}function f(c,u,d){var h=_r(c),p=_r(u),g=[1,0,0],_=aa(h,p),m=ki(_,_),y=_[0],v=m-y*y;if(!v)return!d&&c;var b=t*m/v,w=-t*y/v,T=aa(g,_),M=Ei(g,b),P=Ei(_,w);So(M,P);var L=T,x=ki(M,L),k=ki(L,L),R=x*x-k*(ki(M,M)-1);if(!(R<0)){var E=dt(R),N=Ei(L,(-x-E)/k);if(So(N,M),N=ps(N),!d)return N;var S=c[0],A=u[0],z=c[1],G=u[1],X;A<S&&(X=S,S=A,A=X);var V=A-S,K=Te(V-ue)<fe,ee=K||V<fe;if(!K&&G<z&&(X=z,z=G,G=X),ee?K?z+G>0^N[1]<(Te(N[0]-S)<fe?z:G):z<=N[1]&&N[1]<=G:V>ue^(S<=N[0]&&N[0]<=A)){var de=Ei(L,(-x+E)/k);return So(de,M),[N,ps(de)]}}}function l(c,u){var d=r?e:ue-e,h=0;return c<-d?h|=1:c>d&&(h|=2),u<-d?h|=4:u>d&&(h|=8),h}return dh(o,s,a,r?[0,-e]:[-ue,e-ue])}function w_(e,t,n,r,i,a){var o=e[0],s=e[1],f=t[0],l=t[1],c=0,u=1,d=f-o,h=l-s,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<u&&(u=p)}else if(d>0){if(p>u)return;p>c&&(c=p)}if(p=i-o,!(!d&&p<0)){if(p/=d,d<0){if(p>u)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<u&&(u=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<u&&(u=p)}else if(h>0){if(p>u)return;p>c&&(c=p)}if(p=a-s,!(!h&&p<0)){if(p/=h,h<0){if(p>u)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<u&&(u=p)}return c>0&&(e[0]=o+c*d,e[1]=s+c*h),u<1&&(t[0]=o+u*d,t[1]=s+u*h),!0}}}}}var qr=1e9,Ai=-qr;function hh(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function a(l,c,u,d){var h=0,p=0;if(l==null||(h=o(l,u))!==(p=o(c,u))||f(l,c)<0^u>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+u+4)%4)!==p);else d.point(c[0],c[1])}function o(l,c){return Te(l[0]-e)<fe?c>0?0:3:Te(l[0]-n)<fe?c>0?2:1:Te(l[1]-t)<fe?c>0?1:0:c>0?3:2}function s(l,c){return f(l.x,c.x)}function f(l,c){var u=o(l,1),d=o(c,1);return u!==d?u-d:u===0?c[1]-l[1]:u===1?l[0]-c[0]:u===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,u=ch(),d,h,p,g,_,m,y,v,b,w,T,M={point:P,lineStart:R,lineEnd:E,polygonStart:x,polygonEnd:k};function P(S,A){i(S,A)&&c.point(S,A)}function L(){for(var S=0,A=0,z=h.length;A<z;++A)for(var G=h[A],X=1,V=G.length,K=G[0],ee,de,me=K[0],F=K[1];X<V;++X)ee=me,de=F,K=G[X],me=K[0],F=K[1],de<=r?F>r&&(me-ee)*(r-de)>(F-de)*(e-ee)&&++S:F<=r&&(me-ee)*(r-de)<(F-de)*(e-ee)&&--S;return S}function x(){c=u,d=[],h=[],T=!0}function k(){var S=L(),A=T&&S,z=(d=td(d)).length;(A||z)&&(l.polygonStart(),A&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),z&&uh(d,s,S,a,l),l.polygonEnd()),c=l,d=h=p=null}function R(){M.point=N,h&&h.push(p=[]),w=!0,b=!1,y=v=NaN}function E(){d&&(N(g,_),m&&b&&u.rejoin(),d.push(u.result())),M.point=P,b&&c.lineEnd()}function N(S,A){var z=i(S,A);if(h&&p.push([S,A]),w)g=S,_=A,m=z,w=!1,z&&(c.lineStart(),c.point(S,A));else if(z&&b)c.point(S,A);else{var G=[y=Math.max(Ai,Math.min(qr,y)),v=Math.max(Ai,Math.min(qr,v))],X=[S=Math.max(Ai,Math.min(qr,S)),A=Math.max(Ai,Math.min(qr,A))];w_(G,X,e,t,n,r)?(b||(c.lineStart(),c.point(G[0],G[1])),c.point(X[0],X[1]),z||c.lineEnd(),T=!1):z&&(c.lineStart(),c.point(S,A),T=!1)}y=S,v=A,b=z}return M}}const _s=e=>e;var ko=new qn,ys=new qn,ph,gh,ws,vs,Tn={point:Pt,lineStart:Pt,lineEnd:Pt,polygonStart:function(){Tn.lineStart=v_,Tn.lineEnd=S_},polygonEnd:function(){Tn.lineStart=Tn.lineEnd=Tn.point=Pt,ko.add(Te(ys)),ys=new qn},result:function(){var e=ko/2;return ko=new qn,e}};function v_(){Tn.point=M_}function M_(e,t){Tn.point=mh,ph=ws=e,gh=vs=t}function mh(e,t){ys.add(vs*e-ws*t),ws=e,vs=t}function S_(){mh(ph,gh)}const Zl=Tn;var yr=1/0,oa=yr,ti=-yr,sa=ti,T_={point:k_,lineStart:Pt,lineEnd:Pt,polygonStart:Pt,polygonEnd:Pt,result:function(){var e=[[yr,oa],[ti,sa]];return ti=sa=-(oa=yr=1/0),e}};function k_(e,t){e<yr&&(yr=e),e>ti&&(ti=e),t<oa&&(oa=t),t>sa&&(sa=t)}const fa=T_;var Ms=0,Ss=0,Fr=0,la=0,ca=0,ar=0,Ts=0,ks=0,Ur=0,bh,_h,Wt,Yt,Ut={point:zn,lineStart:Xl,lineEnd:Jl,polygonStart:function(){Ut.lineStart=A_,Ut.lineEnd=C_},polygonEnd:function(){Ut.point=zn,Ut.lineStart=Xl,Ut.lineEnd=Jl},result:function(){var e=Ur?[Ts/Ur,ks/Ur]:ar?[la/ar,ca/ar]:Fr?[Ms/Fr,Ss/Fr]:[NaN,NaN];return Ms=Ss=Fr=la=ca=ar=Ts=ks=Ur=0,e}};function zn(e,t){Ms+=e,Ss+=t,++Fr}function Xl(){Ut.point=E_}function E_(e,t){Ut.point=x_,zn(Wt=e,Yt=t)}function x_(e,t){var n=e-Wt,r=t-Yt,i=dt(n*n+r*r);la+=i*(Wt+e)/2,ca+=i*(Yt+t)/2,ar+=i,zn(Wt=e,Yt=t)}function Jl(){Ut.point=zn}function A_(){Ut.point=N_}function C_(){yh(bh,_h)}function N_(e,t){Ut.point=yh,zn(bh=Wt=e,_h=Yt=t)}function yh(e,t){var n=e-Wt,r=t-Yt,i=dt(n*n+r*r);la+=i*(Wt+e)/2,ca+=i*(Yt+t)/2,ar+=i,i=Yt*e-Wt*t,Ts+=i*(Wt+e),ks+=i*(Yt+t),Ur+=i*3,zn(Wt=e,Yt=t)}const Ql=Ut;function wh(e){this._context=e}wh.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Et);break}}},result:Pt};var Es=new qn,Eo,vh,Mh,$r,zr,ua={point:Pt,lineStart:function(){ua.point=D_},lineEnd:function(){Eo&&Sh(vh,Mh),ua.point=Pt},polygonStart:function(){Eo=!0},polygonEnd:function(){Eo=null},result:function(){var e=+Es;return Es=new qn,e}};function D_(e,t){ua.point=Sh,vh=$r=e,Mh=zr=t}function Sh(e,t){$r-=e,zr-=t,Es.add(dt($r*$r+zr*zr)),$r=e,zr=t}const Kl=ua;let ec,da,tc,nc;class rc{constructor(t){this._append=t==null?Th:I_(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==tc||this._append!==da){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,tc=r,da=this._append,nc=this._,this._=i}this._+=nc;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Th(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function I_(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Th;if(t!==ec){const n=10**t;ec=t,da=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return da}function Va(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),tr(s,i(a))),a.result()}return o.area=function(s){return tr(s,i(Zl)),Zl.result()},o.measure=function(s){return tr(s,i(Kl)),Kl.result()},o.bounds=function(s){return tr(s,i(fa)),fa.result()},o.centroid=function(s){return tr(s,i(Ql)),Ql.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,_s):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new rc(n)):new wh(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);n=f}return t===null&&(a=new rc(n)),o},o.projection(e).digits(n).context(t)}function xs(e){return{stream:Ha(e)}}function Ha(e){return function(t){var n=new As;for(var r in e)n[r]=e[r];return n.stream=t,n}}function As(){}As.prototype={constructor:As,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function mf(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),tr(n,e.stream(fa)),t(fa.result()),r!=null&&e.clipExtent(r),e}function bf(e,t,n){return mf(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,f])},n)}function kh(e,t,n){return bf(e,[[0,0],t],n)}function Eh(e,t,n){return mf(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function xh(e,t,n){return mf(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var ic=16,L_=ce(30*Fe);function ac(e,t){return+t?P_(e,t):O_(e)}function O_(e){return Ha({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function P_(e,t){function n(r,i,a,o,s,f,l,c,u,d,h,p,g,_){var m=l-r,y=c-i,v=m*m+y*y;if(v>4*t&&g--){var b=o+d,w=s+h,T=f+p,M=dt(b*b+w*w+T*T),P=Bt(T/=M),L=Te(Te(T)-1)<fe||Te(a-u)<fe?(a+u)/2:mn(w,b),x=e(L,P),k=x[0],R=x[1],E=k-r,N=R-i,S=y*E-m*N;(S*S/v>t||Te((m*E+y*N)/v-.5)>.3||o*d+s*h+f*p<L_)&&(n(r,i,a,o,s,f,k,R,L,b/=M,w/=M,T,g,_),_.point(k,R),n(k,R,L,b,w,T,l,c,u,d,h,p,g,_))}}return function(r){var i,a,o,s,f,l,c,u,d,h,p,g,_={point:m,lineStart:y,lineEnd:b,polygonStart:function(){r.polygonStart(),_.lineStart=w},polygonEnd:function(){r.polygonEnd(),_.lineStart=y}};function m(P,L){P=e(P,L),r.point(P[0],P[1])}function y(){u=NaN,_.point=v,r.lineStart()}function v(P,L){var x=_r([P,L]),k=e(P,L);n(u,d,c,h,p,g,u=k[0],d=k[1],c=P,h=x[0],p=x[1],g=x[2],ic,r),r.point(u,d)}function b(){_.point=m,r.lineEnd()}function w(){y(),_.point=T,_.lineEnd=M}function T(P,L){v(i=P,L),a=u,o=d,s=h,f=p,l=g,_.point=v}function M(){n(u,d,c,h,p,g,a,o,i,s,f,l,ic,r),_.lineEnd=b,b()}return _}}var R_=Ha({point:function(e,t){this.stream.point(e*Fe,t*Fe)}});function B_(e){return Ha({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function q_(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function oc(e,t,n,r,i,a){if(!a)return q_(e,t,n,r,i);var o=ce(a),s=ae(a),f=o*e,l=s*e,c=o/e,u=s/e,d=(s*n-o*t)/e,h=(s*t+o*n)/e;function p(g,_){return g*=r,_*=i,[f*g-l*_+t,n-l*g-f*_]}return p.invert=function(g,_){return[r*(c*g-u*_+d),i*(h-u*g-c*_)]},p}function Dn(e){return Ah(function(){return e})()}function Ah(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,f=0,l=0,c,u=0,d=1,h=1,p=null,g=Gl,_=null,m,y,v,b=_s,w=.5,T,M,P,L,x;function k(S){return P(S[0]*Fe,S[1]*Fe)}function R(S){return S=P.invert(S[0],S[1]),S&&[S[0]*st,S[1]*st]}k.stream=function(S){return L&&x===S?L:L=R_(B_(c)(g(T(b(x=S)))))},k.preclip=function(S){return arguments.length?(g=S,p=void 0,N()):g},k.postclip=function(S){return arguments.length?(b=S,_=m=y=v=null,N()):b},k.clipAngle=function(S){return arguments.length?(g=+S?y_(p=S*Fe):(p=null,Gl),N()):p*st},k.clipExtent=function(S){return arguments.length?(b=S==null?(_=m=y=v=null,_s):hh(_=+S[0][0],m=+S[0][1],y=+S[1][0],v=+S[1][1]),N()):_==null?null:[[_,m],[y,v]]},k.scale=function(S){return arguments.length?(n=+S,E()):n},k.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],E()):[r,i]},k.center=function(S){return arguments.length?(a=S[0]%360*Fe,o=S[1]%360*Fe,E()):[a*st,o*st]},k.rotate=function(S){return arguments.length?(s=S[0]%360*Fe,f=S[1]%360*Fe,l=S.length>2?S[2]%360*Fe:0,E()):[s*st,f*st,l*st]},k.angle=function(S){return arguments.length?(u=S%360*Fe,E()):u*st},k.reflectX=function(S){return arguments.length?(d=S?-1:1,E()):d<0},k.reflectY=function(S){return arguments.length?(h=S?-1:1,E()):h<0},k.precision=function(S){return arguments.length?(T=ac(M,w=S*S),N()):dt(w)},k.fitExtent=function(S,A){return bf(k,S,A)},k.fitSize=function(S,A){return kh(k,S,A)},k.fitWidth=function(S,A){return Eh(k,S,A)},k.fitHeight=function(S,A){return xh(k,S,A)};function E(){var S=oc(n,0,0,d,h,u).apply(null,t(a,o)),A=oc(n,r-S[0],i-S[1],d,h,u);return c=lh(s,f,l),M=ms(t,A),P=ms(c,M),T=ac(M,w),N()}function N(){return L=x=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&R,E()}}function _f(e){var t=0,n=ue/3,r=Ah(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*Fe,n=a[1]*Fe):[t*st,n*st]},i}function F_(e){var t=ce(e);function n(r,i){return[r*t,ae(i)/t]}return n.invert=function(r,i){return[r/t,Bt(i*t)]},n}function U_(e,t){var n=ae(e),r=(n+ae(t))/2;if(Te(r)<fe)return F_(e);var i=1+n*(2*r-n),a=dt(i)/r;function o(s,f){var l=dt(i-2*r*ae(f))/r;return[l*ae(s*=r),a-l*ce(s)]}return o.invert=function(s,f){var l=a-f,c=mn(s,Te(l))*Ot(l);return l*r<0&&(c-=ue*Ot(s)*Ot(l)),[c/r,Bt((i-(s*s+l*l)*r*r)/(2*r))]},o}function ha(){return _f(U_).scale(155.424).center([0,33.6442])}function Ch(){return ha().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function $_(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function z_(){var e,t,n=Ch(),r,i=ha().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ha().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,f,l={point:function(d,h){f=[d,h]}};function c(d){var h=d[0],p=d[1];return f=null,r.point(h,p),f||(a.point(h,p),f)||(s.point(h,p),f)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,_=(d[1]-p[1])/h;return(_>=.12&&_<.234&&g>=-.425&&g<-.214?i:_>=.166&&_<.234&&g>=-.214&&g<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=$_([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),u()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(l),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+fe,g+.12*h+fe],[p-.214*h-fe,g+.234*h-fe]]).stream(l),s=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+fe,g+.166*h+fe],[p-.115*h-fe,g+.234*h-fe]]).stream(l),u()},c.fitExtent=function(d,h){return bf(c,d,h)},c.fitSize=function(d,h){return kh(c,d,h)},c.fitWidth=function(d,h){return Eh(c,d,h)},c.fitHeight=function(d,h){return xh(c,d,h)};function u(){return e=t=null,c}return c.scale(1070)}function Nh(e){return function(t,n){var r=ce(t),i=ce(n),a=e(r*i);return a===1/0?[2,0]:[a*i*ae(t),a*ae(n)]}}function pi(e){return function(t,n){var r=dt(t*t+n*n),i=e(r),a=ae(i),o=ce(i);return[mn(t*a,r*o),Bt(r&&n*a/r)]}}var Dh=Nh(function(e){return dt(2/(1+e))});Dh.invert=pi(function(e){return 2*Bt(e/2)});function V_(){return Dn(Dh).scale(124.75).clipAngle(180-.001)}var Ih=Nh(function(e){return(e=fh(e))&&e/ae(e)});Ih.invert=pi(function(e){return e});function H_(){return Dn(Ih).scale(79.4188).clipAngle(180-.001)}function ja(e,t){return[e,ra(gf((Ue+t)/2))]}ja.invert=function(e,t){return[e,2*kr(sh(t))-Ue]};function j_(){return Lh(ja).scale(961/Et)}function Lh(e){var t=Dn(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,f,l;t.scale=function(u){return arguments.length?(r(u),c()):r()},t.translate=function(u){return arguments.length?(i(u),c()):i()},t.center=function(u){return arguments.length?(n(u),c()):n()},t.clipExtent=function(u){return arguments.length?(u==null?o=s=f=l=null:(o=+u[0][0],s=+u[0][1],f=+u[1][0],l=+u[1][1]),c()):o==null?null:[[o,s],[f,l]]};function c(){var u=ue*r(),d=t(u_(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-u,d[1]-u],[d[0]+u,d[1]+u]]:e===ja?[[Math.max(d[0]-u,o),s],[Math.min(d[0]+u,f),l]]:[[o,Math.max(d[1]-u,s)],[f,Math.min(d[1]+u,l)]])}return c()}function Ci(e){return gf((Ue+e)/2)}function W_(e,t){var n=ce(e),r=e===t?ae(e):ra(n/ce(t))/ra(Ci(t)/Ci(e)),i=n*Mo(Ci(e),r)/r;if(!r)return ja;function a(o,s){i>0?s<-Ue+fe&&(s=-Ue+fe):s>Ue-fe&&(s=Ue-fe);var f=i/Mo(Ci(s),r);return[f*ae(r*o),i-f*ce(r*o)]}return a.invert=function(o,s){var f=i-s,l=Ot(r)*dt(o*o+f*f),c=mn(o,Te(f))*Ot(f);return f*r<0&&(c-=ue*Ot(o)*Ot(f)),[c/r,2*kr(Mo(i/l,1/r))-Ue]},a}function Y_(){return _f(W_).scale(109.5).parallels([30,30])}function pa(e,t){return[e,t]}pa.invert=pa;function G_(){return Dn(pa).scale(152.63)}function Z_(e,t){var n=ce(e),r=e===t?ae(e):(n-ce(t))/(t-e),i=n/r+e;if(Te(r)<fe)return pa;function a(o,s){var f=i-s,l=r*o;return[f*ae(l),i-f*ce(l)]}return a.invert=function(o,s){var f=i-s,l=mn(o,Te(f))*Ot(f);return f*r<0&&(l-=ue*Ot(o)*Ot(f)),[l/r,i-Ot(r)*dt(o*o+f*f)]},a}function X_(){return _f(Z_).scale(131.154).center([0,13.9389])}var Vr=1.340264,Hr=-.081106,jr=893e-6,Wr=.003796,ga=dt(3)/2,J_=12;function Oh(e,t){var n=Bt(ga*ae(t)),r=n*n,i=r*r*r;return[e*ce(n)/(ga*(Vr+3*Hr*r+i*(7*jr+9*Wr*r))),n*(Vr+Hr*r+i*(jr+Wr*r))]}Oh.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,f;a<J_&&(s=n*(Vr+Hr*r+i*(jr+Wr*r))-t,f=Vr+3*Hr*r+i*(7*jr+9*Wr*r),n-=o=s/f,r=n*n,i=r*r*r,!(Te(o)<oh));++a);return[ga*e*(Vr+3*Hr*r+i*(7*jr+9*Wr*r))/ce(n),Bt(ae(n)/ga)]};function Q_(){return Dn(Oh).scale(177.158)}function Ph(e,t){var n=ce(t),r=ce(e)*n;return[n*ae(e)/r,ae(t)/r]}Ph.invert=pi(kr);function K_(){return Dn(Ph).scale(144.049).clipAngle(60)}function Rh(e,t){return[ce(t)*ae(e),ae(t)]}Rh.invert=pi(Bt);function ey(){return Dn(Rh).scale(249.5).clipAngle(90+fe)}function Bh(e,t){var n=ce(t),r=1+ce(e)*n;return[n*ae(e)/r,ae(t)/r]}Bh.invert=pi(function(e){return 2*kr(e)});function ty(){return Dn(Bh).scale(250).clipAngle(142)}function qh(e,t){return[ra(gf((Ue+t)/2)),-e]}qh.invert=function(e,t){return[-t,2*kr(sh(e))-Ue]};function ny(){var e=Lh(qh),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function le(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Wa=le("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),ry=le("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),iy=le("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),ay=le("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),oy=le("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),sy=le("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),fy=le("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ly=le("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),cy=le("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),uy=le("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ce=e=>Eg(e[e.length-1]);var Fh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(le);const Uh=Ce(Fh);var $h=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(le);const zh=Ce($h);var Vh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(le);const Hh=Ce(Vh);var jh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(le);const Wh=Ce(jh);var Cs=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(le);const ma=Ce(Cs);var Yh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(le);const Gh=Ce(Yh);var Ns=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(le);const ba=Ce(Ns);var Zh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(le);const Xh=Ce(Zh);var Jh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(le);const Qh=Ce(Jh);var Kh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(le);const e0=Ce(Kh);var t0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(le);const n0=Ce(t0);var r0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(le);const i0=Ce(r0);var a0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(le);const o0=Ce(a0);var s0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(le);const f0=Ce(s0);var l0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(le);const c0=Ce(l0);var u0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(le);const d0=Ce(u0);var h0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(le);const p0=Ce(h0);var g0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(le);const m0=Ce(g0);var b0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(le);const _0=Ce(b0);var y0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(le);const w0=Ce(y0);var v0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(le);const M0=Ce(v0);var S0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(le);const T0=Ce(S0);var k0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(le);const E0=Ce(k0);var x0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(le);const A0=Ce(x0);var C0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(le);const N0=Ce(C0);var D0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(le);const I0=Ce(D0);var L0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(le);const O0=Ce(L0);function P0(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const R0=sf(Jt(300,.5,0),Jt(-240,.5,1));var B0=sf(Jt(-100,.75,.35),Jt(80,1.5,.8)),q0=sf(Jt(260,.75,.35),Jt(80,1.5,.8)),Ni=Jt();function F0(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ni.h=360*e-100,Ni.s=1.5-1.5*t,Ni.l=.8-.9*t,Ni+""}var Di=Vi(),dy=Math.PI/3,hy=Math.PI*2/3;function U0(e){var t;return e=(.5-e)*Math.PI,Di.r=255*(t=Math.sin(e))*t,Di.g=255*(t=Math.sin(e+dy))*t,Di.b=255*(t=Math.sin(e+hy))*t,Di+""}function $0(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Ya(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const z0=Ya(le("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var V0=Ya(le("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),H0=Ya(le("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),j0=Ya(le("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Qn(e){return function(){return e}}const W0=Math.cos,yf=Math.min,_a=Math.sin,Ze=Math.sqrt,sc=1e-12,ya=Math.PI,Ga=2*ya;function py(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new ah(t)}function gy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y0(e){this._context=e}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Za(e){return new Y0(e)}function my(e){return e[0]}function by(e){return e[1]}function _y(e,t){var n=Qn(!0),r=null,i=Za,a=null,o=py(s);e=typeof e=="function"?e:e===void 0?my:Qn(e),t=typeof t=="function"?t:t===void 0?by:Qn(t);function s(f){var l,c=(f=gy(f)).length,u,d=!1,h;for(r==null&&(a=i(h=o())),l=0;l<=c;++l)!(l<c&&n(u=f[l],l,f))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,l,f),+t(u,l,f));if(h)return a=null,h+""||null}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),s):t},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Qn(!!f),s):n},s.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),s):i},s.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),s):r},s}class G0{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function yy(e){return new G0(e,!0)}function wy(e){return new G0(e,!1)}const vy=Ze(3),Z0={draw(e,t){const n=Ze(t+yf(t/28,.75))*.59436,r=n/2,i=r*vy;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},wf={draw(e,t){const n=Ze(t/ya);e.moveTo(n,0),e.arc(0,0,n,0,Ga)}},X0={draw(e,t){const n=Ze(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},J0=Ze(1/3),My=J0*2,Q0={draw(e,t){const n=Ze(t/My),r=n*J0;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},K0={draw(e,t){const n=Ze(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},e1={draw(e,t){const n=Ze(t-yf(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},t1={draw(e,t){const n=Ze(t),r=-n/2;e.rect(r,r,n,n)}},n1={draw(e,t){const n=Ze(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},Sy=.8908130915292852,r1=_a(ya/10)/_a(7*ya/10),Ty=_a(Ga/10)*r1,ky=-W0(Ga/10)*r1,i1={draw(e,t){const n=Ze(t*Sy),r=Ty*n,i=ky*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Ga*a/5,s=W0(o),f=_a(o);e.lineTo(f*n,-s*n),e.lineTo(s*r-f*i,f*r+s*i)}e.closePath()}},xo=Ze(3),a1={draw(e,t){const n=-Ze(t/(xo*3));e.moveTo(0,n*2),e.lineTo(-xo*n,-n),e.lineTo(xo*n,-n),e.closePath()}},Ey=Ze(3),o1={draw(e,t){const n=Ze(t)*.6824,r=n/2,i=n*Ey/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ct=-.5,Nt=Ze(3)/2,Ds=1/Ze(12),xy=(Ds/2+1)*3,s1={draw(e,t){const n=Ze(t/xy),r=n/2,i=n*Ds,a=r,o=n*Ds+n,s=-a,f=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,f),e.lineTo(Ct*r-Nt*i,Nt*r+Ct*i),e.lineTo(Ct*a-Nt*o,Nt*a+Ct*o),e.lineTo(Ct*s-Nt*f,Nt*s+Ct*f),e.lineTo(Ct*r+Nt*i,Ct*i-Nt*r),e.lineTo(Ct*a+Nt*o,Ct*o-Nt*a),e.lineTo(Ct*s+Nt*f,Ct*f-Nt*s),e.closePath()}},f1={draw(e,t){const n=Ze(t-yf(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Ay=[wf,X0,Q0,t1,i1,a1,s1],Cy=[wf,e1,f1,o1,Z0,n1,K0];function Nn(){}function wa(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Xa(e){this._context=e}Xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ny(e){return new Xa(e)}function l1(e){this._context=e}l1.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dy(e){return new l1(e)}function c1(e){this._context=e}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iy(e){return new c1(e)}function u1(e,t){this._basis=new Xa(e),this._beta=t}u1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,f;++s<=n;)f=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+f*a),this._beta*t[s]+(1-this._beta)*(i+f*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Ly=function e(t){function n(r){return t===1?new Xa(r):new u1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function va(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function vf(e,t){this._context=e,this._k=(1-t)/6}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:va(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:va(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Oy=function e(t){function n(r){return new vf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Mf(e,t){this._context=e,this._k=(1-t)/6}Mf.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:va(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Py=function e(t){function n(r){return new Mf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Sf(e,t){this._context=e,this._k=(1-t)/6}Sf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:va(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ry=function e(t){function n(r){return new Sf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Tf(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>sc){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>sc){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function d1(e,t){this._context=e,this._alpha=t}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Tf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const By=function e(t){function n(r){return t?new d1(r,t):new vf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function h1(e,t){this._context=e,this._alpha=t}h1.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Tf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qy=function e(t){function n(r){return t?new h1(r,t):new Mf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function p1(e,t){this._context=e,this._alpha=t}p1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fy=function e(t){function n(r){return t?new p1(r,t):new Sf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function g1(e){this._context=e}g1.prototype={areaStart:Nn,areaEnd:Nn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Uy(e){return new g1(e)}function fc(e){return e<0?-1:1}function lc(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(fc(a)+fc(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function cc(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Ao(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Ma(e){this._context=e}Ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ao(this,this._t0,cc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ao(this,cc(this,n=lc(this,e,t)),n);break;default:Ao(this,this._t0,n=lc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function m1(e){this._context=new b1(e)}(m1.prototype=Object.create(Ma.prototype)).point=function(e,t){Ma.prototype.point.call(this,t,e)};function b1(e){this._context=e}b1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function $y(e){return new Ma(e)}function zy(e){return new m1(e)}function _1(e){this._context=e}_1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=uc(e),i=uc(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function uc(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Vy(e){return new _1(e)}function Ja(e,t){this._context=e,this._t=t}Ja.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Hy(e){return new Ja(e,.5)}function jy(e){return new Ja(e,0)}function Wy(e){return new Ja(e,1)}class Ii extends xg{constructor(){super(),this.overlays={}}async execute(t,n){this.overlays=Ag(this.overlays,t);let r=nh(i=>({key:i,left:this.overlays[i].left,right:this.overlays[i].right}),Bn(this.overlays));this.emit("data",r,"overlay")}}const Yy=e=>({}),dc=e=>({}),Gy=e=>({}),hc=e=>({}),Zy=e=>({}),pc=e=>({}),Xy=e=>({}),gc=e=>({}),Jy=e=>({}),mc=e=>({}),Qy=e=>({}),bc=e=>({}),Ky=e=>({}),_c=e=>({}),ew=e=>({}),yc=e=>({}),tw=e=>({}),wc=e=>({}),nw=e=>({}),vc=e=>({}),rw=e=>({}),Mc=e=>({}),iw=e=>({}),Sc=e=>({}),aw=e=>({}),Tc=e=>({});function ow(e){let t,n,r,i,a,o,s,f,l,c,u,d,h,p,g,_,m,y,v,b,w,T,M,P,L,x;const k=e[1].header,R=yt(k,e,e[0],Tc),E=e[1].alert,N=yt(E,e,e[0],Sc),S=e[1].dropdown1,A=yt(S,e,e[0],Mc),z=e[1].dropdown2,G=yt(z,e,e[0],vc),X=e[1].chart1,V=yt(X,e,e[0],wc),K=e[1].chart2,ee=yt(K,e,e[0],yc),de=e[1].chart3,me=yt(de,e,e[0],_c),F=e[1].chart4,pe=yt(F,e,e[0],bc),Be=e[1].obplot,Ne=yt(Be,e,e[0],mc),O=e[1].slider1,U=yt(O,e,e[0],gc),Z=e[1].slider2,q=yt(Z,e,e[0],pc),ye=e[1].slider3,te=yt(ye,e,e[0],hc),we=e[1].slider4,ne=yt(we,e,e[0],dc);return{c(){t=W("div"),n=W("div"),R&&R.c(),r=oe(),i=W("div"),N&&N.c(),a=oe(),o=W("div"),A&&A.c(),s=oe(),G&&G.c(),f=oe(),l=W("div"),V&&V.c(),c=oe(),u=W("div"),ee&&ee.c(),d=oe(),h=W("div"),me&&me.c(),p=oe(),g=W("div"),pe&&pe.c(),_=oe(),m=W("div"),Ne&&Ne.c(),y=oe(),v=W("div"),U&&U.c(),b=oe(),w=W("div"),q&&q.c(),T=oe(),M=W("div"),te&&te.c(),P=oe(),L=W("div"),ne&&ne.c(),this.h()},l(I){t=Y(I,"DIV",{class:!0});var j=H(t);n=Y(j,"DIV",{class:!0});var ft=H(n);R&&R.l(ft),ft.forEach(D),r=se(j),i=Y(j,"DIV",{class:!0});var nt=H(i);N&&N.l(nt),nt.forEach(D),a=se(j),o=Y(j,"DIV",{class:!0});var qe=H(o);A&&A.l(qe),s=se(qe),G&&G.l(qe),qe.forEach(D),f=se(j),l=Y(j,"DIV",{class:!0});var $e=H(l);V&&V.l($e),$e.forEach(D),c=se(j),u=Y(j,"DIV",{class:!0});var at=H(u);ee&&ee.l(at),at.forEach(D),d=se(j),h=Y(j,"DIV",{class:!0});var mt=H(h);me&&me.l(mt),mt.forEach(D),p=se(j),g=Y(j,"DIV",{class:!0});var bt=H(g);pe&&pe.l(bt),bt.forEach(D),_=se(j),m=Y(j,"DIV",{class:!0});var At=H(m);Ne&&Ne.l(At),At.forEach(D),y=se(j),v=Y(j,"DIV",{class:!0});var lt=H(v);U&&U.l(lt),lt.forEach(D),b=se(j),w=Y(j,"DIV",{class:!0});var Ae=H(w);q&&q.l(Ae),Ae.forEach(D),T=se(j),M=Y(j,"DIV",{class:!0});var Ye=H(M);te&&te.l(Ye),Ye.forEach(D),P=se(j),L=Y(j,"DIV",{class:!0});var ot=H(L);ne&&ne.l(ot),ot.forEach(D),j.forEach(D),this.h()},h(){B(n,"class","mx-auto"),B(i,"class",""),B(o,"class","mx-auto"),B(l,"class",""),B(u,"class",""),B(h,"class",""),B(g,"class",""),B(m,"class",""),B(v,"class",""),B(w,"class",""),B(M,"class",""),B(L,"class",""),B(t,"class","px-5 py-2 bg-white border-solid border-2 border-black")},m(I,j){J(I,t,j),$(t,n),R&&R.m(n,null),$(t,r),$(t,i),N&&N.m(i,null),$(t,a),$(t,o),A&&A.m(o,null),$(o,s),G&&G.m(o,null),$(t,f),$(t,l),V&&V.m(l,null),$(t,c),$(t,u),ee&&ee.m(u,null),$(t,d),$(t,h),me&&me.m(h,null),$(t,p),$(t,g),pe&&pe.m(g,null),$(t,_),$(t,m),Ne&&Ne.m(m,null),$(t,y),$(t,v),U&&U.m(v,null),$(t,b),$(t,w),q&&q.m(w,null),$(t,T),$(t,M),te&&te.m(M,null),$(t,P),$(t,L),ne&&ne.m(L,null),x=!0},p(I,[j]){R&&R.p&&(!x||j&1)&&wt(R,k,I,I[0],x?Mt(k,I[0],j,aw):vt(I[0]),Tc),N&&N.p&&(!x||j&1)&&wt(N,E,I,I[0],x?Mt(E,I[0],j,iw):vt(I[0]),Sc),A&&A.p&&(!x||j&1)&&wt(A,S,I,I[0],x?Mt(S,I[0],j,rw):vt(I[0]),Mc),G&&G.p&&(!x||j&1)&&wt(G,z,I,I[0],x?Mt(z,I[0],j,nw):vt(I[0]),vc),V&&V.p&&(!x||j&1)&&wt(V,X,I,I[0],x?Mt(X,I[0],j,tw):vt(I[0]),wc),ee&&ee.p&&(!x||j&1)&&wt(ee,K,I,I[0],x?Mt(K,I[0],j,ew):vt(I[0]),yc),me&&me.p&&(!x||j&1)&&wt(me,de,I,I[0],x?Mt(de,I[0],j,Ky):vt(I[0]),_c),pe&&pe.p&&(!x||j&1)&&wt(pe,F,I,I[0],x?Mt(F,I[0],j,Qy):vt(I[0]),bc),Ne&&Ne.p&&(!x||j&1)&&wt(Ne,Be,I,I[0],x?Mt(Be,I[0],j,Jy):vt(I[0]),mc),U&&U.p&&(!x||j&1)&&wt(U,O,I,I[0],x?Mt(O,I[0],j,Xy):vt(I[0]),gc),q&&q.p&&(!x||j&1)&&wt(q,Z,I,I[0],x?Mt(Z,I[0],j,Zy):vt(I[0]),pc),te&&te.p&&(!x||j&1)&&wt(te,ye,I,I[0],x?Mt(ye,I[0],j,Gy):vt(I[0]),hc),ne&&ne.p&&(!x||j&1)&&wt(ne,we,I,I[0],x?Mt(we,I[0],j,Yy):vt(I[0]),dc)},i(I){x||(he(R,I),he(N,I),he(A,I),he(G,I),he(V,I),he(ee,I),he(me,I),he(pe,I),he(Ne,I),he(U,I),he(q,I),he(te,I),he(ne,I),x=!0)},o(I){ge(R,I),ge(N,I),ge(A,I),ge(G,I),ge(V,I),ge(ee,I),ge(me,I),ge(pe,I),ge(Ne,I),ge(U,I),ge(q,I),ge(te,I),ge(ne,I),x=!1},d(I){I&&D(t),R&&R.d(I),N&&N.d(I),A&&A.d(I),G&&G.d(I),V&&V.d(I),ee&&ee.d(I),me&&me.d(I),pe&&pe.d(I),Ne&&Ne.d(I),U&&U.d(I),q&&q.d(I),te&&te.d(I),ne&&ne.d(I)}}}function sw(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class Li extends ht{constructor(t){super(),pt(this,t,sw,ow,gt,{})}}function wr(e){return e!=null&&!Number.isNaN(e)}function Vn(e,t){return+wr(t)-+wr(e)||ut(e,t)}function y1(e,t){return+wr(t)-+wr(e)||li(e,t)}function kf(e){return e!=null&&`${e}`!=""}function w1(e){return isFinite(e)?e:NaN}function Ef(e){return e>0&&isFinite(e)?e:NaN}function v1(e){return e<0&&isFinite(e)?e:NaN}function fw(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${lw(e.getUTCFullYear())}-${ln(e.getUTCMonth()+1,2)}-${ln(e.getUTCDate(),2)}${n||r||i||a?`T${ln(n,2)}:${ln(r,2)}${i||a?`:${ln(i,2)}${a?`.${ln(a,3)}`:""}`:""}Z`:""}`}function lw(e){return e<0?`-${ln(-e,6)}`:e>9999?`+${ln(e,6)}`:ln(e,4)}function ln(e,t){return`${e}`.padStart(t,"0")}const cw=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function M1(e,t){return cw.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const uw=new Map([["second",hn],["minute",Pa],["hour",Ba],["day",Tr],["week",mr],["month",fr],["quarter",fr.every(3)],["half",fr.every(6)],["year",Qt],["monday",Kr],["tuesday",Ad],["wednesday",Cd],["thursday",Un],["friday",Nd],["saturday",Dd],["sunday",mr]]),dw=new Map([["second",hn],["minute",Ra],["hour",qa],["day",hi],["week",br],["month",lr],["quarter",lr.every(3)],["half",lr.every(6)],["year",Kt],["monday",ei],["tuesday",Id],["wednesday",Ld],["thursday",$n],["friday",Od],["saturday",Pd],["sunday",br]]);function hw(e){const t=uw.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function pw(e){const t=dw.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const ni=Object.getPrototypeOf(Uint8Array),gw=Object.prototype.toString;function Rt(e,t,n){const r=typeof t;return r==="string"?kc(e,S1(t),n):r==="function"?kc(e,t,n):r==="number"||t instanceof Date||r==="boolean"?rt(e,Er(t),n):typeof(t==null?void 0:t.transform)=="function"?Ec(t.transform(e),n):Ec(t,n)}function kc(e,t,n){return rt(e,(n==null?void 0:n.prototype)instanceof ni?mw(t):t,n)}function Ec(e,t){return t===void 0?en(e):e instanceof t?e:t.prototype instanceof ni&&!(e instanceof ni)?t.from(e,xf):t.from(e)}function mw(e){return(t,n)=>xf(e(t,n))}const S1=e=>t=>t[e],T1={transform:In},jt={transform:e=>e},bw=()=>1,_w=()=>!0,$t=e=>e==null?e:`${e}`,Ie=e=>e==null?e:+e,k1=e=>e?e[0]:void 0,yw=e=>e?e[1]:void 0,Er=e=>()=>e;function ww(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Zi(n,t,r)}function kn(e){return e instanceof ni?e:rt(e,xf,Float64Array)}function xf(e){return e==null?NaN:Number(e)}function vw(e){return rt(e,Mw)}function Mw(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?M1(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Hn(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Qa(e)?[void 0,e]:[e,void 0]}function Tt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function E1(e,t,n){if(e!=null)return _n(e,t,n)}function _n(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function en(e){return e==null||e instanceof Array||e instanceof ni?e:Array.from(e)}function rt(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Is(e,t=Array){return e instanceof t?e.slice():t.from(e)}function gi(e){return(e==null?void 0:e.toString)===gw}function Sa(e){return gi(e)&&(e.type!==void 0||e.domain!==void 0)}function Af(e){return gi(e)&&typeof e.transform!="function"}function ri(e){return Af(e)&&e.value===void 0&&e.channel===void 0}function Sw(e,t,n,r=jt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Cf(e,t){return e===void 0&&t===void 0?[k1,yw]:[e,t]}function x1({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Hn(t)),e===void 0&&([e]=Hn(n)),e}function In(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function A1(e,t){return rt(t,n=>e[n])}function Co(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ls(e){let t;return[{transform:()=>t,label:mi(e)},n=>t=n]}function Tw(e){return e==null?[e]:Ls(e)}function mi(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function kw(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Ht(r)||Ht(i)?rt(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):rt(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:e.label}}function Nf(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>as(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>as(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?hw:pw)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function bi(e,t){if(e=Nf(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Ew(e,t){if(e=bi(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Df(e){return e===void 0||Af(e)?e:{value:e}}function xw(e){return e==null?null:{transform:t=>Rt(t,e,Float64Array),label:mi(e)}}function Yn(e){return e&&typeof e[Symbol.iterator]=="function"}function Aw(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function xc(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Ht(e){for(const t of e)if(t!=null)return t instanceof Date}function Cw(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&M1(t)}function Nw(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Dw(e){for(const t of e)if(t!=null)return typeof t=="number"}function No(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function Qa(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||Jo(e)!==null)}function Iw(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function St(e){return e==null||ii(e)}function ii(e){return/^\s*none\s*$/i.test(e)}function Lw(e){return/^\s*round\s*$/i.test(e)}function C1(e="middle"){return _n(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ai(e){if(e==null)return;const t=e[0],n=e[e.length-1];return li(t,n)}function Ow(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Pw(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Ac(e){return Yn(e)?Pw(e):e}const Zt=Symbol("position"),tn=Symbol("color"),Ka=Symbol("radius"),eo=Symbol("length"),to=Symbol("opacity"),no=Symbol("symbol"),Re=new Map([["x",Zt],["y",Zt],["fx",Zt],["fy",Zt],["r",Ka],["color",tn],["opacity",to],["symbol",no],["length",eo]]),Rw=Math.sqrt(3),Bw=2/Rw,qw={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Bw,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},N1=new Map([["asterisk",Z0],["circle",wf],["cross",X0],["diamond",Q0],["diamond2",K0],["hexagon",qw],["plus",e1],["square",t1],["square2",n1],["star",i1],["times",f1],["triangle",a1],["triangle2",o1],["wye",s1]]);function D1(e){return e&&typeof e.draw=="function"}function Fw(e){return D1(e)?!0:typeof e!="string"?!1:N1.has(e.toLowerCase())}function If(e){if(e==null||D1(e))return e;const t=N1.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function I1({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(e!=null&&(r=O1(e)),t!=null&&!ri(t)&&(r=Do(r,R1(t))),n&&(r=Do(r,P1))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||ri(t))&&{sort:t},transform:Do(r,o)}}function L1({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=O1(e)),t!=null&&!ri(t)&&(r=Io(r,R1(t))),n&&(r=Io(r,P1))),{...i,...(t===null||ri(t))&&{sort:t},initializer:Io(r,a)}}function Do(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r){return{data:n,facets:r}=e.call(this,n,r),t.call(this,en(n),r)}}function Io(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let o,s,f,l,c,u;return{data:s=n,facets:f=r,channels:o}=e.call(this,n,r,i,...a),{data:c=s,facets:u=f,channels:l}=t.call(this,s,f,{...i,...o},...a),{data:c,facets:u,channels:{...o,...l}}}}function O1(e){return(t,n)=>{const r=Rt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function P1(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function R1(e){return(typeof e=="function"&&e.length!==1?Uw:$w)(e)}function Uw(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function $w(e){let t,n;if({channel:t,value:e,order:n=Vn}={...Df(e)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Vn;break;case"descending":n=y1;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,a)=>{let o;if(t===void 0)o=Rt(r,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(o=a[t],!o)return{};o=o.value}const s=(f,l)=>n(o[f],o[l]);return{data:r,facets:i.map(f=>f.slice().sort(s))}}}function zw(e,t,n=Vw){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&gi(e))return Hw(e);if(typeof e=="function")return jw(e);if(/^p\d{2}$/i.test(e))return fn(ww(e));switch(`${e}`.toLowerCase()){case"first":return Yw;case"last":return Gw;case"identity":return Ww;case"count":return Nc;case"distinct":return Zw;case"sum":return t==null?Nc:Xw;case"proportion":return Dc(t,"data");case"proportion-facet":return Dc(t,"facet");case"deviation":return fn(im);case"min":return fn(pn);case"min-index":return fn(cm);case"max":return fn(zt);case"max-index":return fn(lm);case"mean":return Cc(dm);case"median":return Cc(is);case"variance":return fn(Yu);case"mode":return fn(pm)}return n(e)}function Vw(e){throw new Error(`invalid reduce: ${e}`)}function Hw(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function jw(e){return{reduceIndex(t,n,r){return e(A1(n,t),r)}}}function fn(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Cc(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Ht(n)?new Date(r):r}}}const Ww={reduceIndex(e,t){return A1(t,e)}},Yw={reduceIndex(e,t){return t[e[0]]}},Gw={reduceIndex(e,t){return t[e[e.length-1]]}},Nc={label:"Frequency",reduceIndex(e){return e.length}},Zw={label:"Distinct",reduceIndex(e,t){const n=new Ks;for(const r of e)n.add(t[r]);return n.size}},Xw=fn(Fn);function Dc(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Fn(n,a=>r[a])/i}}function oi(e,{scale:t,type:n,value:r,filter:i,hint:a},o){return B1(o,{scale:t,type:n,value:Rt(e,r),label:mi(r),filter:i,hint:a})}function Jw(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,oi(t,r,n)]))}function Qw(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const o=i==null?null:t[i];return[r,o==null?a:rt(a,o)]}));return n.channels=e,n}function B1(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&No(r,Qa)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale=n!==!0&&No(r,Iw)?null:"opacity";break;case"symbol":n!==!0&&No(r,Fw)?(t.scale=null,t.value=rt(r,If)):t.scale="symbol";break;default:t.scale=Re.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!Re.has(n))throw new Error(`unknown scale: ${n}`);return t}function Kw(e,t,n,r,i){const{reverse:a,reduce:o=!0,limit:s}=i;for(const f in i){if(!Re.has(f))continue;let{value:l,reverse:c=a,reduce:u=o,limit:d=s}=Df(i[f]);if(c===void 0&&(c=l==="width"||l==="height"),u==null||u===!1)continue;const h=f==="fx"||f==="fy"?t6(t,r[f]):e6(n,f);if(!h)throw new Error(`missing channel for scale: ${f}`);const p=h.value,[g=0,_=1/0]=Yn(d)?d:d<0?[d]:[0,d];if(l==null)h.domain=()=>{let m=Array.from(new Ks(p));return c&&(m=m.reverse()),(g!==0||_!==1/0)&&(m=m.slice(g,_)),m};else{const m=l==="data"?e:l==="height"?Ic(n,"y1","y2"):l==="width"?Ic(n,"x1","x2"):Os(n,l,l==="y"?"y2":l==="x"?"x2":void 0),y=zw(u===!0?"max":u,m);h.domain=()=>{let v=or(In(p),b=>y.reduceIndex(b,m),b=>p[b]);return v=ji(v,c?r6:n6),(g!==0||_!==1/0)&&(v=v.slice(g,_)),v.map(k1)}}}}function e6(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function t6(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const o=r[n[a][0]];for(const s of e[a])i[s]=o}return t}function Ic(e,t,n){const r=Os(e,t),i=Os(e,n);return rt(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function Os(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function n6([e,t],[n,r]){return Vn(t,r)||Vn(e,n)}function r6([e,t],[n,r]){return y1(t,r)||Vn(e,n)}let Ps=0;function i6(){const e=Ps;return Ps=0,e}function cr(e){console.warn(e),++Ps}const q1=Math.PI,an=2*q1,Lo=.618;function a6({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},o){if(e==null)return;if(typeof e.stream=="function")return e;let s,f,l="frame";if(gi(e)){let w;if({type:e,domain:f,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:a=w!==void 0?w:a,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=F1(e));const{width:c,height:u,marginLeft:d,marginRight:h,marginTop:p,marginBottom:g}=o,_=c-d-h-a-r,m=u-p-g-n-i;if(e=e==null?void 0:e({width:_,height:m,clip:l,...s}),e==null)return;l=o6(l,d,p,c-h,u-g);let y=d+a,v=p+n,b;if(f!=null){const[[w,T],[M,P]]=Va(e).bounds(f),L=Math.min(_/(M-w),m/(P-T));L>0?(y-=(L*(w+M)-_)/2,v-=(L*(T+P)-m)/2,b=xs({point(x,k){this.stream.point(x*L+y,k*L+v)}})):cr("Warning: the projection could not be fit to the specified domain; using the default scale.")}return b??(b=y===0&&v===0?U1():xs({point(w,T){this.stream.point(w+y,T+v)}})),{stream:w=>e.stream(b.stream(l(w)))}}function F1(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Ft(z_,.7463,.4673);case"albers":return Oi(Ch,.7463,.4673);case"azimuthal-equal-area":return Ft(V_,4,4);case"azimuthal-equidistant":return Ft(H_,an,an);case"conic-conformal":return Oi(Y_,an,an);case"conic-equal-area":return Oi(ha,6.1702,2.9781);case"conic-equidistant":return Oi(X_,7.312,3.6282);case"equal-earth":return Ft(Q_,5.4133,2.6347);case"equirectangular":return Ft(G_,an,q1);case"gnomonic":return Ft(K_,3.4641,3.4641);case"identity":return{type:U1};case"reflect-y":return{type:s6};case"mercator":return Ft(j_,an,an);case"orthographic":return Ft(ey,2,2);case"stereographic":return Ft(ty,2,2);case"transverse-mercator":return Ft(ny,an,an);default:throw new Error(`unknown projection type: ${e}`)}}function o6(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return hh(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Ft(e,t,n){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:s})=>{var l,c,u;const f=e();return o!=null&&((l=f.precision)==null||l.call(f,o)),a!=null&&((c=f.rotate)==null||c.call(f,a)),typeof s=="number"&&((u=f.clipAngle)==null||u.call(f,s)),f.scale(Math.min(r/t,i/n)),f.translate([r/2,i/2]),f},aspectRatio:n/t}}function Oi(e,t,n){const{type:r,aspectRatio:i}=Ft(e,t,n);return{type:a=>{const{parallels:o,domain:s,width:f,height:l}=a,c=r(a);return o!=null&&(c.parallels(o),s===void 0&&c.fitSize([f,l],{type:"Sphere"})),c},aspectRatio:i}}const U1=Er({stream:e=>e}),s6=Er(xs({point(e,t){this.stream.point(e,-t)}}));function Oo(e,t,n,r,i){const a=n[e]&&n[e].scale==="x",o=n[t]&&n[t].scale==="y";if(a&&o)f6(e,t,r,i.projection);else{if(a)throw new Error(`projection requires paired x and y channels; ${e} is missing ${t}`);if(o)throw new Error(`projection requires paired x and y channels; ${t} is missing ${e}`)}}function f6(e,t,n,r){const i=n[e],a=n[t],o=i.length,s=n[e]=new Float64Array(o).fill(NaN),f=n[t]=new Float64Array(o).fill(NaN);let l;const c=r.stream({point(u,d){s[l]=u,f[l]=d}});for(l=0;l<o;++l)c.point(i[l],a[l])}function l6(e,t){if(typeof(e==null?void 0:e.stream)=="function")return Lo;if(gi(e)&&(e=e.type),e==null)return c6(t)?Lo:void 0;if(typeof e!="function"){const{aspectRatio:n}=F1(e);if(n)return n}return Lo}function c6(e){for(const t of e)if(t.channels.geometry)return!0;return!1}function Lf(e={},t,n){const{document:r=typeof window<"u"?window.document:void 0}=e;return{document:r,className:n,projection:a6(e,t)}}function tt(e,{document:t}){return Ko(Cg(e).call(t.documentElement))}const Lc=new Map([["accent",ry],["category10",Wa],["dark2",iy],["paired",ay],["pastel1",oy],["pastel2",sy],["set1",fy],["set2",ly],["set3",cy],["tableau10",uy],["brbg",on(Fh,Uh)],["prgn",on($h,zh)],["piyg",on(Vh,Hh)],["puor",on(jh,Wh)],["rdbu",on(Cs,ma)],["rdgy",on(Yh,Gh)],["rdylbu",on(Ns,ba)],["rdylgn",on(Zh,Xh)],["spectral",on(Jh,Qh)],["burd",Oc(Cs,ma)],["buylrd",Oc(Ns,ba)],["blues",Xe(S0,T0)],["greens",Xe(k0,E0)],["greys",Xe(x0,A0)],["oranges",Xe(L0,O0)],["purples",Xe(C0,N0)],["reds",Xe(D0,I0)],["turbo",sn($0)],["viridis",sn(z0)],["magma",sn(V0)],["inferno",sn(H0)],["plasma",sn(j0)],["cividis",sn(P0)],["cubehelix",sn(R0)],["warm",sn(B0)],["cool",sn(q0)],["bugn",Xe(Kh,e0)],["bupu",Xe(t0,n0)],["gnbu",Xe(r0,i0)],["orrd",Xe(a0,o0)],["pubu",Xe(l0,c0)],["pubugn",Xe(s0,f0)],["purd",Xe(u0,d0)],["rdpu",Xe(h0,p0)],["ylgn",Xe(b0,_0)],["ylgnbu",Xe(g0,m0)],["ylorbr",Xe(y0,w0)],["ylorrd",Xe(v0,M0)],["rainbow",Pc(F0)],["sinebow",Pc(U0)]]);function Xe(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Vt(t,n):e[n])}function on(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Vt(t,n):e[n])}function Oc(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Vt(r=>t(1-r),n):e[n].slice().reverse())}function sn(e){return({length:t})=>Vt(e,Math.max(2,Math.floor(t)))}function Pc(e){return({length:t})=>Vt(e,Math.floor(t)+1).slice(0,-1)}function $1(e){const t=`${e}`.toLowerCase();if(!Lc.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Lc.get(t)}function ro(e,t){const n=$1(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function u6(e,t="greys"){const n=new Set,[r,i]=ro(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Rc=new Map([["brbg",Uh],["prgn",zh],["piyg",Hh],["puor",Wh],["rdbu",ma],["rdgy",Gh],["rdylbu",ba],["rdylgn",Xh],["spectral",Qh],["burd",e=>ma(1-e)],["buylrd",e=>ba(1-e)],["blues",T0],["greens",E0],["greys",A0],["purples",N0],["reds",I0],["oranges",O0],["turbo",$0],["viridis",z0],["magma",V0],["inferno",H0],["plasma",j0],["cividis",P0],["cubehelix",R0],["warm",B0],["cool",q0],["bugn",e0],["bupu",n0],["gnbu",i0],["orrd",o0],["pubugn",f0],["pubu",c0],["purd",d0],["rdpu",p0],["ylgnbu",m0],["ylgn",_0],["ylorbr",w0],["ylorrd",M0],["rainbow",F0],["sinebow",U0]]);function Of(e){const t=`${e}`.toLowerCase();if(!Rc.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Rc.get(t)}const d6=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Bc(e){return e!=null&&d6.has(`${e}`.toLowerCase())}const z1=e=>t=>e(1-t),Po=[0,1],qc=new Map([["number",An],["rgb",Xr],["hsl",km],["hcl",Am],["lab",Em]]);function V1(e){const t=`${e}`.toLowerCase();if(!qc.has(t))throw new Error(`unknown interpolator: ${t}`);return qc.get(t)}function _i(e,t,n,{type:r,nice:i,clamp:a,zero:o,domain:s=j1(e,n),unknown:f,round:l,scheme:c,interval:u,range:d=Re.get(e)===Ka?S6(n,s):Re.get(e)===eo?T6(n,s):Re.get(e)===to?Po:void 0,interpolate:h=Re.get(e)===tn?c==null&&d!==void 0?Xr:Of(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):l?of:An,reverse:p}){if(u=bi(u,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=V1(h)),h.length===1?(p&&(h=z1(h),p=!1),d===void 0&&(d=Float64Array.from(s,(g,_)=>_/(s.length-1)),d.length===2&&(d=Po)),t.interpolate((d===Po?Er:Rf)(h))):t.interpolate(h),o){const[g,_]=pr(s);(g>0||_<0)&&(s=Is(s),ai(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return p&&(s=Xi(s)),t.domain(s).unknown(f),i&&(t.nice(h6(i,r)),s=t.domain()),d!==void 0&&t.range(d),a&&t.clamp(a),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:u}}function h6(e,t){return e===!0?void 0:typeof e=="number"?e:Ew(e,t)}function p6(e,t,n){return _i(e,cf(),t,n)}function g6(e,t,n){return H1(e,t,{...n,exponent:.5})}function H1(e,t,{exponent:n=1,...r}){return _i(e,Td().exponent(n),t,{...r,type:"pow"})}function m6(e,t,{base:n=10,domain:r=k6(t),...i}){return _i(e,wd().base(n),t,{...i,domain:r})}function b6(e,t,{constant:n=1,...r}){return _i(e,Md().constant(n),t,r)}function _6(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=E6(t),unknown:s,interpolate:f,reverse:l}){return n===void 0&&(n=f!==void 0?Vt(f,i):Re.get(e)===tn?ro(a,i):void 0),o.length>0&&(o=kd(o,n===void 0?{length:i}:n).quantiles()),Pf(e,t,{domain:o,range:n,reverse:l,unknown:s})}function y6(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=j1(e,t),unknown:o,interpolate:s,reverse:f}){const[l,c]=pr(a);let u;return n===void 0?(u=Gi(l,c,r),u[0]<=l&&u.splice(0,1),u[u.length-1]>=c&&u.pop(),r=u.length+1,n=s!==void 0?Vt(s,r):Re.get(e)===tn?ro(i,r):void 0):(u=Vt(An(l,c),r+1).slice(1,-1),l instanceof Date&&(u=u.map(d=>new Date(d)))),ai(en(a))<0&&u.reverse(),Pf(e,t,{domain:u,range:n,reverse:f,unknown:o})}function Pf(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Vt(a,n.length+1):Re.get(e)===tn?ro(i,n.length+1):void 0,reverse:s}){n=en(n);const f=ai(n);if(!isNaN(f)&&!w6(n,f))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(o=Xi(o)),{type:"threshold",scale:Ed(f<0?Xi(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function w6(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=li(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function v6(){return{type:"identity",scale:bd()}}function si(e,t=w1){return e.length?[pn(e,({value:n})=>n===void 0?n:pn(n,t)),zt(e,({value:n})=>n===void 0?n:zt(n,t))]:[0,1]}function j1(e,t){const n=Re.get(e);return(n===Ka||n===to||n===eo?M6:si)(t)}function M6(e){return[0,e.length?zt(e,({value:t})=>t===void 0?t:zt(t,w1)):1]}function S6(e,t){const n=e.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Zi(e,.5,({value:o})=>o===void 0?NaN:Zi(o,.25,Ef)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/zt(i);return a<1?i.map(o=>o*a):i}function T6(e,t){const n=is(e,({value:a})=>a===void 0?NaN:is(a,Math.abs)),r=t.map(a=>12*a/n),i=60/zt(r);return i<1?r.map(a=>a*i):r}function k6(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return si(e,Ef);if(n<0)return si(e,v1)}return[1,10]}function E6(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Rf(e){return(t,n)=>r=>e(t+r*(n-t))}function io(e,t,n,r,{type:i,nice:a,clamp:o,domain:s=si(r),unknown:f,pivot:l=0,scheme:c,range:u,symmetric:d=!0,interpolate:h=Re.get(e)===tn?c==null&&u!==void 0?Xr:Of(c!==void 0?c:"rdbu"):An,reverse:p}){l=+l;let[g,_]=s;if(li(g,_)<0&&([g,_]=[_,g],p=!p),g=Math.min(g,l),_=Math.max(_,l),typeof h!="function"&&(h=V1(h)),u!==void 0&&(h=h.length===1?Rf(h)(...u):ff(h,u)),p&&(h=z1(h)),d){const m=n.apply(l),y=m-n.apply(g),v=n.apply(_)-m;y<v?g=n.invert(m-v):y>v&&(_=n.invert(m+y))}return t.domain([g,l,_]).unknown(f).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[g,_],pivot:l,interpolate:h,scale:t}}function x6(e,t,n){return io(e,zd(),D6,t,n)}function A6(e,t,n){return W1(e,t,{...n,exponent:.5})}function W1(e,t,{exponent:n=1,...r}){return io(e,jd().exponent(n=+n),O6(n),t,{...r,type:"diverging-pow"})}function C6(e,t,{base:n=10,pivot:r=1,domain:i=si(t,r<0?v1:Ef),...a}){return io(e,Vd().base(n=+n),I6,t,{domain:i,pivot:r,...a})}function N6(e,t,{constant:n=1,...r}){return io(e,Hd().constant(n=+n),P6(n),t,r)}const D6={apply(e){return e},invert(e){return e}},I6={apply:Math.log,invert:Math.exp},L6={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function O6(e){return e===.5?L6:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function P6(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Y1(e,t,n,r){return _i(e,t,n,r)}function R6(e,t,n){return Y1(e,a2(),t,n)}function B6(e,t,n){return Y1(e,o2(),t,n)}const yi=Symbol("ordinal");function G1(e,t,n,{type:r,interval:i,domain:a,range:o,reverse:s,hint:f}){return i=bi(i,r),a===void 0&&(a=X1(n,i,e)),(r==="categorical"||r===yi)&&(r="ordinal"),s&&(a=Xi(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:f,interval:i}}function q6(e,t,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:s,...f}){r=bi(r,n),i===void 0&&(i=X1(t,r,e));let l;if(Re.get(e)===no)l=$6(t),a=a===void 0?z6(l):rt(a,If);else if(Re.get(e)===tn&&(a===void 0&&(n==="ordinal"||n===yi)&&(a=u6(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const c=Of(o),u=a[0],d=a[1]-a[0];a=({length:h})=>Vt(p=>c(u+d*p),h)}else a=$1(o);if(s===os)throw new Error(`implicit unknown on ${e} scale is not supported`);return G1(e,nf().unknown(s),t,{...f,type:n,domain:i,range:a,hint:l})}function F6(e,t,{align:n=.5,padding:r=.5,...i}){return Z1(gm().align(n).padding(r),t,i,e)}function U6(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...o}){return Z1(Ia().align(n).paddingInner(i).paddingOuter(a),t,o,e)}function Z1(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=G1(r,e,t,n),e.round=i,e}function X1(e,t,n){const r=new Ks;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=pr(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&Re.get(n)===Zt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return ji(r,Vn)}function Fc(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function $6(e){return{fill:Fc(e,"fill"),stroke:Fc(e,"stroke")}}function z6(e){return St(e.fill)?Cy:Ay}function Rs(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:o=n,round:s,nice:f,clamp:l,zero:c,align:u,padding:d,projection:h,facet:{label:p=t}={},...g}={}){const _={};for(const[m,y]of e){const v=g[m],b=ep(m,y,{round:Re.get(m)===Zt?s:void 0,nice:f,clamp:l,zero:c,align:u,padding:d,projection:h,...v});if(b){let{label:w=m==="fx"||m==="fy"?p:t,percent:T,transform:M,inset:P,insetTop:L=P!==void 0?P:m==="y"?r:0,insetRight:x=P!==void 0?P:m==="x"?i:0,insetBottom:k=P!==void 0?P:m==="y"?a:0,insetLeft:R=P!==void 0?P:m==="x"?o:0}=v||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");b.percent=!!T,b.label=w===void 0?H6(y,b):w,b.transform=M,m==="x"||m==="fx"?(b.insetLeft=+R,b.insetRight=+x):(m==="y"||m==="fy")&&(b.insetTop=+L,b.insetBottom=+k),_[m]=b}}return _}function Uc(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function V6(e,t){const{x:n,y:r,fx:i,fy:a}=e,o=i||a?Bf(t):t;i&&$c(i,o),a&&zc(a,o);const s=i||a?J1(e,t):t;n&&$c(n,s),r&&zc(r,s)}function H6(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0&&!(tp(t)&&/^(date|time|year)$/i.test(n)))return!Gn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Bf(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:s,marginRight:f,marginBottom:l,marginLeft:c}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,f),marginBottom:Math.max(r,l),marginLeft:Math.max(i,c),width:a,height:o}}function J1({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:s,height:f}=Bf(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:e?e.scale.bandwidth()+o+i:s,height:t?t.scale.bandwidth()+r+a:f}}function $c(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:o=0}=t,s=a+n,f=i-o-r;e.range=[s,Math.max(s,f)],Gn(e)||(e.range=K1(e)),e.scale.range(e.range)}Q1(e)}function zc(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:o=0}=t,s=a+n,f=i-o-r;e.range=[Math.max(s,f),s],Gn(e)?e.range.reverse():e.range=K1(e),e.scale.range(e.range)}Q1(e)}function Q1(e){e.round===void 0&&G6(e)&&j6(e)<=30&&e.scale.round(!0)}function j6({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),o=t-i,s=Math.abs(r-n)/Math.max(1,o+a*2);return(s-Math.floor(s))*o}function K1(e){const t=e.scale.domain().length+np(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function W6(e,t,n){return ep(e,n===void 0?void 0:[{hint:n}],{...t})}function ep(e,t=[],n={}){const r=Y6(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Gn({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Ht)?cr(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Kn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Kn(r)}".`):i.some(Cw)?cr(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Kn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Kn(r)}".`):i.some(Nw)&&cr(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Kn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Kn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Pi(t,n,kn);break;case"identity":switch(Re.get(e)){case Zt:n=Pi(t,n,kn);break;case no:n=Pi(t,n,Z6);break}break;case"utc":case"time":n=Pi(t,n,vw);break}switch(r){case"diverging":return x6(e,t,n);case"diverging-sqrt":return A6(e,t,n);case"diverging-pow":return W1(e,t,n);case"diverging-log":return C6(e,t,n);case"diverging-symlog":return N6(e,t,n);case"categorical":case"ordinal":case yi:return q6(e,t,n);case"cyclical":case"sequential":case"linear":return p6(e,t,n);case"sqrt":return g6(e,t,n);case"threshold":return Pf(e,t,n);case"quantile":return _6(e,t,n);case"quantize":return y6(e,t,n);case"pow":return H1(e,t,n);case"log":return m6(e,t,n);case"symlog":return b6(e,t,n);case"utc":return B6(e,t,n);case"time":return R6(e,t,n);case"point":return F6(e,t,n);case"band":return U6(e,t,n);case"identity":return Re.get(e)===Zt?v6():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Kn(e){return typeof e=="symbol"?e.description:e}const Vc={toString:()=>"projection"};function Y6(e,t,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=Vc);for(const{type:c}of t)if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}if(n===Vc)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:c})=>c!==void 0))return;const f=Re.get(e);if(f===Ka)return"sqrt";if(f===to||f===eo)return"linear";if(f===no)return"ordinal";if((r||i||[]).length>2)return Ro(f);if(r!==void 0)return xc(r)?Ro(f):Ht(r)?"utc":f===tn&&(o!=null||Bc(a))?"diverging":"linear";const l=t.map(({value:c})=>c).filter(c=>c!==void 0);return l.some(xc)?Ro(f):l.some(Ht)?"utc":f===tn&&(o!=null||Bc(a))?"diverging":"linear"}function Ro(e){switch(e){case Zt:return"point";case tn:return yi;default:return"ordinal"}}function tp({type:e}){return e==="time"||e==="utc"}function Gn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===yi}function np({type:e}){return e==="threshold"}function G6({type:e}){return e==="point"||e==="band"}function En(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Pi(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function Z6(e){return rt(e,If)}function Bs(e={}){let t;for(const n in e)if(Re.has(n)&&Sa(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=rp(W6(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function X6(e){return t=>{if(!Re.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?rp(e[t]):void 0}}function rp({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:s,pivot:f}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const l=e.unknown?e.unknown():void 0;return{type:t,domain:Is(n),...r!==void 0&&{range:Is(r)},...o!==void 0&&{transform:o},...s&&{percent:s},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function J6(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const Q6=J6(e=>new Intl.NumberFormat(e));function K6(e="en-US"){const t=Q6(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function ip(e){return fw(e,"Invalid Date")}function e3(e="en-US"){const t=K6(e);return n=>(n instanceof Date?ip:typeof n=="number"?t:$t)(n)}const ao=e3(),kt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let t3=0;function Hc(){return`plot-clip-${++t3}`}function n3(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:s,fillOpacity:f,stroke:l,strokeWidth:c,strokeOpacity:u,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:_,opacity:m,mixBlendMode:y,paintOrder:v,pointerEvents:b,shapeRendering:w},{ariaLabel:T,fill:M="currentColor",fillOpacity:P,stroke:L="none",strokeOpacity:x,strokeWidth:k,strokeLinecap:R,strokeLinejoin:E,strokeMiterlimit:N,paintOrder:S}){M===null&&(s=null,f=null),L===null&&(l=null,u=null),St(M)?!St(L)&&!St(s)&&(L="none"):St(L)&&!St(l)&&(M="none");const[A,z]=Hn(s,M),[G,X]=Tt(f,P),[V,K]=Hn(l,L),[ee,de]=Tt(u,x),[me,F]=Tt(m);ii(K)||(c===void 0&&(c=k),h===void 0&&(h=R),d===void 0&&(d=E),p===void 0&&!Lw(d)&&(p=N),!ii(z)&&v===void 0&&(v=S));const[pe,Be]=Tt(c);return M!==null&&(e.fill=et(z,"currentColor"),e.fillOpacity=Pr(X,1)),L!==null&&(e.stroke=et(K,"none"),e.strokeWidth=Pr(Be,1),e.strokeOpacity=Pr(de,1),e.strokeLinejoin=et(d,"miter"),e.strokeLinecap=et(h,"butt"),e.strokeMiterlimit=Pr(p,4),e.strokeDasharray=et(g,"none"),e.strokeDashoffset=et(_,"0")),e.target=$t(o),e.ariaLabel=$t(T),e.ariaDescription=$t(i),e.ariaHidden=$t(a),e.opacity=Pr(F,1),e.mixBlendMode=et(y,"normal"),e.paintOrder=et(v,"normal"),e.pointerEvents=et(b,"auto"),e.shapeRendering=et(w,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:A,scale:"auto",optional:!0},fillOpacity:{value:G,scale:"auto",optional:!0},stroke:{value:V,scale:"auto",optional:!0},strokeOpacity:{value:ee,scale:"auto",optional:!0},strokeWidth:{value:pe,optional:!0},opacity:{value:me,scale:"auto",optional:!0}}}function r3(e,t){t&&e.filter(n=>kf(t[n])).append("title").call(a3,t)}function i3(e,t){t&&e.filter(([n])=>kf(t[n])).append("title").call(o3,t)}function a3(e,t){t&&e.text(n=>ao(t[n]))}function o3(e,t){t&&e.text(([n])=>ao(t[n]))}function Zn(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:s,strokeWidth:f,opacity:l,href:c}){n&&ie(e,"aria-label",u=>n[u]),i&&ie(e,"fill",u=>i[u]),a&&ie(e,"fill-opacity",u=>a[u]),o&&ie(e,"stroke",u=>o[u]),s&&ie(e,"stroke-opacity",u=>s[u]),f&&ie(e,"stroke-width",u=>f[u]),l&&ie(e,"opacity",u=>l[u]),c&&ap(e,u=>c[u],t),r3(e,r)}function s3(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:s,strokeWidth:f,opacity:l,href:c}){n&&ie(e,"aria-label",([u])=>n[u]),i&&ie(e,"fill",([u])=>i[u]),a&&ie(e,"fill-opacity",([u])=>a[u]),o&&ie(e,"stroke",([u])=>o[u]),s&&ie(e,"stroke-opacity",([u])=>s[u]),f&&ie(e,"stroke-width",([u])=>f[u]),l&&ie(e,"opacity",([u])=>l[u]),c&&ap(e,([u])=>c[u],t),i3(e,r)}function f3({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:s,href:f}){return[e,t,n,r,i,a,o,s,f].filter(l=>l!==void 0)}function l3(e,t,n){const r=ef(e,i=>t[i]);return n===void 0&&r.size>e.length>>1&&cr("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*c3(e,t,{z:n},r){const{z:i}=r,a=f3(r),o=[...t,...a];for(const s of i?l3(e,i,n):[e]){let f,l;e:for(const c of s){for(const u of o)if(!wr(u[c])){l&&l.push(-1);continue e}if(f===void 0){l&&(yield l),f=a.map(u=>Co(u[c])),l=[c];continue}l.push(c);for(let u=0;u<a.length;++u)if(Co(a[u][c])!==f[u]){yield l,f=a.map(h=>Co(h[c])),l=[c];continue e}}l&&(yield l)}}function u3(e){return e===!0?e="frame":e===!1&&(e=null),E1(e,"clip",["frame","sphere"])}function d3(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:a,height:o,marginLeft:s,marginRight:f,marginTop:l,marginBottom:c}=n,u=Hc();i=`url(#${u})`,e=tt("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",u).append("rect").attr("x",s).attr("y",l).attr("width",a-f-s).attr("height",o-l-c)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const o=Hc();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",Va(a)({type:"Sphere"}));break}}ie(e,"aria-label",t.ariaLabel),ie(e,"aria-description",t.ariaDescription),ie(e,"aria-hidden",t.ariaHidden),ie(e,"clip-path",i)}function yn(e,t,n,r){d3(e,t,n,r),ie(e,"fill",t.fill),ie(e,"fill-opacity",t.fillOpacity),ie(e,"stroke",t.stroke),ie(e,"stroke-width",t.strokeWidth),ie(e,"stroke-opacity",t.strokeOpacity),ie(e,"stroke-linejoin",t.strokeLinejoin),ie(e,"stroke-linecap",t.strokeLinecap),ie(e,"stroke-miterlimit",t.strokeMiterlimit),ie(e,"stroke-dasharray",t.strokeDasharray),ie(e,"stroke-dashoffset",t.strokeDashoffset),ie(e,"shape-rendering",t.shapeRendering),ie(e,"paint-order",t.paintOrder),ie(e,"pointer-events",t.pointerEvents)}function wn(e,t){h3(e,"mix-blend-mode",t.mixBlendMode),ie(e,"opacity",t.opacity)}function ap(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Hi.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Hi.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ie(e,t,n){n!=null&&e.attr(t,n)}function h3(e,t,n){n!=null&&e.style(t,n)}function vn(e,t,{x:n,y:r},i=kt,a=kt){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function et(e,t){if((e=$t(e))!==t)return e}function Pr(e,t){if((e=Ie(e))!==t)return e}const p3=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function qf(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!p3.test(e))throw new Error(`invalid class name: ${e}`);return e}function Ff(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function op({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(e)?o:/right$/.test(e)?t-i:(o+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function g3(e,t,n={}){let r=.5-kt,i=.5+kt,a=.5+kt,o=.5-kt;for(const{marginTop:g,marginRight:_,marginBottom:m,marginLeft:y}of t)g>r&&(r=g),_>i&&(i=_),m>a&&(a=m),y>o&&(o=y);let{margin:s,marginTop:f=s!==void 0?s:r,marginRight:l=s!==void 0?s:i,marginBottom:c=s!==void 0?s:a,marginLeft:u=s!==void 0?s:o}=n;f=+f,l=+l,c=+c,u=+u;let{width:d=640,height:h=m3(e,t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,f-r+c-a)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:f,marginRight:l,marginBottom:c,marginLeft:u};if(e.fx||e.fy){let{margin:g,marginTop:_=g!==void 0?g:f,marginRight:m=g!==void 0?g:l,marginBottom:y=g!==void 0?g:c,marginLeft:v=g!==void 0?g:u}=n.facet??{};_=+_,m=+m,y=+y,v=+v,p.facet={marginTop:_,marginRight:m,marginBottom:y,marginLeft:v}}return p}function m3({x:e,y:t,fy:n,fx:r},i,{projection:a,aspectRatio:o},{width:s,marginTopDefault:f,marginRightDefault:l,marginBottomDefault:c,marginLeftDefault:u}){const d=n?n.scale.domain().length:1,h=l6(a,i);if(h){const g=r?r.scale.domain().length:1,_=(1.1*d-.1)/(1.1*g-.1)*h,m=Math.max(.1,Math.min(10,_));return Math.round((s-u-l)*m+f+c)}const p=t?Gn(t)?t.scale.domain().length:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const g=jc("y",t)/(jc("x",e)*o),_=r?r.scale.bandwidth():1,m=n?n.scale.bandwidth():1,y=_*(s-u-l)-e.insetLeft-e.insetRight;return(g*y+t.insetTop+t.insetBottom)/m+f+c}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function jc(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=f=>Math.pow(f,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,o]=pr(r);return Math.abs(i(o)-i(a))}function b3(e,t){const{fx:n,fy:r}=Rs(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?nm(i,a).map(([o,s],f)=>({x:o,y:s,i:f})):i?i.map((o,s)=>({x:o,i:s})):a?a.map((o,s)=>({y:o,i:s})):void 0}function _3(e,{x:t,y:n}){return t&&(t=new Cn(t.map((r,i)=>[r,i]))),n&&(n=new Cn(n.map((r,i)=>[r,i]))),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Uf(e,{fx:t,fy:n}){const r=In(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?or(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):t?or(r,o=>(o.fx=i[o[0]],o),o=>i[o]):or(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function y3(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function w3(e){const t=[],n=new Uint32Array(Fn(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const v3=new Map([["top",Bo],["right",Uo],["bottom",qo],["left",Fo],["top-left",Ri(Bo,Fo)],["top-right",Ri(Bo,Uo)],["bottom-left",Ri(qo,Fo)],["bottom-right",Ri(qo,Uo)],["top-empty",S3],["right-empty",E3],["bottom-empty",T3],["left-empty",k3],["empty",x3]]);function M3(e){if(e==null)return null;const t=v3.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}function Bo(e,{y:t},{y:n}){return t?t.indexOf(n)===0:!0}function qo(e,{y:t},{y:n}){return t?t.indexOf(n)===t.length-1:!0}function Fo(e,{x:t},{x:n}){return t?t.indexOf(n)===0:!0}function Uo(e,{x:t},{x:n}){return t?t.indexOf(n)===t.length-1:!0}function S3(e,{y:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a>0){const s=t[a-1];return(o=e.find(f=>f.x===n&&f.y===s))==null?void 0:o.empty}}function T3(e,{y:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a<(t==null?void 0:t.length)-1){const s=t[a+1];return(o=e.find(f=>f.x===n&&f.y===s))==null?void 0:o.empty}}function k3(e,{x:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(n);if(a>0){const s=t[a-1];return(o=e.find(f=>f.x===s&&f.y===r))==null?void 0:o.empty}}function E3(e,{x:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(n);if(a<(t==null?void 0:t.length)-1){const s=t[a+1];return(o=e.find(f=>f.x===s&&f.y===r))==null?void 0:o.empty}}function x3(e,t,{empty:n}){return n}function Ri(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function $o(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}function sp(e){return Gn(e)&&e.interval===void 0?void 0:"tabular-nums"}function A3(e,t){return e===void 0?Ht(t)?ip:$t:typeof e=="function"?e:(typeof e=="string"?Ht(t)?Fa:Sr:Er)(e)}function C3(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:s=0,marginBottom:f=16+r,marginLeft:l=0,style:c,ticks:u=(i-l-s)/64,tickFormat:d,fontVariant:h=sp(e),round:p=!0,opacity:g,className:_}=t;const m=Lf(t);_=qf(_),g=Tt(g)[1],d===null&&(d=()=>null);const y=tt("svg",m).attr("class",`${_}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(R=>R.append("style").text(`.${_}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${_}-ramp text {
  white-space: pre;
}`)).call(Ff,c);let v=R=>R.selectAll(".tick line").attr("y1",o+f-a),b;const w=p?(R,E)=>R.rangeRound(E):(R,E)=>R.range(E),{type:T,domain:M,range:P,interpolate:L,scale:x,pivot:k}=e;if(L){const R=P===void 0?L:ff(L.length===1?Rf(L):L,P);b=w(x.copy(),Vt(An(l,i-s),Math.min(M.length+(k!==void 0),P===void 0?1/0:P.length)));const E=256,N=m.document.createElement("canvas");N.width=E,N.height=1;const S=N.getContext("2d");for(let A=0,z=E-1;A<E;++A)S.fillStyle=R(A/z),S.fillRect(A,0,1,1);y.append("image").attr("opacity",g).attr("x",l).attr("y",o).attr("width",i-l-s).attr("height",a-o-f).attr("preserveAspectRatio","none").attr("xlink:href",N.toDataURL())}else if(T==="threshold"){const R=M,E=d===void 0?N=>N:typeof d=="string"?Sr(d):d;b=w(cf().domain([-1,P.length-1]),[l,i-s]),y.append("g").attr("fill-opacity",g).selectAll().data(P).enter().append("rect").attr("x",(N,S)=>b(S-1)).attr("y",o).attr("width",(N,S)=>b(S)-b(S-1)).attr("height",a-o-f).attr("fill",N=>N),u=rt(R,(N,S)=>S),d=N=>E(R[N],N)}else b=w(Ia().domain(M),[l,i-s]),y.append("g").attr("fill-opacity",g).selectAll().data(M).enter().append("rect").attr("x",b).attr("y",o).attr("width",Math.max(0,b.bandwidth()-1)).attr("height",a-o-f).attr("fill",x),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-f})`).call(f_(b).ticks(Array.isArray(u)?null:u,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(u)?u:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",et(h,"normal")).call(v).call(R=>R.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",l).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}function Wc(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function N3(e,{opacity:t,...n}={}){if(!Gn(e)&&!np(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return fp(e,n,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",Tt(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function D3(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:St(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...s}={},f){const[u,d]=Hn(t),[h,p]=Hn(r),g=Wc(f,u),_=Wc(f,h),m=o*o*Math.PI;return n=Tt(n)[1],i=Tt(i)[1],a=Tt(a)[1],fp(e,s,(y,v,b,w)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",b).attr("height",w).attr("fill",u==="color"?T=>g.scale(T):d).attr("fill-opacity",n).attr("stroke",h==="color"?T=>_.scale(T):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",T=>{const M=na();return e.scale(T).draw(M,m),M}))}function fp(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=sp(e),swatchSize:o=15,swatchWidth:s=o,swatchHeight:f=o,marginLeft:l=0,className:c,style:u,width:d}=t;const h=Lf(t);c=qf(c),i=A3(i,e.domain);const p=tt("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,s,f).call(_=>_.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,s,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(_=>_.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",et(a,"normal")).call(Ff,u).node()}const qs=new Map([["symbol",D3],["color",cp],["opacity",L3]]);function I3(e,t,n={}){return(r,i)=>{if(!qs.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return qs.get(r)(e[r],lp(t,n[r],i),a=>e[a])}}function lp({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return Ow(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function cp(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return N3(e,n);case"ramp":return C3(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function L3({type:e,interpolate:t,...n},{legend:r=!0,color:i=Vi(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return cp({type:e,...n,interpolate:O3(i)},{legend:r,...a})}function O3(e){const{r:t,g:n,b:r}=Vi(e)||Vi(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function P3(e,t,n){const r=[];for(const[i,a]of qs){const o=n[i];if(o!=null&&o.legend&&i in e){const s=a(e[i],lp(t,e[i],o),f=>e[f]);s!=null&&r.push(s)}}return r}class qt{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:o,fx:s,fy:f,sort:l,dx:c=0,dy:u=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:g=d,marginLeft:_=d,clip:m,channels:y}=r;if(this.data=t,this.sort=ri(l)?l:null,this.initializer=L1(r).initializer,this.transform=this.initializer?r.transform:I1(r).transform,a===null||a===!1?this.facet=null:(this.facet=_n(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=s,this.fy=f),this.facetAnchor=M3(o),n=Ac(n),y!==void 0&&(n={...Ac(y),...n}),i!==void 0&&(n={...n3(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,b])=>{const{value:w}=b;return Af(w)&&(b={...b,value:w.value},w.scale!==void 0&&(b.scale=w.scale)),[v,b]}).filter(([v,{value:b,optional:w}])=>{if(b!=null)return!0;if(w)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+u,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+_,this.clip=u3(m),this.facet==="super"){if(s||f)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:b}=n[v];if(!(b!=="x"&&b!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,n){let r=en(this.data);t===void 0&&r!=null&&(t=[In(r)]);const i=t;this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=en(r)),t!==void 0&&(t.original=i);const a=Jw(this.channels,r);return this.sort!=null&&Kw(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:a=wr}=n[i];if(a!==null){const o=r[i];t=t.filter(s=>a(o[s]))}}return t}project(t,n,r){Oo("x","y",t,n,r),Oo("x1","y1",t,n,r),Oo("x2","y2",t,n,r)}scale(t,n,r){const i=Qw(t,n);return r.projection&&this.project(t,i,r),i}}function up(...e){return e.plot=qt.prototype.plot,e}const dp=Math.PI/180;function $f({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=hp(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function zf({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=hp(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function hp(e,t,n){return e===void 0&&t===void 0&&n===void 0?kt?[1,0]:[.5,.5]:[t,n]}function pp(e,{interval:t}){return e={...Df(e)},e.interval=Nf(e.interval===void 0?t:e.interval),e}function oo(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:o}=n,{value:s,interval:f}=pp(i,n);if(s==null||f==null&&!r)return n;const l=mi(i);if(f==null){let h;const p={transform:g=>h||(h=Rt(g,s)),label:l};return{...n,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:o===void 0?p:o}}let c,u;function d(h){return u!==void 0&&h===c?u:u=rt(Rt(c=h,s),p=>f.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:d,label:l}:a,[`${e}2`]:o===void 0?{transform:h=>d(h).map(p=>f.offset(p)),label:l}:o})}function gp(e,t,n){const{[e]:r}=n,{value:i,interval:a}=pp(r,n);return i==null||a==null?n:t({...n,[e]:{label:mi(r),transform:o=>{const s=rt(Rt(o,i),l=>a.floor(l)),f=s.map(l=>a.offset(l));return s.map(Ht(s)?(l,c)=>l==null||isNaN(l=+l)||(c=f[c],c==null)||isNaN(c=+c)?void 0:new Date((l+c)/2):(l,c)=>l==null||(c=f[c],c==null)?NaN:(+l+ +c)/2)}}})}function R3(e={}){return oo("x",$f,e,!0)}function mp(e={}){return oo("y",zf,e,!0)}function B3(e={}){return oo("x",$f,e)}function q3(e={}){return oo("y",zf,e)}function F3(e={}){return gp("x",$f,e)}function U3(e={}){return gp("y",zf,e)}const bp={ariaLabel:"rule",fill:null,stroke:"currentColor"};class $3 extends qt{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:s=o,insetBottom:f=o}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,bp),this.insetTop=Ie(s),this.insetBottom=Ie(f)}render(t,n,r,i,a){const{x:o,y:s}=n,{x:f,y1:l,y2:c}=r,{width:u,height:d,marginTop:h,marginRight:p,marginLeft:g,marginBottom:_}=i,{insetTop:m,insetBottom:y}=this;return tt("svg:g",a).call(yn,this,i).call(vn,this,{x:f&&o},kt,0).call(v=>v.selectAll().data(t).enter().append("line").call(wn,this).attr("x1",f?b=>f[b]:(g+u-p)/2).attr("x2",f?b=>f[b]:(g+u-p)/2).attr("y1",l&&!En(s)?b=>l[b]+m:h+m).attr("y2",c&&!En(s)?s.bandwidth?b=>c[b]+s.bandwidth()-y:b=>c[b]-y:d-_-y).call(Zn,this,r)).node()}}class z3 extends qt{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:s=o,insetLeft:f=o}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},n,bp),this.insetRight=Ie(s),this.insetLeft=Ie(f)}render(t,n,r,i,a){const{x:o,y:s}=n,{y:f,x1:l,x2:c}=r,{width:u,height:d,marginTop:h,marginRight:p,marginLeft:g,marginBottom:_}=i,{insetLeft:m,insetRight:y}=this;return tt("svg:g",a).call(yn,this,i,a).call(vn,this,{y:f&&s},0,kt).call(v=>v.selectAll().data(t).enter().append("line").call(wn,this).attr("x1",l&&!En(o)?b=>l[b]+m:g+m).attr("x2",c&&!En(o)?o.bandwidth?b=>c[b]+o.bandwidth()-y:b=>c[b]-y:u-p-y).attr("y1",f?b=>f[b]:(h+d-_)/2).attr("y2",f?b=>f[b]:(h+d-_)/2).call(Zn,this,r)).node()}}function Vf(e,t){let{x:n=jt,y:r,y1:i,y2:a,...o}=q3(t);return[i,a]=_p(r,i,a),new $3(e,{...o,x:n,y1:i,y2:a})}function Hf(e,t){let{y:n=jt,x:r,x1:i,x2:a,...o}=B3(t);return[i,a]=_p(r,i,a),new z3(e,{...o,y:n,x1:i,x2:a})}function _p(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function yp(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const V3={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},wp="­";class jf extends qt{constructor(t,n={}){const{x:r,y:i,text:a=Yn(t)&&Aw(t)?jt:T1,frameAnchor:o,textAnchor:s=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:f=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:l=1,lineWidth:c=1/0,textOverflow:u,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:_,fontWeight:m,rotate:y}=n,[v,b]=Tt(y,0),[w,T]=J3(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:xw(v),optional:!0},text:{value:a,filter:kf,optional:!0}},n,V3),this.rotate=b,this.textAnchor=et(s,"middle"),this.lineAnchor=_n(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+c,this.textOverflow=H3(u),this.monospace=!!d,this.fontFamily=$t(h),this.fontSize=T,this.fontStyle=$t(g),this.fontVariant=$t(_),this.fontWeight=$t(m),this.frameAnchor=C1(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=ev(this),this.clipLine=tv(this)}render(t,n,r,i,a){const{x:o,y:s}=n,{x:f,y:l,rotate:c,text:u,title:d,fontSize:h}=r,{rotate:p}=this,[g,_]=op(this,i);return tt("svg:g",a).call(yn,this,i,a).call(G3,this,u,i).call(vn,this,{x:f&&o,y:l&&s}).call(m=>m.selectAll().data(t).enter().append("text").call(wn,this).call(j3,this,u,d).attr("transform",yp`translate(${f?y=>f[y]:g},${l?y=>l[y]:_})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(ie,"font-size",h&&(y=>h[y])).call(Zn,this,r)).node()}}function H3(e){return e==null?null:_n(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function j3(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:s,clipLine:f}=t;e.each(function(l){const c=s(ao(n[l])??"").map(f),u=c.length,d=i==="top"?.71:i==="bottom"?1-u:(164-u*100)/200;if(u>1)for(let h=0;h<u;++h){if(!c[h])continue;const p=this.ownerDocument.createElementNS(Hi.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(d+h)*a}em`),p.textContent=c[h],this.appendChild(p)}else d&&this.setAttribute("y",`${d*a}em`),this.textContent=c[0];if(o&&!r&&c[0]!==n[l]){const h=this.ownerDocument.createElementNS(Hi.svg,"title");h.textContent=n[l],this.appendChild(h)}})}function so(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=Cf(n,r)),new jf(e,{...i,x:n,y:r})}function W3(e,t={}){const{x:n=jt,...r}=t;return new jf(e,U3({...r,x:n}))}function Y3(e,t={}){const{y:n=jt,...r}=t;return new jf(e,F3({...r,y:n}))}function G3(e,t,n){ie(e,"text-anchor",t.textAnchor),ie(e,"font-family",t.fontFamily),ie(e,"font-size",t.fontSize),ie(e,"font-style",t.fontStyle),ie(e,"font-variant",t.fontVariant===void 0?Z3(n):t.fontVariant),ie(e,"font-weight",t.fontWeight)}function Z3(e){return Dw(e)||Ht(e)?"tabular-nums":void 0}const X3=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function J3(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),X3.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function Q3(e,t,n){const r=[];let i,a=0;for(const[o,s,f]of K3(e)){if(i===void 0&&(i=o),a>i&&n(e,i,s)>t&&(r.push(e.slice(i,a)+(e[a-1]===wp?"-":"")),i=o),f){r.push(e.slice(i,s)),i=void 0;continue}a=s}return r}function*K3(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case wp:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Yc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function vp(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xr(e,i))r+=Yc[e[i]]??(Tp(e,i)?120:Yc.e);return r}function Mp(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xr(e,i))r+=Tp(e,i)?200:100;return r}function ev({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Mp:vp,i=t*100;return a=>Q3(a,i,r)}function tv({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Mp:vp,i=t*100;switch(n){case"clip-start":return a=>Zc(a,i,r,"");case"clip-end":return a=>Gc(a,i,r,"");case"ellipsis-start":return a=>Zc(a,i,r,"…");case"ellipsis-middle":return a=>nv(a,i,r,"…");case"ellipsis-end":return a=>Gc(a,i,r,"…")}}function Ta(e,t,n,r){const i=[];let a=0;for(let o=0,s=0,f=e.length;o<f;o=s){s=xr(e,o);const l=n(e,o,s);if(a+l>t){for(a+=r;a>t&&o>0;)s=o,o=i.pop(),a-=n(e,o,s);return[o,t-a]}a+=l,i.push(o)}return[-1,0]}function Gc(e,t,n,r){e=e.trim();const i=n(r),[a]=Ta(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function nv(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[o,s]=Ta(e,t/2,n,a),[f]=Ta(e,i-t/2-s+a,n,-a);return f<0?r:e.slice(0,o).trimEnd()+r+e.slice(xr(e,f)).trimStart()}function Zc(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[o]=Ta(e,i-t+a,n,-a);return o<0?r:r+e.slice(xr(e,o)).trimStart()}const Fs=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Xc=/\p{Extended_Pictographic}/uy;function xr(e,t){return t+=rv(e,t)?2:1,av(e,t)&&(t=Fs.lastIndex),iv(e,t)?xr(e,t+1):t}function Sp(e,t){return e.charCodeAt(t)<128}function rv(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function iv(e,t){return e.charCodeAt(t)===8205}function av(e,t){return Sp(e,t)?!1:(Fs.lastIndex=t,Fs.test(e))}function Tp(e,t){return Sp(e,t)?!1:(Xc.lastIndex=t,Xc.test(e))}const ov={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},kp=3.5,sv=kp*5,Ep={draw(e,t,n){const r=t*n/sv;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},fv={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},lv=new Map([["arrow",Ep],["spike",fv]]);function cv(e){return e&&typeof e.draw=="function"}function uv(e){if(cv(e))return e;const t=lv.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let xp=class extends qt{constructor(t,n={}){const{x:r,y:i,r:a=kp,length:o,rotate:s,shape:f=Ep,anchor:l="middle",frameAnchor:c}=n,[u,d]=Tt(o,12),[h,p]=Tt(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:u,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,ov),this.r=+a,this.length=d,this.rotate=p,this.shape=uv(f),this.anchor=_n(l,"anchor",["start","middle","end"]),this.frameAnchor=C1(c)}render(t,n,r,i,a){const{x:o,y:s}=n,{x:f,y:l,length:c,rotate:u}=r,{length:d,rotate:h,anchor:p,shape:g,r:_}=this,[m,y]=op(this,i);return tt("svg:g",a).call(yn,this,i,a).call(vn,this,{x:f&&o,y:l&&s}).call(v=>v.selectAll().data(t).enter().append("path").call(wn,this).attr("transform",yp`translate(${f?b=>f[b]:m},${l?b=>l[b]:y})${u?b=>` rotate(${u[b]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?b=>` translate(0,${c[b]})`:` translate(0,${d})`:c?b=>` translate(0,${c[b]/2})`:` translate(0,${d/2})`}`).attr("d",c?b=>{const w=na();return g.draw(w,c[b],_),w}:(()=>{const b=na();return g.draw(b,d,_),b})()).call(Zn,this,r)).node()}};function dv(e,t={}){const{x:n=jt,...r}=t;return new xp(e,{...r,x:n})}function hv(e,t={}){const{y:n=jt,...r}=t;return new xp(e,{...r,y:n})}function Ln(e,t){return arguments.length<2&&!Yn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function fo({anchor:e}={},t){return e===void 0?t[0]:_n(e,"anchor",t)}function Ap(e){return fo(e,["left","right"])}function Cp(e){return fo(e,["right","left"])}function Np(e){return fo(e,["bottom","top"])}function Dp(e){return fo(e,["top","bottom"])}function wi(){const[e,t]=Ln(...arguments);return Ip("y",Ap(t),e,t)}function pv(){const[e,t]=Ln(...arguments);return Ip("fy",Cp(t),e,t)}function Ar(){const[e,t]=Ln(...arguments);return Lp("x",Np(t),e,t)}function gv(){const[e,t]=Ln(...arguments);return Lp("fx",Dp(t),e,t)}function Ip(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:s=1,fill:f=r,fillOpacity:l=i,textAnchor:c,textStroke:u,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:g,tickRotate:_,x:m,margin:y,marginTop:v=y===void 0?20:y,marginRight:b=y===void 0?t==="right"?40:0:y,marginBottom:w=y===void 0?20:y,marginLeft:T=y===void 0?t==="left"?40:0:y,label:M,labelOffset:P,labelAnchor:L,...x}){return p=Ie(p),g=Ie(g),_=Ie(_),L!==void 0&&(L=_n(L,"labelAnchor",["center","top","bottom"])),up(p&&!St(a)?mv(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:_,x:m,...x}):null,St(f)?null:_v(e,t,n,{fill:f,fillOpacity:l,stroke:u,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:_,x:m,marginTop:v,marginRight:b,marginBottom:w,marginLeft:T,...x}),!St(f)&&M!==null?so([],Bp({fill:f,fillOpacity:l,...x},function(k,R,E,N,S){const A=N[e],{marginTop:z,marginRight:G,marginBottom:X,marginLeft:V}=e==="y"&&S.inset||S,K=L??(A.bandwidth?"center":"top"),ee=P??(t==="right"?G:V)-3;return K==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=K,this.frameAnchor=`${K}-${t}`,this.rotate=0),this.dy=K==="top"?3-z:K==="bottom"?X-3:0,this.dx=t==="right"?ee:-ee,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[M===void 0?Up(e,A,K):M]}}}})):null)}function Lp(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:s=1,fill:f=r,fillOpacity:l=i,textAnchor:c,textStroke:u,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:g,tickRotate:_,y:m,margin:y,marginTop:v=y===void 0?t==="top"?30:0:y,marginRight:b=y===void 0?20:y,marginBottom:w=y===void 0?t==="bottom"?30:0:y,marginLeft:T=y===void 0?20:y,label:M,labelAnchor:P,labelOffset:L,...x}){return p=Ie(p),g=Ie(g),_=Ie(_),P!==void 0&&(P=_n(P,"labelAnchor",["center","left","right"])),up(p&&!St(a)?bv(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:_,y:m,...x}):null,St(f)?null:yv(e,t,n,{fill:f,fillOpacity:l,stroke:u,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:_,y:m,marginTop:v,marginRight:b,marginBottom:w,marginLeft:T,...x}),!St(f)&&M!==null?so([],Bp({fill:f,fillOpacity:l,...x},function(k,R,E,N,S){const A=N[e],{marginTop:z,marginRight:G,marginBottom:X,marginLeft:V}=e==="x"&&S.inset||S,K=P??(A.bandwidth?"center":"right"),ee=L??(t==="top"?z:X)-3;return K==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${K}`,this.textAnchor=K==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-ee:ee,this.dx=K==="right"?G-3:K==="left"?3-V:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[M===void 0?Up(e,A,K):M]}}}})):null)}function mv(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:l=0,insetLeft:c=l,insetRight:u=l,dx:d=0,y:h=e==="y"?void 0:null,...p}){return Cr(hv,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:s,y:h,...p,dx:t==="left"?+d-kt+ +c:+d+kt-u,anchor:"start",length:f,shape:t==="left"?xv:Av})}function bv(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:l=0,insetTop:c=l,insetBottom:u=l,dy:d=0,x:h=e==="x"?void 0:null,...p}){return Cr(dv,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:s,x:h,...p,dy:t==="bottom"?+d-kt-u:+d+kt+ +c,anchor:"start",length:f,shape:t==="bottom"?kv:Ev})}function _v(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:s=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*dp):0),tickFormat:f,text:l=typeof f=="function"?f:void 0,textAnchor:c=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:u=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:g=h,dx:_=0,y:m=e==="y"?void 0:null,...y}){return Cr(Y3,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:l===void 0?null:l,textAnchor:c,lineAnchor:u,fontVariant:d,rotate:o,y:m,...y,dx:t==="left"?+_-a-s+ +p:+_+ +a+ +s-g},function(v,b,w){d===void 0&&(this.fontVariant=Fp(v)),l===void 0&&(w.text=qp(v,b,f))})}function yv(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:s=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*dp):0),tickFormat:f,text:l=typeof f=="function"?f:void 0,textAnchor:c=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:g=h,dy:_=0,x:m=e==="x"?void 0:null,...y}){return Cr(W3,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:l===void 0?null:l,textAnchor:c,lineAnchor:u,fontVariant:d,rotate:o,x:m,...y,dy:t==="bottom"?+_+ +a+ +s-g:+_-a-s+ +p},function(v,b,w){d===void 0&&(this.fontVariant=Fp(v)),l===void 0&&(w.text=qp(v,b,f))})}function wv(){const[e,t]=Ln(...arguments);return Op("y",Ap(t),e,t)}function vv(){const[e,t]=Ln(...arguments);return Op("fy",Cp(t),e,t)}function Mv(){const[e,t]=Ln(...arguments);return Pp("x",Np(t),e,t)}function Sv(){const[e,t]=Ln(...arguments);return Pp("fx",Dp(t),e,t)}function Op(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:o=t==="right"?i:null,...s}){return Cr(Hf,e,`${e}-grid`,n,{y:r,x1:a,x2:o,...Rp(s)})}function Pp(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:o=t==="bottom"?i:null,...s}){return Cr(Vf,e,`${e}-grid`,n,{x:r,y1:a,y2:o,...Rp(s)})}function Rp({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Bp({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:o,pointerEvents:s,shapeRendering:f},l){return[,e]=Hn(e),[,t]=Tt(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:o,pointerEvents:s,shapeRendering:f,initializer:l}}function Cr(e,t,n,r,i,a){let o;const s=e(r,L1(i,function(f,l,c,u){const{[t]:d}=u;if(!d)throw new Error(`missing scale: ${t}`);let{ticks:h,tickSpacing:p,interval:g}=i;if(tp(d)&&typeof h=="string"&&(g=h,h=void 0),f==null){if(Yn(h))f=en(h);else if(d.ticks)if(h!==void 0)f=d.ticks(h);else if(g=bi(g===void 0?d.interval:g,d.type),g!==void 0){const[_,m]=pr(d.domain());f=g.range(_,g.offset(g.floor(m)))}else{const[_,m]=pr(d.range());h=(m-_)/(p===void 0?t==="x"?80:35:p),f=d.ticks(h)}else f=d.domain();t==="y"||t==="x"?l=[In(f)]:(o[t]={scale:t,value:jt},l=void 0)}return a==null||a.call(this,d,h,o),{data:f,facets:l,channels:Object.fromEntries(Object.entries(o).map(([_,m])=>[_,{...m,value:Rt(f,m.value)}]))}}));return r==null?(o=s.channels,s.channels={}):o={},s.ariaLabel=n,s}function qp(e,t,n){return{value:Tv(e,t,n)}}function Tv(e,t,n){return e.tickFormat?e.tickFormat(Yn(t)?null:t,n):n===void 0?ao:typeof n=="string"?(Ht(e.domain())?Fa:Sr)(n):Er(n)}const kv={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Ev={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},xv={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Av={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Fp(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function Cv(e){return Math.sign(ai(e.domain()))*Math.sign(ai(e.range()))}function Up(e,t,n){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=Cv(t);return i?e==="x"||n==="center"?e==="x"==i<0?`← ${r}`:`${r} →`:`${i<0?"↑ ":"↓ "}${r}`:r}const Nv={ariaLabel:"frame",fill:"none",stroke:"currentColor"},Dv={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class Iv extends qt{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:o=r,insetLeft:s=r,rx:f,ry:l}=t;super(void 0,void 0,t,n==null?Nv:Dv),this.anchor=E1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ie(i),this.insetRight=Ie(a),this.insetBottom=Ie(o),this.insetLeft=Ie(s),this.rx=Ie(f),this.ry=Ie(l)}render(t,n,r,i,a){const{marginTop:o,marginRight:s,marginBottom:f,marginLeft:l,width:c,height:u}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:g,insetLeft:_,rx:m,ry:y}=this,v=l+_,b=c-s-p,w=o+h,T=u-f-g;return tt(d?"svg:line":"svg:rect",a).call(yn,this,i,a).call(wn,this).call(vn,this,{}).call(d==="left"?M=>M.attr("x1",v).attr("x2",v).attr("y1",w).attr("y2",T):d==="right"?M=>M.attr("x1",b).attr("x2",b).attr("y1",w).attr("y2",T):d==="top"?M=>M.attr("x1",v).attr("x2",b).attr("y1",w).attr("y2",w):d==="bottom"?M=>M.attr("x1",v).attr("x2",b).attr("y1",T).attr("y2",T):M=>M.attr("x",v).attr("y",w).attr("width",b-v).attr("height",T-w).attr("rx",m).attr("ry",y)).node()}}function $p(e){return new Iv(e)}function vi(e={}){const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:a}=e,o=qf(e.className),s=e.marks===void 0?[]:Jc(e.marks),f=Bv(t,e),l=new Map;for(const E of s){const N=Qc(E,f,e);N&&l.set(E,N)}const c=new Map;f&&Rr(c,[f]),Rr(c,l);const u=Jc(qv(s,c,e));for(const E of u){const N=Qc(E,f,e);N&&l.set(E,N)}s.unshift(...u);let d=b3(c,e);if(d!==void 0){const E=f?$o(d,f):void 0;for(const S of s){if(S.facet===null||S.facet==="super")continue;const A=l.get(S);A!==void 0&&(A.facetsIndex=S.fx!=null||S.fy!=null?$o(d,A):E)}const N=new Set;for(const{facetsIndex:S}of l.values())S==null||S.forEach((A,z)=>{(A==null?void 0:A.length)>0&&N.add(z)});d.forEach(0<N.size&&N.size<d.length?(S,A)=>S.empty=!N.has(A):S=>S.empty=!1);for(const S of s)if(S.facet==="exclude"){const A=l.get(S);A!==void 0&&(A.facetsIndex=w3(A.facetsIndex))}}for(const E of Re.keys())Sa(e[E])&&E!=="fx"&&E!=="fy"&&c.set(E,[]);const h=new Map;for(const E of s){if(h.has(E))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:N,channels:S}=l.get(E)??{},{data:A,facets:z,channels:G}=E.initialize(N,S);Wf(G,e),h.set(E,{data:A,facets:z,channels:G})}const p=Rs(Rr(c,h),e),g=Uc(p),_=g3(p,s,e);V6(p,_);const{fx:m,fy:y}=g,v=m||y?J1(p,_):_,b=m||y?jv(g,_):_,w=Lf(e,v,o),T=new Set;for(const[E,N]of h)if(E.initializer!=null){const S=E.facet==="super"?b:v,A=E.initializer(N.data,N.facets,N.channels,g,S,w);if(A.data!==void 0&&(N.data=A.data),A.facets!==void 0&&(N.facets=A.facets),A.channels!==void 0){Rv(A.channels),Object.assign(N.channels,A.channels);for(const X of Object.values(A.channels)){const{scale:V}=X;V!=null&&Re.get(V)!==Zt&&(zp(X,e),T.add(V))}const{fx:z,fy:G}=A.channels;if(z!=null||G!=null){const X=l.get(E)??{channels:{}};z!=null&&(X.channels.fx=z),G!=null&&(X.channels.fy=G),X.groups=Uf(N.data,X.channels),X.facetsIndex=N.facets=$o(d,X),l.set(E,X)}}}if(T.size){const E=new Map;Rr(E,h,A=>T.has(A)),Rr(c,h,A=>T.has(A));const N=Hv(Rs(E,e),p),S=Uc(N);Object.assign(p,N),Object.assign(g,S)}for(const[E,N]of h)N.values=E.scale(N.channels,g,w);const{width:M,height:P}=_,L=tt("svg",w).attr("class",o).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",M).attr("height",P).attr("viewBox",`0 0 ${M} ${P}`).attr("aria-label",i).attr("aria-description",a).call(E=>E.append("style").text(`.${o} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${o} text,
.${o} tspan {
  white-space: pre;
}`)).call(Ff,n).node();if(d!==void 0){const E={x:m==null?void 0:m.domain(),y:y==null?void 0:y.domain()};d=_3(d,E),Ko(L).selectAll().data(d).enter().append("g").attr("aria-label","facet").attr("transform",y3(m,y,_)).each(function(N){var A;let S=!0;for(const z of s){if(z.facet==="super")continue;const{channels:G,values:X,facets:V}=h.get(z);if(!(((A=z.facetAnchor)==null?void 0:A.call(z,d,E,N))??!N.empty))continue;let K=null;if(V){if(K=V[l.has(z)?N.i:0],K=z.filter(K,G,X),K.length===0)continue;K.fi=N.i}const ee=z.render(K,g,X,v,w);ee!=null&&(S=!1,this.appendChild(ee))}S&&this.remove()})}for(const E of s){if(d!==void 0&&E.facet!=="super")continue;const{channels:N,values:S,facets:A}=h.get(E);let z=null;if(A&&(z=A[0],z=E.filter(z,N,S),z.length===0))continue;const G=E.render(z,g,S,b,w);G!=null&&L.appendChild(G)}let x=L;const k=P3(p,w,e);if(r!=null||k.length>0){const{document:E}=w;x=E.createElement("figure"),x.style.maxWidth="initial";for(const N of k)x.appendChild(N);if(x.appendChild(L),r!=null){const N=E.createElement("figcaption");N.appendChild(r!=null&&r.ownerDocument?r:E.createTextNode(r)),x.appendChild(N)}}x.scale=X6(p),x.legend=I3(p,w,e);const R=i6();return R>0&&Ko(L).append("text").attr("x",M).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${R.toLocaleString("en-US")} warning${R===1?"":"s"}. Please check the console.`),x}function Lv({marks:e=[],...t}={}){return vi({...t,marks:[...e,this]})}qt.prototype.plot=Lv;function Jc(e){return e.flat(1/0).filter(t=>t!=null).map(Ov)}function Ov(e){return typeof e.render=="function"?e:new Pv(e)}class Pv extends qt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Wf(e,t){for(const n in e)zp(e[n],t);return e}function zp(e,t){var s;const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:a,transform:o=i?f=>f*100:(s=Nf(a,r))==null?void 0:s.floor}=t[n]??{};o!=null&&(e.value=rt(e.value,o))}function Rv(e){for(const t in e)B1(t,e[t])}function Rr(e,t,n=_w){for(const{channels:r}of t.values())for(const i in r){const a=r[i],{scale:o}=a;if(o!=null&&n(o)){const s=e.get(o);s!==void 0?s.push(a):e.set(o,[a])}}return e}function Bv(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=en(e.data??n??r);if(i===void 0)throw new Error("missing facet data");const a={};n!=null&&(a.fx=oi(i,{value:n,scale:"fx"})),r!=null&&(a.fy=oi(i,{value:r,scale:"fy"})),Wf(a,t);const o=Uf(i,a);return{channels:a,groups:o,data:e.data}}function Qc(e,t,n){var f;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=en(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const c={};return r!=null&&(c.fx=oi(l,{value:r,scale:"fx"})),i!=null&&(c.fy=oi(l,{value:i,scale:"fy"})),Wf(c,n),{channels:c,groups:Uf(l,c)}}if(t===void 0)return;const{channels:a,groups:o,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:a,groups:o};s.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&((f=en(e.data))==null?void 0:f.length)===s.length&&cr(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function qv(e,t,n){let{projection:r,x:i={},y:a={},fx:o={},fy:s={},axis:f,grid:l,facet:c={},facet:{axis:u=f,grid:d}=c,x:{axis:h=f,grid:p=h===null?null:l}=i,y:{axis:g=f,grid:_=g===null?null:l}=a,fx:{axis:m=u,grid:y=m===null?null:d}=o,fy:{axis:v=u,grid:b=v===null?null:d}=s}=n;(r||!Sa(i)&&!Kc("x",e))&&(h=p=null),(r||!Sa(a)&&!Kc("y",e))&&(g=_=null),t.has("fx")||(m=y=null),t.has("fy")||(v=b=null),h===void 0&&(h=!Fi(e,"x")),g===void 0&&(g=!Fi(e,"y")),m===void 0&&(m=!Fi(e,"fx")),v===void 0&&(v=!Fi(e,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),m===!0&&(m=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const w=[];return qi(w,b,vv,s),Bi(w,v,pv,"right","left",c,s),qi(w,y,Sv,o),Bi(w,m,gv,"top","bottom",c,o),qi(w,_,wv,a),Bi(w,g,wi,"left","right",n,a),qi(w,p,Mv,i),Bi(w,h,Ar,"bottom","top",n,i),w}function Bi(e,t,n,r,i,a,o){if(!t)return;const s=Fv(t);o=Uv(s?r:t,a,o);const{line:f}=o;(n===wi||n===Ar)&&f&&!ii(f)&&e.push($p($v(o))),e.push(n(o)),s&&e.push(n({...o,anchor:i,label:null}))}function qi(e,t,n,r){!t||ii(t)||e.push(n(zv(t,r)))}function Fv(e){return/^\s*both\s*$/i.test(e)}function Uv(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:s,tickRotate:f,fontVariant:l,ariaLabel:c,ariaDescription:u,label:d=t.label,labelAnchor:h,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:s,tickRotate:f,fontVariant:l,ariaLabel:c,ariaDescription:u,label:d,labelAnchor:h,labelOffset:p}}function $v(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function zv(e,{stroke:t=Qa(e)?e:void 0,ticks:n=Vv(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function Vv(e){switch(typeof e){case"number":return!0;case"string":return!Qa(e)}return Yn(e)||typeof(e==null?void 0:e.range)=="function"}function Fi(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Kc(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function Hv(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function jv({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:s,height:f}=Bf(n),l=e&&eu(e),c=t&&eu(t);return{marginTop:t?c[0]:r,marginRight:e?s-l[1]:i,marginBottom:t?f-c[1]:a,marginLeft:e?l[0]:o,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:f}}function eu(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Wv=new Map([["basis",Ny],["basis-closed",Dy],["basis-open",Iy],["bundle",Ly],["bump-x",yy],["bump-y",wy],["cardinal",Oy],["cardinal-closed",Py],["cardinal-open",Ry],["catmull-rom",By],["catmull-rom-closed",qy],["catmull-rom-open",Fy],["linear",Za],["linear-closed",Uy],["monotone-x",$y],["monotone-y",zy],["natural",Vy],["step",Hy],["step-after",Wy],["step-before",jy]]);function Yv(e=Za,t){if(typeof e=="function")return e;const n=Wv.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Vp(e=vr,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?vr:Yv(e,t)}function vr(e){return Za(e)}function Gv(e={}){const{x:t,x1:n,x2:r}=e;return n===void 0&&r===void 0&&t===void 0?{...e,x:jt}:e}function Zv(e={},t={}){arguments.length===1&&([e,t]=Jv(e));const{y1:n,y:r=n,x:i,...a}=t,[o,s,f,l]=Kv(r,i,"x",e,a);return{...o,y1:n,y:s,x1:f,x2:l,x:kw(f,l)}}function Xv({x:e,x1:t,x2:n,...r}={}){return t===void 0&&n===void 0?Zv({x:e,...r}):([t,n]=Sw(e,t,n),{...r,x1:t,x2:n})}function Jv(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}function Qv(e,t=bw,n,{offset:r,order:i,reverse:a},o){const s=x1(o),[f,l]=Tw(e),[c,u]=Ls(t),[d,h]=Ls(t);return r=e4(r),i=r4(i,r,n),[I1(o,(p,g)=>{const _=e==null?void 0:l(Rt(p,e)),m=Rt(p,t,Float64Array),y=Rt(p,s),v=i&&i(p,_,m,y),b=p.length,w=u(new Float64Array(b)),T=h(new Float64Array(b)),M=[];for(const P of g){const L=_?Array.from(ef(P,x=>_[x]).values()):[P];v&&l4(L,v);for(const x of L){let k=0,R=0;a&&x.reverse();for(const E of x){const N=m[E];N<0?k=T[E]=(w[E]=k)+N:N>0?R=T[E]=(w[E]=R)+N:T[E]=w[E]=R}}M.push(L)}return r&&r(M,w,T,y),{data:p,facets:g}}),f,c,d]}const Kv=Qv;function e4(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return t4;case"center":case"silhouette":return n4;case"wiggle":return jp}throw new Error(`unknown offset: ${e}`)}}function Hp(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function t4(e,t,n){for(const r of e)for(const i of r){const[a,o]=Hp(i,n);for(const s of i){const f=1/(o-a||1);t[s]=f*(t[s]-a),n[s]=f*(n[s]-a)}}}function n4(e,t,n){for(const r of e){for(const i of r){const[a,o]=Hp(i,n);for(const s of i){const f=(o+a)/2;t[s]-=f,n[s]-=f}}Wp(r,t,n)}Yp(e,t,n)}function jp(e,t,n,r){for(const i of e){const a=new Cn;let o=0;for(const s of i){let f=-1;const l=s.map(h=>Math.abs(n[h]-t[h])),c=s.map(h=>{f=r?r[h]:++f;const p=n[h]-t[h],g=a.has(f)?p-a.get(f):0;return a.set(f,p),g}),u=[0,...rm(c)];for(const h of s)t[h]+=o,n[h]+=o;const d=Fn(l);d&&(o-=Fn(l,(h,p)=>(c[p]/2+u[p])*h)/d)}Wp(i,t,n)}Yp(e,t,n)}function Wp(e,t,n){const r=pn(e,i=>pn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Yp(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),a=i.map(s=>(pn(s,f=>t[f])+zt(s,f=>n[f]))/2),o=pn(a);for(let s=0;s<r;s++){const f=o-a[s];for(const l of i[s])t[l]+=f,n[l]+=f}}function r4(e,t,n){if(e===void 0&&t===jp)return tu;if(e!=null){if(typeof e=="string"){switch(e.toLowerCase()){case"value":case n:return i4;case"z":return a4;case"sum":return o4;case"appearance":return s4;case"inside-out":return tu}return nu(S1(e))}if(typeof e=="function")return nu(e);if(Array.isArray(e))return f4(e);throw new Error(`invalid order: ${e}`)}}function i4(e,t,n){return n}function a4(e,t,n,r){return r}function o4(e,t,n,r){return lo(r,tf(In(e),i=>Fn(i,a=>n[a]),i=>r[i]))}function s4(e,t,n,r){return lo(r,tf(In(e),i=>t[ed(i,a=>n[a])],i=>r[i]))}function tu(e,t,n,r){const i=In(e),a=tf(i,c=>t[ed(c,u=>n[u])],c=>r[c]),o=or(i,c=>Fn(c,u=>n[u]),c=>r[c]),s=[],f=[];let l=0;for(const c of a)l<0?(l+=o.get(c),s.push(c)):(l-=o.get(c),f.push(c));return lo(r,f.reverse().concat(s))}function nu(e){return t=>Rt(t,e)}function f4(e){return(t,n,r,i)=>lo(i,e)}function lo(e,t){if(!e)throw new Error("missing channel: z");return t=new Cn(t.map((n,r)=>[n,r])),e.map(n=>t.get(n))}function l4(e,t){for(const n of e)n.sort((r,i)=>Vn(t[r],t[i]))}function Gp(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=zo(n),e.markerMid=zo(r),e.markerEnd=zo(i)}function zo(e){if(e==null||e===!1)return null;if(e===!0)return ru;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return c4;case"dot":return u4;case"circle":case"circle-fill":return ru;case"circle-stroke":return d4}throw new Error(`invalid marker: ${e}`)}function c4(e,t){return tt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function u4(e,t){return tt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function ru(e,t){return tt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function d4(e,t){return tt("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let h4=0;function p4(e,t,{stroke:n},r){return Zp(e,t,n&&(i=>n[i]),r)}function g4(e,t,{stroke:n},r){return Zp(e,t,n&&(([i])=>n[i]),r)}function Zp(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,o){const s=new Map;function f(l){return function(c){const u=a(c);let d=s.get(l);d||s.set(l,d=new Map);let h=d.get(u);if(!h){const p=this.parentNode.insertBefore(l(u,o),this),g=`plot-marker-${++h4}`;p.setAttribute("id",g),d.set(u,h=`url(#${g})`)}return h}}t&&e.attr("marker-start",f(t)),n&&e.attr("marker-mid",f(n)),r&&e.attr("marker-end",f(r))}const m4={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class b4 extends qt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o,curve:s,tension:f}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,m4),this.curve=Vp(s,f),Gp(this,n)}project(t,n,r){this.curve!==vr&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:o,y1:s,x2:f=o,y2:l=s}=r,{curve:c}=this;return tt("svg:g",a).call(yn,this,i,a).call(vn,this,n).call(u=>u.selectAll().data(t).enter().append("path").call(wn,this).attr("d",c===vr&&a.projection?_4(a.projection,o,s,f,l):d=>{const h=na(),p=c(h);return p.lineStart(),p.point(o[d],s[d]),p.point(f[d],l[d]),p.lineEnd(),h}).call(Zn,this,r).call(p4,this,r,a)).node()}}function _4(e,t,n,r,i){const a=Va(e);return t=kn(t),n=kn(n),r=kn(r),i=kn(i),o=>a({type:"LineString",coordinates:[[t[o],n[o]],[r[o],i[o]]]})}function Us(e,t={}){let{x:n,x1:r,x2:i,y:a,y1:o,y2:s,...f}=t;return[r,i]=iu(n,r,i),[o,s]=iu(a,o,s),new b4(e,{...f,x1:r,x2:i,y1:o,y2:s})}function iu(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class y4 extends qt{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:o=a,insetRight:s=a,insetBottom:f=a,insetLeft:l=a,rx:c,ry:u}=r;this.insetTop=Ie(o),this.insetRight=Ie(s),this.insetBottom=Ie(f),this.insetLeft=Ie(l),this.rx=et(c,"auto"),this.ry=et(u,"auto")}render(t,n,r,i,a){const{rx:o,ry:s}=this;return tt("svg:g",a).call(yn,this,i,a).call(this._transform,this,n).call(f=>f.selectAll().data(t).enter().append("rect").call(wn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ie,"rx",o).call(ie,"ry",s).call(Zn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:o,insetRight:s}=this,f=n&&t?t.bandwidth():a-r-i;return Math.max(0,f-o-s)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:o,insetBottom:s}=this,f=n&&t?t.bandwidth():a-r-i;return Math.max(0,f-o-s)}}const w4={ariaLabel:"cell"};class v4 extends y4{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,w4)}_transform(t,n){t.call(vn,n,{},0,0)}}function M4(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=Cf(n,r),new v4(e,{...i,x:n,y:r})}const S4={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let T4=class extends qt{constructor(t,n={}){const{x:r,y:i,z:a,curve:o,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:x1(n),optional:!0}},n,S4),this.z=a,this.curve=Vp(o,s),Gp(this,n)}filter(t){return t}project(t,n,r){this.curve!==vr&&super.project(t,n,r)}render(t,n,r,i,a){const{x:o,y:s}=r,{curve:f}=this;return tt("svg:g",a).call(yn,this,i,a).call(vn,this,n).call(l=>l.selectAll().data(c3(t,[o,s],this,r)).enter().append("path").call(wn,this).call(s3,this,r).call(g4,this,r,a).attr("d",f===vr&&a.projection?k4(a.projection,o,s):_y().curve(f).defined(c=>c>=0).x(c=>o[c]).y(c=>s[c]))).node()}};function k4(e,t,n){const r=Va(e);return t=kn(t),n=kn(n),i=>{let a=[];const o=[a];for(const s of i)s===-1?(a=[],o.push(a)):a.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:o})}}function E4(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=Cf(n,r),new T4(e,{...i,x:n,y:r})}const x4={ariaLabel:"rect"};class Xp extends qt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o,inset:s=0,insetTop:f=s,insetRight:l=s,insetBottom:c=s,insetLeft:u=s,rx:d,ry:h}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,x4),this.insetTop=Ie(f),this.insetRight=Ie(l),this.insetBottom=Ie(c),this.insetLeft=Ie(u),this.rx=et(d,"auto"),this.ry=et(h,"auto")}render(t,n,r,i,a){const{x:o,y:s}=n,{x1:f,y1:l,x2:c,y2:u}=r,{marginTop:d,marginRight:h,marginBottom:p,marginLeft:g,width:_,height:m}=i,{projection:y}=a,{insetTop:v,insetRight:b,insetBottom:w,insetLeft:T,rx:M,ry:P}=this;return tt("svg:g",a).call(yn,this,i,a).call(vn,this,{x:f&&c&&o,y:l&&u&&s},0,0).call(L=>L.selectAll().data(t).enter().append("rect").call(wn,this).attr("x",f&&c&&(y||!En(o))?x=>Math.min(f[x],c[x])+T:g+T).attr("y",l&&u&&(y||!En(s))?x=>Math.min(l[x],u[x])+v:d+v).attr("width",f&&c&&(y||!En(o))?x=>Math.max(0,Math.abs(c[x]-f[x])-T-b):_-h-g-b-T).attr("height",l&&u&&(y||!En(s))?x=>Math.max(0,Math.abs(l[x]-u[x])-v-w):m-d-p-v-w).call(ie,"rx",M).call(ie,"ry",P).call(Zn,this,r)).node()}}function A4(e,t){return new Xp(e,R3(mp(t)))}function Jp(e,t={y:T1,interval:1,x2:jt}){return new Xp(e,Xv(mp(Gv(t))))}function C4(e){let t,n,r,i,a,o,s,f;return{c(){t=W("div"),n=oe(),r=W("div"),i=W("div"),a=oe(),o=Yr("svg"),this.h()},l(l){t=Y(l,"DIV",{}),H(t).forEach(D),n=se(l),r=Y(l,"DIV",{id:!0});var c=H(r);i=Y(c,"DIV",{}),H(i).forEach(D),a=se(c),o=Gr(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=H(o);u.forEach(D),c.forEach(D),this.h()},h(){B(o,"class",""),B(o,"viewBox","0 0 800 0"),B(o,"width","100%"),B(o,"height","0"),B(r,"id",e[0])},m(l,c){J(l,t,c),J(l,n,c),J(l,r,c),$(r,i),e[10](i),$(r,a),$(r,o),e[11](r),s||(f=Aa(za.call(null,t,I4)),s=!0)},p(l,[c]){c&1&&B(r,"id",l[0])},i:ke,o:ke,d(l){l&&D(t),l&&D(n),l&&D(r),e[10](null),e[11](null),s=!1,f()}}}let N4=800,D4=200;function I4(){}function L4(e,t,n){let{name:r,title:i,xAttr:a,yAttr:o,xDomainMin:s=null,xDomainMax:f=null}=t,{theplot:l=null}=t,c,u;Se("dims");let d={},h=[];function p(m,y){if(!m||m.length==0)return;y=="overlay"?d=m??d:h=m??h;let v={x:{domain:[+s,+f]},width:N4,height:D4,marginBottom:50,marks:[Ar({ticks:h.length,fontSize:12}),wi({fontSize:12}),Vf([1]),Hf([0]),E4(h,{x:a,y:o,marker:!0,strokeWidth:3})]};Bn(d).length>0&&(v.color={domain:ta("key",d),range:Wa,legend:!0,style:{"font-size":"15pt","margin-left":"2em"}},v.marks.push(Jp(d,{x1:"left",x2:"right",y2:zt(ta(o,h)),fill:"key",color:"key",opacity:.2}))),n(3,l=vi(v)),l.children[1].setAttribute("width","100%"),n(2,u.innerHTML="",u),u.appendChild(l)}function g(m){Le[m?"unshift":"push"](()=>{u=m,n(2,u)})}function _(m){Le[m?"unshift":"push"](()=>{c=m,n(1,c)})}return e.$$set=m=>{"name"in m&&n(0,r=m.name),"title"in m&&n(4,i=m.title),"xAttr"in m&&n(5,a=m.xAttr),"yAttr"in m&&n(6,o=m.yAttr),"xDomainMin"in m&&n(7,s=m.xDomainMin),"xDomainMax"in m&&n(8,f=m.xDomainMax),"theplot"in m&&n(3,l=m.theplot)},[r,c,u,l,i,a,o,s,f,p,g,_]}class O4 extends ht{constructor(t){super(),pt(this,t,L4,C4,gt,{name:0,title:4,xAttr:5,yAttr:6,xDomainMin:7,xDomainMax:8,theplot:3,render:9})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),Oe()}get title(){return this.$$.ctx[4]}set title(t){this.$$set({title:t}),Oe()}get xAttr(){return this.$$.ctx[5]}set xAttr(t){this.$$set({xAttr:t}),Oe()}get yAttr(){return this.$$.ctx[6]}set yAttr(t){this.$$set({yAttr:t}),Oe()}get xDomainMin(){return this.$$.ctx[7]}set xDomainMin(t){this.$$set({xDomainMin:t}),Oe()}get xDomainMax(){return this.$$.ctx[8]}set xDomainMax(t){this.$$set({xDomainMax:t}),Oe()}get theplot(){return this.$$.ctx[3]}set theplot(t){this.$$set({theplot:t}),Oe()}get render(){return this.$$.ctx[9]}}function au(e){return Object.prototype.toString.call(e)==="[object Date]"}function $s(e,t,n,r){if(typeof n=="number"||au(n)){const i=r-n,a=(n-t)/(e.dt||1/60),o=e.opts.stiffness*i,s=e.opts.damping*a,f=(o-s)*e.inv_mass,l=(a+f)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,au(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>$s(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=$s(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function P4(e,t={}){const n=Xs(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let o,s,f,l=e,c=e,u=1,d=0,h=!1;function p(_,m={}){c=_;const y=f={};return e==null||m.hard||g.stiffness>=1&&g.damping>=1?(h=!0,o=Xf(),l=_,n.set(e=c),Promise.resolve()):(m.soft&&(d=1/((m.soft===!0?.5:+m.soft)*60),u=0),s||(o=Xf(),h=!1,s=og(v=>{if(h)return h=!1,s=null,!1;u=Math.min(u+d,1);const b={inv_mass:u,opts:g,settled:!0,dt:(v-o)*60/1e3},w=$s(b,l,e,c);return o=v,l=e,n.set(e=w),b.settled&&(s=null),!b.settled})),new Promise(v=>{s.promise.then(()=>{y===f&&v()})}))}const g={set:p,update:(_,m)=>p(_(c,e),m),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function ou(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function su(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&fu(e);return{c(){t=W("span"),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0,style:!0});var s=H(t);a&&a.l(s),s.forEach(D),this.h()},h(){B(t,"class","pip first"),B(t,"style",n=e[14]+": 0%;"),re(t,"selected",e[18](e[0])),re(t,"in-range",e[17](e[0]))},m(o,s){J(o,t,s),a&&a.m(t,null),r||(i=[be(t,"click",function(){ur(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}),be(t,"touchend",Zr(function(){ur(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}))],r=!0)},p(o,s){e=o,e[6]==="label"||e[7]==="label"?a?a.p(e,s):(a=fu(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&16384&&n!==(n=e[14]+": 0%;")&&B(t,"style",n),s&262145&&re(t,"selected",e[18](e[0])),s&131073&&re(t,"in-range",e[17](e[0]))},d(o){o&&D(t),a&&a.d(),r=!1,bn(i)}}}function fu(e){let t,n=e[12](e[16](e[0]),0,0)+"",r,i=e[10]&&lu(e),a=e[11]&&cu(e);return{c(){t=W("span"),i&&i.c(),r=Ee(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=H(t);i&&i.l(s),r=xe(s,n),a&&a.l(s),s.forEach(D),this.h()},h(){B(t,"class","pipVal")},m(o,s){J(o,t,s),i&&i.m(t,null),$(t,r),a&&a.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=lu(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&69633&&n!==(n=o[12](o[16](o[0]),0,0)+"")&&Qe(r,n),o[11]?a?a.p(o,s):(a=cu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&D(t),i&&i.d(),a&&a.d()}}}function lu(e){let t,n;return{c(){t=W("span"),n=Ee(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[10]),i.forEach(D),this.h()},h(){B(t,"class","pipVal-prefix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i&1024&&Qe(n,r[10])},d(r){r&&D(t)}}}function cu(e){let t,n;return{c(){t=W("span"),n=Ee(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[11]),i.forEach(D),this.h()},h(){B(t,"class","pipVal-suffix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i&2048&&Qe(n,r[11])},d(r){r&&D(t)}}}function uu(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=mu(ou(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=xn()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=xn()},m(i,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,a);J(i,t,a)},p(i,a){if(a&4120131){n=Array(i[20]+1);let o;for(o=0;o<n.length;o+=1){const s=ou(i,n,o);r[o]?r[o].p(s,a):(r[o]=mu(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){Ca(r,i),i&&D(t)}}}function du(e){let t,n,r,i,a,o=(e[6]==="label"||e[9]==="label")&&hu(e);return{c(){t=W("span"),o&&o.c(),n=oe(),this.h()},l(s){t=Y(s,"SPAN",{class:!0,style:!0});var f=H(t);o&&o.l(f),n=se(f),f.forEach(D),this.h()},h(){B(t,"class","pip"),B(t,"style",r=e[14]+": "+e[15](e[19](e[30]))+"%;"),re(t,"selected",e[18](e[19](e[30]))),re(t,"in-range",e[17](e[19](e[30])))},m(s,f){J(s,t,f),o&&o.m(t,null),$(t,n),i||(a=[be(t,"click",function(){ur(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}),be(t,"touchend",Zr(function(){ur(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}))],i=!0)},p(s,f){e=s,e[6]==="label"||e[9]==="label"?o?o.p(e,f):(o=hu(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),f&573440&&r!==(r=e[14]+": "+e[15](e[19](e[30]))+"%;")&&B(t,"style",r),f&786432&&re(t,"selected",e[18](e[19](e[30]))),f&655360&&re(t,"in-range",e[17](e[19](e[30])))},d(s){s&&D(t),o&&o.d(),i=!1,bn(a)}}}function hu(e){let t,n=e[12](e[19](e[30]),e[30],e[15](e[19](e[30])))+"",r,i=e[10]&&pu(e),a=e[11]&&gu(e);return{c(){t=W("span"),i&&i.c(),r=Ee(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=H(t);i&&i.l(s),r=xe(s,n),a&&a.l(s),s.forEach(D),this.h()},h(){B(t,"class","pipVal")},m(o,s){J(o,t,s),i&&i.m(t,null),$(t,r),a&&a.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=pu(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&561152&&n!==(n=o[12](o[19](o[30]),o[30],o[15](o[19](o[30])))+"")&&Qe(r,n),o[11]?a?a.p(o,s):(a=gu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&D(t),i&&i.d(),a&&a.d()}}}function pu(e){let t,n;return{c(){t=W("span"),n=Ee(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[10]),i.forEach(D),this.h()},h(){B(t,"class","pipVal-prefix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i&1024&&Qe(n,r[10])},d(r){r&&D(t)}}}function gu(e){let t,n;return{c(){t=W("span"),n=Ee(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[11]),i.forEach(D),this.h()},h(){B(t,"class","pipVal-suffix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i&2048&&Qe(n,r[11])},d(r){r&&D(t)}}}function mu(e){let t=e[19](e[30])!==e[0]&&e[19](e[30])!==e[1],n,r=t&&du(e);return{c(){r&&r.c(),n=xn()},l(i){r&&r.l(i),n=xn()},m(i,a){r&&r.m(i,a),J(i,n,a)},p(i,a){a&524291&&(t=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),t?r?r.p(i,a):(r=du(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&D(n)}}}function bu(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&_u(e);return{c(){t=W("span"),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0,style:!0});var s=H(t);a&&a.l(s),s.forEach(D),this.h()},h(){B(t,"class","pip last"),B(t,"style",n=e[14]+": 100%;"),re(t,"selected",e[18](e[1])),re(t,"in-range",e[17](e[1]))},m(o,s){J(o,t,s),a&&a.m(t,null),r||(i=[be(t,"click",function(){ur(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}),be(t,"touchend",Zr(function(){ur(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}))],r=!0)},p(o,s){e=o,e[6]==="label"||e[8]==="label"?a?a.p(e,s):(a=_u(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&16384&&n!==(n=e[14]+": 100%;")&&B(t,"style",n),s&262146&&re(t,"selected",e[18](e[1])),s&131074&&re(t,"in-range",e[17](e[1]))},d(o){o&&D(t),a&&a.d(),r=!1,bn(i)}}}function _u(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",r,i=e[10]&&yu(e),a=e[11]&&wu(e);return{c(){t=W("span"),i&&i.c(),r=Ee(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=H(t);i&&i.l(s),r=xe(s,n),a&&a.l(s),s.forEach(D),this.h()},h(){B(t,"class","pipVal")},m(o,s){J(o,t,s),i&&i.m(t,null),$(t,r),a&&a.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=yu(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&1118210&&n!==(n=o[12](o[16](o[1]),o[20],100)+"")&&Qe(r,n),o[11]?a?a.p(o,s):(a=wu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&D(t),i&&i.d(),a&&a.d()}}}function yu(e){let t,n;return{c(){t=W("span"),n=Ee(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[10]),i.forEach(D),this.h()},h(){B(t,"class","pipVal-prefix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i&1024&&Qe(n,r[10])},d(r){r&&D(t)}}}function wu(e){let t,n;return{c(){t=W("span"),n=Ee(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[11]),i.forEach(D),this.h()},h(){B(t,"class","pipVal-suffix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i&2048&&Qe(n,r[11])},d(r){r&&D(t)}}}function R4(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&su(e),a=(e[6]&&e[9]!==!1||e[9])&&uu(e),o=(e[6]&&e[8]!==!1||e[8])&&bu(e);return{c(){t=W("div"),i&&i.c(),n=oe(),a&&a.c(),r=oe(),o&&o.c(),this.h()},l(s){t=Y(s,"DIV",{class:!0});var f=H(t);i&&i.l(f),n=se(f),a&&a.l(f),r=se(f),o&&o.l(f),f.forEach(D),this.h()},h(){B(t,"class","rangePips"),re(t,"disabled",e[5]),re(t,"hoverable",e[4]),re(t,"vertical",e[2]),re(t,"reversed",e[3]),re(t,"focus",e[13])},m(s,f){J(s,t,f),i&&i.m(t,null),$(t,n),a&&a.m(t,null),$(t,r),o&&o.m(t,null)},p(s,[f]){s[6]&&s[7]!==!1||s[7]?i?i.p(s,f):(i=su(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[6]&&s[9]!==!1||s[9]?a?a.p(s,f):(a=uu(s),a.c(),a.m(t,r)):a&&(a.d(1),a=null),s[6]&&s[8]!==!1||s[8]?o?o.p(s,f):(o=bu(s),o.c(),o.m(t,null)):o&&(o.d(1),o=null),f&32&&re(t,"disabled",s[5]),f&16&&re(t,"hoverable",s[4]),f&4&&re(t,"vertical",s[2]),f&8&&re(t,"reversed",s[3]),f&8192&&re(t,"focus",s[13])},i:ke,o:ke,d(s){s&&D(t),i&&i.d(),a&&a.d(),o&&o.d()}}}function B4(e,t,n){let r,i,a,o,s,{range:f=!1}=t,{min:l=0}=t,{max:c=100}=t,{step:u=1}=t,{values:d=[(c+l)/2]}=t,{vertical:h=!1}=t,{reversed:p=!1}=t,{hoverable:g=!0}=t,{disabled:_=!1}=t,{pipstep:m=void 0}=t,{all:y=!0}=t,{first:v=void 0}=t,{last:b=void 0}=t,{rest:w=void 0}=t,{prefix:T=""}=t,{suffix:M=""}=t,{formatter:P=(S,A)=>S}=t,{focus:L=void 0}=t,{orientationStart:x=void 0}=t,{percentOf:k=void 0}=t,{moveHandle:R=void 0}=t,{fixFloat:E=void 0}=t;function N(S){_||R(void 0,S)}return e.$$set=S=>{"range"in S&&n(22,f=S.range),"min"in S&&n(0,l=S.min),"max"in S&&n(1,c=S.max),"step"in S&&n(23,u=S.step),"values"in S&&n(24,d=S.values),"vertical"in S&&n(2,h=S.vertical),"reversed"in S&&n(3,p=S.reversed),"hoverable"in S&&n(4,g=S.hoverable),"disabled"in S&&n(5,_=S.disabled),"pipstep"in S&&n(25,m=S.pipstep),"all"in S&&n(6,y=S.all),"first"in S&&n(7,v=S.first),"last"in S&&n(8,b=S.last),"rest"in S&&n(9,w=S.rest),"prefix"in S&&n(10,T=S.prefix),"suffix"in S&&n(11,M=S.suffix),"formatter"in S&&n(12,P=S.formatter),"focus"in S&&n(13,L=S.focus),"orientationStart"in S&&n(14,x=S.orientationStart),"percentOf"in S&&n(15,k=S.percentOf),"moveHandle"in S&&n(26,R=S.moveHandle),"fixFloat"in S&&n(16,E=S.fixFloat)},e.$$.update=()=>{e.$$.dirty&41943047&&n(27,r=m||((c-l)/u>=(h?50:100)?(c-l)/(h?10:20):1)),e.$$.dirty&142606339&&n(20,i=parseInt((c-l)/(u*r),10)),e.$$.dirty&142671873&&n(19,a=function(S){return E(l+S*u*r)}),e.$$.dirty&16842752&&n(18,o=function(S){return d.some(A=>E(A)===E(S))}),e.$$.dirty&20971520&&n(17,s=function(S){if(f==="min")return d[0]>S;if(f==="max")return d[0]<S;if(f)return d[0]<S&&d[1]>S})},[l,c,h,p,g,_,y,v,b,w,T,M,P,L,x,k,E,s,o,a,i,N,f,u,d,m,R,r]}class q4 extends ht{constructor(t){super(),pt(this,t,B4,R4,gt,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function vu(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}function Mu(e){let t,n=e[21](e[64],e[66],e[23](e[64]))+"",r,i=e[18]&&Su(e),a=e[19]&&Tu(e);return{c(){t=W("span"),i&&i.c(),r=Ee(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=H(t);i&&i.l(s),r=xe(s,n),a&&a.l(s),s.forEach(D),this.h()},h(){B(t,"class","rangeFloat")},m(o,s){J(o,t,s),i&&i.m(t,null),$(t,r),a&&a.m(t,null)},p(o,s){o[18]?i?i.p(o,s):(i=Su(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s[0]&10485761&&n!==(n=o[21](o[64],o[66],o[23](o[64]))+"")&&Qe(r,n),o[19]?a?a.p(o,s):(a=Tu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&D(t),i&&i.d(),a&&a.d()}}}function Su(e){let t,n;return{c(){t=W("span"),n=Ee(e[18]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[18]),i.forEach(D),this.h()},h(){B(t,"class","rangeFloat-prefix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i[0]&262144&&Qe(n,r[18])},d(r){r&&D(t)}}}function Tu(e){let t,n;return{c(){t=W("span"),n=Ee(e[19]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=H(t);n=xe(i,e[19]),i.forEach(D),this.h()},h(){B(t,"class","rangeFloat-suffix")},m(r,i){J(r,t,i),$(t,n)},p(r,i){i[0]&524288&&Qe(n,r[19])},d(r){r&&D(t)}}}function ku(e){let t,n,r,i,a,o,s,f,l,c,u,d,h=e[7]&&Mu(e);return{c(){t=W("span"),n=W("span"),r=oe(),h&&h.c(),this.h()},l(p){t=Y(p,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var g=H(t);n=Y(g,"SPAN",{class:!0}),H(n).forEach(D),r=se(g),h&&h.l(g),g.forEach(D),this.h()},h(){B(n,"class","rangeNub"),B(t,"role","slider"),B(t,"class","rangeHandle"),B(t,"data-handle",e[66]),B(t,"style",i=e[28]+": "+e[29][e[66]]+"%; z-index: "+(e[26]===e[66]?3:2)+";"),B(t,"aria-valuemin",a=e[2]===!0&&e[66]===1?e[0][0]:e[3]),B(t,"aria-valuemax",o=e[2]===!0&&e[66]===0?e[0][1]:e[4]),B(t,"aria-valuenow",s=e[64]),B(t,"aria-valuetext",f=""+(e[18]+e[21](e[64],e[66],e[23](e[64]))+e[19])),B(t,"aria-orientation",l=e[6]?"vertical":"horizontal"),B(t,"aria-disabled",e[10]),B(t,"disabled",e[10]),B(t,"tabindex",c=e[10]?-1:0),re(t,"active",e[24]&&e[26]===e[66]),re(t,"press",e[25]&&e[26]===e[66])},m(p,g){J(p,t,g),$(t,n),$(t,r),h&&h.m(t,null),u||(d=[be(t,"blur",e[34]),be(t,"focus",e[35]),be(t,"keydown",e[36])],u=!0)},p(p,g){p[7]?h?h.p(p,g):(h=Mu(p),h.c(),h.m(t,null)):h&&(h.d(1),h=null),g[0]&872415232&&i!==(i=p[28]+": "+p[29][p[66]]+"%; z-index: "+(p[26]===p[66]?3:2)+";")&&B(t,"style",i),g[0]&13&&a!==(a=p[2]===!0&&p[66]===1?p[0][0]:p[3])&&B(t,"aria-valuemin",a),g[0]&21&&o!==(o=p[2]===!0&&p[66]===0?p[0][1]:p[4])&&B(t,"aria-valuemax",o),g[0]&1&&s!==(s=p[64])&&B(t,"aria-valuenow",s),g[0]&11272193&&f!==(f=""+(p[18]+p[21](p[64],p[66],p[23](p[64]))+p[19]))&&B(t,"aria-valuetext",f),g[0]&64&&l!==(l=p[6]?"vertical":"horizontal")&&B(t,"aria-orientation",l),g[0]&1024&&B(t,"aria-disabled",p[10]),g[0]&1024&&B(t,"disabled",p[10]),g[0]&1024&&c!==(c=p[10]?-1:0)&&B(t,"tabindex",c),g[0]&83886080&&re(t,"active",p[24]&&p[26]===p[66]),g[0]&100663296&&re(t,"press",p[25]&&p[26]===p[66])},d(p){p&&D(t),h&&h.d(),u=!1,bn(d)}}}function Eu(e){let t,n;return{c(){t=W("span"),this.h()},l(r){t=Y(r,"SPAN",{class:!0,style:!0}),H(t).forEach(D),this.h()},h(){B(t,"class","rangeBar"),B(t,"style",n=e[28]+": "+e[32](e[29])+"%; "+e[27]+": "+e[33](e[29])+"%;")},m(r,i){J(r,t,i)},p(r,i){i[0]&939524096&&n!==(n=r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;")&&B(t,"style",n)},d(r){r&&D(t)}}}function xu(e){let t,n;return t=new q4({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[28],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[24],percentOf:e[23],moveHandle:e[31],fixFloat:e[30]}}),{c(){Ve(t.$$.fragment)},l(r){He(t.$$.fragment,r)},m(r,i){je(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&268435456&&(a.orientationStart=r[28]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&16777216&&(a.focus=r[24]),i[0]&8388608&&(a.percentOf=r[23]),t.$set(a)},i(r){n||(he(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function F4(e){let t,n,r,i,a,o,s=e[0],f=[];for(let u=0;u<s.length;u+=1)f[u]=ku(vu(e,s,u));let l=e[2]&&Eu(e),c=e[11]&&xu(e);return{c(){t=W("div");for(let u=0;u<f.length;u+=1)f[u].c();n=oe(),l&&l.c(),r=oe(),c&&c.c(),this.h()},l(u){t=Y(u,"DIV",{id:!0,class:!0});var d=H(t);for(let h=0;h<f.length;h+=1)f[h].l(d);n=se(d),l&&l.l(d),r=se(d),c&&c.l(d),d.forEach(D),this.h()},h(){B(t,"id",e[17]),B(t,"class","rangeSlider"),re(t,"range",e[2]),re(t,"disabled",e[10]),re(t,"hoverable",e[9]),re(t,"vertical",e[6]),re(t,"reversed",e[8]),re(t,"focus",e[24]),re(t,"min",e[2]==="min"),re(t,"max",e[2]==="max"),re(t,"pips",e[11]),re(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(u,d){J(u,t,d);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null);$(t,n),l&&l.m(t,null),$(t,r),c&&c.m(t,null),e[50](t),i=!0,a||(o=[be(window,"mousedown",e[39]),be(window,"touchstart",e[39]),be(window,"mousemove",e[40]),be(window,"touchmove",e[40]),be(window,"mouseup",e[41]),be(window,"touchend",e[42]),be(window,"keydown",e[43]),be(t,"mousedown",e[37]),be(t,"mouseup",e[38]),be(t,"touchstart",Zr(e[37])),be(t,"touchend",Zr(e[38]))],a=!0)},p(u,d){if(d[0]&934020317|d[1]&56){s=u[0];let h;for(h=0;h<s.length;h+=1){const p=vu(u,s,h);f[h]?f[h].p(p,d):(f[h]=ku(p),f[h].c(),f[h].m(t,n))}for(;h<f.length;h+=1)f[h].d(1);f.length=s.length}u[2]?l?l.p(u,d):(l=Eu(u),l.c(),l.m(t,r)):l&&(l.d(1),l=null),u[11]?c?(c.p(u,d),d[0]&2048&&he(c,1)):(c=xu(u),c.c(),he(c,1),c.m(t,null)):c&&(sg(),ge(c,1,1,()=>{c=null}),fg()),(!i||d[0]&131072)&&B(t,"id",u[17]),(!i||d[0]&4)&&re(t,"range",u[2]),(!i||d[0]&1024)&&re(t,"disabled",u[10]),(!i||d[0]&512)&&re(t,"hoverable",u[9]),(!i||d[0]&64)&&re(t,"vertical",u[6]),(!i||d[0]&256)&&re(t,"reversed",u[8]),(!i||d[0]&16777216)&&re(t,"focus",u[24]),(!i||d[0]&4)&&re(t,"min",u[2]==="min"),(!i||d[0]&4)&&re(t,"max",u[2]==="max"),(!i||d[0]&2048)&&re(t,"pips",u[11]),(!i||d[0]&122880)&&re(t,"pip-labels",u[13]==="label"||u[14]==="label"||u[15]==="label"||u[16]==="label")},i(u){i||(he(c),i=!0)},o(u){ge(c),i=!1},d(u){u&&D(t),Ca(f,u),l&&l.d(),c&&c.d(),e[50](null),a=!1,bn(o)}}}function Au(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Vo(e){return e.type.includes("touch")?e.touches[0]:e}function U4(e,t,n){let r,i,a,o,s,f,l=ke,c=()=>(l(),l=$u(O,C=>n(29,f=C)),O);e.$$.on_destroy.push(()=>l());let{slider:u=void 0}=t,{range:d=!1}=t,{pushy:h=!1}=t,{min:p=0}=t,{max:g=100}=t,{step:_=1}=t,{values:m=[(g+p)/2]}=t,{vertical:y=!1}=t,{float:v=!1}=t,{reversed:b=!1}=t,{hoverable:w=!0}=t,{disabled:T=!1}=t,{pips:M=!1}=t,{pipstep:P=void 0}=t,{all:L=void 0}=t,{first:x=void 0}=t,{last:k=void 0}=t,{rest:R=void 0}=t,{id:E=void 0}=t,{prefix:N=""}=t,{suffix:S=""}=t,{formatter:A=(C,Q,ve)=>C}=t,{handleFormatter:z=A}=t,{precision:G=2}=t,{springValues:X={stiffness:.15,damping:.4}}=t;const V=lg();let K=0,ee=!1,de=!1,me=!1,F=!1,pe=m.length-1,Be,Ne,O;const U=C=>parseFloat(C.toFixed(G));function Z(C){const Q=u.querySelectorAll(".handle"),ve=Array.prototype.includes.call(Q,C),Me=Array.prototype.some.call(Q,rn=>rn.contains(C));return ve||Me}function q(C){return d==="min"||d==="max"?C.slice(0,1):d?C.slice(0,2):C}function ye(){return u.getBoundingClientRect()}function te(C){const Q=ye();let ve=0,Me=0,rn=0;y?(ve=C.clientY-Q.top,Me=ve/Q.height*100,Me=b?Me:100-Me):(ve=C.clientX-Q.left,Me=ve/Q.width*100,Me=b?100-Me:Me),rn=(g-p)/100*Me+p;let Zf;return d===!0&&m[0]===m[1]?rn>m[1]?1:0:(Zf=m.indexOf([...m].sort((ig,ag)=>Math.abs(rn-ig)-Math.abs(rn-ag))[0]),Zf)}function we(C){const Q=ye();let ve=0,Me=0,rn=0;y?(ve=C.clientY-Q.top,Me=ve/Q.height*100,Me=b?Me:100-Me):(ve=C.clientX-Q.left,Me=ve/Q.width*100,Me=b?100-Me:Me),rn=(g-p)/100*Me+p,ne(pe,rn)}function ne(C,Q){return Q=a(Q),typeof C>"u"&&(C=pe),d&&(C===0&&Q>m[1]?h?n(0,m[1]=Q,m):Q=m[1]:C===1&&Q<m[0]&&(h?n(0,m[0]=Q,m):Q=m[0])),m[C]!==Q&&n(0,m[C]=Q,m),Ne!==Q&&(_t(),Ne=Q),Q}function I(C){return d==="min"?0:C[0]}function j(C){return d==="max"?0:d==="min"?100-C[0]:100-C[1]}function ft(C){F&&(n(24,ee=!1),de=!1,n(25,me=!1))}function nt(C){T||(n(26,pe=Au(C.target)),n(24,ee=!0))}function qe(C){if(!T){const Q=Au(C.target);let ve=C.ctrlKey||C.metaKey||C.shiftKey?_*10:_,Me=!1;switch(C.key){case"PageDown":ve*=10;case"ArrowRight":case"ArrowUp":ne(Q,m[Q]+ve),Me=!0;break;case"PageUp":ve*=10;case"ArrowLeft":case"ArrowDown":ne(Q,m[Q]-ve),Me=!0;break;case"Home":ne(Q,p),Me=!0;break;case"End":ne(Q,g),Me=!0;break}Me&&(C.preventDefault(),C.stopPropagation())}}function $e(C){if(!T){const Q=C.target,ve=Vo(C);n(24,ee=!0),de=!0,n(25,me=!0),n(26,pe=te(ve)),Be=Ne=a(m[pe]),Ye(),C.type==="touchstart"&&!Q.matches(".pipVal")&&we(ve)}}function at(C){C.type==="touchend"&&ot(),n(25,me=!1)}function mt(C){F=!1,ee&&C.target!==u&&!u.contains(C.target)&&n(24,ee=!1)}function bt(C){T||de&&we(Vo(C))}function At(C){if(!T){const Q=C.target;de&&((Q===u||u.contains(Q))&&(n(24,ee=!0),!Z(Q)&&!Q.matches(".pipVal")&&we(Vo(C))),ot())}de=!1,n(25,me=!1)}function lt(C){de=!1,n(25,me=!1)}function Ae(C){T||(C.target===u||u.contains(C.target))&&(F=!0)}function Ye(){!T&&V("start",{activeHandle:pe,value:Be,values:m.map(C=>a(C))})}function ot(){!T&&V("stop",{activeHandle:pe,startValue:Be,value:m[pe],values:m.map(C=>a(C))})}function _t(){!T&&V("change",{activeHandle:pe,startValue:Be,previousValue:typeof Ne>"u"?Be:Ne,value:m[pe],values:m.map(C=>a(C))})}function On(C){Le[C?"unshift":"push"](()=>{u=C,n(1,u)})}return e.$$set=C=>{"slider"in C&&n(1,u=C.slider),"range"in C&&n(2,d=C.range),"pushy"in C&&n(44,h=C.pushy),"min"in C&&n(3,p=C.min),"max"in C&&n(4,g=C.max),"step"in C&&n(5,_=C.step),"values"in C&&n(0,m=C.values),"vertical"in C&&n(6,y=C.vertical),"float"in C&&n(7,v=C.float),"reversed"in C&&n(8,b=C.reversed),"hoverable"in C&&n(9,w=C.hoverable),"disabled"in C&&n(10,T=C.disabled),"pips"in C&&n(11,M=C.pips),"pipstep"in C&&n(12,P=C.pipstep),"all"in C&&n(13,L=C.all),"first"in C&&n(14,x=C.first),"last"in C&&n(15,k=C.last),"rest"in C&&n(16,R=C.rest),"id"in C&&n(17,E=C.id),"prefix"in C&&n(18,N=C.prefix),"suffix"in C&&n(19,S=C.suffix),"formatter"in C&&n(20,A=C.formatter),"handleFormatter"in C&&n(21,z=C.handleFormatter),"precision"in C&&n(45,G=C.precision),"springValues"in C&&n(46,X=C.springValues)},e.$$.update=()=>{e.$$.dirty[0]&24&&n(49,i=function(C){return C<=p?p:C>=g?g:C}),e.$$.dirty[0]&56|e.$$.dirty[1]&262144&&n(48,a=function(C){if(C<=p)return U(p);if(C>=g)return U(g);let Q=(C-p)%_,ve=C-Q;return Math.abs(Q)*2>=_&&(ve+=Q>0?_:-_),ve=i(ve),U(ve)}),e.$$.dirty[0]&24&&n(23,r=function(C){let Q=(C-p)/(g-p)*100;return isNaN(Q)||Q<=0?0:Q>=100?100:U(Q)}),e.$$.dirty[0]&12582937|e.$$.dirty[1]&229376&&(Array.isArray(m)||(n(0,m=[(g+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,m=q(m.map(C=>a(C)))),K!==m.length?c(n(22,O=P4(m.map(C=>r(C)),X))):O.set(m.map(C=>r(C))),n(47,K=m.length)),e.$$.dirty[0]&320&&n(28,o=y?b?"top":"bottom":b?"right":"left"),e.$$.dirty[0]&320&&n(27,s=y?b?"bottom":"top":b?"left":"right")},[m,u,d,p,g,_,y,v,b,w,T,M,P,L,x,k,R,E,N,S,A,z,O,r,ee,me,pe,s,o,f,U,ne,I,j,ft,nt,qe,$e,at,mt,bt,At,lt,Ae,h,G,X,K,a,i,On]}class $4 extends ht{constructor(t){super(),pt(this,t,U4,F4,gt,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function z4(e){let t,n;return{c(){t=W("p"),n=Ee(e[4])},l(r){t=Y(r,"P",{});var i=H(t);n=xe(i,e[4]),i.forEach(D)},m(r,i){J(r,t,i),$(t,n)},p:ke,d(r){r&&D(t)}}}function V4(e){let t,n,r,i,a,o=e[4]&&z4(e);function s(l){e[15](l)}let f={min:e[2],max:e[3],pips:!0,range:!0,float:!0,first:"label",last:"label",disabled:e[1]==null,id:"slider"};return e[0]!==void 0&&(f.values=e[0]),r=new $4({props:f}),Le.push(()=>cg(r,"values",s)),r.$on("stop",e[10]),{c(){t=W("div"),o&&o.c(),n=oe(),Ve(r.$$.fragment),this.h()},l(l){t=Y(l,"DIV",{class:!0,id:!0});var c=H(t);o&&o.l(c),n=se(c),He(r.$$.fragment,c),c.forEach(D),this.h()},h(){B(t,"class","px-[1%] py-[1%] ml-[2.1%]"),B(t,"id","slider")},m(l,c){J(l,t,c),o&&o.m(t,null),$(t,n),je(r,t,null),a=!0},p(l,[c]){l[4]&&o.p(l,c);const u={};c&2&&(u.disabled=l[1]==null),!i&&c&1&&(i=!0,u.values=l[0],ug(()=>i=!1)),r.$set(u)},i(l){a||(he(r.$$.fragment,l),a=!0)},o(l){ge(r.$$.fragment,l),a=!1},d(l){l&&D(t),o&&o.d(),We(r)}}}function H4(e,t,n){let r,i,a,o,s,{spec:f}=t,{min:l,max:c,id:u,description:d,widget_id:h}=f,p=Se("dims");Pe(e,p,k=>n(19,o=k));let g=Se("widget_params");Pe(e,g,k=>n(14,r=k));let _=Se("dropdown_index");Pe(e,_,k=>n(17,i=k));let m=Se("unsaved_changes");Pe(e,m,k=>n(18,a=k));let y=Se("user");Pe(e,y,k=>n(1,s=k)),o.margin;let v=[l,c],b=[...v],w=[];function T(){i!=null&&r!=null&&r.length!=0&&(console.log("args for widget for slider",r[i]),console.log("widget for slider",r[i][h]),n(0,v=[Number(r[i][h].start),Number(r[i][h].end)]),console.log("render for slider values are",v),L())}function M(k){console.log("addsource",k),w.push(k)}function P(){Je(m,a=!0,a),L()}function L(){if(console.log("onStop",v,b,hr(v,b)),!hr(v,b)){console.log("!!!!!!!!",v);let k={};k[u]={left:v[0],right:v[1]},Je(g,r[i][h]={start:v[0],end:v[1]},r),console.log("slider.onstop",w),w.forEach(R=>{console.log("slider.trigger",R,k,u),R.trigger(k,u)})}b=[...v]}function x(k){v=k,n(0,v)}return e.$$set=k=>{"spec"in k&&n(11,f=k.spec)},e.$$.update=()=>{e.$$.dirty&16384&&T()},[v,s,l,c,d,p,g,_,m,y,P,f,T,M,r,x]}class Yf extends ht{constructor(t){super(),pt(this,t,H4,V4,gt,{spec:11,render:12,addSourceIact:13})}get render(){return this.$$.ctx[12]}get addSourceIact(){return this.$$.ctx[13]}}function j4(e,t={}){if(!e||e.length===0)return[];let n=Bn(e[0]),r=t.include?t.include:n;r=rl(t.include||n,t.exclude||[]);let i=rl(n,r);return console.log(r,i),nh(a=>r.map(o=>{let s=Ng(i,a);return s[t.key||"key"]=o,s[t.value||"value"]=a[o],s}),e)}function W4(e){let t,n,r,i,a,o,s,f;return{c(){t=W("div"),n=oe(),r=W("div"),i=W("div"),a=oe(),o=Yr("svg"),this.h()},l(l){t=Y(l,"DIV",{}),H(t).forEach(D),n=se(l),r=Y(l,"DIV",{id:!0});var c=H(r);i=Y(c,"DIV",{}),H(i).forEach(D),a=se(c),o=Gr(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=H(o);u.forEach(D),c.forEach(D),this.h()},h(){B(o,"class",""),B(o,"viewBox","0 0 800 0"),B(o,"width","100%"),B(o,"height","0"),B(r,"id",e[0])},m(l,c){J(l,t,c),J(l,n,c),J(l,r,c),$(r,i),e[14](i),$(r,a),$(r,o),e[15](o),e[16](r),s||(f=Aa(za.call(null,t,G4)),s=!0)},p(l,[c]){c&1&&B(r,"id",l[0])},i:ke,o:ke,d(l){l&&D(t),l&&D(n),l&&D(r),e[14](null),e[15](null),e[16](null),s=!1,f()}}}let Y4=400;function G4(){}function Z4(e,t,n){let r,{name:i,groupNames:a=[],title:o="",xAttr:s,yAttr:f="val",yMax:l,xDomainMin:c=null,xDomainMax:u=null}=t,{theplot:d=null}=t,h=null,p=null,g=Se("dims");Pe(e,g,M=>n(20,r=M));let _=[],m=[{year:1994,rank:1},{year:2003,rank:2}],y;function v(M,P){console.log("OBPlot",M,P,y.getBoundingClientRect()),P=="overlay"||(P=="bad_year_q"?(M&&M.forEach((A,z)=>{A.rank=z+1,A[s]=Number(A[s])}),m=M??m):M&&(_=j4(M,{include:a}),_.forEach(A=>A[s]=Number(A[s]))));let L=r.margin,x=y.getBoundingClientRect().width,k=Y4-L.top-L.bottom;n(5,c=+c),n(6,u=+u);let R=Bs({x:{type:"linear",domain:[c-1,u]}}),E=A=>(m.length-A.rank)*(.3/m.length)+.7,N={x:R,color:{domain:a,range:Wa,legend:!0,style:{"font-size":"15pt","margin-left":"2em"}},width:x,height:k,marginBottom:50,marks:[Ar({ticks:Dg(A=>A+c,u-c),tickRotate:-45,fontSize:"12pt",tickFormat:A=>(A+"").slice(-2)}),wi({fontSize:"12pt",label:"Payout"}),Hf([0]),Vf([R.domain[0]]),Us(m,{x1:A=>A[s]-.5,x2:A=>A[s]+.5,y:E,stroke:"black",opacity:.8,strokeWidth:1}),A4(m,{x1:A=>A[s]-.5,x2:A=>A[s]+.5,y1:0,y2:E,fill:"gray",opacity:.1})]};a.forEach((A,z)=>{let G=(1+z)/a.length*.7;N.marks.push(Us(_,{filter:X=>X.key==A&&X[s]>=c&&X[s]<=u,x:X=>+X[s]+G-.35,y1:0,y2:f,stroke:"key",strokeWidth:4}))}),console.log("OBPlot options",N),n(7,d=vi(N)),d.children[1].setAttribute("width","100%"),console.log("OBPlot",d),n(2,p.innerHTML="",p),p.appendChild(d)}function b(M){Le[M?"unshift":"push"](()=>{p=M,n(2,p)})}function w(M){Le[M?"unshift":"push"](()=>{y=M,n(3,y)})}function T(M){Le[M?"unshift":"push"](()=>{h=M,n(1,h)})}return e.$$set=M=>{"name"in M&&n(0,i=M.name),"groupNames"in M&&n(8,a=M.groupNames),"title"in M&&n(9,o=M.title),"xAttr"in M&&n(10,s=M.xAttr),"yAttr"in M&&n(11,f=M.yAttr),"yMax"in M&&n(12,l=M.yMax),"xDomainMin"in M&&n(5,c=M.xDomainMin),"xDomainMax"in M&&n(6,u=M.xDomainMax),"theplot"in M&&n(7,d=M.theplot)},[i,h,p,y,g,c,u,d,a,o,s,f,l,v,b,w,T]}class X4 extends ht{constructor(t){super(),pt(this,t,Z4,W4,gt,{name:0,groupNames:8,title:9,xAttr:10,yAttr:11,yMax:12,xDomainMin:5,xDomainMax:6,theplot:7,render:13})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),Oe()}get groupNames(){return this.$$.ctx[8]}set groupNames(t){this.$$set({groupNames:t}),Oe()}get title(){return this.$$.ctx[9]}set title(t){this.$$set({title:t}),Oe()}get xAttr(){return this.$$.ctx[10]}set xAttr(t){this.$$set({xAttr:t}),Oe()}get yAttr(){return this.$$.ctx[11]}set yAttr(t){this.$$set({yAttr:t}),Oe()}get yMax(){return this.$$.ctx[12]}set yMax(t){this.$$set({yMax:t}),Oe()}get xDomainMin(){return this.$$.ctx[5]}set xDomainMin(t){this.$$set({xDomainMin:t}),Oe()}get xDomainMax(){return this.$$.ctx[6]}set xDomainMax(t){this.$$set({xDomainMax:t}),Oe()}get theplot(){return this.$$.ctx[7]}set theplot(t){this.$$set({theplot:t}),Oe()}get render(){return this.$$.ctx[13]}}function J4(e){let t,n,r,i,a,o,s,f,l;return{c(){t=W("div"),n=oe(),r=W("div"),i=W("div"),a=oe(),o=Yr("svg"),s=Yr("g"),this.h()},l(c){t=Y(c,"DIV",{}),H(t).forEach(D),n=se(c),r=Y(c,"DIV",{id:!0});var u=H(r);i=Y(u,"DIV",{}),H(i).forEach(D),a=se(u),o=Gr(u,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var d=H(o);s=Gr(d,"g",{}),H(s).forEach(D),d.forEach(D),u.forEach(D),this.h()},h(){B(o,"class",""),B(o,"viewBox","0 0 800 0"),B(o,"width","100%"),B(o,"height","0"),B(r,"id",e[0])},m(c,u){J(c,t,u),J(c,n,u),J(c,r,u),$(r,i),e[8](i),$(r,a),$(r,o),$(o,s),e[9](s),e[10](r),f||(l=Aa(za.call(null,t,K4)),f=!0)},p(c,[u]){u&1&&B(r,"id",c[0])},i:ke,o:ke,d(c){c&&D(t),c&&D(n),c&&D(r),e[8](null),e[9](null),e[10](null),f=!1,l()}}}let Cu=800,Q4=200;function K4(){}function e8(e,t,n){let{name:r,xDomainMin:i,xDomainMax:a,timeDomainMode:o}=t,s,f,l={},c=[],u;function d(_,m){if(console.log("data into crop calendar is:",_),m=="overlay")l=_??l;else{if(!_||_.length===0)return;c=_}Cu-ir.left-ir.right;let y=Math.max(Q4,X2(ta("crop",c)).length*100+50),v={x:{domain:[+i,+a],type:"linear"},y:{axis:null},width:Cu,height:y,marginBottom:50,fy:{label:null,tickRotate:-90,labelAnchor:"center"},marks:[Ar({ticks:36,fontSize:12}),$p(),Us(c,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),so(c,{x:T=>{let M=(T.end_time-T.start_time)/2+T.start_time;return console.log("yy",T,M),M},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:11,color:"gray",text:"activity"})]};Bn(l).length>0&&(v.color={domain:ta("key",l),range:Wa,legend:!0,style:{"font-size":"15pt","margin-left":"2em"}},v.marks.push(Jp(l,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})));let b=vi(v);b.children[1].setAttribute("width","100%"),n(2,f.innerHTML="",f),f.appendChild(b)}function h(_){Le[_?"unshift":"push"](()=>{f=_,n(2,f)})}function p(_){Le[_?"unshift":"push"](()=>{u=_,n(3,u)})}function g(_){Le[_?"unshift":"push"](()=>{s=_,n(1,s)})}return e.$$set=_=>{"name"in _&&n(0,r=_.name),"xDomainMin"in _&&n(4,i=_.xDomainMin),"xDomainMax"in _&&n(5,a=_.xDomainMax),"timeDomainMode"in _&&n(6,o=_.timeDomainMode)},[r,s,f,u,i,a,o,d,h,p,g]}class t8 extends ht{constructor(t){super(),pt(this,t,e8,J4,gt,{name:0,xDomainMin:4,xDomainMax:5,timeDomainMode:6,render:7})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),Oe()}get xDomainMin(){return this.$$.ctx[4]}set xDomainMin(t){this.$$set({xDomainMin:t}),Oe()}get xDomainMax(){return this.$$.ctx[5]}set xDomainMax(t){this.$$set({xDomainMax:t}),Oe()}get timeDomainMode(){return this.$$.ctx[6]}set timeDomainMode(t){this.$$set({timeDomainMode:t}),Oe()}get render(){return this.$$.ctx[7]}}function n8(e){let t,n,r,i,a,o,s,f;return{c(){t=W("div"),n=oe(),r=W("div"),i=W("div"),a=oe(),o=Yr("svg"),this.h()},l(l){t=Y(l,"DIV",{}),H(t).forEach(D),n=se(l),r=Y(l,"DIV",{id:!0});var c=H(r);i=Y(c,"DIV",{}),H(i).forEach(D),a=se(c),o=Gr(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=H(o);u.forEach(D),c.forEach(D),this.h()},h(){B(o,"class",""),B(o,"viewBox","0 0 800 0"),B(o,"width","100%"),B(o,"height","0"),B(r,"id",e[0])},m(l,c){J(l,t,c),J(l,n,c),J(l,r,c),$(r,i),e[5](i),$(r,a),$(r,o),e[6](r),s||(f=Aa(za.call(null,t,r8)),s=!0)},p(l,[c]){c&1&&B(r,"id",l[0])},i:ke,o:ke,d(l){l&&D(t),l&&D(n),l&&D(r),e[5](null),e[6](null),s=!1,f()}}}let Nu=800,Du=300;function r8(){}function i8(e,t,n){let{name:r}=t,i,a;Se("dims");let o=[];function s(c,u){if(console.log("MatchingTable data",c),n(4,o=c??o),!o||o.length==0)return;Nu-ir.left-ir.right,Du-ir.top-ir.bottom;let d=Bs({color:{type:"linear",scheme:"Greens",legend:!0,style:{"font-size":15,"margin-left":150}}}),h=Bs({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=o.map(y=>h.apply(Qi(d.apply(+y.value)).l)),g={padding:0,width:Nu,height:Du,marginLeft:150,color:d,marks:[Ar({fontSize:15,label:null}),wi({fontSize:15,label:null}),M4(o,{x:"x",y:"y",fill:y=>+y.value,stroke:"white"}),so(o,{x:"x",y:"y",text:y=>y.value,fill:p,fontSize:"12pt",fontWeight:"bold",textAnchor:"middle"})]},_=vi(g);_.children[1].setAttribute("width","100%"),n(2,a.innerHTML="",a),a.appendChild(_)}function f(c){Le[c?"unshift":"push"](()=>{a=c,n(2,a)})}function l(c){Le[c?"unshift":"push"](()=>{i=c,n(1,i)})}return e.$$set=c=>{"name"in c&&n(0,r=c.name)},e.$$.update=()=>{e.$$.dirty&16&&s(o)},[r,i,a,s,o,f,l]}class a8 extends ht{constructor(t){super(),pt(this,t,i8,n8,gt,{name:0,render:3})}get render(){return this.$$.ctx[3]}}function Iu(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function Lu(e){var i;let t,n=((i=e[18].village)==null?void 0:i.replace(/_/g," "))+"",r;return{c(){t=W("option"),r=Ee(n),this.h()},l(a){t=Y(a,"OPTION",{});var o=H(t);r=xe(o,n),o.forEach(D),this.h()},h(){t.__value=e[20],t.value=t.__value},m(a,o){J(a,t,o),$(t,r)},p(a,o){var s;o&1&&n!==(n=((s=a[18].village)==null?void 0:s.replace(/_/g," "))+"")&&Qe(r,n)},d(a){a&&D(t)}}}function o8(e){let t,n,r,i,a=e[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=Lu(Iu(e,a,s));return{c(){t=W("div"),n=W("select");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0,id:!0});var f=H(t);n=Y(f,"SELECT",{class:!0});var l=H(n);for(let c=0;c<o.length;c+=1)o[c].l(l);l.forEach(D),f.forEach(D),this.h()},h(){B(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&Hs(()=>e[9].call(n)),B(t,"class","px-[1%] py-[1%] ml-[5.9%]"),B(t,"id","dropdown")},m(s,f){J(s,t,f),$(t,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(n,null);zi(n,e[1],!0),r||(i=[be(n,"change",e[9]),be(n,"change",e[4])],r=!0)},p(s,[f]){if(f&1){a=s[0];let l;for(l=0;l<a.length;l+=1){const c=Iu(s,a,l);o[l]?o[l].p(c,f):(o[l]=Lu(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}f&2&&zi(n,s[1])},i:ke,o:ke,d(s){s&&D(t),Ca(o,s),r=!1,bn(i)}}}function s8(e,t,n){let r,i,{spec:a}=t,o=Se("dims");Pe(e,o,v=>n(11,i=v)),Se("widget_params");let s=Se("dropdown_index");Pe(e,s,v=>n(8,r=v));let f=[],l=null,c=null,{id:u,index:d,widget_id:h}=a,p=[];i.margin;function g(v,b){console.log("whats in dropdown",v),n(0,p=v??p),n(1,c=r??c),console.log("at end of render",p,c)}function _(v){console.log("addsource",v),f.push(v)}function m(){if(console.log("onStop for regular dropdown",p,l,hr(c,l)),console.log("onStop for regular dropdown and new selection ",c,l),console.log("onStop for regular dropdown new selection value ",p[c]),!hr(c,l)){let v={};Je(s,r=c,r),v[u]={value:p[c].gid},console.log("dropdown.onstop",f),f.forEach(b=>{console.log("dropdown.trigger",v,u),b.trigger(v,u)})}l=c}function y(){c=zu(this),n(1,c)}return e.$$set=v=>{"spec"in v&&n(5,a=v.spec)},e.$$.update=()=>{e.$$.dirty&257&&g(p)},[p,c,o,s,m,a,g,_,r,y]}class f8 extends ht{constructor(t){super(),pt(this,t,s8,o8,gt,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}function Ou(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Pu(e){let t=console.log("in matching dropdown, row is",e[19],e[21])+"",n,r,i=Object.values(e[19])[1]+"",a,o;return{c(){n=Ee(t),r=W("option"),a=Ee(i),this.h()},l(s){n=xe(s,t),r=Y(s,"OPTION",{});var f=H(r);a=xe(f,i),f.forEach(D),this.h()},h(){r.__value=o=Object.values(e[19])[0],r.value=r.__value},m(s,f){J(s,n,f),J(s,r,f),$(r,a)},p(s,f){f&1&&t!==(t=console.log("in matching dropdown, row is",s[19],s[21])+"")&&Qe(n,t),f&1&&i!==(i=Object.values(s[19])[1]+"")&&Qe(a,i),f&1&&o!==(o=Object.values(s[19])[0])&&(r.__value=o,r.value=r.__value)},d(s){s&&D(n),s&&D(r)}}}function l8(e){let t,n,r,i,a=e[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=Pu(Ou(e,a,s));return{c(){t=W("div"),n=W("select");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0,id:!0});var f=H(t);n=Y(f,"SELECT",{class:!0});var l=H(n);for(let c=0;c<o.length;c+=1)o[c].l(l);l.forEach(D),f.forEach(D),this.h()},h(){B(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&Hs(()=>e[10].call(n)),B(t,"class","px-[1%] py-[1%] ml-[5.9%]"),B(t,"id","dropdown")},m(s,f){J(s,t,f),$(t,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(n,null);zi(n,e[1],!0),r||(i=[be(n,"change",e[10]),be(n,"change",e[4])],r=!0)},p(s,[f]){if(f&1){a=s[0];let l;for(l=0;l<a.length;l+=1){const c=Ou(s,a,l);o[l]?o[l].p(c,f):(o[l]=Pu(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}f&3&&zi(n,s[1])},i:ke,o:ke,d(s){s&&D(t),Ca(o,s),r=!1,bn(i)}}}function c8(e,t,n){let r,i,{spec:a}=t,o=Se("dims");Pe(e,o,b=>n(12,i=b)),Se("widget_params");let s=Se("dropdown_index");Pe(e,s,b=>n(9,r=b));let f=[],l=null,c=null,u=null,{id:d,index:h,widget_id:p}=a,g=[];i.margin;function _(b,w){console.log("whats in dropdown matching",b),n(0,g=b??g),n(1,c=c??0),n(8,u=r),console.log("at end of render for dropdown matching",g,c)}function m(b){console.log("addsource",b),f.push(b)}function y(){if(console.log("onStop for matching",g,l,hr(c,l)),!hr(c,l)){let b={};console.log("dropdownMatching value for index is",c),console.log("dropdownMatching.onstop value to pass",g,c,Object.values(g[c])[1],typeof c),b[d]={value:Object.values(g[c])[1]},console.log("dropdownMatching.onstop",f),f.forEach(w=>{console.log("dropdownMatching.trigger",b,d),w.trigger(b,d)})}l=c}function v(){c=zu(this),n(1,c),n(9,r),n(8,u),n(0,g),n(0,g)}return e.$$set=b=>{"spec"in b&&n(5,a=b.spec)},e.$$.update=()=>{e.$$.dirty&769&&(console.log("render triggered with drop_down index of...",r,u),r-u!=0&&(n(1,c=0),y()),_(g))},[g,c,o,s,y,a,_,m,u,r,v]}class u8 extends ht{constructor(t){super(),pt(this,t,c8,l8,gt,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}const Ru="0.6.0";var ka=m8,Ea=y8,Gt=[],Dt=[],d8=typeof Uint8Array<"u"?Uint8Array:Array,Ho="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var er=0,h8=Ho.length;er<h8;++er)Gt[er]=Ho[er],Dt[Ho.charCodeAt(er)]=er;Dt["-".charCodeAt(0)]=62;Dt["_".charCodeAt(0)]=63;function p8(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function g8(e,t,n){return(t+n)*3/4-n}function m8(e){var t,n=p8(e),r=n[0],i=n[1],a=new d8(g8(e,r,i)),o=0,s=i>0?r-4:r,f;for(f=0;f<s;f+=4)t=Dt[e.charCodeAt(f)]<<18|Dt[e.charCodeAt(f+1)]<<12|Dt[e.charCodeAt(f+2)]<<6|Dt[e.charCodeAt(f+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=Dt[e.charCodeAt(f)]<<2|Dt[e.charCodeAt(f+1)]>>4,a[o++]=t&255),i===1&&(t=Dt[e.charCodeAt(f)]<<10|Dt[e.charCodeAt(f+1)]<<4|Dt[e.charCodeAt(f+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function b8(e){return Gt[e>>18&63]+Gt[e>>12&63]+Gt[e>>6&63]+Gt[e&63]}function _8(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(b8(r));return i.join("")}function y8(e){for(var t,n=e.length,r=n%3,i=[],a=16383,o=0,s=n-r;o<s;o+=a)i.push(_8(e,o,o+a>s?s:o+a));return r===1?(t=e[n-1],i.push(Gt[t>>2]+Gt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Gt[t>>10]+Gt[t>>4&63]+Gt[t<<2&63]+"=")),i.join("")}const Qp=!0,Mr=BigInt("-9223372036854775808"),Gf=BigInt("9223372036854775807"),zs=BigInt("0"),w8=BigInt("8"),v8=BigInt("256");class fi{constructor(t,n){this.tableName=t,this.id=n}equals(t){return t instanceof fi?this.tableName===t.tableName&&this.id===t.id:!1}static fromJSON(t){if(typeof t.$id!="string")throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: $id isn't a string.`);const n=t.$id.split("|");if(n.length!==2)throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: Wrong number of parts.`);return new fi(n[0],n[1])}toJSON(){return{$id:`${this.tableName}|${this.id}`}}toString(){return this.id}inspect(){return`Id('${this.tableName}', '${this.id}')`}}function Kp(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function M8(e){e<zs&&(e-=Mr+Mr);let t=e.toString(16);t.length%2==1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=w8;return Ea(n)}function S8(e){const t=ka(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=zs,r=zs;for(const i of t)n+=BigInt(i)*v8**r,r++;return n>Gf&&(n+=Mr+Mr),n}function T8(e){if(e<Mr||Gf<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Ea(new Uint8Array(t))}function k8(e){const t=ka(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const E8=DataView.prototype.setBigInt64?T8:M8,x8=DataView.prototype.getBigInt64?k8:S8,Bu=64,A8=/^_+$/,C8=/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/;function eg(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>Bu)throw new Error(`Field name ${e} exceeds maximum field name length ${Bu}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);if(A8.test(e))throw new Error(`Field name ${e} can't exclusively be underscores.`);if(!C8.test(e))throw new Error(`Field name ${e} must only contain alphanumeric characters or underscores and can't start with a number.`)}function nr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(e instanceof Array)return e.map(nr);if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$id"||r==="$weakRef"||r==="$strongRef")return fi.fromJSON(e);if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return ka(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return x8(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=ka(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const o=new DataView(i.buffer).getFloat64(0,Qp);if(!Kp(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(r==="$set"){if(!(e.$set instanceof Array))throw new Error(`Malformed $set field on ${e}`);return new Set(e.$set.map(nr))}if(r==="$map"){if(!(e.$map instanceof Array))throw new Error(`Malformed $map field on ${e}`);const i=new Map;for(const a of e.$map){if(!(a instanceof Array)||a.length!==2)throw new Error(`Malformed pair in $map ${e}`);const o=nr(a[0]),s=nr(a[1]);i.set(o,s)}return i}}const n={};for(const[r,i]of Object.entries(e))eg(r),n[r]=nr(i);return n}function jo(e){return nr(e)}function Wo(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":n)}function rr(e,t,n){if(e===void 0)throw new Error(`undefined is not a valid Convex value (present at path ${n} in original object ${Wo(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);if(e===null)return e;if(e instanceof fi)return e.toJSON();if(typeof e=="bigint"){if(e<Mr||Gf<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:E8(e)}}if(typeof e=="number")if(Kp(e)){const a=new ArrayBuffer(8);return new DataView(a).setFloat64(0,e,Qp),{$float:Ea(new Uint8Array(a))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Ea(new Uint8Array(e))};if(e instanceof Array)return e.map((a,o)=>rr(a,t,n+`[${o}]`));if(e instanceof Set)return{$set:[...e].map((a,o)=>rr(a,t,n+`.keys()[${o}]`))};if(e instanceof Map)return{$map:[...e].map(([a,o],s)=>{const f=rr(a,t,n+`.keys()[${s}]`),l=rr(o,t,n+`.values()[${s}]`);return[f,l]})};if(typeof e!="object")throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${Wo(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const r=Object.getPrototypeOf(e);if(r!==null&&r!==Object.prototype)throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${Wo(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const i={};for(const[a,o]of Object.entries(e))eg(a),i[a]=rr(o,t,n+`.${a}`);return i}function Yo(e){return rr(e,e,"")}const N8="color:rgb(0, 145, 255)";function tg(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A"}}function Go(e,t,n,r){const i=tg(t);e=="info"?console.log(`%c[CONVEX ${i}(${n})] ${r}`,N8):console.error(`[CONVEX ${i}(${n})] ${r}`)}function qu(e,t,n){const r=tg(e);return new Error(`[CONVEX ${r}(${t})] ${n}`)}const Zo=560,D8=typeof window<"u"&&typeof window.fetch<"u",Xo=D8?window.fetch:(...e)=>Yg(()=>import("../chunks/index.1ed59e3a.js"),["../chunks/index.1ed59e3a.js","../chunks/model_out.68c07326.js","../chunks/index.2e68a764.js","../chunks/index.80c86aec.js","../assets/model_out.77177747.css"],import.meta.url).then(({default:t})=>t(...e));class I8{constructor(t){this.address=`${t.address}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.auth=t}clearAuth(){this.auth=void 0}setDebug(t){this.debug=t}query(t){return async(...n)=>{const r=JSON.stringify(Yo(n)),i=encodeURIComponent(r),a=`${this.address}/${Ru}/udf?path=${t}&args=${i}`,o=this.auth?{Authorization:`Bearer ${this.auth}`}:{},s=await Xo(a,{credentials:"include",headers:o});if(!s.ok&&s.status!=Zo)throw new Error(await s.text());const f=await s.json(),l=jo(f.value);for(const c of f.logs)Go("info","query",t,c);if(!f.success)throw qu("query",t,l);return l}}mutation(t){return async(...n)=>{const r=JSON.stringify({path:t,args:Yo(n),tokens:[]}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await Xo(`${this.address}/${Ru}/udf`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=Zo)throw new Error(await a.text());const o=await a.json(),s=jo(o.value);for(const f of o.logs)Go("info","mutation",t,f);if(!o.success)throw qu("mutation",t,s);return s}}action(t){return async(...n)=>{const r=JSON.stringify({path:t,args:Yo(n),debug:this.debug}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await Xo(`${this.address}/action`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=Zo)throw new Error(await a.text());const o=await a.json();for(const s of o.logLines??[])Go("info","action",t,s);switch(o.status){case"success":return jo(o.value),o.value;case"error":throw new Error(o.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(o)}`)}}}}function L8(e){let t,n,r,i,a,o,s,f,l,c,u,d,h,p=e[2]?"(unsaved changes)":"",g,_,m;return{c(){t=W("label"),n=Ee("Logged in as "),r=Ee(e[4]),i=oe(),a=W("button"),o=Ee("Save"),s=oe(),f=W("button"),l=W("a"),c=Ee("Download"),u=oe(),d=W("button"),h=Ee("Logout "),g=Ee(p),this.h()},l(y){t=Y(y,"LABEL",{for:!0,class:!0});var v=H(t);n=xe(v,"Logged in as "),r=xe(v,e[4]),v.forEach(D),i=se(y),a=Y(y,"BUTTON",{class:!0,label:!0});var b=H(a);o=xe(b,"Save"),b.forEach(D),s=se(y),f=Y(y,"BUTTON",{class:!0});var w=H(f);l=Y(w,"A",{href:!0,download:!0});var T=H(l);c=xe(T,"Download"),T.forEach(D),w.forEach(D),u=se(y),d=Y(y,"BUTTON",{class:!0});var M=H(d);h=xe(M,"Logout "),g=xe(M,p),M.forEach(D),this.h()},h(){B(t,"for",e[5]),B(t,"class","form-label"),B(a,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),B(a,"label","Save"),B(l,"href",e[16]()),B(l,"download","data.txt"),B(f,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),B(d,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5")},m(y,v){J(y,t,v),$(t,n),$(t,r),J(y,i,v),J(y,a,v),$(a,o),J(y,s,v),J(y,f,v),$(f,l),$(l,c),J(y,u,v),J(y,d,v),$(d,h),$(d,g),_||(m=[be(a,"click",e[13]),be(d,"click",e[15])],_=!0)},p(y,v){v[0]&16&&Qe(r,y[4]),v[0]&4&&p!==(p=y[2]?"(unsaved changes)":"")&&Qe(g,p)},d(y){y&&D(t),y&&D(i),y&&D(a),y&&D(s),y&&D(f),y&&D(u),y&&D(d),_=!1,bn(m)}}}function O8(e){var l;let t,n,r,i,a,o,s,f=((l=e[3][0])==null?void 0:l.label)&&Fu(e);return{c(){f&&f.c(),t=oe(),n=W("input"),r=oe(),i=W("button"),a=Ee("Login"),this.h()},l(c){f&&f.l(c),t=se(c),n=Y(c,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),r=se(c),i=Y(c,"BUTTON",{class:!0,label:!0});var u=H(i);a=xe(u,"Login"),u.forEach(D),this.h()},h(){B(n,"type","text"),B(n,"class","form-select appearance-none border border-solid border-gray-300 rounded px-3"),B(n,"id",e[5]),B(n,"placeholder","Username"),B(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),B(i,"label","Login")},m(c,u){f&&f.m(c,u),J(c,t,u),J(c,n,u),Jf(n,e[3][0].value),J(c,r,u),J(c,i,u),$(i,a),o||(s=[be(n,"input",e[21]),be(n,"input",e[11]),be(i,"click",e[12])],o=!0)},p(c,u){var d;(d=c[3][0])!=null&&d.label?f?f.p(c,u):(f=Fu(c),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),u[0]&8&&n.value!==c[3][0].value&&Jf(n,c[3][0].value)},d(c){f&&f.d(c),c&&D(t),c&&D(n),c&&D(r),c&&D(i),o=!1,bn(s)}}}function Fu(e){let t,n=e[3][0].label+"",r;return{c(){t=W("label"),r=Ee(n),this.h()},l(i){t=Y(i,"LABEL",{for:!0,class:!0});var a=H(t);r=xe(a,n),a.forEach(D),this.h()},h(){B(t,"for",e[5]),B(t,"class","form-label")},m(i,a){J(i,t,a),$(t,r)},p(i,a){a[0]&8&&n!==(n=i[3][0].label+"")&&Qe(r,n)},d(i){i&&D(t)}}}function P8(e){let t;return{c(){t=Ee("v")},l(n){t=xe(n,"v")},m(n,r){J(n,t,r)},d(n){n&&D(t)}}}function R8(e){let t;return{c(){t=Ee("^")},l(n){t=xe(n,"^")},m(n,r){J(n,t,r)},d(n){n&&D(t)}}}function Uu(e){let t,n,r,i,a=e[17]()+"",o,s,f;return{c(){t=W("div"),n=Ee("copy"),r=oe(),i=W("pre"),o=Ee(a),this.h()},l(l){t=Y(l,"DIV",{class:!0});var c=H(t);n=xe(c,"copy"),c.forEach(D),r=se(l),i=Y(l,"PRE",{id:!0});var u=H(i);o=xe(u,a),u.forEach(D),this.h()},h(){B(t,"class","underline text-blue-600 hover:text-blue-900 hover:cursor-pointer"),B(i,"id","userState")},m(l,c){J(l,t,c),$(t,n),J(l,r,c),J(l,i,c),$(i,o),s||(f=be(t,"click",q8),s=!0)},p:ke,d(l){l&&D(t),l&&D(r),l&&D(i),s=!1,f()}}}function B8(e){let t,n,r,i,a,o,s,f;function l(_,m){return _[4]==null?O8:L8}let c=l(e),u=c(e);function d(_,m){return _[1]?R8:P8}let h=d(e),p=h(e),g=e[1]&&Uu(e);return{c(){t=W("form"),n=W("div"),u.c(),r=oe(),i=W("button"),p.c(),a=oe(),g&&g.c(),o=xn(),this.h()},l(_){t=Y(_,"FORM",{});var m=H(t);n=Y(m,"DIV",{class:!0});var y=H(n);u.l(y),r=se(y),i=Y(y,"BUTTON",{class:!0});var v=H(i);p.l(v),v.forEach(D),y.forEach(D),m.forEach(D),a=se(_),g&&g.l(_),o=xn(),this.h()},h(){B(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5"),B(n,"class","mb-3")},m(_,m){J(_,t,m),$(t,n),u.m(n,null),$(n,r),$(n,i),p.m(i,null),J(_,a,m),g&&g.m(_,m),J(_,o,m),s||(f=be(i,"click",e[14]),s=!0)},p(_,m){c===(c=l(_))&&u?u.p(_,m):(u.d(1),u=c(_),u&&(u.c(),u.m(n,r))),h!==(h=d(_))&&(p.d(1),p=h(_),p&&(p.c(),p.m(i,null))),_[1]?g?g.p(_,m):(g=Uu(_),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},i:ke,o:ke,d(_){_&&D(t),u.d(),p.d(),_&&D(a),g&&g.d(_),_&&D(o),s=!1,f()}}}async function q8(){let e=document.getElementById("userState").innerHTML;try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}function F8(e,t,n){let r,i,a,o,s,f=ke,l=()=>(f(),f=$u(L,V=>n(3,s=V)),L),c;e.$$.on_destroy.push(()=>f());const u={address:"https://rightful-anteater-150.convex.cloud"};let d=I8;const h=new d(u);window.convex=h;const p=h.mutation("saveParams"),g=h.query("getParams");let{spec:_}=t,m=_.id,y={INPUT:[],SUBMIT:[]},v=Se("widget_params");Pe(e,v,V=>n(24,i=V));let b=Se("dropdown_index");Pe(e,b,V=>n(25,a=V));let w=Se("query_results");Pe(e,w,V=>n(23,r=V));let T=Se("unsaved_changes");Pe(e,T,V=>n(2,o=V));let M=Se("user");Pe(e,M,V=>n(4,c=V));let P=!1,{table:L=Xs([{value:"",label:""}])}=t;l();function x(V){Je(L,s=V,s),s.length<1&&Je(L,s=[{value:"",label:""}],s)}function k(V){console.log("addsource",V),y.SUBMIT.push(V)}function R(){Ig(y.INPUT,m,s[0])}async function E(){if(s[0].value.length==0){alert("Please enter a valid username.");return}Je(M,c=s[0].value,c),console.log("user for login -->",c);let V=await g(s[0].value);console.log("user village state",V),V!=null&&Je(v,i=JSON.parse(V),i);let K={};console.log("login parameters are: ",i,[a]),console.log("query results for login: ",r.villages_q),K[m]={region:r.villages_q[a].gid,vegetation_first:i[a].vegetation.start,vegetation_last:i[a].vegetation.end,sum_early_first:i[a].chirps_early.start,sum_early_last:i[a].chirps_early.end,sum_late_first:i[a].chirps_late.start,sum_late_last:i[a].chirps_late.end,valid_results:i[a].isValid},console.log("login results",K),console.log("login.onsubmit",y),y.SUBMIT.forEach(ee=>{ee.id!="login defaults_q_backend"&&(console.log("login.trigger",K,m,ee),ee.trigger(K,m))}),console.log("handle login sees widgets as --> ",i),s[0].value}function N(){console.log("save",i);const V=JSON.stringify(i,(K,ee)=>typeof ee=="bigint"?ee.toString()+"n":ee,4);p(V,c),Je(T,o=!1,o)}function S(){n(1,P=!P)}function A(){console.log("logout.onsubmit",y),Je(M,c=null,c);let V={};y.SUBMIT.forEach(K=>{K.trigger(V,m)}),Je(L,s[0].value="",s),Je(T,o=!1,o)}function z(){const K=JSON.stringify({widget_params:i,query_results:r},(ee,de)=>typeof de=="bigint"?de.toString()+"n":de,4);return encodeURI("data:text/plain;charset=utf-8,"+K)}function G(){return JSON.stringify({dropdown_index:a,widget_params:i,query_results:r},(ee,de)=>typeof de=="bigint"?de.toString()+"n":de,4)}function X(){s[0].value=this.value,L.set(s)}return e.$$set=V=>{"spec"in V&&n(18,_=V.spec),"table"in V&&l(n(0,L=V.table))},[L,P,o,s,c,m,v,b,w,T,M,R,E,N,S,A,z,G,_,x,k,X]}class U8 extends ht{constructor(t){super(),pt(this,t,F8,B8,gt,{spec:18,table:0,render:19,addSourceIact:20},null,[-1,-1])}get spec(){return this.$$.ctx[18]}set spec(t){this.$$set({spec:t}),Oe()}get table(){return this.$$.ctx[0]}set table(t){this.$$set({table:t}),Oe()}get render(){return this.$$.ctx[19]}get addSourceIact(){return this.$$.ctx[20]}}function $8(e,t,n){let r,i,{name:a,title:o=""}=t;Se("dims");let s=Se("widget_params");Pe(e,s,u=>n(7,i=u));let f=Se("dropdown_index");Pe(e,f,u=>n(6,r=u));let l=[];function c(u,d){l=u??l,!(!l||l.length==0)&&(console.log("data into alert is",Object.values(l[0])[0]),Object.values(l[0])[0]<1?(alert("Not enough rainfall to set an index for one of your windows; do not save these values..."),Je(s,i[r].isValid=!1,i),console.log("widget params",i[r])):(Je(s,i[r].isValid=!0,i),console.log("widget params",i[r])))}return e.$$set=u=>{"name"in u&&n(2,a=u.name),"title"in u&&n(3,o=u.title)},[s,f,a,o,c]}class z8 extends ht{constructor(t){super(),pt(this,t,$8,null,gt,{name:2,title:3,render:4})}get name(){return this.$$.ctx[2]}set name(t){this.$$set({name:t}),Oe()}get title(){return this.$$.ctx[3]}set title(t){this.$$set({title:t}),Oe()}get render(){return this.$$.ctx[4]}}function V8(e,t,n){let r,i,a=Se("query_results");Pe(e,a,l=>n(5,i=l));let o=Se("widget_params");Pe(e,o,l=>n(4,r=l));let s=[];function f(l,c){s=l??s,console.log("in query update.... ",l,c),Je(a,i[c]=s,i);let u={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};c=="defaults_q"&&Je(o,r=s.map(d=>({chirps_early:{start:d.chirps_early_first,end:d.chirps_early_last},chirps_late:{start:d.chirps_late_first,end:d.chirps_late_last},vegetation:u[d.evi_month]})),r)}return[a,o,f]}class H8 extends ht{constructor(t){super(),pt(this,t,V8,null,gt,{render:2})}get render(){return this.$$.ctx[2]}}function ze(e){console.log(e.h);let t=[Lg(Vs,[e.h])];return Og(...t)}function Vs(e,t){const n=Bn(t).length;if(Pg(e)||Bn(e).length===0)return t;let r=null;if(e["*"]){r=j8(e["*"],n,t);const a=Rg("*",e);return r.map(o=>Vs(a,o))}let i={};for(const a in e){const o=e[a];Ui(Function,o)?i[a]=o(t):Ui(String,o)?i[a]=rh(o.split("."),t):Ui(Object,o)?i[a]=Vs(o,t):i[a]=o}return i}function j8(e,t,n){let r=null;return e==="*"&&t==1?r=Bg(n)[0]??[]:r=e_([],e.split("."),n),Ui(Array,r)||(r=[r]),r}class xa{constructor(t){this.compPos=function(n){var r=[];console.log("CompPos calculation");for(var i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);console.log("CompPos elements:",this._array[i],n[i]),console.log("CompPos ret check: ",a),r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){var r=[];console.log("compZero calculation");for(var i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));console.log("compZero elements:",this._array[i],n[i]),console.log("compZero ret check: ",a),r.push(a)}return r},this.getPos=function(){var n=[];console.log("getPos calculation");for(var r=0;r<this._array.length;r++){let i=+(this._array[r]>0);console.log("getPos element:",this._array[r]),console.log("getPos ret check: ",i),n.push(+(this._array[r]>0))}return n},this.getZero=function(){var n=[];console.log("getZero calculation");for(var r=0;r<this._array.length;r++){let i=+this.isNegative(this._array[r]);console.log("getZero element:",this._array[r]),console.log("getZero ret check: ",i),n.push(+(this._array[r]===0))}return n},this._array=t}get array(){return this._array}}const ng=function(e,t,n,r){console.log("----------------------------------------------------------"),console.log("NUMERATOR AND DENOMINATOR CALCULATION FOR: ",e,n),console.log("raw arrays for numerator and denominator",t,r);let i=t.map(Number),a=r.map(Number);console.log("arrays casted to number for numerator and denominator",i,a);let o=new xa(i),s=new xa(a),f=o.compPos(s.array),l=s.getPos();console.log("numerator and denominator arrays",f,l);let c=f.filter(h=>h>0).length,u=l.filter(h=>h>0).length;console.log("numerator and denominator",c,u);let d=(c/u).toFixed(2);return console.log("numerator / denominator = ",d,"for fields:",e,n),console.log("----------------------------------------------------------"),d},rg=function(e,t,n,r){console.log("----------------------------------------------------------"),console.log("NUMERATOR AND DENOMINATOR CALCULATION FOR: ",e,n),console.log("raw arrays for numerator and denominator",t,r);let i=t.map(Number),a=r.map(Number);console.log("arrays casted to number for numerator and denominator",i,a);let o=new xa(i),s=new xa(a),f=o.compZero(s.array),l=s.getZero();console.log("numerator and denominator arrays",f,l);let c=f.filter(h=>h>0).length,u=l.filter(h=>h>0).length;console.log("numerator and denominator",c,u);let d=(c/u).toFixed(2);return console.log("numerator / denominator = ",d,"for fields:",e,n),console.log("----------------------------------------------------------"),d},W8=function(e,t,n,r){return console.log("=========================="),console.log("TRUE POSITIVE CALCULATION"),console.log("=========================="),ng(e,t,n,r)},Y8=function(e,t,n,r){return console.log("=========================="),console.log("TRUE NEGATIVE CALCULATION"),console.log("=========================="),rg(e,t,n,r)},G8=function(e,t,n,r){console.log("=========================="),console.log("OVERALL MATCHING CALCULATION"),console.log("==========================");let i=Number(ng(e,t,n,r));console.log("r1 for true negative is:",i);let a=Number(rg(e,t,n,r));console.log("r2 for true negative is:",a);let o=i+a,s=2,f=o/s,l=f.toFixed(2);return console.log("overall matching is: (",i," + ",a,")/",s,"=",f,"to fixed gives",l),l};let Z8=[{"true positive":W8,"true negative":Y8,"overall matching":G8}];function X8(e){return{c:ke,l:ke,m:ke,p:ke,i:ke,o:ke,d:ke}}function J8(e){let t,n,r,i,a,o,s,f,l,c,u,d,h,p,g,_;t=new jg({props:{country:"Ethiopia",initTime:e[41]}});let m={};return a=new H8({props:m}),e[20](a),s=new Li({props:{$$slots:{dropdown1:[e5],alert:[K8],header:[Q8]},$$scope:{ctx:e}}}),l=new Li({props:{$$slots:{chart2:[a5],slider3:[i5],slider2:[r5],slider1:[n5],chart1:[t5]},$$scope:{ctx:e}}}),d=new Li({props:{$$slots:{chart1:[o5]},$$scope:{ctx:e}}}),g=new Li({props:{$$slots:{chart2:[f5],dropdown1:[s5]},$$scope:{ctx:e}}}),{c(){Ve(t.$$.fragment),n=oe(),r=W("div"),i=W("div"),Ve(a.$$.fragment),o=oe(),Ve(s.$$.fragment),f=oe(),Ve(l.$$.fragment),c=oe(),u=W("div"),Ve(d.$$.fragment),h=oe(),p=W("div"),Ve(g.$$.fragment),this.h()},l(y){He(t.$$.fragment,y),n=se(y),r=Y(y,"DIV",{class:!0});var v=H(r);i=Y(v,"DIV",{class:!0});var b=H(i);He(a.$$.fragment,b),o=se(b),He(s.$$.fragment,b),f=se(b),He(l.$$.fragment,b),b.forEach(D),c=se(v),u=Y(v,"DIV",{class:!0});var w=H(u);He(d.$$.fragment,w),w.forEach(D),h=se(v),p=Y(v,"DIV",{class:!0});var T=H(p);He(g.$$.fragment,T),T.forEach(D),v.forEach(D),this.h()},h(){B(i,"class","col-span-1"),B(u,"class","col-span-1"),B(p,"class","col-span-1"),B(r,"class","grid grid-cols-1")},m(y,v){je(t,y,v),J(y,n,v),J(y,r,v),$(r,i),je(a,i,null),$(i,o),je(s,i,null),$(i,f),je(l,i,null),$(r,c),$(r,u),je(d,u,null),$(r,h),$(r,p),je(g,p,null),_=!0},p(y,v){const b={};a.$set(b);const w={};v[0]&13314|v[1]&2048&&(w.$$scope={dirty:v,ctx:y}),s.$set(w);const T={};v[0]&916|v[1]&2048&&(T.$$scope={dirty:v,ctx:y}),l.$set(T);const M={};v[0]&8|v[1]&2048&&(M.$$scope={dirty:v,ctx:y}),d.$set(M);const P={};v[0]&2080|v[1]&2048&&(P.$$scope={dirty:v,ctx:y}),g.$set(P)},i(y){_||(he(t.$$.fragment,y),he(a.$$.fragment,y),he(s.$$.fragment,y),he(l.$$.fragment,y),he(d.$$.fragment,y),he(g.$$.fragment,y),_=!0)},o(y){ge(t.$$.fragment,y),ge(a.$$.fragment,y),ge(s.$$.fragment,y),ge(l.$$.fragment,y),ge(d.$$.fragment,y),ge(g.$$.fragment,y),_=!1},d(y){We(t,y),y&&D(n),y&&D(r),e[20](null),We(a),We(s),We(l),We(d),We(g)}}}function Q8(e){let t,n,r={table:Xs([{value:"",label:"Login to use tool:"}]),spec:{id:"l1",default_user_state:e[1]},slot:"header"};return t=new U8({props:r}),e[23](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};a[0]&2&&(o.spec={id:"l1",default_user_state:i[1]}),t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[23](null),We(t,i)}}}function K8(e){let t,n,r={slot:"alert",name:"no variance alert"};return t=new z8({props:r}),e[22](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[22](null),We(t,i)}}}function e5(e){let t,n,r={slot:"dropdown1",spec:e[16]};return t=new f8({props:r}),e[21](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[21](null),We(t,i)}}}function t5(e){let t,n,r={slot:"chart1",name:"line",title:"Climatology",xAttr:"dekad",yAttr:"average_value",xDomainMin:"1",xDomainMax:"36"};return t=new O4({props:r}),e[28](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[28](null),We(t,i)}}}function n5(e){let t,n,r={slot:"slider1",spec:{min:1,max:36,id:"sum_early_slider",description:"CHIPRS sum early",widget_id:"chirps_early"}};return t=new Yf({props:r}),e[27](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[27](null),We(t,i)}}}function r5(e){let t,n,r={slot:"slider2",spec:{min:1,max:36,id:"sum_late_slider",description:"CHIRPS sum late",widget_id:"chirps_late"}};return t=new Yf({props:r}),e[26](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[26](null),We(t,i)}}}function i5(e){let t,n,r={slot:"slider3",spec:{min:1,max:36,id:"vegetation_slider",description:"Vegetation",widget_id:"vegetation"}};return t=new Yf({props:r}),e[25](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[25](null),We(t,i)}}}function a5(e){let t,n,r={slot:"chart2",name:"testCropCal",xDomainMin:"1.0",xDomainMax:"36.0",timeDomainMode:"fixed"};return t=new t8({props:r}),e[24](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[24](null),We(t,i)}}}function o5(e){let t,n,r={slot:"chart1",name:"Bar Grouped",title:"Payouts",groupNames:["sum_early","sum_late","vegetation","combined_payout"],xAttr:"year",yAttr:"value",yMax:"1",xDomainMin:"1981",xDomainMax:"2021"};return t=new X4({props:r}),e[29](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[29](null),We(t,i)}}}function s5(e){let t,n,r={slot:"dropdown1",spec:e[17]};return t=new u8({props:r}),e[31](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[31](null),We(t,i)}}}function f5(e){let t,n,r={slot:"chart2",name:"matching_table"};return t=new a8({props:r}),e[30](t),{c(){Ve(t.$$.fragment)},l(i){He(t.$$.fragment,i)},m(i,a){je(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(he(t.$$.fragment,i),n=!0)},o(i){ge(t.$$.fragment,i),n=!1},d(i){e[30](null),We(t,i)}}}function l5(e){let t,n;return t=new Wg({}),{c(){Ve(t.$$.fragment)},l(r){He(t.$$.fragment,r)},m(r,i){je(t,r,i),n=!0},p:ke,i(r){n||(he(t.$$.fragment,r),n=!0)},o(r){ge(t.$$.fragment,r),n=!1},d(r){We(t,r)}}}function c5(e){let t,n,r,i,a,o;Hs(e[19]);let s={ctx:e,current:null,token:null,hasCatch:!1,pending:l5,then:J8,catch:X8,value:41,blocks:[,,,]};return dg(e[18],s),{c(){t=W("meta"),n=oe(),r=xn(),s.block.c(),this.h()},l(f){const l=hg("svelte-1qxraob",document.head);t=Y(l,"META",{name:!0,content:!0}),l.forEach(D),n=se(f),r=xn(),s.block.l(f),this.h()},h(){document.title="DESDR: Ethiopia",B(t,"name","description"),B(t,"content","DESDR Ethiopia")},m(f,l){$(document.head,t),J(f,n,l),J(f,r,l),s.block.m(f,s.anchor=l),s.mount=()=>r.parentNode,s.anchor=r,i=!0,a||(o=be(window,"resize",e[19]),a=!0)},p(f,l){e=f,pg(s,e,l)},i(f){i||(he(s.block),i=!0)},o(f){for(let l=0;l<3;l+=1){const c=s.blocks[l];ge(c)}i=!1},d(f){D(t),f&&D(n),f&&D(r),s.block.d(f),s.token=null,s=null,a=!1,o()}}}function u5(e,t,n){let r,i,a,o;Pe(e,il,F=>n(32,r=F)),Pe(e,al,F=>n(34,a=F)),Se("dims");let s=Se("widget_params");Pe(e,s,F=>n(33,i=F));let f=Se("dropdown_index");Pe(e,f,F=>n(35,o=F)),Se("early_params"),Se("early_params");let l=0,c=[],u={id:"d1",index:o,widget_id:"w1"},d={id:"d2",index:0,widget_id:"w5"},h=null,p=null,g=null,_=null,m=null,y=null,v=null,b=null,w=null,T=null,M=null,P=null;Je(il,r=new qg,r),Je(al,a=new Ug,a);let L=r.createBackend({id:"duckdb1",type:"DuckDBBackend",name:"chirps_raw",url:Fg,schema:[]});async function x(F){console.log("dbGoLive started");let pe=Date.now();await F.init(!1),await F.loadCSVString("admin_raw",$g),await F.loadCSVString("crop_cal_raw",zg),await F.loadCSVString("badyear_raw",Vg),await F.loadCSVString("evi_raw",Hg);let Be=Date.now();return console.log("db go live time is,",Be-pe),Be-pe}let k=x(L);gg(async()=>{await k,console.log("launch....");let F={region:1128,dekcap:24,freq:.23,year_start:1981,year_end:2020,back_fill_year:2001,sum_early_weight:.4,sum_late_weight:.4,vegetation_weight:.6,sum_early_first:1,sum_early_last:30,sum_late_first:1,sum_late_last:30,vegetation_first:10,vegetation_last:30,scalar_vegetation:1,exit_multiplier:.8},pe="SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last, evi_month FROM admin_raw ORDER BY gid",Be=r.createBackend({id:"defaults_q_backend",type:"QueryBackend",query:pe,name:"defaults_q",params:F,backend:L}),Ne=await Be.execute(),O={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};n(1,c=Ne.map(Q=>({chirps_early:{start:Q.chirps_early_first,end:Q.chirps_early_last},chirps_late:{start:Q.chirps_late_first,end:Q.chirps_late_last},vegetation:O[Q.evi_month],village:Q.gid}))),Je(s,i=c,i),console.log("default widget params check: ",i),F.sum_early_first=i[0].chirps_early.start,F.sum_early_last=i[0].chirps_early.end,F.sum_late_first=i[0].chirps_late.start,F.sum_late_last=i[0].chirps_late.end,F.vegetation_first=i[0].vegetation.start,F.vegetation_last=i[0].vegetation.end;let U=new Ii,Z=new Ii;new Ii;let q=new Ii,ye=Xn.climatology.query,te=Xn.payout_combined.query,we=Xn.matching.query,ne=Xn.check.query,I="SELECT village, gid FROM admin_raw ORDER BY gid",j=Xn.crop_cal.query,ft=Xn.badyear.query,nt="SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'overall matching')) MATCHING_OPTIONS(idx, value);",qe=r.createBackend({id:"climatology_q_backend",type:"QueryBackend",query:ye,name:"climatology",params:F,backend:L}),$e=r.createBackend({id:"combined_payouts_q_backend",type:"QueryBackend",query:te,name:"combined_payouts",params:F,backend:L}),at=r.createBackend({id:"matching_q_backend",type:"QueryBackend",query:we,name:"matching",params:F,backend:L}),mt=r.createBackend({id:"villages_q_backend",type:"QueryBackend",query:I,name:"villages_q",params:F,backend:L}),bt=r.createBackend({id:"crop_cal_q_backend",type:"QueryBackend",query:j,name:"crop_cal_q",params:F,backend:L}),At=r.createBackend({id:"bad_year_q_backend",type:"QueryBackend",query:ft,name:"bad_year_q",params:F,backend:L}),lt=r.createBackend({id:"check_q_backend",type:"QueryBackend",query:ne,name:"check_q",params:F,backend:L}),Ae=r.createBackend({id:"matching_table_options_q_backend",type:"QueryBackend",query:nt,name:"matching_table_options_q",params:F,backend:L}),Ye=r.createBackend({id:"matching_table_backend",type:"MatchingTableBackEnd",main_data_name:"matching",main_data_default:null,function_store:Z8,default_func:"true positive"});q.registerView(p,null),U.registerView(h,null),Z.registerView(g,null),qe.registerView(h),$e.registerView(p),At.registerView(p),mt.registerView(w),bt.registerView(g),at.registerView(Ye),Ye.registerView(_),Ae.registerView(T),qe.registerView(m),$e.registerView(m),bt.registerView(m),At.registerView(m),mt.registerView(m),at.registerView(m),Ae.registerView(m),Be.registerView(m),lt.registerView(P),await qe.execute(F),await mt.execute(F),await bt.execute(F),await $e.execute(F),await At.execute(F),await lt.execute(F),await at.execute(F),await Ae.execute([]),await Ye.execute([]);let ot={sum_early_slider:{left:Number(F.sum_early_first),right:Number(F.sum_early_last)},sum_late_slider:{left:Number(F.sum_late_first),right:Number(F.sum_late_last)},vegetation_slider:{left:Number(F.vegetation_first),right:Number(F.vegetation_last)}};await U.execute(ot,null),await Z.execute(ot,null),console.log("PARAMS THAT WERE USED ARE",F),new De({id:"village_dropdown climatology_q_backend",source:w,target:qe,postprocess:ze({h:{"*":"d1",region:"value"}})}),new De({id:"village_dropdown combined_payouts_q_backend",source:w,target:$e,postprocess:ze({h:{"*":"d1",region:"value"}})}),new De({id:"village_dropdown crop_cal_q_backend",source:w,target:bt,postprocess:ze({h:{"*":"d1",region:"value"}})}),new De({id:"village_dropdown bad_year_q_backend",source:w,target:At,postprocess:ze({h:{"*":"d1",region:"value"}})}),new De({id:"village_dropdown check_q_backend",source:w,target:lt,postprocess:ze({h:{"*":"d1",region:"value"}})}),new De({id:"village_dropdown matching_q_backend",source:w,target:at,postprocess:ze({h:{"*":"d1",region:"value"}})}),new De({id:"matching_options_dropdown matching_table_backend",source:T,target:Ye,postprocess:ze({h:{"*":"d2",func_elected:"value"}})}),new De({id:"login defaults_q_backend",source:M,target:Be,postprocess:ze({h:{"*":"l1",region:"region"}})}),new De({id:"login climatology_q_backend",source:M,target:qe,postprocess:ze({h:{"*":"l1",region:"region"}})}),new De({id:"login crop_cal_q_backend",source:M,target:bt,postprocess:ze({h:{"*":"l1",region:"region"}})}),new De({id:"login combined_payouts_q_backend",source:M,target:$e,postprocess:ze({h:{"*":"l1",region:"region",vegetation_first:"vegetation_first",vegetation_last:"vegetation_last",sum_early_first:"sum_early_first",sum_early_last:"sum_early_last",sum_late_first:"sum_late_first",sum_late_last:"sum_late_last"}})});let _t={"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"};new De({id:"sum_early_slider combined_payouts_q_backend",source:v,target:$e,postprocess:ze({h:_t})}),new De({id:"sum_early_slider matching_q_backend",source:v,target:at,postprocess:ze({h:_t})}),new De({id:"sum_early_slider check_q_backend",source:v,target:lt,postprocess:ze({h:_t})});let On={"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"};new De({id:"sum_late_slider combined_payouts_q_backend",source:b,target:$e,postprocess:ze({h:On})}),new De({id:"sum_late_slider matching_q_backend",source:b,target:at,postprocess:ze({h:On})}),new De({id:"sum_late_slider check_q_backend",source:b,target:lt,postprocess:ze({h:On})});let C={"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"};new De({id:"vegetation_slider combined_payouts_q_backend",source:y,target:$e,postprocess:ze({h:C})}),new De({id:"vegetation_slider matching_q_backend",source:y,target:at,postprocess:ze({h:C})}),new De({id:"vegetation_slider check_q_backend",source:y,target:lt,postprocess:ze({h:C})}),new De({id:"sum_early_slider cropcal_overlay",source:v,target:Z}),new De({id:"sum_early_slider climatology_overlay",source:v,target:U}),new De({id:"sum_late_slider cropcal_overlay",source:b,target:Z}),new De({id:"sum_late_slider climatology_overlay",source:b,target:U}),new De({id:"vegetation_slider cropcal_overlay",source:y,target:Z}),new De({id:"vegetation_slider climatology_overlay",source:y,target:U})});function R(){n(0,l=window.innerWidth)}function E(F){Le[F?"unshift":"push"](()=>{m=F,n(6,m)})}function N(F){Le[F?"unshift":"push"](()=>{w=F,n(10,w)})}function S(F){Le[F?"unshift":"push"](()=>{P=F,n(13,P)})}function A(F){Le[F?"unshift":"push"](()=>{M=F,n(12,M)})}function z(F){Le[F?"unshift":"push"](()=>{g=F,n(4,g)})}function G(F){Le[F?"unshift":"push"](()=>{y=F,n(7,y)})}function X(F){Le[F?"unshift":"push"](()=>{b=F,n(9,b)})}function V(F){Le[F?"unshift":"push"](()=>{v=F,n(8,v)})}function K(F){Le[F?"unshift":"push"](()=>{h=F,n(2,h)})}function ee(F){Le[F?"unshift":"push"](()=>{p=F,n(3,p)})}function de(F){Le[F?"unshift":"push"](()=>{_=F,n(5,_)})}function me(F){Le[F?"unshift":"push"](()=>{T=F,n(11,T)})}return[l,c,h,p,g,_,m,y,v,b,w,T,M,P,s,f,u,d,k,R,E,N,S,A,z,G,X,V,K,ee,de,me]}class y5 extends ht{constructor(t){super(),pt(this,t,u5,c5,gt,{},null,[-1,-1])}}export{y5 as component};
