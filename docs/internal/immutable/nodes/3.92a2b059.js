import{S as vt,i as Mt,s as St,C as ht,k as W,a as ae,l as Y,m as j,h as A,c as oe,n as R,b as X,D as z,E as pt,F as gt,G as mt,g as me,d as _e,K as qe,L as Gr,M as Zr,N as Na,I as xe,O as ke,w as Re,P as el,Q as cg,R as re,T as ve,U as ur,V as Xr,W as _n,q as Ae,r as Ce,u as at,e as An,X as Da,v as ug,f as dg,Y as hg,y as Ye,z as Ge,A as Ze,B as Xe,Z as Yu,_ as pg,$ as gg,J as Ue,a0 as rt,a1 as Ys,a2 as Hi,a3 as Gu,a4 as tl,a5 as mg,a6 as bg,a7 as _g,o as yg}from"../chunks/index.c742ee74.js";import{S as nl,r as wg,d as Gs,e as Zs,R as Ia,C as Xs,a as Zu,b as rl,c as il,f as vg,i as Cn,g as es,h as Jr,j as Mg,k as al,n as _t,l as Js,m as Sg,_ as ol,o as Xu,p as At,q as Tg,s as dr,t as Qs,u as ts,v as qn,w as kg,x as Eg,y as xg,z as Ju,A as Ag,B as Cg,D as Ng,E as ji,F as Dg,G as Ig,H as Lg,I as Wi,J as hr,K as sl,L as Og,M as Pg,N as Rg,O as qg,P as Bg,Q as Fg,T as Ug,U as Vi,V as zg,W as Le,X as Vg,Y as fl,Z as $g,$ as ll,a0 as Xn,a1 as Hg,a2 as jg}from"../chunks/model_out.b0bd97d0.js";import{w as Ks}from"../chunks/index.ab7c113e.js";import{D as ir}from"../chunks/util.51240e5c.js";import{_ as Wg}from"../chunks/preload-helper.41c905a7.js";import"../chunks/paths.8b544fcb.js";function ns(e){return typeof e=="string"?new nl([[document.querySelector(e)]],[document.documentElement]):new nl([[e]],wg)}function yt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ci(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ef(e){let t,n,r;e.length!==2?(t=yt,n=(s,f)=>yt(e(s),f),r=(s,f)=>e(s)-f):(t=e===yt||e===ci?e:Yg,n=e,r=e);function i(s,f,l=0,c=s.length){if(l<c){if(t(f,f)!==0)return c;do{const u=l+c>>>1;n(s[u],f)<0?l=u+1:c=u}while(l<c)}return l}function a(s,f,l=0,c=s.length){if(l<c){if(t(f,f)!==0)return c;do{const u=l+c>>>1;n(s[u],f)<=0?l=u+1:c=u}while(l<c)}return l}function o(s,f,l=0,c=s.length){const u=i(s,f,l,c-1);return u>l&&r(s[u-1],f)>-r(s[u],f)?u-1:u}return{left:i,center:o,right:a}}function Yg(){return 0}function Qu(e){return e===null?NaN:+e}function*Gg(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Zg=ef(yt),Xg=Zg.right;ef(Qu).center;const tf=Xg;function Jg(e){return e.length|0}function Qg(e){return!(e>0)}function Kg(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function em(e){return t=>e(...t)}function tm(...e){const t=typeof e[e.length-1]=="function"&&em(e.pop());e=e.map(Kg);const n=e.map(Jg),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Qg))return a;for(;;){a.push(i.map((s,f)=>e[f][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function nm(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function Ku(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function rm(e,t){const n=Ku(e,t);return n&&Math.sqrt(n)}function pr(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Bn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,s=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);s&&(n[r++]=s),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Nn extends Map{constructor(t,n=nd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rs(this,t))}has(t){return super.has(rs(this,t))}set(t,n){return super.set(ed(this,t),n)}delete(t){return super.delete(td(this,t))}}class nf extends Set{constructor(t,n=nd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(rs(this,t))}add(t){return super.add(ed(this,t))}delete(t){return super.delete(td(this,t))}}function rs({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ed({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function td({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function nd(e){return e!==null&&typeof e=="object"?e.valueOf():e}function is(e){return e}function rf(e,...t){return rd(e,is,is,t)}function or(e,t,...n){return rd(e,is,t,n)}function rd(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const s=new Nn,f=r[o++];let l=-1;for(const c of a){const u=f(c,++l,a),d=s.get(u);d?d.push(c):s.set(u,[c])}for(const[c,u]of s)s.set(c,i(u,o));return t(s)}(e,0)}function im(e,t){return Array.from(t,n=>e[n])}function Yi(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const s=Gi(o[i],o[a]);if(s)return s}})):(n=e.map(n),r.sort((i,a)=>Gi(n[i],n[a]))),im(e,r)}return e.sort(id(n))}function id(e=yt){if(e===yt)return Gi;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Gi(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function af(e,t,n){return(t.length!==2?Yi(or(e,t,n),([r,i],[a,o])=>yt(i,o)||yt(r,a)):Yi(rf(e,n),([r,i],[a,o])=>t(i,o)||yt(r,a))).map(([r])=>r)}const am=Math.sqrt(50),om=Math.sqrt(10),sm=Math.sqrt(2);function Zi(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=am?10:a>=om?5:a>=sm?2:1;let s,f,l;return i<0?(l=Math.pow(10,-i)/o,s=Math.round(e*l),f=Math.round(t*l),s/l<e&&++s,f/l>t&&--f,l=-l):(l=Math.pow(10,i)*o,s=Math.round(e/l),f=Math.round(t/l),s*l<e&&++s,f*l>t&&--f),f<s&&.5<=n&&n<2?Zi(e,t,n*2):[s,f,l]}function Xi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?Zi(t,e,n):Zi(e,t,n);if(!(a>=i))return[];const s=a-i+1,f=new Array(s);if(r)if(o<0)for(let l=0;l<s;++l)f[l]=(a-l)/-o;else for(let l=0;l<s;++l)f[l]=(a-l)*o;else if(o<0)for(let l=0;l<s;++l)f[l]=(i+l)/-o;else for(let l=0;l<s;++l)f[l]=(i+l)*o;return f}function as(e,t,n){return t=+t,e=+e,n=+n,Zi(e,t,n)[2]}function os(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?as(t,e,n):as(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $t(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function fm(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function gn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function lm(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function ad(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Gi:id(i);r>n;){if(r-n>600){const f=r-n+1,l=t-n+1,c=Math.log(f),u=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*u*(f-u)/f)*(l-f/2<0?-1:1),h=Math.max(n,Math.floor(t-l*u/f+d)),p=Math.min(r,Math.floor(t+(f-l)*u/f+d));ad(e,t,h,p,i)}const a=e[t];let o=n,s=r;for(Dr(e,n,t),i(e[r],a)>0&&Dr(e,n,r);o<s;){for(Dr(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[n],a)===0?Dr(e,n,s):(++s,Dr(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function Dr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function od(e,t=yt){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?yt(o,i)>0:yt(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Ji(e,t,n){if(e=Float64Array.from(Gg(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return gn(e);if(t>=1)return $t(e);var r,i=(r-1)*t,a=Math.floor(i),o=$t(ad(e,a).subarray(0,a+1)),s=gn(e.subarray(a+1));return o+(s-o)*(i-a)}}function cm(e,t,n=Qu){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),s=+n(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function um(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function ss(e,t){return Ji(e,.5,t)}function*dm(e){for(const t of e)yield*t}function sd(e){return Array.from(dm(e))}function hm(e,t){const n=new Nn;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function fs(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Fn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Qi(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function an(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function La(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ls=Symbol("implicit");function of(){var e=new Nn,t=[],n=[],r=ls;function i(a){let o=e.get(a);if(o===void 0){if(r!==ls)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Nn;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return of(t,n).unknown(r)},an.apply(i,arguments),i}function Oa(){var e=of().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,s=!1,f=0,l=0,c=.5;delete e.unknown;function u(){var d=t().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,d-f+l*2),s&&(a=Math.floor(a)),p+=(g-p-a*(d-f))*c,o=a*(1-f),s&&(p=Math.round(p),o=Math.round(o));var m=fs(d).map(function(b){return p+a*b});return n(h?m.reverse():m)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(s=!!d,u()):s},e.padding=function(d){return arguments.length?(f=Math.min(1,l=+d),u()):f},e.paddingInner=function(d){return arguments.length?(f=Math.min(1,d),u()):f},e.paddingOuter=function(d){return arguments.length?(l=+d,u()):l},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),u()):c},e.copy=function(){return Oa(t(),[r,i]).round(s).paddingInner(f).paddingOuter(l).align(c)},an.apply(u(),arguments)}function fd(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fd(t())},e}function pm(){return fd(Oa.apply(null,arguments).paddingInner(1))}const ld=Math.PI/180,cd=180/Math.PI,Ki=18,ud=.96422,dd=1,hd=.82521,pd=4/29,sr=6/29,gd=3*sr*sr,gm=sr*sr*sr;function md(e){if(e instanceof Qt)return new Qt(e.l,e.a,e.b,e.opacity);if(e instanceof un)return bd(e);e instanceof Ia||(e=Zu(e));var t=mo(e.r),n=mo(e.g),r=mo(e.b),i=ho((.2225045*t+.7168786*n+.0606169*r)/dd),a,o;return t===n&&n===r?a=o=i:(a=ho((.4360747*t+.3850649*n+.1430804*r)/ud),o=ho((.0139322*t+.0971045*n+.7141733*r)/hd)),new Qt(116*i-16,500*(a-i),200*(i-o),e.opacity)}function cs(e,t,n,r){return arguments.length===1?md(e):new Qt(e,t,n,r??1)}function Qt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Gs(Qt,cs,Zs(Xs,{brighter(e){return new Qt(this.l+Ki*(e??1),this.a,this.b,this.opacity)},darker(e){return new Qt(this.l-Ki*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=ud*po(t),e=dd*po(e),n=hd*po(n),new Ia(go(3.1338561*t-1.6168667*e-.4906146*n),go(-.9787684*t+1.9161415*e+.033454*n),go(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function ho(e){return e>gm?Math.pow(e,1/3):e/gd+pd}function po(e){return e>sr?e*e*e:gd*(e-pd)}function go(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function mo(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function mm(e){if(e instanceof un)return new un(e.h,e.c,e.l,e.opacity);if(e instanceof Qt||(e=md(e)),e.a===0&&e.b===0)return new un(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*cd;return new un(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ea(e,t,n,r){return arguments.length===1?mm(e):new un(e,t,n,r??1)}function un(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function bd(e){if(isNaN(e.h))return new Qt(e.l,0,0,e.opacity);var t=e.h*ld;return new Qt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Gs(un,ea,Zs(Xs,{brighter(e){return new un(this.h,this.c,this.l+Ki*(e??1),this.opacity)},darker(e){return new un(this.h,this.c,this.l-Ki*(e??1),this.opacity)},rgb(){return bd(this).rgb()}}));var _d=-.14861,sf=1.78277,ff=-.29227,Pa=-.90649,Qr=1.97294,cl=Qr*Pa,ul=Qr*sf,dl=sf*ff-Pa*_d;function bm(e){if(e instanceof Rn)return new Rn(e.h,e.s,e.l,e.opacity);e instanceof Ia||(e=Zu(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(dl*r+cl*t-ul*n)/(dl+cl-ul),a=r-i,o=(Qr*(n-i)-ff*a)/Pa,s=Math.sqrt(o*o+a*a)/(Qr*i*(1-i)),f=s?Math.atan2(o,a)*cd-120:NaN;return new Rn(f<0?f+360:f,s,i,e.opacity)}function Kt(e,t,n,r){return arguments.length===1?bm(e):new Rn(e,t,n,r??1)}function Rn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Gs(Rn,Kt,Zs(Xs,{brighter(e){return e=e==null?rl:Math.pow(rl,e),new Rn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?il:Math.pow(il,e),new Rn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*ld,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ia(255*(t+n*(_d*r+sf*i)),255*(t+n*(ff*r+Pa*i)),255*(t+n*(Qr*r)),this.opacity)}}));function _m(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function ym(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wm(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=ui(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function vm(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Mm(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ui(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function ui(e,t){var n=typeof t,r;return t==null||n==="boolean"?vg(t):(n==="number"?Cn:n==="string"?(r=es(t))?(t=r,Jr):Mg:t instanceof es?Jr:t instanceof Date?vm:ym(t)?_m:Array.isArray(t)?wm:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mm:Cn)(e,t)}function lf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Sm(e){return function(t,n){var r=e((t=al(t)).h,(n=al(n)).h),i=_t(t.s,n.s),a=_t(t.l,n.l),o=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.s=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const Tm=Sm(Js);function km(e,t){var n=_t((e=cs(e)).l,(t=cs(t)).l),r=_t(e.a,t.a),i=_t(e.b,t.b),a=_t(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function Em(e){return function(t,n){var r=e((t=ea(t)).h,(n=ea(n)).h),i=_t(t.c,n.c),a=_t(t.l,n.l),o=_t(t.opacity,n.opacity);return function(s){return t.h=r(s),t.c=i(s),t.l=a(s),t.opacity=o(s),t+""}}}const xm=Em(Js);function yd(e){return function t(n){n=+n;function r(i,a){var o=e((i=Kt(i)).h,(a=Kt(a)).h),s=_t(i.s,a.s),f=_t(i.l,a.l),l=_t(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=s(c),i.l=f(Math.pow(c,n)),i.opacity=l(c),i+""}}return r.gamma=t,r}(1)}yd(Js);var cf=yd(_t);function uf(e,t){t===void 0&&(t=e,e=ui);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function Ht(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function Am(e){return function(){return e}}function us(e){return+e}var hl=[0,1];function Lt(e){return e}function ds(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Am(isNaN(t)?NaN:.5)}function Cm(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Nm(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=ds(i,r),a=n(o,a)):(r=ds(r,i),a=n(a,o)),function(s){return a(r(s))}}function Dm(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=ds(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(s){var f=tf(e,s,1,r)-1;return a[f](i[f](s))}}function di(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ra(){var e=hl,t=hl,n=ui,r,i,a,o=Lt,s,f,l;function c(){var d=Math.min(e.length,t.length);return o!==Lt&&(o=Cm(e[0],e[d-1])),s=d>2?Dm:Nm,f=l=null,u}function u(d){return d==null||isNaN(d=+d)?a:(f||(f=s(e.map(r),t,n)))(r(o(d)))}return u.invert=function(d){return o(i((l||(l=s(t,e.map(r),Cn)))(d)))},u.domain=function(d){return arguments.length?(e=Array.from(d,us),c()):e.slice()},u.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},u.rangeRound=function(d){return t=Array.from(d),n=lf,c()},u.clamp=function(d){return arguments.length?(o=d?!0:Lt,c()):o!==Lt},u.interpolate=function(d){return arguments.length?(n=d,c()):n},u.unknown=function(d){return arguments.length?(a=d,u):a},function(d,h){return r=d,i=h,c()}}function wd(){return Ra()(Lt,Lt)}function Im(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ta(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function gr(e){return e=ta(Math.abs(e)),e?e[1]:NaN}function Lm(e,t){return function(n,r){for(var i=n.length,a=[],o=0,s=e[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),a.push(n.substring(i-=s,i+s)),!((f+=s+1)>r));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Om(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Pm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Kr(e){if(!(t=Pm.exec(e)))throw new Error("invalid format: "+e);var t;return new df({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Kr.prototype=df.prototype;function df(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}df.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rm(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var vd;function qm(e,t){var n=ta(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(vd=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ta(e,Math.max(0,t+a-1))[0]}function pl(e,t){var n=ta(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Im,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pl(e*100,t),r:pl,s:qm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ml(e){return e}var bl=Array.prototype.map,_l=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Bm(e){var t=e.grouping===void 0||e.thousands===void 0?ml:Lm(bl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?ml:Om(bl.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function l(u){u=Kr(u);var d=u.fill,h=u.align,p=u.sign,g=u.symbol,m=u.zero,b=u.width,y=u.comma,v=u.precision,_=u.trim,w=u.type;w==="n"?(y=!0,w="g"):gl[w]||(v===void 0&&(v=12),_=!0,w="g"),(m||d==="0"&&h==="=")&&(m=!0,d="0",h="=");var T=g==="$"?n:g==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",S=g==="$"?r:/[%p]/.test(w)?o:"",L=gl[w],O=/[defgprs%]/.test(w);v=v===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function D(k){var q=T,E=S,I,M,N;if(w==="c")E=L(k)+E,k="";else{k=+k;var U=k<0||1/k<0;if(k=isNaN(k)?f:L(Math.abs(k),v),_&&(k=Rm(k)),U&&+k==0&&p!=="+"&&(U=!1),q=(U?p==="("?p:s:p==="-"||p==="("?"":p)+q,E=(w==="s"?_l[8+vd/3]:"")+E+(U&&p==="("?")":""),O){for(I=-1,M=k.length;++I<M;)if(N=k.charCodeAt(I),48>N||N>57){E=(N===46?i+k.slice(I+1):k.slice(I))+E,k=k.slice(0,I);break}}}y&&!m&&(k=t(k,1/0));var K=q.length+k.length+E.length,H=K<b?new Array(b-K+1).join(d):"";switch(y&&m&&(k=t(H+k,H.length?b-E.length:1/0),H=""),h){case"<":k=q+k+E+H;break;case"=":k=q+H+k+E;break;case"^":k=H.slice(0,K=H.length>>1)+q+k+E+H.slice(K);break;default:k=H+q+k+E;break}return a(k)}return D.toString=function(){return u+""},D}function c(u,d){var h=l((u=Kr(u),u.type="f",u)),p=Math.max(-8,Math.min(8,Math.floor(gr(d)/3)))*3,g=Math.pow(10,-p),m=_l[8+p/3];return function(b){return h(g*b)+m}}return{format:l,formatPrefix:c}}var ki,Sr,Md;Fm({thousands:",",grouping:[3],currency:["$",""]});function Fm(e){return ki=Bm(e),Sr=ki.format,Md=ki.formatPrefix,ki}function Um(e){return Math.max(0,-gr(Math.abs(e)))}function zm(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(t)/3)))*3-gr(Math.abs(e)))}function Vm(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gr(t)-gr(e))+1}function $m(e,t,n,r){var i=os(e,t,n),a;switch(r=Kr(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=zm(i,o))&&(r.precision=a),Md(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Vm(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Um(i))&&(r.precision=a-(r.type==="%")*2);break}}return Sr(r)}function hi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Xi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return $m(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],s=r[a],f,l,c=10;for(s<o&&(l=o,o=s,s=l,l=i,i=a,a=l);c-- >0;){if(l=as(o,s,n),l===f)return r[i]=o,r[a]=s,t(r);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;f=l}return e},e}function hf(){var e=wd();return e.copy=function(){return di(e,hf())},an.apply(e,arguments),hi(e)}function Sd(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,us),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Sd(e).unknown(t)},e=arguments.length?Array.from(e,us):[0,1],hi(n)}function Td(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function yl(e){return Math.log(e)}function wl(e){return Math.exp(e)}function Hm(e){return-Math.log(-e)}function jm(e){return-Math.exp(-e)}function Wm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Ym(e){return e===10?Wm:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Gm(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vl(e){return(t,n)=>-e(-t,n)}function kd(e){const t=e(yl,wl),n=t.domain;let r=10,i,a;function o(){return i=Gm(r),a=Ym(r),n()[0]<0?(i=vl(i),a=vl(a),e(Hm,jm)):e(yl,wl),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const f=n();let l=f[0],c=f[f.length-1];const u=c<l;u&&([l,c]=[c,l]);let d=i(l),h=i(c),p,g;const m=s==null?10:+s;let b=[];if(!(r%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/a(-d):p*a(d),!(g<l)){if(g>c)break;b.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/a(-d):p*a(d),!(g<l)){if(g>c)break;b.push(g)}b.length*2<m&&(b=Xi(l,c,m))}else b=Xi(d,h,Math.min(h-d,m)).map(a);return u?b.reverse():b},t.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=Kr(f)).precision==null&&(f.trim=!0),f=Sr(f)),s===1/0)return f;const l=Math.max(1,r*s/t.ticks().length);return c=>{let u=c/a(Math.round(i(c)));return u*r<r-.5&&(u*=r),u<=l?f(c):""}},t.nice=()=>n(Td(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function Ed(){const e=kd(Ra()).domain([1,10]);return e.copy=()=>di(e,Ed()).base(e.base()),an.apply(e,arguments),e}function Ml(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Sl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function xd(e){var t=1,n=e(Ml(t),Sl(t));return n.constant=function(r){return arguments.length?e(Ml(t=+r),Sl(t)):t},hi(n)}function Ad(){var e=xd(Ra());return e.copy=function(){return di(e,Ad()).constant(e.constant())},an.apply(e,arguments)}function Tl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Zm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Xm(e){return e<0?-e*e:e*e}function Cd(e){var t=e(Lt,Lt),n=1;function r(){return n===1?e(Lt,Lt):n===.5?e(Zm,Xm):e(Tl(n),Tl(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},hi(t)}function Nd(){var e=Cd(Ra());return e.copy=function(){return di(e,Nd()).exponent(e.exponent())},an.apply(e,arguments),e}function Dd(){var e=[],t=[],n=[],r;function i(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=cm(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:t[tf(n,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(yt),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Dd().domain(e).range(t).unknown(r)},an.apply(a,arguments)}function Id(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[tf(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Id().domain(e).range(t).unknown(n)},an.apply(i,arguments)}const bo=new Date,_o=new Date;function Je(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const f=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return f;let l;do f.push(l=new Date(+a)),t(a,s),e(a);while(l<a&&a<o);return f},i.filter=a=>Je(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(bo.setTime(+a),_o.setTime(+o),e(bo),e(_o),Math.floor(n(bo,_o))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const na=Je(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);na.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Je(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):na);na.range;const dn=1e3,Ot=dn*60,hn=Ot*60,mn=hn*24,pf=mn*7,kl=mn*30,yo=mn*365,pn=Je(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dn)},(e,t)=>(t-e)/dn,e=>e.getUTCSeconds());pn.range;const qa=Je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn)},(e,t)=>{e.setTime(+e+t*Ot)},(e,t)=>(t-e)/Ot,e=>e.getMinutes());qa.range;const Ba=Je(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ot)},(e,t)=>(t-e)/Ot,e=>e.getUTCMinutes());Ba.range;const Fa=Je(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dn-e.getMinutes()*Ot)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getHours());Fa.range;const Ua=Je(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCHours());Ua.range;const Tr=Je(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ot)/mn,e=>e.getDate()-1);Tr.range;const pi=Je(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mn,e=>e.getUTCDate()-1);pi.range;const Ld=Je(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mn,e=>Math.floor(e/mn));Ld.range;function jn(e){return Je(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ot)/pf)}const mr=jn(0),ei=jn(1),Od=jn(2),Pd=jn(3),Un=jn(4),Rd=jn(5),qd=jn(6);mr.range;ei.range;Od.range;Pd.range;Un.range;Rd.range;qd.range;function Wn(e){return Je(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/pf)}const br=Wn(0),ti=Wn(1),Bd=Wn(2),Fd=Wn(3),zn=Wn(4),Ud=Wn(5),zd=Wn(6);br.range;ti.range;Bd.range;Fd.range;zn.range;Ud.range;zd.range;const fr=Je(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fr.range;const lr=Je(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lr.range;const en=Je(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());en.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Je(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});en.range;const tn=Je(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());tn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Je(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});tn.range;function Vd(e,t,n,r,i,a){const o=[[pn,1,dn],[pn,5,5*dn],[pn,15,15*dn],[pn,30,30*dn],[a,1,Ot],[a,5,5*Ot],[a,15,15*Ot],[a,30,30*Ot],[i,1,hn],[i,3,3*hn],[i,6,6*hn],[i,12,12*hn],[r,1,mn],[r,2,2*mn],[n,1,pf],[t,1,kl],[t,3,3*kl],[e,1,yo]];function s(l,c,u){const d=c<l;d&&([l,c]=[c,l]);const h=u&&typeof u.range=="function"?u:f(l,c,u),p=h?h.range(l,+c+1):[];return d?p.reverse():p}function f(l,c,u){const d=Math.abs(c-l)/u,h=ef(([,,m])=>m).right(o,d);if(h===o.length)return e.every(os(l/yo,c/yo,u));if(h===0)return na.every(Math.max(os(l,c,u),1));const[p,g]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(g)}return[s,f]}const[Jm,Qm]=Vd(tn,lr,br,Ld,Ua,Ba),[Km,eb]=Vd(en,fr,mr,Tr,Fa,qa);function wo(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vo(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ir(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function tb(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,f=e.shortMonths,l=Lr(i),c=Or(i),u=Lr(a),d=Or(a),h=Lr(o),p=Or(o),g=Lr(s),m=Or(s),b=Lr(f),y=Or(f),v={a:U,A:K,b:H,B:J,c:null,d:Dl,e:Dl,f:Tb,g:Ob,G:Rb,H:vb,I:Mb,j:Sb,L:$d,m:kb,M:Eb,p:Z,q:te,Q:Ol,s:Pl,S:xb,u:Ab,U:Cb,V:Nb,w:Db,W:Ib,x:null,X:null,y:Lb,Y:Pb,Z:qb,"%":Ll},_={a:ne,A:Be,b:ye,B:F,c:null,d:Il,e:Il,f:zb,g:Jb,G:Kb,H:Bb,I:Fb,j:Ub,L:jd,m:Vb,M:$b,p:Se,q:je,Q:Ol,s:Pl,S:Hb,u:jb,U:Wb,V:Yb,w:Gb,W:Zb,x:null,X:null,y:Xb,Y:Qb,Z:e_,"%":Ll},w={a:D,A:k,b:q,B:E,c:I,d:Cl,e:Cl,f:bb,g:Al,G:xl,H:Nl,I:Nl,j:hb,L:mb,m:db,M:pb,p:O,q:ub,Q:yb,s:wb,S:gb,u:ob,U:sb,V:fb,w:ab,W:lb,x:M,X:N,y:Al,Y:xl,Z:cb,"%":_b};v.x=T(n,v),v.X=T(r,v),v.c=T(t,v),_.x=T(n,_),_.X=T(r,_),_.c=T(t,_);function T(C,V){return function($){var B=[],fe=-1,le=0,de=C.length,he,ee,Fe;for($ instanceof Date||($=new Date(+$));++fe<de;)C.charCodeAt(fe)===37&&(B.push(C.slice(le,fe)),(ee=El[he=C.charAt(++fe)])!=null?he=C.charAt(++fe):ee=he==="e"?" ":"0",(Fe=V[he])&&(he=Fe($,ee)),B.push(he),le=fe+1);return B.push(C.slice(le,fe)),B.join("")}}function S(C,V){return function($){var B=Ir(1900,void 0,1),fe=L(B,C,$+="",0),le,de;if(fe!=$.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(V&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(le=vo(Ir(B.y,0,1)),de=le.getUTCDay(),le=de>4||de===0?ti.ceil(le):ti(le),le=pi.offset(le,(B.V-1)*7),B.y=le.getUTCFullYear(),B.m=le.getUTCMonth(),B.d=le.getUTCDate()+(B.w+6)%7):(le=wo(Ir(B.y,0,1)),de=le.getDay(),le=de>4||de===0?ei.ceil(le):ei(le),le=Tr.offset(le,(B.V-1)*7),B.y=le.getFullYear(),B.m=le.getMonth(),B.d=le.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),de="Z"in B?vo(Ir(B.y,0,1)).getUTCDay():wo(Ir(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(de+5)%7:B.w+B.U*7-(de+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,vo(B)):wo(B)}}function L(C,V,$,B){for(var fe=0,le=V.length,de=$.length,he,ee;fe<le;){if(B>=de)return-1;if(he=V.charCodeAt(fe++),he===37){if(he=V.charAt(fe++),ee=w[he in El?V.charAt(fe++):he],!ee||(B=ee(C,$,B))<0)return-1}else if(he!=$.charCodeAt(B++))return-1}return B}function O(C,V,$){var B=l.exec(V.slice($));return B?(C.p=c.get(B[0].toLowerCase()),$+B[0].length):-1}function D(C,V,$){var B=h.exec(V.slice($));return B?(C.w=p.get(B[0].toLowerCase()),$+B[0].length):-1}function k(C,V,$){var B=u.exec(V.slice($));return B?(C.w=d.get(B[0].toLowerCase()),$+B[0].length):-1}function q(C,V,$){var B=b.exec(V.slice($));return B?(C.m=y.get(B[0].toLowerCase()),$+B[0].length):-1}function E(C,V,$){var B=g.exec(V.slice($));return B?(C.m=m.get(B[0].toLowerCase()),$+B[0].length):-1}function I(C,V,$){return L(C,t,V,$)}function M(C,V,$){return L(C,n,V,$)}function N(C,V,$){return L(C,r,V,$)}function U(C){return o[C.getDay()]}function K(C){return a[C.getDay()]}function H(C){return f[C.getMonth()]}function J(C){return s[C.getMonth()]}function Z(C){return i[+(C.getHours()>=12)]}function te(C){return 1+~~(C.getMonth()/3)}function ne(C){return o[C.getUTCDay()]}function Be(C){return a[C.getUTCDay()]}function ye(C){return f[C.getUTCMonth()]}function F(C){return s[C.getUTCMonth()]}function Se(C){return i[+(C.getUTCHours()>=12)]}function je(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var V=T(C+="",v);return V.toString=function(){return C},V},parse:function(C){var V=S(C+="",!1);return V.toString=function(){return C},V},utcFormat:function(C){var V=T(C+="",_);return V.toString=function(){return C},V},utcParse:function(C){var V=S(C+="",!0);return V.toString=function(){return C},V}}}var El={"-":"",_:" ",0:"0"},ot=/^\s*\d+/,nb=/^%/,rb=/[\\^$*+?|[\]().{}]/g;function Me(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function ib(e){return e.replace(rb,"\\$&")}function Lr(e){return new RegExp("^(?:"+e.map(ib).join("|")+")","i")}function Or(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function ab(e,t,n){var r=ot.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ob(e,t,n){var r=ot.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function sb(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fb(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lb(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xl(e,t,n){var r=ot.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Al(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function cb(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ub(e,t,n){var r=ot.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function db(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Cl(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hb(e,t,n){var r=ot.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Nl(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pb(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gb(e,t,n){var r=ot.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mb(e,t,n){var r=ot.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function bb(e,t,n){var r=ot.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _b(e,t,n){var r=nb.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yb(e,t,n){var r=ot.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wb(e,t,n){var r=ot.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Dl(e,t){return Me(e.getDate(),t,2)}function vb(e,t){return Me(e.getHours(),t,2)}function Mb(e,t){return Me(e.getHours()%12||12,t,2)}function Sb(e,t){return Me(1+Tr.count(en(e),e),t,3)}function $d(e,t){return Me(e.getMilliseconds(),t,3)}function Tb(e,t){return $d(e,t)+"000"}function kb(e,t){return Me(e.getMonth()+1,t,2)}function Eb(e,t){return Me(e.getMinutes(),t,2)}function xb(e,t){return Me(e.getSeconds(),t,2)}function Ab(e){var t=e.getDay();return t===0?7:t}function Cb(e,t){return Me(mr.count(en(e)-1,e),t,2)}function Hd(e){var t=e.getDay();return t>=4||t===0?Un(e):Un.ceil(e)}function Nb(e,t){return e=Hd(e),Me(Un.count(en(e),e)+(en(e).getDay()===4),t,2)}function Db(e){return e.getDay()}function Ib(e,t){return Me(ei.count(en(e)-1,e),t,2)}function Lb(e,t){return Me(e.getFullYear()%100,t,2)}function Ob(e,t){return e=Hd(e),Me(e.getFullYear()%100,t,2)}function Pb(e,t){return Me(e.getFullYear()%1e4,t,4)}function Rb(e,t){var n=e.getDay();return e=n>=4||n===0?Un(e):Un.ceil(e),Me(e.getFullYear()%1e4,t,4)}function qb(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Me(t/60|0,"0",2)+Me(t%60,"0",2)}function Il(e,t){return Me(e.getUTCDate(),t,2)}function Bb(e,t){return Me(e.getUTCHours(),t,2)}function Fb(e,t){return Me(e.getUTCHours()%12||12,t,2)}function Ub(e,t){return Me(1+pi.count(tn(e),e),t,3)}function jd(e,t){return Me(e.getUTCMilliseconds(),t,3)}function zb(e,t){return jd(e,t)+"000"}function Vb(e,t){return Me(e.getUTCMonth()+1,t,2)}function $b(e,t){return Me(e.getUTCMinutes(),t,2)}function Hb(e,t){return Me(e.getUTCSeconds(),t,2)}function jb(e){var t=e.getUTCDay();return t===0?7:t}function Wb(e,t){return Me(br.count(tn(e)-1,e),t,2)}function Wd(e){var t=e.getUTCDay();return t>=4||t===0?zn(e):zn.ceil(e)}function Yb(e,t){return e=Wd(e),Me(zn.count(tn(e),e)+(tn(e).getUTCDay()===4),t,2)}function Gb(e){return e.getUTCDay()}function Zb(e,t){return Me(ti.count(tn(e)-1,e),t,2)}function Xb(e,t){return Me(e.getUTCFullYear()%100,t,2)}function Jb(e,t){return e=Wd(e),Me(e.getUTCFullYear()%100,t,2)}function Qb(e,t){return Me(e.getUTCFullYear()%1e4,t,4)}function Kb(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zn(e):zn.ceil(e),Me(e.getUTCFullYear()%1e4,t,4)}function e_(){return"+0000"}function Ll(){return"%"}function Ol(e){return+e}function Pl(e){return Math.floor(+e/1e3)}var Jn,Yd,za;t_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function t_(e){return Jn=tb(e),Yd=Jn.format,Jn.parse,za=Jn.utcFormat,Jn.utcParse,Jn}function n_(e){return new Date(e)}function r_(e){return e instanceof Date?+e:+new Date(+e)}function gf(e,t,n,r,i,a,o,s,f,l){var c=wd(),u=c.invert,d=c.domain,h=l(".%L"),p=l(":%S"),g=l("%I:%M"),m=l("%I %p"),b=l("%a %d"),y=l("%b %d"),v=l("%B"),_=l("%Y");function w(T){return(f(T)<T?h:s(T)<T?p:o(T)<T?g:a(T)<T?m:r(T)<T?i(T)<T?b:y:n(T)<T?v:_)(T)}return c.invert=function(T){return new Date(u(T))},c.domain=function(T){return arguments.length?d(Array.from(T,r_)):d().map(n_)},c.ticks=function(T){var S=d();return e(S[0],S[S.length-1],T??10)},c.tickFormat=function(T,S){return S==null?w:l(S)},c.nice=function(T){var S=d();return(!T||typeof T.range!="function")&&(T=t(S[0],S[S.length-1],T??10)),T?d(Td(S,T)):c},c.copy=function(){return di(c,gf(e,t,n,r,i,a,o,s,f,l))},c}function i_(){return an.apply(gf(Km,eb,en,fr,mr,Tr,Fa,qa,pn,Yd).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function a_(){return an.apply(gf(Jm,Qm,tn,lr,br,pi,Ua,Ba,pn,za).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Va(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $a(){var e=0,t=.5,n=1,r=1,i,a,o,s,f,l=Lt,c,u=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+c(g))-a)*(r*g<r*a?s:f),l(u?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=c(e=+e),a=c(t=+t),o=c(n=+n),s=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(u=!!g,h):u},h.interpolator=function(g){return arguments.length?(l=g,h):l};function p(g){return function(m){var b,y,v;return arguments.length?([b,y,v]=m,l=uf(g,[b,y,v]),h):[l(0),l(.5),l(1)]}}return h.range=p(ui),h.rangeRound=p(lf),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return c=g,i=g(e),a=g(t),o=g(n),s=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function Gd(){var e=hi($a()(Lt));return e.copy=function(){return Va(e,Gd())},La.apply(e,arguments)}function Zd(){var e=kd($a()).domain([.1,1,10]);return e.copy=function(){return Va(e,Zd()).base(e.base())},La.apply(e,arguments)}function Xd(){var e=xd($a());return e.copy=function(){return Va(e,Xd()).constant(e.constant())},La.apply(e,arguments)}function Jd(){var e=Cd($a());return e.copy=function(){return Va(e,Jd()).exponent(e.exponent())},La.apply(e,arguments)}const o_=!0,s_=!1,v5=Object.freeze(Object.defineProperty({__proto__:null,prerender:o_,ssr:s_},Symbol.toStringTag,{value:"Module"}));var Qd={exports:{}},f_=Qd.exports={};f_.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var Kd=Qd.exports,l_=function(e){var t=e.stateHandler.getState;function n(o){var s=t(o);return s&&!!s.isDetectable}function r(o){t(o).isDetectable=!0}function i(o){return!!t(o).busy}function a(o,s){t(o).busy=!!s}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},c_=function(e){var t={};function n(o){var s=e.get(o);return s===void 0?[]:t[s]||[]}function r(o,s){var f=e.get(o);t[f]||(t[f]=[]),t[f].push(s)}function i(o,s){for(var f=n(o),l=0,c=f.length;l<c;++l)if(f[l]===s){f.splice(l,1);break}}function a(o){var s=n(o);s&&(s.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},u_=function(){var e=1;function t(){return e++}return{generate:t}},d_=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var o=n(a);return o&&o.id!==void 0?o.id:null}function i(a){var o=n(a);if(!o)throw new Error("setId required the element to have a resize detection state.");var s=t.generate();return o.id=s,s}return{get:r,set:i}},h_=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var s=console[a];if(s.apply)s.apply(console,arguments);else for(var f=0;f<arguments.length;f++)s(arguments[f])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},eh={exports:{}},th=eh.exports={};th.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),o=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(o[0]);return i>4?i:r}();return e===n};th.isLegacyOpera=function(){return!!window.opera};var nh=eh.exports,rh={exports:{}},p_=rh.exports={};p_.getOption=g_;function g_(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var m_=rh.exports,Rl=m_,b_=function(t){t=t||{};var n=t.reporter,r=Rl.getOption(t,"async",!0),i=Rl.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=ql(),o,s=!1;function f(p,g){!s&&i&&r&&a.size()===0&&u(),a.add(p,g)}function l(){for(s=!0;a.size();){var p=a;a=ql(),p.process()}s=!1}function c(p){s||(p===void 0&&(p=r),o&&(d(o),o=null),p?u():l())}function u(){o=h(l)}function d(p){var g=clearTimeout;return g(p)}function h(p){var g=function(m){return setTimeout(m,0)};return g(p)}return{add:f,force:c}};function ql(){var e={},t=0,n=0,r=0;function i(s,f){f||(f=s,s=0),s>n?n=s:s<r&&(r=s),e[s]||(e[s]=[]),e[s].push(f),t++}function a(){for(var s=r;s<=n;s++)for(var f=e[s],l=0;l<f.length;l++){var c=f[l];c()}}function o(){return t}return{add:i,process:a,size:o}}var mf="_erd";function __(e){return e[mf]={},ih(e)}function ih(e){return e[mf]}function y_(e){delete e[mf]}var w_={initState:__,getState:ih,cleanState:y_},Pr=nh,v_=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(l,c){function u(){c(l)}if(Pr.isIE(8))r(l).object={proxy:u},l.attachEvent("onresize",u);else{var d=s(l);if(!d)throw new Error("Element is not detectable by this strategy.");d.contentDocument.defaultView.addEventListener("resize",u)}}function a(l){var c=e.important?" !important; ":"; ";return(l.join(c)+c).trim()}function o(l,c,u){u||(u=c,c=l,l=null),l=l||{},l.debug;function d(h,p){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),m=!1,b=window.getComputedStyle(h),y=h.offsetWidth,v=h.offsetHeight;r(h).startSize={width:y,height:v};function _(){function w(){if(b.position==="static"){h.style.setProperty("position","relative",l.important?"important":"");var L=function(O,D,k,q){function E(M){return M.replace(/[^-\d\.]/g,"")}var I=k[q];I!=="auto"&&E(I)!=="0"&&(O.warn("An element that is positioned static has style."+q+"="+I+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+q+" will be set to 0. Element: ",D),D.style.setProperty(q,"0",l.important?"important":""))};L(t,h,b,"top"),L(t,h,b,"right"),L(t,h,b,"bottom"),L(t,h,b,"left")}}function T(){m||w();function L(D,k){if(!D.contentDocument){var q=r(D);q.checkForObjectDocumentTimeoutId&&window.clearTimeout(q.checkForObjectDocumentTimeoutId),q.checkForObjectDocumentTimeoutId=setTimeout(function(){q.checkForObjectDocumentTimeoutId=0,L(D,k)},100);return}k(D.contentDocument)}var O=this;L(O,function(k){p(h)})}b.position!==""&&(w(),m=!0);var S=document.createElement("object");S.style.cssText=g,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=T,Pr.isIE()||(S.data="about:blank"),r(h)&&(h.appendChild(S),r(h).object=S,Pr.isIE()&&(S.data="about:blank"))}n?n.add(_):_()}Pr.isIE(8)?u(c):d(c,u)}function s(l){return r(l).object}function f(l){if(r(l)){var c=s(l);c&&(Pr.isIE(8)?l.detachEvent("onresize",c.proxy):l.removeChild(c),r(l).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(l).checkForObjectDocumentTimeoutId),delete r(l).object)}}return{makeDetectable:o,addListener:i,uninstall:f}},M_=Kd.forEach,S_=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=c(),o="erd_scroll_detection_scrollbar_style",s="erd_scroll_detection_container";function f(_){u(_,o,s)}f(window.document);function l(_){var w=e.important?" !important; ":"; ";return(_.join(w)+w).trim()}function c(){var _=500,w=500,T=document.createElement("div");T.style.cssText=l(["position: absolute","width: "+_*2+"px","height: "+w*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=l(["position: absolute","width: "+_+"px","height: "+w+"px","overflow: scroll","visibility: none","top: "+-_*3+"px","left: "+-w*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(T),document.body.insertBefore(S,document.body.firstChild);var L=_-S.clientWidth,O=w-S.clientHeight;return document.body.removeChild(S),{width:L,height:O}}function u(_,w,T){function S(k,q){q=q||function(I){_.head.appendChild(I)};var E=_.createElement("style");return E.innerHTML=k,E.id=w,q(E),E}if(!_.getElementById(w)){var L=T+"_animation",O=T+"_animation_active",D=`/* Created by the element-resize-detector library. */
`;D+="."+T+" > div::-webkit-scrollbar { "+l(["display: none"])+` }

`,D+="."+O+" { "+l(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+L,"animation-name: "+L])+` }
`,D+="@-webkit-keyframes "+L+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,D+="@keyframes "+L+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(D)}}function d(_){_.className+=" "+s+"_animation_active"}function h(_,w,T){if(_.addEventListener)_.addEventListener(w,T);else if(_.attachEvent)_.attachEvent("on"+w,T);else return t.error("[scroll] Don't know how to add event listeners.")}function p(_,w,T){if(_.removeEventListener)_.removeEventListener(w,T);else if(_.detachEvent)_.detachEvent("on"+w,T);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(_){return r(_).container.childNodes[0].childNodes[0].childNodes[0]}function m(_){return r(_).container.childNodes[0].childNodes[0].childNodes[1]}function b(_,w){var T=r(_).listeners;if(!T.push)throw new Error("Cannot add listener to an element that is not detectable.");r(_).listeners.push(w)}function y(_,w,T){T||(T=w,w=_,_=null),_=_||{};function S(){if(_.debug){var C=Array.prototype.slice.call(arguments);if(C.unshift(i.get(w),"Scroll: "),t.log.apply)t.log.apply(null,C);else for(var V=0;V<C.length;V++)t.log(C[V])}}function L(C){function V($){var B=$.getRootNode&&$.getRootNode().contains($);return $===$.ownerDocument.body||$.ownerDocument.body.contains($)||B}return!V(C)||window.getComputedStyle(C)===null}function O(C){var V=r(C).container.childNodes[0],$=window.getComputedStyle(V);return!$.width||$.width.indexOf("px")===-1}function D(){var C=window.getComputedStyle(w),V={};return V.position=C.position,V.width=w.offsetWidth,V.height=w.offsetHeight,V.top=C.top,V.right=C.right,V.bottom=C.bottom,V.left=C.left,V.widthCSS=C.width,V.heightCSS=C.height,V}function k(){var C=D();r(w).startSize={width:C.width,height:C.height},S("Element start size",r(w).startSize)}function q(){r(w).listeners=[]}function E(){if(S("storeStyle invoked."),!r(w)){S("Aborting because element has been uninstalled");return}var C=D();r(w).style=C}function I(C,V,$){r(C).lastWidth=V,r(C).lastHeight=$}function M(C){return g(C).childNodes[0]}function N(){return 2*a.width+1}function U(){return 2*a.height+1}function K(C){return C+10+N()}function H(C){return C+10+U()}function J(C){return C*2+N()}function Z(C){return C*2+U()}function te(C,V,$){var B=g(C),fe=m(C),le=K(V),de=H($),he=J(V),ee=Z($);B.scrollLeft=le,B.scrollTop=de,fe.scrollLeft=he,fe.scrollTop=ee}function ne(){var C=r(w).container;if(!C){C=document.createElement("div"),C.className=s,C.style.cssText=l(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(w).container=C,d(C),w.appendChild(C);var V=function(){r(w).onRendered&&r(w).onRendered()};h(C,"animationstart",V),r(w).onAnimationStart=V}return C}function Be(){function C(){var Te=r(w).style;if(Te.position==="static"){w.style.setProperty("position","relative",_.important?"important":"");var tt=function(ft,dt,Yt,x){function Q(we){return we.replace(/[^-\d\.]/g,"")}var pe=Yt[x];pe!=="auto"&&Q(pe)!=="0"&&(ft.warn("An element that is positioned static has style."+x+"="+pe+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+x+" will be set to 0. Element: ",dt),dt.style[x]=0)};tt(t,w,Te,"top"),tt(t,w,Te,"right"),tt(t,w,Te,"bottom"),tt(t,w,Te,"left")}}function V(Te,tt,ft,dt){return Te=Te?Te+"px":"0",tt=tt?tt+"px":"0",ft=ft?ft+"px":"0",dt=dt?dt+"px":"0",["left: "+Te,"top: "+tt,"right: "+dt,"bottom: "+ft]}if(S("Injecting elements"),!r(w)){S("Aborting because element has been uninstalled");return}C();var $=r(w).container;$||($=ne());var B=a.width,fe=a.height,le=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=l(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(V(-(1+B),-(1+fe),-fe,-B))),he=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ee=l(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Fe=l(["position: absolute","left: 0","top: 0"]),Oe=l(["position: absolute","width: 200%","height: 200%"]),st=document.createElement("div"),Ne=document.createElement("div"),Ke=document.createElement("div"),De=document.createElement("div"),et=document.createElement("div"),Ve=document.createElement("div");st.dir="ltr",st.style.cssText=le,st.className=s,Ne.className=s,Ne.style.cssText=de,Ke.style.cssText=he,De.style.cssText=Fe,et.style.cssText=ee,Ve.style.cssText=Oe,Ke.appendChild(De),et.appendChild(Ve),Ne.appendChild(Ke),Ne.appendChild(et),st.appendChild(Ne),$.appendChild(st);function P(){var Te=r(w);Te&&Te.onExpand?Te.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function G(){var Te=r(w);Te&&Te.onShrink?Te.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}h(Ke,"scroll",P),h(et,"scroll",G),r(w).onExpandScroll=P,r(w).onShrinkScroll=G}function ye(){function C(he,ee,Fe){var Oe=M(he),st=K(ee),Ne=H(Fe);Oe.style.setProperty("width",st+"px",_.important?"important":""),Oe.style.setProperty("height",Ne+"px",_.important?"important":"")}function V(he){var ee=w.offsetWidth,Fe=w.offsetHeight,Oe=ee!==r(w).lastWidth||Fe!==r(w).lastHeight;S("Storing current size",ee,Fe),I(w,ee,Fe),n.add(0,function(){if(Oe){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!$()){S("Aborting because element container has not been initialized");return}if(_.debug){var Ne=w.offsetWidth,Ke=w.offsetHeight;(Ne!==ee||Ke!==Fe)&&t.warn(i.get(w),"Scroll: Size changed before updating detector elements.")}C(w,ee,Fe)}}),n.add(1,function(){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!$()){S("Aborting because element container has not been initialized");return}te(w,ee,Fe)}),Oe&&he&&n.add(2,function(){if(!r(w)){S("Aborting because element has been uninstalled");return}if(!$()){S("Aborting because element container has not been initialized");return}he()})}function $(){return!!r(w).container}function B(){function he(){return r(w).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var ee=r(w);if(he()&&ee.lastWidth===ee.startSize.width&&ee.lastHeight===ee.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(ee.lastWidth===ee.lastNotifiedWidth&&ee.lastHeight===ee.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),ee.lastNotifiedWidth=ee.lastWidth,ee.lastNotifiedHeight=ee.lastHeight,M_(r(w).listeners,function(Fe){Fe(w)})}function fe(){if(S("startanimation triggered."),O(w)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var he=g(w),ee=m(w);(he.scrollLeft===0||he.scrollTop===0||ee.scrollLeft===0||ee.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),V(B))}function le(){if(S("Scroll detected."),O(w)){S("Scroll event fired while unrendered. Ignoring...");return}V(B)}if(S("registerListenersAndPositionElements invoked."),!r(w)){S("Aborting because element has been uninstalled");return}r(w).onRendered=fe,r(w).onExpand=le,r(w).onShrink=le;var de=r(w).style;C(w,de.width,de.height)}function F(){if(S("finalizeDomMutation invoked."),!r(w)){S("Aborting because element has been uninstalled");return}var C=r(w).style;I(w,C.width,C.height),te(w,C.width,C.height)}function Se(){T(w)}function je(){S("Installing..."),q(),k(),n.add(0,E),n.add(1,Be),n.add(2,ye),n.add(3,F),n.add(4,Se)}S("Making detectable..."),L(w)?(S("Element is detached"),ne(),S("Waiting until element is attached..."),r(w).onRendered=function(){S("Element is now attached"),je()}):je()}function v(_){var w=r(_);w&&(w.onExpandScroll&&p(g(_),"scroll",w.onExpandScroll),w.onShrinkScroll&&p(m(_),"scroll",w.onShrinkScroll),w.onAnimationStart&&p(w.container,"animationstart",w.onAnimationStart),w.container&&_.removeChild(w.container))}return{makeDetectable:y,addListener:b,uninstall:v,initDocument:f}},Br=Kd.forEach,T_=l_,k_=c_,E_=u_,x_=d_,A_=h_,Bl=nh,C_=b_,Sn=w_,N_=v_,D_=S_;function Fl(e){return Array.isArray(e)||e.length!==void 0}function Ul(e){if(Array.isArray(e))return e;var t=[];return Br(e,function(n){t.push(n)}),t}function zl(e){return e&&e.nodeType===1}var I_=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=E_(),r=x_({idGenerator:n,stateHandler:Sn});t=r}var i=e.reporter;if(!i){var a=i===!1;i=A_(a)}var o=Tn(e,"batchProcessor",C_({reporter:i})),s={};s.callOnAdd=!!Tn(e,"callOnAdd",!0),s.debug=!!Tn(e,"debug",!1);var f=k_(t),l=T_({stateHandler:Sn}),c,u=Tn(e,"strategy","object"),d=Tn(e,"important",!1),h={reporter:i,batchProcessor:o,stateHandler:Sn,idHandler:t,important:d};if(u==="scroll"&&(Bl.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),u="object"):Bl.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),u="object")),u==="scroll")c=D_(h);else if(u==="object")c=N_(h);else throw new Error("Invalid strategy name: "+u);var p={};function g(y,v,_){function w(k){var q=f.get(k);Br(q,function(I){I(k)})}function T(k,q,E){f.add(q,E),k&&E(q)}if(_||(_=v,v=y,y={}),!v)throw new Error("At least one element required.");if(!_)throw new Error("Listener required.");if(zl(v))v=[v];else if(Fl(v))v=Ul(v);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,L=Tn(y,"callOnAdd",s.callOnAdd),O=Tn(y,"onReady",function(){}),D=Tn(y,"debug",s.debug);Br(v,function(q){Sn.getState(q)||(Sn.initState(q),t.set(q));var E=t.get(q);if(D&&i.log("Attaching listener to element",E,q),!l.isDetectable(q)){if(D&&i.log(E,"Not detectable."),l.isBusy(q)){D&&i.log(E,"System busy making it detectable"),T(L,q,_),p[E]=p[E]||[],p[E].push(function(){S++,S===v.length&&O()});return}return D&&i.log(E,"Making detectable..."),l.markBusy(q,!0),c.makeDetectable({debug:D,important:d},q,function(M){if(D&&i.log(E,"onElementDetectable"),Sn.getState(M)){l.markAsDetectable(M),l.markBusy(M,!1),c.addListener(M,w),T(L,M,_);var N=Sn.getState(M);if(N&&N.startSize){var U=M.offsetWidth,K=M.offsetHeight;(N.startSize.width!==U||N.startSize.height!==K)&&w(M)}p[E]&&Br(p[E],function(H){H()})}else D&&i.log(E,"Element uninstalled before being detectable.");delete p[E],S++,S===v.length&&O()})}D&&i.log(E,"Already detecable, adding listener."),T(L,q,_),S++}),S===v.length&&O()}function m(y){if(!y)return i.error("At least one element is required.");if(zl(y))y=[y];else if(Fl(y))y=Ul(y);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Br(y,function(v){f.removeAllListeners(v),c.uninstall(v),Sn.cleanState(v)})}function b(y){c.initDocument&&c.initDocument(y)}return{listenTo:g,removeListener:f.removeListener,removeAllListeners:f.removeAllListeners,uninstall:m,initDocument:b}};function Tn(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const L_=Sg(I_);var Ei=L_({strategy:"scroll"});function Ha(e,t){Ei.listenTo(e,t);var n=t;return{update:function(r){Ei.removeListener(e,n),Ei.listenTo(e,r),n=r},destroy:function(){Ei.removeListener(e,n)}}}function ah(e,t,n){return function(){for(var r=[],i=0,a=e,o=0;o<t.length||i<arguments.length;){var s;o<t.length&&(!ol(t[o])||i>=arguments.length)?s=t[o]:(s=arguments[i],i+=1),r[o]=s,ol(s)||(a-=1),o+=1}return a<=0?n.apply(this,r):Xu(a,ah(e,r,n))}}var O_=At(function(t,n){return t===1?Tg(n):Xu(t,ah(t,[],n))});function P_(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var R_=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=dr.init,e.prototype["@@transducer/result"]=dr.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),q_=At(function(t,n){return new R_(t,n)}),bf=At(Qs(["fantasy-land/map","map"],q_,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return O_(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return ts(function(r,i){return r[i]=t(n[i]),r},{},qn(n));default:return P_(t,n)}}));const oh=Number.isInteger||function(t){return t<<0===t};var sh=At(function(t,n){var r=t<0?n.length+t:t;return kg(n)?n.charAt(r):n[r]}),B_=At(function(t,n){if(n!=null)return oh(t)?sh(t,n):n[t]}),F_=At(function(t,n){return bf(B_(t),n)});const ra=F_;function U_(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var z_=function(e){return{"@@transducer/init":dr.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?U_(r):r}}},V_=function(t){var n=z_(t);return{"@@transducer/init":dr.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return Eg(i)?ts(n,r,i):ts(n,r,[i])}}},$_=At(function(t,n){return bf(t,V_(n))}),H_=At(Qs(["fantasy-land/chain","chain"],$_,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:xg(!1)(bf(t,n))}));const fh=H_;var j_=At(function(t,n){return n==null||n!==n?t:n}),W_=function(){function e(t,n){this.xf=n,this.f=t,this.set=new Ju}return e.prototype["@@transducer/init"]=dr.init,e.prototype["@@transducer/result"]=dr.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),Y_=At(function(t,n){return new W_(t,n)}),G_=At(Qs([],Y_,function(e,t){for(var n=new Ju,r=[],i=0,a,o;i<t.length;)o=t[i],a=e(o),n.add(a)&&r.push(o),i+=1;return r}));const Z_=G_;var X_=Z_(Ag);const J_=X_;var Q_=At(function(t,n){return t.map(function(r){for(var i=n,a=0,o;a<r.length;){if(i==null)return;o=r[a],i=oh(o)?sh(o,i):i[o],a+=1}return i})}),K_=At(function(t,n){return Q_([t],n)[0]});const lh=K_;var e2=Cg(function(t,n,r){return j_(t,lh(n,r))});const t2=e2;function n2(e){return e}var Mo=1,So=2,hs=3,xi=4,Vl=1e-6;function r2(e){return"translate("+e+",0)"}function i2(e){return"translate(0,"+e+")"}function a2(e){return t=>+e(t)}function o2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function s2(){return!this.__axis}function f2(e,t){var n=[],r=null,i=null,a=6,o=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Mo||e===xi?-1:1,c=e===xi||e===So?"x":"y",u=e===Mo||e===hs?r2:i2;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):n2),m=Math.max(a,0)+s,b=t.range(),y=+b[0]+f,v=+b[b.length-1]+f,_=(t.bandwidth?o2:a2)(t.copy(),f),w=h.selection?h.selection():h,T=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(p,t).order(),L=S.exit(),O=S.enter().append("g").attr("class","tick"),D=S.select("line"),k=S.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(O),D=D.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),k=k.merge(O.append("text").attr("fill","currentColor").attr(c,l*m).attr("dy",e===Mo?"0em":e===hs?"0.71em":"0.32em")),h!==w&&(T=T.transition(h),S=S.transition(h),D=D.transition(h),k=k.transition(h),L=L.transition(h).attr("opacity",Vl).attr("transform",function(q){return isFinite(q=_(q))?u(q+f):this.getAttribute("transform")}),O.attr("opacity",Vl).attr("transform",function(q){var E=this.parentNode.__axis;return u((E&&isFinite(E=E(q))?E:_(q))+f)})),L.remove(),T.attr("d",e===xi||e===So?o?"M"+l*o+","+y+"H"+f+"V"+v+"H"+l*o:"M"+f+","+y+"V"+v:o?"M"+y+","+l*o+"V"+f+"H"+v+"V"+l*o:"M"+y+","+f+"H"+v),S.attr("opacity",1).attr("transform",function(q){return u(_(q)+f)}),D.attr(c+"2",l*a),k.attr(c,l*m).text(g),w.filter(s2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===So?"start":e===xi?"end":"middle"),w.each(function(){this.__axis=_})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(f=+h,d):f},d}function l2(e){return f2(hs,e)}const ps=Math.PI,gs=2*ps,Pn=1e-6,c2=gs-Pn;function ch(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function u2(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ch;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uh{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ch:u2(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,f=r-t,l=i-n,c=o-t,u=s-n,d=c*c+u*u;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Pn)if(!(Math.abs(u*f-l*c)>Pn)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-s,g=f*f+l*l,m=h*h+p*p,b=Math.sqrt(g),y=Math.sqrt(d),v=a*Math.tan((ps-Math.acos((g+d-m)/(2*b*y)))/2),_=v/y,w=v/b;Math.abs(_-1)>Pn&&this._append`L${t+_*c},${n+_*u}`,this._append`A${a},${a},0,0,${+(u*h>c*p)},${this._x1=t+w*f},${this._y1=n+w*l}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),f=r*Math.sin(i),l=t+s,c=n+f,u=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Pn||Math.abs(this._y1-c)>Pn)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%gs+gs),d>c2?this._append`A${r},${r},0,1,${u},${t-s},${n-f}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>Pn&&this._append`A${r},${r},0,${+(d>=ps)},${u},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ia(e=3){return new uh(+e)}var ce=1e-6,dh=1e-12,be=Math.PI,He=be/2,$l=be/4,xt=be*2,bt=180/be,$e=be/180,Ee=Math.abs,kr=Math.atan,bn=Math.atan2,ge=Math.cos,hh=Math.exp,aa=Math.log,To=Math.pow,se=Math.sin,Pt=Math.sign||function(e){return e>0?1:e<0?-1:0},wt=Math.sqrt,_f=Math.tan;function ph(e){return e>1?0:e<-1?be:Math.acos(e)}function Bt(e){return e>1?He:e<-1?-He:Math.asin(e)}function Rt(){}function oa(e,t){e&&jl.hasOwnProperty(e.type)&&jl[e.type](e,t)}var Hl={Feature:function(e,t){oa(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)oa(n[r].geometry,t)}},jl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ms(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ms(n[r],t,0)},Polygon:function(e,t){Wl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Wl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)oa(n[r],t)}};function ms(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Wl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ms(e[n],t,1);t.polygonEnd()}function tr(e,t){e&&Hl.hasOwnProperty(e.type)?Hl[e.type](e,t):oa(e,t)}function bs(e){return[bn(e[1],e[0]),Bt(e[2])]}function _r(e){var t=e[0],n=e[1],r=ge(n);return[r*ge(t),r*se(t),se(n)]}function Ai(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function sa(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ko(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ci(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _s(e){var t=wt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ys(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function ws(e,t){return Ee(e)>be&&(e-=Math.round(e/xt)*xt),[e,t]}ws.invert=ws;function gh(e,t,n){return(e%=xt)?t||n?ys(Gl(e),Zl(t,n)):Gl(e):t||n?Zl(t,n):ws}function Yl(e){return function(t,n){return t+=e,Ee(t)>be&&(t-=Math.round(t/xt)*xt),[t,n]}}function Gl(e){var t=Yl(e);return t.invert=Yl(-e),t}function Zl(e,t){var n=ge(e),r=se(e),i=ge(t),a=se(t);function o(s,f){var l=ge(f),c=ge(s)*l,u=se(s)*l,d=se(f),h=d*n+c*r;return[bn(u*i-h*a,c*n-d*r),Bt(h*i+u*a)]}return o.invert=function(s,f){var l=ge(f),c=ge(s)*l,u=se(s)*l,d=se(f),h=d*i-u*a;return[bn(u*i+d*a,c*n+h*r),Bt(h*n-c*r)]},o}function d2(e){e=gh(e[0]*$e,e[1]*$e,e.length>2?e[2]*$e:0);function t(n){return n=e(n[0]*$e,n[1]*$e),n[0]*=bt,n[1]*=bt,n}return t.invert=function(n){return n=e.invert(n[0]*$e,n[1]*$e),n[0]*=bt,n[1]*=bt,n},t}function h2(e,t,n,r,i,a){if(n){var o=ge(t),s=se(t),f=r*n;i==null?(i=t+r*xt,a=t-f/2):(i=Xl(o,i),a=Xl(o,a),(r>0?i<a:i>a)&&(i+=r*xt));for(var l,c=i;r>0?c>a:c<a;c-=f)l=bs([o,-s*ge(c),-s*se(c)]),e.point(l[0],l[1])}}function Xl(e,t){t=_r(t),t[0]-=e,_s(t);var n=ph(-t[1]);return((-t[2]<0?-n:n)+xt-ce)%xt}function mh(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Rt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function $i(e,t){return Ee(e[0]-t[0])<ce&&Ee(e[1]-t[1])<ce}function Ni(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function bh(e,t,n,r,i){var a=[],o=[],s,f;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],b=p[g],y;if($i(m,b)){if(!m[2]&&!b[2]){for(i.lineStart(),s=0;s<g;++s)i.point((m=p[s])[0],m[1]);i.lineEnd();return}b[0]+=2*ce}a.push(y=new Ni(m,p,null,!0)),o.push(y.o=new Ni(m,null,y,!1)),a.push(y=new Ni(b,p,null,!1)),o.push(y.o=new Ni(b,null,y,!0))}}),!!a.length){for(o.sort(t),Jl(a),Jl(o),s=0,f=o.length;s<f;++s)o[s].e=n=!n;for(var l=a[0],c,u;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,f=c.length;s<f;++s)i.point((u=c[s])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,s=c.length-1;s>=0;--s)i.point((u=c[s])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Jl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Eo(e){return Ee(e[0])<=be?e[0]:Pt(e[0])*((Ee(e[0])+be)%xt-be)}function p2(e,t){var n=Eo(t),r=t[1],i=se(r),a=[se(n),-ge(n),0],o=0,s=0,f=new Bn;i===1?r=He+ce:i===-1&&(r=-He-ce);for(var l=0,c=e.length;l<c;++l)if(d=(u=e[l]).length)for(var u,d,h=u[d-1],p=Eo(h),g=h[1]/2+$l,m=se(g),b=ge(g),y=0;y<d;++y,p=_,m=T,b=S,h=v){var v=u[y],_=Eo(v),w=v[1]/2+$l,T=se(w),S=ge(w),L=_-p,O=L>=0?1:-1,D=O*L,k=D>be,q=m*T;if(f.add(bn(q*O*se(D),b*S+q*ge(D))),o+=k?L+O*xt:L,k^p>=n^_>=n){var E=sa(_r(h),_r(v));_s(E);var I=sa(a,E);_s(I);var M=(k^L>=0?-1:1)*Bt(I[2]);(r>M||r===M&&(E[0]||E[1]))&&(s+=k^L>=0?1:-1)}}return(o<-ce||o<ce&&f<-dh)^s&1}function _h(e,t,n,r){return function(i){var a=t(i),o=mh(),s=t(o),f=!1,l,c,u,d={point:h,lineStart:g,lineEnd:m,polygonStart:function(){d.point=b,d.lineStart=y,d.lineEnd=v,c=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=m,c=sd(c);var _=p2(l,r);c.length?(f||(i.polygonStart(),f=!0),bh(c,m2,_,n,i)):_&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),c=l=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,w){e(_,w)&&i.point(_,w)}function p(_,w){a.point(_,w)}function g(){d.point=p,a.lineStart()}function m(){d.point=h,a.lineEnd()}function b(_,w){u.push([_,w]),s.point(_,w)}function y(){s.lineStart(),u=[]}function v(){b(u[0][0],u[0][1]),s.lineEnd();var _=s.clean(),w=o.result(),T,S=w.length,L,O,D;if(u.pop(),l.push(u),u=null,!!S){if(_&1){if(O=w[0],(L=O.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),T=0;T<L;++T)i.point((D=O[T])[0],D[1]);i.lineEnd()}return}S>1&&_&2&&w.push(w.pop().concat(w.shift())),c.push(w.filter(g2))}}return d}}function g2(e){return e.length>1}function m2(e,t){return((e=e.x)[0]<0?e[1]-He-ce:He-e[1])-((t=t.x)[0]<0?t[1]-He-ce:He-t[1])}const Ql=_h(function(){return!0},b2,y2,[-be,-He]);function b2(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var s=a>0?be:-be,f=Ee(a-t);Ee(f-be)<ce?(e.point(t,n=(n+o)/2>0?He:-He),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),e.point(a,n),i=0):r!==s&&f>=be&&(Ee(t-r)<ce&&(t-=r*ce),Ee(a-s)<ce&&(a-=s*ce),n=_2(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(s,n),i=0),e.point(t=a,n=o),r=s},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function _2(e,t,n,r){var i,a,o=se(e-n);return Ee(o)>ce?kr((se(t)*(a=ge(r))*se(n)-se(r)*(i=ge(t))*se(e))/(i*a*o)):(t+r)/2}function y2(e,t,n,r){var i;if(e==null)i=n*He,r.point(-be,i),r.point(0,i),r.point(be,i),r.point(be,0),r.point(be,-i),r.point(0,-i),r.point(-be,-i),r.point(-be,0),r.point(-be,i);else if(Ee(e[0]-t[0])>ce){var a=e[0]<t[0]?be:-be;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function w2(e){var t=ge(e),n=6*$e,r=t>0,i=Ee(t)>ce;function a(c,u,d,h){h2(h,e,n,d,c,u)}function o(c,u){return ge(c)*ge(u)>t}function s(c){var u,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,b){var y=[m,b],v,_=o(m,b),w=r?_?0:l(m,b):_?l(m+(m<0?be:-be),b):0;if(!u&&(p=h=_)&&c.lineStart(),_!==h&&(v=f(u,y),(!v||$i(u,v)||$i(y,v))&&(y[2]=1)),_!==h)g=0,_?(c.lineStart(),v=f(y,u),c.point(v[0],v[1])):(v=f(u,y),c.point(v[0],v[1],2),c.lineEnd()),u=v;else if(i&&u&&r^_){var T;!(w&d)&&(T=f(y,u,!0))&&(g=0,r?(c.lineStart(),c.point(T[0][0],T[0][1]),c.point(T[1][0],T[1][1]),c.lineEnd()):(c.point(T[1][0],T[1][1]),c.lineEnd(),c.lineStart(),c.point(T[0][0],T[0][1],3)))}_&&(!u||!$i(u,y))&&c.point(y[0],y[1]),u=y,h=_,d=w},lineEnd:function(){h&&c.lineEnd(),u=null},clean:function(){return g|(p&&h)<<1}}}function f(c,u,d){var h=_r(c),p=_r(u),g=[1,0,0],m=sa(h,p),b=Ai(m,m),y=m[0],v=b-y*y;if(!v)return!d&&c;var _=t*b/v,w=-t*y/v,T=sa(g,m),S=Ci(g,_),L=Ci(m,w);ko(S,L);var O=T,D=Ai(S,O),k=Ai(O,O),q=D*D-k*(Ai(S,S)-1);if(!(q<0)){var E=wt(q),I=Ci(O,(-D-E)/k);if(ko(I,S),I=bs(I),!d)return I;var M=c[0],N=u[0],U=c[1],K=u[1],H;N<M&&(H=M,M=N,N=H);var J=N-M,Z=Ee(J-be)<ce,te=Z||J<ce;if(!Z&&K<U&&(H=U,U=K,K=H),te?Z?U+K>0^I[1]<(Ee(I[0]-M)<ce?U:K):U<=I[1]&&I[1]<=K:J>be^(M<=I[0]&&I[0]<=N)){var ne=Ci(O,(-D+E)/k);return ko(ne,S),[I,bs(ne)]}}}function l(c,u){var d=r?e:be-e,h=0;return c<-d?h|=1:c>d&&(h|=2),u<-d?h|=4:u>d&&(h|=8),h}return _h(o,s,a,r?[0,-e]:[-be,e-be])}function v2(e,t,n,r,i,a){var o=e[0],s=e[1],f=t[0],l=t[1],c=0,u=1,d=f-o,h=l-s,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<u&&(u=p)}else if(d>0){if(p>u)return;p>c&&(c=p)}if(p=i-o,!(!d&&p<0)){if(p/=d,d<0){if(p>u)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<u&&(u=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<u&&(u=p)}else if(h>0){if(p>u)return;p>c&&(c=p)}if(p=a-s,!(!h&&p<0)){if(p/=h,h<0){if(p>u)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<u&&(u=p)}return c>0&&(e[0]=o+c*d,e[1]=s+c*h),u<1&&(t[0]=o+u*d,t[1]=s+u*h),!0}}}}}var Fr=1e9,Di=-Fr;function yh(e,t,n,r){function i(l,c){return e<=l&&l<=n&&t<=c&&c<=r}function a(l,c,u,d){var h=0,p=0;if(l==null||(h=o(l,u))!==(p=o(c,u))||f(l,c)<0^u>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+u+4)%4)!==p);else d.point(c[0],c[1])}function o(l,c){return Ee(l[0]-e)<ce?c>0?0:3:Ee(l[0]-n)<ce?c>0?2:1:Ee(l[1]-t)<ce?c>0?1:0:c>0?3:2}function s(l,c){return f(l.x,c.x)}function f(l,c){var u=o(l,1),d=o(c,1);return u!==d?u-d:u===0?c[1]-l[1]:u===1?l[0]-c[0]:u===2?l[1]-c[1]:c[0]-l[0]}return function(l){var c=l,u=mh(),d,h,p,g,m,b,y,v,_,w,T,S={point:L,lineStart:q,lineEnd:E,polygonStart:D,polygonEnd:k};function L(M,N){i(M,N)&&c.point(M,N)}function O(){for(var M=0,N=0,U=h.length;N<U;++N)for(var K=h[N],H=1,J=K.length,Z=K[0],te,ne,Be=Z[0],ye=Z[1];H<J;++H)te=Be,ne=ye,Z=K[H],Be=Z[0],ye=Z[1],ne<=r?ye>r&&(Be-te)*(r-ne)>(ye-ne)*(e-te)&&++M:ye<=r&&(Be-te)*(r-ne)<(ye-ne)*(e-te)&&--M;return M}function D(){c=u,d=[],h=[],T=!0}function k(){var M=O(),N=T&&M,U=(d=sd(d)).length;(N||U)&&(l.polygonStart(),N&&(l.lineStart(),a(null,null,1,l),l.lineEnd()),U&&bh(d,s,M,a,l),l.polygonEnd()),c=l,d=h=p=null}function q(){S.point=I,h&&h.push(p=[]),w=!0,_=!1,y=v=NaN}function E(){d&&(I(g,m),b&&_&&u.rejoin(),d.push(u.result())),S.point=L,_&&c.lineEnd()}function I(M,N){var U=i(M,N);if(h&&p.push([M,N]),w)g=M,m=N,b=U,w=!1,U&&(c.lineStart(),c.point(M,N));else if(U&&_)c.point(M,N);else{var K=[y=Math.max(Di,Math.min(Fr,y)),v=Math.max(Di,Math.min(Fr,v))],H=[M=Math.max(Di,Math.min(Fr,M)),N=Math.max(Di,Math.min(Fr,N))];v2(K,H,e,t,n,r)?(_||(c.lineStart(),c.point(K[0],K[1])),c.point(H[0],H[1]),U||c.lineEnd(),T=!1):U&&(c.lineStart(),c.point(M,N),T=!1)}y=M,v=N,_=U}return S}}const vs=e=>e;var xo=new Bn,Ms=new Bn,wh,vh,Ss,Ts,kn={point:Rt,lineStart:Rt,lineEnd:Rt,polygonStart:function(){kn.lineStart=M2,kn.lineEnd=T2},polygonEnd:function(){kn.lineStart=kn.lineEnd=kn.point=Rt,xo.add(Ee(Ms)),Ms=new Bn},result:function(){var e=xo/2;return xo=new Bn,e}};function M2(){kn.point=S2}function S2(e,t){kn.point=Mh,wh=Ss=e,vh=Ts=t}function Mh(e,t){Ms.add(Ts*e-Ss*t),Ss=e,Ts=t}function T2(){Mh(wh,vh)}const Kl=kn;var yr=1/0,fa=yr,ni=-yr,la=ni,k2={point:E2,lineStart:Rt,lineEnd:Rt,polygonStart:Rt,polygonEnd:Rt,result:function(){var e=[[yr,fa],[ni,la]];return ni=la=-(fa=yr=1/0),e}};function E2(e,t){e<yr&&(yr=e),e>ni&&(ni=e),t<fa&&(fa=t),t>la&&(la=t)}const ca=k2;var ks=0,Es=0,Ur=0,ua=0,da=0,ar=0,xs=0,As=0,zr=0,Sh,Th,Gt,Zt,zt={point:Vn,lineStart:ec,lineEnd:tc,polygonStart:function(){zt.lineStart=C2,zt.lineEnd=N2},polygonEnd:function(){zt.point=Vn,zt.lineStart=ec,zt.lineEnd=tc},result:function(){var e=zr?[xs/zr,As/zr]:ar?[ua/ar,da/ar]:Ur?[ks/Ur,Es/Ur]:[NaN,NaN];return ks=Es=Ur=ua=da=ar=xs=As=zr=0,e}};function Vn(e,t){ks+=e,Es+=t,++Ur}function ec(){zt.point=x2}function x2(e,t){zt.point=A2,Vn(Gt=e,Zt=t)}function A2(e,t){var n=e-Gt,r=t-Zt,i=wt(n*n+r*r);ua+=i*(Gt+e)/2,da+=i*(Zt+t)/2,ar+=i,Vn(Gt=e,Zt=t)}function tc(){zt.point=Vn}function C2(){zt.point=D2}function N2(){kh(Sh,Th)}function D2(e,t){zt.point=kh,Vn(Sh=Gt=e,Th=Zt=t)}function kh(e,t){var n=e-Gt,r=t-Zt,i=wt(n*n+r*r);ua+=i*(Gt+e)/2,da+=i*(Zt+t)/2,ar+=i,i=Zt*e-Gt*t,xs+=i*(Gt+e),As+=i*(Zt+t),zr+=i*3,Vn(Gt=e,Zt=t)}const nc=zt;function Eh(e){this._context=e}Eh.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,xt);break}}},result:Rt};var Cs=new Bn,Ao,xh,Ah,Vr,$r,ha={point:Rt,lineStart:function(){ha.point=I2},lineEnd:function(){Ao&&Ch(xh,Ah),ha.point=Rt},polygonStart:function(){Ao=!0},polygonEnd:function(){Ao=null},result:function(){var e=+Cs;return Cs=new Bn,e}};function I2(e,t){ha.point=Ch,xh=Vr=e,Ah=$r=t}function Ch(e,t){Vr-=e,$r-=t,Cs.add(wt(Vr*Vr+$r*$r)),Vr=e,$r=t}const rc=ha;let ic,pa,ac,oc;class sc{constructor(t){this._append=t==null?Nh:L2(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ac||this._append!==pa){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ac=r,pa=this._append,oc=this._,this._=i}this._+=oc;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Nh(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function L2(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Nh;if(t!==ic){const n=10**t;ic=t,pa=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return pa}function ja(e,t){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),tr(s,i(a))),a.result()}return o.area=function(s){return tr(s,i(Kl)),Kl.result()},o.measure=function(s){return tr(s,i(rc)),rc.result()},o.bounds=function(s){return tr(s,i(ca)),ca.result()},o.centroid=function(s){return tr(s,i(nc)),nc.result()},o.projection=function(s){return arguments.length?(i=s==null?(e=null,vs):(e=s).stream,o):e},o.context=function(s){return arguments.length?(a=s==null?(t=null,new sc(n)):new Eh(t=s),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);n=f}return t===null&&(a=new sc(n)),o},o.projection(e).digits(n).context(t)}function Ns(e){return{stream:Wa(e)}}function Wa(e){return function(t){var n=new Ds;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ds(){}Ds.prototype={constructor:Ds,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function yf(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),tr(n,e.stream(ca)),t(ca.result()),r!=null&&e.clipExtent(r),e}function wf(e,t,n){return yf(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,f=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,f])},n)}function Dh(e,t,n){return wf(e,[[0,0],t],n)}function Ih(e,t,n){return yf(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];e.scale(150*a).translate([o,s])},n)}function Lh(e,t,n){return yf(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,s])},n)}var fc=16,O2=ge(30*$e);function lc(e,t){return+t?R2(e,t):P2(e)}function P2(e){return Wa({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function R2(e,t){function n(r,i,a,o,s,f,l,c,u,d,h,p,g,m){var b=l-r,y=c-i,v=b*b+y*y;if(v>4*t&&g--){var _=o+d,w=s+h,T=f+p,S=wt(_*_+w*w+T*T),L=Bt(T/=S),O=Ee(Ee(T)-1)<ce||Ee(a-u)<ce?(a+u)/2:bn(w,_),D=e(O,L),k=D[0],q=D[1],E=k-r,I=q-i,M=y*E-b*I;(M*M/v>t||Ee((b*E+y*I)/v-.5)>.3||o*d+s*h+f*p<O2)&&(n(r,i,a,o,s,f,k,q,O,_/=S,w/=S,T,g,m),m.point(k,q),n(k,q,O,_,w,T,l,c,u,d,h,p,g,m))}}return function(r){var i,a,o,s,f,l,c,u,d,h,p,g,m={point:b,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),m.lineStart=w},polygonEnd:function(){r.polygonEnd(),m.lineStart=y}};function b(L,O){L=e(L,O),r.point(L[0],L[1])}function y(){u=NaN,m.point=v,r.lineStart()}function v(L,O){var D=_r([L,O]),k=e(L,O);n(u,d,c,h,p,g,u=k[0],d=k[1],c=L,h=D[0],p=D[1],g=D[2],fc,r),r.point(u,d)}function _(){m.point=b,r.lineEnd()}function w(){y(),m.point=T,m.lineEnd=S}function T(L,O){v(i=L,O),a=u,o=d,s=h,f=p,l=g,m.point=v}function S(){n(u,d,c,h,p,g,a,o,i,s,f,l,fc,r),m.lineEnd=_,_()}return m}}var q2=Wa({point:function(e,t){this.stream.point(e*$e,t*$e)}});function B2(e){return Wa({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function F2(e,t,n,r,i){function a(o,s){return o*=r,s*=i,[t+e*o,n-e*s]}return a.invert=function(o,s){return[(o-t)/e*r,(n-s)/e*i]},a}function cc(e,t,n,r,i,a){if(!a)return F2(e,t,n,r,i);var o=ge(a),s=se(a),f=o*e,l=s*e,c=o/e,u=s/e,d=(s*n-o*t)/e,h=(s*t+o*n)/e;function p(g,m){return g*=r,m*=i,[f*g-l*m+t,n-l*g-f*m]}return p.invert=function(g,m){return[r*(c*g-u*m+d),i*(h-u*g-c*m)]},p}function In(e){return Oh(function(){return e})()}function Oh(e){var t,n=150,r=480,i=250,a=0,o=0,s=0,f=0,l=0,c,u=0,d=1,h=1,p=null,g=Ql,m=null,b,y,v,_=vs,w=.5,T,S,L,O,D;function k(M){return L(M[0]*$e,M[1]*$e)}function q(M){return M=L.invert(M[0],M[1]),M&&[M[0]*bt,M[1]*bt]}k.stream=function(M){return O&&D===M?O:O=q2(B2(c)(g(T(_(D=M)))))},k.preclip=function(M){return arguments.length?(g=M,p=void 0,I()):g},k.postclip=function(M){return arguments.length?(_=M,m=b=y=v=null,I()):_},k.clipAngle=function(M){return arguments.length?(g=+M?w2(p=M*$e):(p=null,Ql),I()):p*bt},k.clipExtent=function(M){return arguments.length?(_=M==null?(m=b=y=v=null,vs):yh(m=+M[0][0],b=+M[0][1],y=+M[1][0],v=+M[1][1]),I()):m==null?null:[[m,b],[y,v]]},k.scale=function(M){return arguments.length?(n=+M,E()):n},k.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],E()):[r,i]},k.center=function(M){return arguments.length?(a=M[0]%360*$e,o=M[1]%360*$e,E()):[a*bt,o*bt]},k.rotate=function(M){return arguments.length?(s=M[0]%360*$e,f=M[1]%360*$e,l=M.length>2?M[2]%360*$e:0,E()):[s*bt,f*bt,l*bt]},k.angle=function(M){return arguments.length?(u=M%360*$e,E()):u*bt},k.reflectX=function(M){return arguments.length?(d=M?-1:1,E()):d<0},k.reflectY=function(M){return arguments.length?(h=M?-1:1,E()):h<0},k.precision=function(M){return arguments.length?(T=lc(S,w=M*M),I()):wt(w)},k.fitExtent=function(M,N){return wf(k,M,N)},k.fitSize=function(M,N){return Dh(k,M,N)},k.fitWidth=function(M,N){return Ih(k,M,N)},k.fitHeight=function(M,N){return Lh(k,M,N)};function E(){var M=cc(n,0,0,d,h,u).apply(null,t(a,o)),N=cc(n,r-M[0],i-M[1],d,h,u);return c=gh(s,f,l),S=ys(t,N),L=ys(c,S),T=lc(S,w),I()}function I(){return O=D=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&q,E()}}function vf(e){var t=0,n=be/3,r=Oh(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*$e,n=a[1]*$e):[t*bt,n*bt]},i}function U2(e){var t=ge(e);function n(r,i){return[r*t,se(i)/t]}return n.invert=function(r,i){return[r/t,Bt(i*t)]},n}function z2(e,t){var n=se(e),r=(n+se(t))/2;if(Ee(r)<ce)return U2(e);var i=1+n*(2*r-n),a=wt(i)/r;function o(s,f){var l=wt(i-2*r*se(f))/r;return[l*se(s*=r),a-l*ge(s)]}return o.invert=function(s,f){var l=a-f,c=bn(s,Ee(l))*Pt(l);return l*r<0&&(c-=be*Pt(s)*Pt(l)),[c/r,Bt((i-(s*s+l*l)*r*r)/(2*r))]},o}function ga(){return vf(z2).scale(155.424).center([0,33.6442])}function Ph(){return ga().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function V2(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function $2(){var e,t,n=Ph(),r,i=ga().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=ga().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,f,l={point:function(d,h){f=[d,h]}};function c(d){var h=d[0],p=d[1];return f=null,r.point(h,p),f||(a.point(h,p),f)||(s.point(h,p),f)}c.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,m=(d[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=V2([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),u()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(l),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+ce,g+.12*h+ce],[p-.214*h-ce,g+.234*h-ce]]).stream(l),s=o.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+ce,g+.166*h+ce],[p-.115*h-ce,g+.234*h-ce]]).stream(l),u()},c.fitExtent=function(d,h){return wf(c,d,h)},c.fitSize=function(d,h){return Dh(c,d,h)},c.fitWidth=function(d,h){return Ih(c,d,h)},c.fitHeight=function(d,h){return Lh(c,d,h)};function u(){return e=t=null,c}return c.scale(1070)}function Rh(e){return function(t,n){var r=ge(t),i=ge(n),a=e(r*i);return a===1/0?[2,0]:[a*i*se(t),a*se(n)]}}function gi(e){return function(t,n){var r=wt(t*t+n*n),i=e(r),a=se(i),o=ge(i);return[bn(t*a,r*o),Bt(r&&n*a/r)]}}var qh=Rh(function(e){return wt(2/(1+e))});qh.invert=gi(function(e){return 2*Bt(e/2)});function H2(){return In(qh).scale(124.75).clipAngle(180-.001)}var Bh=Rh(function(e){return(e=ph(e))&&e/se(e)});Bh.invert=gi(function(e){return e});function j2(){return In(Bh).scale(79.4188).clipAngle(180-.001)}function Ya(e,t){return[e,aa(_f((He+t)/2))]}Ya.invert=function(e,t){return[e,2*kr(hh(t))-He]};function W2(){return Fh(Ya).scale(961/xt)}function Fh(e){var t=In(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,s,f,l;t.scale=function(u){return arguments.length?(r(u),c()):r()},t.translate=function(u){return arguments.length?(i(u),c()):i()},t.center=function(u){return arguments.length?(n(u),c()):n()},t.clipExtent=function(u){return arguments.length?(u==null?o=s=f=l=null:(o=+u[0][0],s=+u[0][1],f=+u[1][0],l=+u[1][1]),c()):o==null?null:[[o,s],[f,l]]};function c(){var u=be*r(),d=t(d2(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-u,d[1]-u],[d[0]+u,d[1]+u]]:e===Ya?[[Math.max(d[0]-u,o),s],[Math.min(d[0]+u,f),l]]:[[o,Math.max(d[1]-u,s)],[f,Math.min(d[1]+u,l)]])}return c()}function Ii(e){return _f((He+e)/2)}function Y2(e,t){var n=ge(e),r=e===t?se(e):aa(n/ge(t))/aa(Ii(t)/Ii(e)),i=n*To(Ii(e),r)/r;if(!r)return Ya;function a(o,s){i>0?s<-He+ce&&(s=-He+ce):s>He-ce&&(s=He-ce);var f=i/To(Ii(s),r);return[f*se(r*o),i-f*ge(r*o)]}return a.invert=function(o,s){var f=i-s,l=Pt(r)*wt(o*o+f*f),c=bn(o,Ee(f))*Pt(f);return f*r<0&&(c-=be*Pt(o)*Pt(f)),[c/r,2*kr(To(i/l,1/r))-He]},a}function G2(){return vf(Y2).scale(109.5).parallels([30,30])}function ma(e,t){return[e,t]}ma.invert=ma;function Z2(){return In(ma).scale(152.63)}function X2(e,t){var n=ge(e),r=e===t?se(e):(n-ge(t))/(t-e),i=n/r+e;if(Ee(r)<ce)return ma;function a(o,s){var f=i-s,l=r*o;return[f*se(l),i-f*ge(l)]}return a.invert=function(o,s){var f=i-s,l=bn(o,Ee(f))*Pt(f);return f*r<0&&(l-=be*Pt(o)*Pt(f)),[l/r,i-Pt(r)*wt(o*o+f*f)]},a}function J2(){return vf(X2).scale(131.154).center([0,13.9389])}var Hr=1.340264,jr=-.081106,Wr=893e-6,Yr=.003796,ba=wt(3)/2,Q2=12;function Uh(e,t){var n=Bt(ba*se(t)),r=n*n,i=r*r*r;return[e*ge(n)/(ba*(Hr+3*jr*r+i*(7*Wr+9*Yr*r))),n*(Hr+jr*r+i*(Wr+Yr*r))]}Uh.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,s,f;a<Q2&&(s=n*(Hr+jr*r+i*(Wr+Yr*r))-t,f=Hr+3*jr*r+i*(7*Wr+9*Yr*r),n-=o=s/f,r=n*n,i=r*r*r,!(Ee(o)<dh));++a);return[ba*e*(Hr+3*jr*r+i*(7*Wr+9*Yr*r))/ge(n),Bt(se(n)/ba)]};function K2(){return In(Uh).scale(177.158)}function zh(e,t){var n=ge(t),r=ge(e)*n;return[n*se(e)/r,se(t)/r]}zh.invert=gi(kr);function ey(){return In(zh).scale(144.049).clipAngle(60)}function Vh(e,t){return[ge(t)*se(e),se(t)]}Vh.invert=gi(Bt);function ty(){return In(Vh).scale(249.5).clipAngle(90+ce)}function $h(e,t){var n=ge(t),r=1+ge(e)*n;return[n*se(e)/r,se(t)/r]}$h.invert=gi(function(e){return 2*kr(e)});function ny(){return In($h).scale(250).clipAngle(142)}function Hh(e,t){return[aa(_f((He+t)/2)),-e]}Hh.invert=function(e,t){return[-t,2*kr(hh(e))-He]};function ry(){var e=Fh(Hh),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function ue(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Ga=ue("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),iy=ue("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),ay=ue("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),oy=ue("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),sy=ue("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),fy=ue("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),ly=ue("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),cy=ue("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),uy=ue("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),dy=ue("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ie=e=>Ng(e[e.length-1]);var jh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ue);const Wh=Ie(jh);var Yh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ue);const Gh=Ie(Yh);var Zh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ue);const Xh=Ie(Zh);var Jh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ue);const Qh=Ie(Jh);var Is=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ue);const _a=Ie(Is);var Kh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ue);const e0=Ie(Kh);var Ls=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ue);const ya=Ie(Ls);var t0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ue);const n0=Ie(t0);var r0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ue);const i0=Ie(r0);var a0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ue);const o0=Ie(a0);var s0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ue);const f0=Ie(s0);var l0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ue);const c0=Ie(l0);var u0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ue);const d0=Ie(u0);var h0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ue);const p0=Ie(h0);var g0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ue);const m0=Ie(g0);var b0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ue);const _0=Ie(b0);var y0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ue);const w0=Ie(y0);var v0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ue);const M0=Ie(v0);var S0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ue);const T0=Ie(S0);var k0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ue);const E0=Ie(k0);var x0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ue);const A0=Ie(x0);var C0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ue);const N0=Ie(C0);var D0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ue);const I0=Ie(D0);var L0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ue);const O0=Ie(L0);var P0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ue);const R0=Ie(P0);var q0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ue);const B0=Ie(q0);var F0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ue);const U0=Ie(F0);function z0(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const V0=cf(Kt(300,.5,0),Kt(-240,.5,1));var $0=cf(Kt(-100,.75,.35),Kt(80,1.5,.8)),H0=cf(Kt(260,.75,.35),Kt(80,1.5,.8)),Li=Kt();function j0(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Li.h=360*e-100,Li.s=1.5-1.5*t,Li.l=.8-.9*t,Li+""}var Oi=ji(),hy=Math.PI/3,py=Math.PI*2/3;function W0(e){var t;return e=(.5-e)*Math.PI,Oi.r=255*(t=Math.sin(e))*t,Oi.g=255*(t=Math.sin(e+hy))*t,Oi.b=255*(t=Math.sin(e+py))*t,Oi+""}function Y0(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Za(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const G0=Za(ue("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Z0=Za(ue("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),X0=Za(ue("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),J0=Za(ue("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Qn(e){return function(){return e}}const Q0=Math.cos,Mf=Math.min,wa=Math.sin,Qe=Math.sqrt,uc=1e-12,va=Math.PI,Xa=2*va;function gy(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uh(t)}function my(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function K0(e){this._context=e}K0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ja(e){return new K0(e)}function by(e){return e[0]}function _y(e){return e[1]}function yy(e,t){var n=Qn(!0),r=null,i=Ja,a=null,o=gy(s);e=typeof e=="function"?e:e===void 0?by:Qn(e),t=typeof t=="function"?t:t===void 0?_y:Qn(t);function s(f){var l,c=(f=my(f)).length,u,d=!1,h;for(r==null&&(a=i(h=o())),l=0;l<=c;++l)!(l<c&&n(u=f[l],l,f))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(u,l,f),+t(u,l,f));if(h)return a=null,h+""||null}return s.x=function(f){return arguments.length?(e=typeof f=="function"?f:Qn(+f),s):e},s.y=function(f){return arguments.length?(t=typeof f=="function"?f:Qn(+f),s):t},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Qn(!!f),s):n},s.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),s):i},s.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),s):r},s}class e1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function wy(e){return new e1(e,!0)}function vy(e){return new e1(e,!1)}const My=Qe(3),t1={draw(e,t){const n=Qe(t+Mf(t/28,.75))*.59436,r=n/2,i=r*My;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Sf={draw(e,t){const n=Qe(t/va);e.moveTo(n,0),e.arc(0,0,n,0,Xa)}},n1={draw(e,t){const n=Qe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},r1=Qe(1/3),Sy=r1*2,i1={draw(e,t){const n=Qe(t/Sy),r=n*r1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},a1={draw(e,t){const n=Qe(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},o1={draw(e,t){const n=Qe(t-Mf(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},s1={draw(e,t){const n=Qe(t),r=-n/2;e.rect(r,r,n,n)}},f1={draw(e,t){const n=Qe(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},Ty=.8908130915292852,l1=wa(va/10)/wa(7*va/10),ky=wa(Xa/10)*l1,Ey=-Q0(Xa/10)*l1,c1={draw(e,t){const n=Qe(t*Ty),r=ky*n,i=Ey*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Xa*a/5,s=Q0(o),f=wa(o);e.lineTo(f*n,-s*n),e.lineTo(s*r-f*i,f*r+s*i)}e.closePath()}},Co=Qe(3),u1={draw(e,t){const n=-Qe(t/(Co*3));e.moveTo(0,n*2),e.lineTo(-Co*n,-n),e.lineTo(Co*n,-n),e.closePath()}},xy=Qe(3),d1={draw(e,t){const n=Qe(t)*.6824,r=n/2,i=n*xy/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Nt=-.5,Dt=Qe(3)/2,Os=1/Qe(12),Ay=(Os/2+1)*3,h1={draw(e,t){const n=Qe(t/Ay),r=n/2,i=n*Os,a=r,o=n*Os+n,s=-a,f=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,f),e.lineTo(Nt*r-Dt*i,Dt*r+Nt*i),e.lineTo(Nt*a-Dt*o,Dt*a+Nt*o),e.lineTo(Nt*s-Dt*f,Dt*s+Nt*f),e.lineTo(Nt*r+Dt*i,Nt*i-Dt*r),e.lineTo(Nt*a+Dt*o,Nt*o-Dt*a),e.lineTo(Nt*s+Dt*f,Nt*f-Dt*s),e.closePath()}},p1={draw(e,t){const n=Qe(t-Mf(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Cy=[Sf,n1,i1,s1,c1,u1,h1],Ny=[Sf,o1,p1,d1,t1,f1,a1];function Dn(){}function Ma(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Qa(e){this._context=e}Qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ma(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dy(e){return new Qa(e)}function g1(e){this._context=e}g1.prototype={areaStart:Dn,areaEnd:Dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iy(e){return new g1(e)}function m1(e){this._context=e}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ma(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ly(e){return new m1(e)}function b1(e,t){this._basis=new Qa(e),this._beta=t}b1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,s=-1,f;++s<=n;)f=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(r+f*a),this._beta*t[s]+(1-this._beta)*(i+f*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const Oy=function e(t){function n(r){return t===1?new Qa(r):new b1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Sa(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Tf(e,t){this._context=e,this._k=(1-t)/6}Tf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Sa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Sa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Py=function e(t){function n(r){return new Tf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function kf(e,t){this._context=e,this._k=(1-t)/6}kf.prototype={areaStart:Dn,areaEnd:Dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Ry=function e(t){function n(r){return new kf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ef(e,t){this._context=e,this._k=(1-t)/6}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qy=function e(t){function n(r){return new Ef(r,t)}return n.tension=function(r){return e(+r)},n}(0);function xf(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>uc){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,f=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/f,i=(i*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/f}if(e._l23_a>uc){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function _1(e,t){this._context=e,this._alpha=t}_1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:xf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const By=function e(t){function n(r){return t?new _1(r,t):new Tf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function y1(e,t){this._context=e,this._alpha=t}y1.prototype={areaStart:Dn,areaEnd:Dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:xf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Fy=function e(t){function n(r){return t?new y1(r,t):new kf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function w1(e,t){this._context=e,this._alpha=t}w1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Uy=function e(t){function n(r){return t?new w1(r,t):new Ef(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function v1(e){this._context=e}v1.prototype={areaStart:Dn,areaEnd:Dn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function zy(e){return new v1(e)}function dc(e){return e<0?-1:1}function hc(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(dc(a)+dc(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function pc(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function No(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function Ta(e){this._context=e}Ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:No(this,this._t0,pc(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,No(this,pc(this,n=hc(this,e,t)),n);break;default:No(this,this._t0,n=hc(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function M1(e){this._context=new S1(e)}(M1.prototype=Object.create(Ta.prototype)).point=function(e,t){Ta.prototype.point.call(this,t,e)};function S1(e){this._context=e}S1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Vy(e){return new Ta(e)}function $y(e){return new M1(e)}function T1(e){this._context=e}T1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=gc(e),i=gc(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gc(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Hy(e){return new T1(e)}function Ka(e,t){this._context=e,this._t=t}Ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function jy(e){return new Ka(e,.5)}function Wy(e){return new Ka(e,0)}function Yy(e){return new Ka(e,1)}class Pi extends Dg{constructor(){super(),this.overlays={}}async execute(t,n){this.overlays=Ig(this.overlays,t);let r=fh(i=>({key:i,left:this.overlays[i].left,right:this.overlays[i].right}),qn(this.overlays));this.emit("data",r,"overlay")}}const Gy=e=>({}),mc=e=>({}),Zy=e=>({}),bc=e=>({}),Xy=e=>({}),_c=e=>({}),Jy=e=>({}),yc=e=>({}),Qy=e=>({}),wc=e=>({}),Ky=e=>({}),vc=e=>({}),ew=e=>({}),Mc=e=>({}),tw=e=>({}),Sc=e=>({}),nw=e=>({}),Tc=e=>({}),rw=e=>({}),kc=e=>({}),iw=e=>({}),Ec=e=>({}),aw=e=>({}),xc=e=>({}),ow=e=>({}),Ac=e=>({}),sw=e=>({}),Cc=e=>({}),fw=e=>({}),Nc=e=>({});function lw(e){let t,n,r,i,a,o,s,f,l,c,u,d,h,p,g,m,b,y,v,_,w,T,S,L,O,D,k,q,E,I,M;const N=e[1].header,U=ht(N,e,e[0],Nc),K=e[1].alert,H=ht(K,e,e[0],Cc),J=e[1].dropdown1,Z=ht(J,e,e[0],Ac),te=e[1].chart1,ne=ht(te,e,e[0],xc),Be=e[1].dropdown2,ye=ht(Be,e,e[0],Ec),F=e[1].chart2,Se=ht(F,e,e[0],kc),je=e[1].dropdown3,C=ht(je,e,e[0],Tc),V=e[1].chart3,$=ht(V,e,e[0],Sc),B=e[1].dropdown4,fe=ht(B,e,e[0],Mc),le=e[1].chart4,de=ht(le,e,e[0],vc),he=e[1].obplot,ee=ht(he,e,e[0],wc),Fe=e[1].slider1,Oe=ht(Fe,e,e[0],yc),st=e[1].slider2,Ne=ht(st,e,e[0],_c),Ke=e[1].slider3,De=ht(Ke,e,e[0],bc),et=e[1].slider4,Ve=ht(et,e,e[0],mc);return{c(){t=W("div"),n=W("div"),U&&U.c(),r=ae(),i=W("div"),H&&H.c(),a=ae(),o=W("div"),Z&&Z.c(),s=ae(),f=W("div"),ne&&ne.c(),l=ae(),c=W("div"),ye&&ye.c(),u=ae(),d=W("div"),Se&&Se.c(),h=ae(),p=W("div"),C&&C.c(),g=ae(),m=W("div"),$&&$.c(),b=ae(),y=W("div"),fe&&fe.c(),v=ae(),_=W("div"),de&&de.c(),w=ae(),T=W("div"),ee&&ee.c(),S=ae(),L=W("div"),Oe&&Oe.c(),O=ae(),D=W("div"),Ne&&Ne.c(),k=ae(),q=W("div"),De&&De.c(),E=ae(),I=W("div"),Ve&&Ve.c(),this.h()},l(P){t=Y(P,"DIV",{class:!0});var G=j(t);n=Y(G,"DIV",{class:!0});var Te=j(n);U&&U.l(Te),Te.forEach(A),r=oe(G),i=Y(G,"DIV",{class:!0});var tt=j(i);H&&H.l(tt),tt.forEach(A),a=oe(G),o=Y(G,"DIV",{class:!0});var ft=j(o);Z&&Z.l(ft),ft.forEach(A),s=oe(G),f=Y(G,"DIV",{class:!0});var dt=j(f);ne&&ne.l(dt),dt.forEach(A),l=oe(G),c=Y(G,"DIV",{class:!0});var Yt=j(c);ye&&ye.l(Yt),Yt.forEach(A),u=oe(G),d=Y(G,"DIV",{class:!0});var x=j(d);Se&&Se.l(x),x.forEach(A),h=oe(G),p=Y(G,"DIV",{class:!0});var Q=j(p);C&&C.l(Q),Q.forEach(A),g=oe(G),m=Y(G,"DIV",{class:!0});var pe=j(m);$&&$.l(pe),pe.forEach(A),b=oe(G),y=Y(G,"DIV",{class:!0});var we=j(y);fe&&fe.l(we),we.forEach(A),v=oe(G),_=Y(G,"DIV",{class:!0});var Ct=j(_);de&&de.l(Ct),Ct.forEach(A),w=oe(G),T=Y(G,"DIV",{class:!0});var Nr=j(T);ee&&ee.l(Nr),Nr.forEach(A),S=oe(G),L=Y(G,"DIV",{class:!0});var Si=j(L);Oe&&Oe.l(Si),Si.forEach(A),O=oe(G),D=Y(G,"DIV",{class:!0});var Ti=j(D);Ne&&Ne.l(Ti),Ti.forEach(A),k=oe(G),q=Y(G,"DIV",{class:!0});var Qf=j(q);De&&De.l(Qf),Qf.forEach(A),E=oe(G),I=Y(G,"DIV",{class:!0});var Kf=j(I);Ve&&Ve.l(Kf),Kf.forEach(A),G.forEach(A),this.h()},h(){R(n,"class","mx-auto"),R(i,"class",""),R(o,"class","mx-auto"),R(f,"class",""),R(c,"class","mx-auto"),R(d,"class",""),R(p,"class","mx-auto"),R(m,"class",""),R(y,"class","mx-auto"),R(_,"class",""),R(T,"class",""),R(L,"class",""),R(D,"class",""),R(q,"class",""),R(I,"class",""),R(t,"class","px-5 py-2 bg-white")},m(P,G){X(P,t,G),z(t,n),U&&U.m(n,null),z(t,r),z(t,i),H&&H.m(i,null),z(t,a),z(t,o),Z&&Z.m(o,null),z(t,s),z(t,f),ne&&ne.m(f,null),z(t,l),z(t,c),ye&&ye.m(c,null),z(t,u),z(t,d),Se&&Se.m(d,null),z(t,h),z(t,p),C&&C.m(p,null),z(t,g),z(t,m),$&&$.m(m,null),z(t,b),z(t,y),fe&&fe.m(y,null),z(t,v),z(t,_),de&&de.m(_,null),z(t,w),z(t,T),ee&&ee.m(T,null),z(t,S),z(t,L),Oe&&Oe.m(L,null),z(t,O),z(t,D),Ne&&Ne.m(D,null),z(t,k),z(t,q),De&&De.m(q,null),z(t,E),z(t,I),Ve&&Ve.m(I,null),M=!0},p(P,[G]){U&&U.p&&(!M||G&1)&&pt(U,N,P,P[0],M?mt(N,P[0],G,fw):gt(P[0]),Nc),H&&H.p&&(!M||G&1)&&pt(H,K,P,P[0],M?mt(K,P[0],G,sw):gt(P[0]),Cc),Z&&Z.p&&(!M||G&1)&&pt(Z,J,P,P[0],M?mt(J,P[0],G,ow):gt(P[0]),Ac),ne&&ne.p&&(!M||G&1)&&pt(ne,te,P,P[0],M?mt(te,P[0],G,aw):gt(P[0]),xc),ye&&ye.p&&(!M||G&1)&&pt(ye,Be,P,P[0],M?mt(Be,P[0],G,iw):gt(P[0]),Ec),Se&&Se.p&&(!M||G&1)&&pt(Se,F,P,P[0],M?mt(F,P[0],G,rw):gt(P[0]),kc),C&&C.p&&(!M||G&1)&&pt(C,je,P,P[0],M?mt(je,P[0],G,nw):gt(P[0]),Tc),$&&$.p&&(!M||G&1)&&pt($,V,P,P[0],M?mt(V,P[0],G,tw):gt(P[0]),Sc),fe&&fe.p&&(!M||G&1)&&pt(fe,B,P,P[0],M?mt(B,P[0],G,ew):gt(P[0]),Mc),de&&de.p&&(!M||G&1)&&pt(de,le,P,P[0],M?mt(le,P[0],G,Ky):gt(P[0]),vc),ee&&ee.p&&(!M||G&1)&&pt(ee,he,P,P[0],M?mt(he,P[0],G,Qy):gt(P[0]),wc),Oe&&Oe.p&&(!M||G&1)&&pt(Oe,Fe,P,P[0],M?mt(Fe,P[0],G,Jy):gt(P[0]),yc),Ne&&Ne.p&&(!M||G&1)&&pt(Ne,st,P,P[0],M?mt(st,P[0],G,Xy):gt(P[0]),_c),De&&De.p&&(!M||G&1)&&pt(De,Ke,P,P[0],M?mt(Ke,P[0],G,Zy):gt(P[0]),bc),Ve&&Ve.p&&(!M||G&1)&&pt(Ve,et,P,P[0],M?mt(et,P[0],G,Gy):gt(P[0]),mc)},i(P){M||(me(U,P),me(H,P),me(Z,P),me(ne,P),me(ye,P),me(Se,P),me(C,P),me($,P),me(fe,P),me(de,P),me(ee,P),me(Oe,P),me(Ne,P),me(De,P),me(Ve,P),M=!0)},o(P){_e(U,P),_e(H,P),_e(Z,P),_e(ne,P),_e(ye,P),_e(Se,P),_e(C,P),_e($,P),_e(fe,P),_e(de,P),_e(ee,P),_e(Oe,P),_e(Ne,P),_e(De,P),_e(Ve,P),M=!1},d(P){P&&A(t),U&&U.d(P),H&&H.d(P),Z&&Z.d(P),ne&&ne.d(P),ye&&ye.d(P),Se&&Se.d(P),C&&C.d(P),$&&$.d(P),fe&&fe.d(P),de&&de.d(P),ee&&ee.d(P),Oe&&Oe.d(P),Ne&&Ne.d(P),De&&De.d(P),Ve&&Ve.d(P)}}}function cw(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class Do extends vt{constructor(t){super(),Mt(this,t,cw,lw,St,{})}}function wr(e){return e!=null&&!Number.isNaN(e)}function $n(e,t){return+wr(t)-+wr(e)||yt(e,t)}function k1(e,t){return+wr(t)-+wr(e)||ci(e,t)}function Af(e){return e!=null&&`${e}`!=""}function E1(e){return isFinite(e)?e:NaN}function Cf(e){return e>0&&isFinite(e)?e:NaN}function x1(e){return e<0&&isFinite(e)?e:NaN}function uw(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${dw(e.getUTCFullYear())}-${cn(e.getUTCMonth()+1,2)}-${cn(e.getUTCDate(),2)}${n||r||i||a?`T${cn(n,2)}:${cn(r,2)}${i||a?`:${cn(i,2)}${a?`.${cn(a,3)}`:""}`:""}Z`:""}`}function dw(e){return e<0?`-${cn(-e,6)}`:e>9999?`+${cn(e,6)}`:cn(e,4)}function cn(e,t){return`${e}`.padStart(t,"0")}const hw=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function A1(e,t){return hw.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const pw=new Map([["second",pn],["minute",qa],["hour",Fa],["day",Tr],["week",mr],["month",fr],["quarter",fr.every(3)],["half",fr.every(6)],["year",en],["monday",ei],["tuesday",Od],["wednesday",Pd],["thursday",Un],["friday",Rd],["saturday",qd],["sunday",mr]]),gw=new Map([["second",pn],["minute",Ba],["hour",Ua],["day",pi],["week",br],["month",lr],["quarter",lr.every(3)],["half",lr.every(6)],["year",tn],["monday",ti],["tuesday",Bd],["wednesday",Fd],["thursday",zn],["friday",Ud],["saturday",zd],["sunday",br]]);function mw(e){const t=pw.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}function bw(e){const t=gw.get(`${e}`.toLowerCase());if(!t)throw new Error(`unknown interval: ${e}`);return t}const ri=Object.getPrototypeOf(Uint8Array),_w=Object.prototype.toString;function qt(e,t,n){const r=typeof t;return r==="string"?Dc(e,C1(t),n):r==="function"?Dc(e,t,n):r==="number"||t instanceof Date||r==="boolean"?ut(e,Er(t),n):typeof(t==null?void 0:t.transform)=="function"?Ic(t.transform(e),n):Ic(t,n)}function Dc(e,t,n){return ut(e,(n==null?void 0:n.prototype)instanceof ri?yw(t):t,n)}function Ic(e,t){return t===void 0?nn(e):e instanceof t?e:t.prototype instanceof ri&&!(e instanceof ri)?t.from(e,Nf):t.from(e)}function yw(e){return(t,n)=>Nf(e(t,n))}const C1=e=>t=>t[e],N1={transform:Ln},Wt={transform:e=>e},ww=()=>1,vw=()=>!0,Vt=e=>e==null?e:`${e}`,Pe=e=>e==null?e:+e,D1=e=>e?e[0]:void 0,Mw=e=>e?e[1]:void 0,Er=e=>()=>e;function Sw(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Ji(n,t,r)}function En(e){return e instanceof ri?e:ut(e,Nf,Float64Array)}function Nf(e){return e==null?NaN:Number(e)}function Tw(e){return ut(e,kw)}function kw(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?A1(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function Hn(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:eo(e)?[void 0,e]:[e,void 0]}function kt(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function I1(e,t,n){if(e!=null)return yn(e,t,n)}function yn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function nn(e){return e==null||e instanceof Array||e instanceof ri?e:Array.from(e)}function ut(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Ps(e,t=Array){return e instanceof t?e.slice():t.from(e)}function mi(e){return(e==null?void 0:e.toString)===_w}function ka(e){return mi(e)&&(e.type!==void 0||e.domain!==void 0)}function Df(e){return mi(e)&&typeof e.transform!="function"}function ii(e){return Df(e)&&e.value===void 0&&e.channel===void 0}function Ew(e,t,n,r=Wt){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function If(e,t){return e===void 0&&t===void 0?[D1,Mw]:[e,t]}function L1({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Hn(t)),e===void 0&&([e]=Hn(n)),e}function Ln(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function O1(e,t){return ut(t,n=>e[n])}function Io(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Rs(e){let t;return[{transform:()=>t,label:bi(e)},n=>t=n]}function xw(e){return e==null?[e]:Rs(e)}function bi(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Aw(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return jt(r)||jt(i)?ut(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):ut(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:e.label}}function Lf(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>fs(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>fs(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?mw:bw)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function _i(e,t){if(e=Lf(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function Cw(e,t){if(e=_i(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function Of(e){return e===void 0||Df(e)?e:{value:e}}function Nw(e){return e==null?null:{transform:t=>qt(t,e,Float64Array),label:bi(e)}}function Yn(e){return e&&typeof e[Symbol.iterator]=="function"}function Dw(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Lc(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function jt(e){for(const t of e)if(t!=null)return t instanceof Date}function Iw(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&A1(t)}function Lw(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Ow(e){for(const t of e)if(t!=null)return typeof t=="number"}function Lo(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}function eo(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),e==="none"||e==="currentcolor"||e.startsWith("url(")&&e.endsWith(")")||e.startsWith("var(")&&e.endsWith(")")||es(e)!==null)}function Pw(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Tt(e){return e==null||ai(e)}function ai(e){return/^\s*none\s*$/i.test(e)}function Rw(e){return/^\s*round\s*$/i.test(e)}function P1(e="middle"){return yn(e,"frameAnchor",["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function oi(e){if(e==null)return;const t=e[0],n=e[e.length-1];return ci(t,n)}function qw(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function Bw(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function Oc(e){return Yn(e)?Bw(e):e}const Jt=Symbol("position"),rn=Symbol("color"),to=Symbol("radius"),no=Symbol("length"),ro=Symbol("opacity"),io=Symbol("symbol"),ze=new Map([["x",Jt],["y",Jt],["fx",Jt],["fy",Jt],["r",to],["color",rn],["opacity",ro],["symbol",io],["length",no]]),Fw=Math.sqrt(3),Uw=2/Fw,zw={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Uw,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},R1=new Map([["asterisk",t1],["circle",Sf],["cross",n1],["diamond",i1],["diamond2",a1],["hexagon",zw],["plus",o1],["square",s1],["square2",f1],["star",c1],["times",p1],["triangle",u1],["triangle2",d1],["wye",h1]]);function q1(e){return e&&typeof e.draw=="function"}function Vw(e){return q1(e)?!0:typeof e!="string"?!1:R1.has(e.toLowerCase())}function Pf(e){if(e==null||q1(e))return e;const t=R1.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function B1({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(e!=null&&(r=U1(e)),t!=null&&!ii(t)&&(r=Oo(r,V1(t))),n&&(r=Oo(r,z1))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||ii(t))&&{sort:t},transform:Oo(r,o)}}function F1({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=U1(e)),t!=null&&!ii(t)&&(r=Po(r,V1(t))),n&&(r=Po(r,z1))),{...i,...(t===null||ii(t))&&{sort:t},initializer:Po(r,a)}}function Oo(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r){return{data:n,facets:r}=e.call(this,n,r),t.call(this,nn(n),r)}}function Po(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let o,s,f,l,c,u;return{data:s=n,facets:f=r,channels:o}=e.call(this,n,r,i,...a),{data:c=s,facets:u=f,channels:l}=t.call(this,s,f,{...i,...o},...a),{data:c,facets:u,channels:{...o,...l}}}}function U1(e){return(t,n)=>{const r=qt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function z1(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function V1(e){return(typeof e=="function"&&e.length!==1?$w:Hw)(e)}function $w(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function Hw(e){let t,n;if({channel:t,value:e,order:n=$n}={...Of(e)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=$n;break;case"descending":n=k1;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,a)=>{let o;if(t===void 0)o=qt(r,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(o=a[t],!o)return{};o=o.value}const s=(f,l)=>n(o[f],o[l]);return{data:r,facets:i.map(f=>f.slice().sort(s))}}}function jw(e,t,n=Ww){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&mi(e))return Yw(e);if(typeof e=="function")return Gw(e);if(/^p\d{2}$/i.test(e))return ln(Sw(e));switch(`${e}`.toLowerCase()){case"first":return Xw;case"last":return Jw;case"identity":return Zw;case"count":return Rc;case"distinct":return Qw;case"sum":return t==null?Rc:Kw;case"proportion":return qc(t,"data");case"proportion-facet":return qc(t,"facet");case"deviation":return ln(rm);case"min":return ln(gn);case"min-index":return ln(lm);case"max":return ln($t);case"max-index":return ln(fm);case"mean":return Pc(um);case"median":return Pc(ss);case"variance":return ln(Ku);case"mode":return ln(hm)}return n(e)}function Ww(e){throw new Error(`invalid reduce: ${e}`)}function Yw(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function Gw(e){return{reduceIndex(t,n,r){return e(O1(n,t),r)}}}function ln(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Pc(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return jt(n)?new Date(r):r}}}const Zw={reduceIndex(e,t){return O1(t,e)}},Xw={reduceIndex(e,t){return t[e[0]]}},Jw={reduceIndex(e,t){return t[e[e.length-1]]}},Rc={label:"Frequency",reduceIndex(e){return e.length}},Qw={label:"Distinct",reduceIndex(e,t){const n=new nf;for(const r of e)n.add(t[r]);return n.size}},Kw=ln(Fn);function qc(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>Fn(n,a=>r[a])/i}}function si(e,{scale:t,type:n,value:r,filter:i,hint:a},o){return $1(o,{scale:t,type:n,value:qt(e,r),label:bi(r),filter:i,hint:a})}function e6(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,si(t,r,n)]))}function t6(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const o=i==null?null:t[i];return[r,o==null?a:ut(a,o)]}));return n.channels=e,n}function $1(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Lo(r,eo)?null:"color";break;case"fillOpacity":case"strokeOpacity":t.scale=n!==!0&&Lo(r,Pw)?null:"opacity";break;case"symbol":n!==!0&&Lo(r,Vw)?(t.scale=null,t.value=ut(r,Pf)):t.scale="symbol";break;default:t.scale=ze.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!ze.has(n))throw new Error(`unknown scale: ${n}`);return t}function n6(e,t,n,r,i){const{reverse:a,reduce:o=!0,limit:s}=i;for(const f in i){if(!ze.has(f))continue;let{value:l,reverse:c=a,reduce:u=o,limit:d=s}=Of(i[f]);if(c===void 0&&(c=l==="width"||l==="height"),u==null||u===!1)continue;const h=f==="fx"||f==="fy"?i6(t,r[f]):r6(n,f);if(!h)throw new Error(`missing channel for scale: ${f}`);const p=h.value,[g=0,m=1/0]=Yn(d)?d:d<0?[d]:[0,d];if(l==null)h.domain=()=>{let b=Array.from(new nf(p));return c&&(b=b.reverse()),(g!==0||m!==1/0)&&(b=b.slice(g,m)),b};else{const b=l==="data"?e:l==="height"?Bc(n,"y1","y2"):l==="width"?Bc(n,"x1","x2"):qs(n,l,l==="y"?"y2":l==="x"?"x2":void 0),y=jw(u===!0?"max":u,b);h.domain=()=>{let v=or(Ln(p),_=>y.reduceIndex(_,b),_=>p[_]);return v=Yi(v,c?o6:a6),(g!==0||m!==1/0)&&(v=v.slice(g,m)),v.map(D1)}}}}function r6(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function i6(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const o=r[n[a][0]];for(const s of e[a])i[s]=o}return t}function Bc(e,t,n){const r=qs(e,t),i=qs(e,n);return ut(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function qs(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function a6([e,t],[n,r]){return $n(t,r)||$n(e,n)}function o6([e,t],[n,r]){return k1(t,r)||$n(e,n)}let Bs=0;function s6(){const e=Bs;return Bs=0,e}function cr(e){console.warn(e),++Bs}const H1=Math.PI,on=2*H1,Ro=.618;function f6({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},o){if(e==null)return;if(typeof e.stream=="function")return e;let s,f,l="frame";if(mi(e)){let w;if({type:e,domain:f,inset:w,insetTop:n=w!==void 0?w:n,insetRight:r=w!==void 0?w:r,insetBottom:i=w!==void 0?w:i,insetLeft:a=w!==void 0?w:a,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=j1(e));const{width:c,height:u,marginLeft:d,marginRight:h,marginTop:p,marginBottom:g}=o,m=c-d-h-a-r,b=u-p-g-n-i;if(e=e==null?void 0:e({width:m,height:b,clip:l,...s}),e==null)return;l=l6(l,d,p,c-h,u-g);let y=d+a,v=p+n,_;if(f!=null){const[[w,T],[S,L]]=ja(e).bounds(f),O=Math.min(m/(S-w),b/(L-T));O>0?(y-=(O*(w+S)-m)/2,v-=(O*(T+L)-b)/2,_=Ns({point(D,k){this.stream.point(D*O+y,k*O+v)}})):cr("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=y===0&&v===0?W1():Ns({point(w,T){this.stream.point(w+y,T+v)}})),{stream:w=>e.stream(_.stream(l(w)))}}function j1(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Ut($2,.7463,.4673);case"albers":return Ri(Ph,.7463,.4673);case"azimuthal-equal-area":return Ut(H2,4,4);case"azimuthal-equidistant":return Ut(j2,on,on);case"conic-conformal":return Ri(G2,on,on);case"conic-equal-area":return Ri(ga,6.1702,2.9781);case"conic-equidistant":return Ri(J2,7.312,3.6282);case"equal-earth":return Ut(K2,5.4133,2.6347);case"equirectangular":return Ut(Z2,on,H1);case"gnomonic":return Ut(ey,3.4641,3.4641);case"identity":return{type:W1};case"reflect-y":return{type:c6};case"mercator":return Ut(W2,on,on);case"orthographic":return Ut(ty,2,2);case"stereographic":return Ut(ny,2,2);case"transverse-mercator":return Ut(ry,on,on);default:throw new Error(`unknown projection type: ${e}`)}}function l6(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return yh(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Ut(e,t,n){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:s})=>{var l,c,u;const f=e();return o!=null&&((l=f.precision)==null||l.call(f,o)),a!=null&&((c=f.rotate)==null||c.call(f,a)),typeof s=="number"&&((u=f.clipAngle)==null||u.call(f,s)),f.scale(Math.min(r/t,i/n)),f.translate([r/2,i/2]),f},aspectRatio:n/t}}function Ri(e,t,n){const{type:r,aspectRatio:i}=Ut(e,t,n);return{type:a=>{const{parallels:o,domain:s,width:f,height:l}=a,c=r(a);return o!=null&&(c.parallels(o),s===void 0&&c.fitSize([f,l],{type:"Sphere"})),c},aspectRatio:i}}const W1=Er({stream:e=>e}),c6=Er(Ns({point(e,t){this.stream.point(e,-t)}}));function qo(e,t,n,r,i){const a=n[e]&&n[e].scale==="x",o=n[t]&&n[t].scale==="y";if(a&&o)u6(e,t,r,i.projection);else{if(a)throw new Error(`projection requires paired x and y channels; ${e} is missing ${t}`);if(o)throw new Error(`projection requires paired x and y channels; ${t} is missing ${e}`)}}function u6(e,t,n,r){const i=n[e],a=n[t],o=i.length,s=n[e]=new Float64Array(o).fill(NaN),f=n[t]=new Float64Array(o).fill(NaN);let l;const c=r.stream({point(u,d){s[l]=u,f[l]=d}});for(l=0;l<o;++l)c.point(i[l],a[l])}function d6(e,t){if(typeof(e==null?void 0:e.stream)=="function")return Ro;if(mi(e)&&(e=e.type),e==null)return h6(t)?Ro:void 0;if(typeof e!="function"){const{aspectRatio:n}=j1(e);if(n)return n}return Ro}function h6(e){for(const t of e)if(t.channels.geometry)return!0;return!1}function Rf(e={},t,n){const{document:r=typeof window<"u"?window.document:void 0}=e;return{document:r,className:n,projection:f6(e,t)}}function ct(e,{document:t}){return ns(Lg(e).call(t.documentElement))}const Fc=new Map([["accent",iy],["category10",Ga],["dark2",ay],["paired",oy],["pastel1",sy],["pastel2",fy],["set1",ly],["set2",cy],["set3",uy],["tableau10",dy],["brbg",sn(jh,Wh)],["prgn",sn(Yh,Gh)],["piyg",sn(Zh,Xh)],["puor",sn(Jh,Qh)],["rdbu",sn(Is,_a)],["rdgy",sn(Kh,e0)],["rdylbu",sn(Ls,ya)],["rdylgn",sn(t0,n0)],["spectral",sn(r0,i0)],["burd",Uc(Is,_a)],["buylrd",Uc(Ls,ya)],["blues",nt(C0,N0)],["greens",nt(D0,I0)],["greys",nt(L0,O0)],["oranges",nt(F0,U0)],["purples",nt(P0,R0)],["reds",nt(q0,B0)],["turbo",fn(Y0)],["viridis",fn(G0)],["magma",fn(Z0)],["inferno",fn(X0)],["plasma",fn(J0)],["cividis",fn(z0)],["cubehelix",fn(V0)],["warm",fn($0)],["cool",fn(H0)],["bugn",nt(a0,o0)],["bupu",nt(s0,f0)],["gnbu",nt(l0,c0)],["orrd",nt(u0,d0)],["pubu",nt(g0,m0)],["pubugn",nt(h0,p0)],["purd",nt(b0,_0)],["rdpu",nt(y0,w0)],["ylgn",nt(S0,T0)],["ylgnbu",nt(v0,M0)],["ylorbr",nt(k0,E0)],["ylorrd",nt(x0,A0)],["rainbow",zc(j0)],["sinebow",zc(W0)]]);function nt(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Ht(t,n):e[n])}function sn(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Ht(t,n):e[n])}function Uc(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Ht(r=>t(1-r),n):e[n].slice().reverse())}function fn(e){return({length:t})=>Ht(e,Math.max(2,Math.floor(t)))}function zc(e){return({length:t})=>Ht(e,Math.floor(t)+1).slice(0,-1)}function Y1(e){const t=`${e}`.toLowerCase();if(!Fc.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Fc.get(t)}function ao(e,t){const n=Y1(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function p6(e,t="greys"){const n=new Set,[r,i]=ao(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Vc=new Map([["brbg",Wh],["prgn",Gh],["piyg",Xh],["puor",Qh],["rdbu",_a],["rdgy",e0],["rdylbu",ya],["rdylgn",n0],["spectral",i0],["burd",e=>_a(1-e)],["buylrd",e=>ya(1-e)],["blues",N0],["greens",I0],["greys",O0],["purples",R0],["reds",B0],["oranges",U0],["turbo",Y0],["viridis",G0],["magma",Z0],["inferno",X0],["plasma",J0],["cividis",z0],["cubehelix",V0],["warm",$0],["cool",H0],["bugn",o0],["bupu",f0],["gnbu",c0],["orrd",d0],["pubugn",p0],["pubu",m0],["purd",_0],["rdpu",w0],["ylgnbu",M0],["ylgn",T0],["ylorbr",E0],["ylorrd",A0],["rainbow",j0],["sinebow",W0]]);function qf(e){const t=`${e}`.toLowerCase();if(!Vc.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Vc.get(t)}const g6=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function $c(e){return e!=null&&g6.has(`${e}`.toLowerCase())}const G1=e=>t=>e(1-t),Bo=[0,1],Hc=new Map([["number",Cn],["rgb",Jr],["hsl",Tm],["hcl",xm],["lab",km]]);function Z1(e){const t=`${e}`.toLowerCase();if(!Hc.has(t))throw new Error(`unknown interpolator: ${t}`);return Hc.get(t)}function yi(e,t,n,{type:r,nice:i,clamp:a,zero:o,domain:s=J1(e,n),unknown:f,round:l,scheme:c,interval:u,range:d=ze.get(e)===to?E6(n,s):ze.get(e)===no?x6(n,s):ze.get(e)===ro?Bo:void 0,interpolate:h=ze.get(e)===rn?c==null&&d!==void 0?Jr:qf(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):l?lf:Cn,reverse:p}){if(u=_i(u,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=Z1(h)),h.length===1?(p&&(h=G1(h),p=!1),d===void 0&&(d=Float64Array.from(s,(g,m)=>m/(s.length-1)),d.length===2&&(d=Bo)),t.interpolate((d===Bo?Er:Ff)(h))):t.interpolate(h),o){const[g,m]=pr(s);(g>0||m<0)&&(s=Ps(s),oi(s)!==Math.sign(g)?s[s.length-1]=0:s[0]=0)}return p&&(s=Qi(s)),t.domain(s).unknown(f),i&&(t.nice(m6(i,r)),s=t.domain()),d!==void 0&&t.range(d),a&&t.clamp(a),{type:r,domain:s,range:d,scale:t,interpolate:h,interval:u}}function m6(e,t){return e===!0?void 0:typeof e=="number"?e:Cw(e,t)}function b6(e,t,n){return yi(e,hf(),t,n)}function _6(e,t,n){return X1(e,t,{...n,exponent:.5})}function X1(e,t,{exponent:n=1,...r}){return yi(e,Nd().exponent(n),t,{...r,type:"pow"})}function y6(e,t,{base:n=10,domain:r=A6(t),...i}){return yi(e,Ed().base(n),t,{...i,domain:r})}function w6(e,t,{constant:n=1,...r}){return yi(e,Ad().constant(n),t,r)}function v6(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=C6(t),unknown:s,interpolate:f,reverse:l}){return n===void 0&&(n=f!==void 0?Ht(f,i):ze.get(e)===rn?ao(a,i):void 0),o.length>0&&(o=Dd(o,n===void 0?{length:i}:n).quantiles()),Bf(e,t,{domain:o,range:n,reverse:l,unknown:s})}function M6(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=J1(e,t),unknown:o,interpolate:s,reverse:f}){const[l,c]=pr(a);let u;return n===void 0?(u=Xi(l,c,r),u[0]<=l&&u.splice(0,1),u[u.length-1]>=c&&u.pop(),r=u.length+1,n=s!==void 0?Ht(s,r):ze.get(e)===rn?ao(i,r):void 0):(u=Ht(Cn(l,c),r+1).slice(1,-1),l instanceof Date&&(u=u.map(d=>new Date(d)))),oi(nn(a))<0&&u.reverse(),Bf(e,t,{domain:u,range:n,reverse:f,unknown:o})}function Bf(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Ht(a,n.length+1):ze.get(e)===rn?ao(i,n.length+1):void 0,reverse:s}){n=nn(n);const f=oi(n);if(!isNaN(f)&&!S6(n,f))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(o=Qi(o)),{type:"threshold",scale:Id(f<0?Qi(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function S6(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=ci(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function T6(){return{type:"identity",scale:Sd()}}function fi(e,t=E1){return e.length?[gn(e,({value:n})=>n===void 0?n:gn(n,t)),$t(e,({value:n})=>n===void 0?n:$t(n,t))]:[0,1]}function J1(e,t){const n=ze.get(e);return(n===to||n===ro||n===no?k6:fi)(t)}function k6(e){return[0,e.length?$t(e,({value:t})=>t===void 0?t:$t(t,E1)):1]}function E6(e,t){const n=e.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Ji(e,.5,({value:o})=>o===void 0?NaN:Ji(o,.25,Cf)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/$t(i);return a<1?i.map(o=>o*a):i}function x6(e,t){const n=ss(e,({value:a})=>a===void 0?NaN:ss(a,Math.abs)),r=t.map(a=>12*a/n),i=60/$t(r);return i<1?r.map(a=>a*i):r}function A6(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return fi(e,Cf);if(n<0)return fi(e,x1)}return[1,10]}function C6(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Ff(e){return(t,n)=>r=>e(t+r*(n-t))}function oo(e,t,n,r,{type:i,nice:a,clamp:o,domain:s=fi(r),unknown:f,pivot:l=0,scheme:c,range:u,symmetric:d=!0,interpolate:h=ze.get(e)===rn?c==null&&u!==void 0?Jr:qf(c!==void 0?c:"rdbu"):Cn,reverse:p}){l=+l;let[g,m]=s;if(ci(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,l),m=Math.max(m,l),typeof h!="function"&&(h=Z1(h)),u!==void 0&&(h=h.length===1?Ff(h)(...u):uf(h,u)),p&&(h=G1(h)),d){const b=n.apply(l),y=b-n.apply(g),v=n.apply(m)-b;y<v?g=n.invert(b-v):y>v&&(m=n.invert(b+y))}return t.domain([g,l,m]).unknown(f).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[g,m],pivot:l,interpolate:h,scale:t}}function N6(e,t,n){return oo(e,Gd(),O6,t,n)}function D6(e,t,n){return Q1(e,t,{...n,exponent:.5})}function Q1(e,t,{exponent:n=1,...r}){return oo(e,Jd().exponent(n=+n),q6(n),t,{...r,type:"diverging-pow"})}function I6(e,t,{base:n=10,pivot:r=1,domain:i=fi(t,r<0?x1:Cf),...a}){return oo(e,Zd().base(n=+n),P6,t,{domain:i,pivot:r,...a})}function L6(e,t,{constant:n=1,...r}){return oo(e,Xd().constant(n=+n),B6(n),t,r)}const O6={apply(e){return e},invert(e){return e}},P6={apply:Math.log,invert:Math.exp},R6={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function q6(e){return e===.5?R6:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function B6(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function K1(e,t,n,r){return yi(e,t,n,r)}function F6(e,t,n){return K1(e,i_(),t,n)}function U6(e,t,n){return K1(e,a_(),t,n)}const wi=Symbol("ordinal");function ep(e,t,n,{type:r,interval:i,domain:a,range:o,reverse:s,hint:f}){return i=_i(i,r),a===void 0&&(a=np(n,i,e)),(r==="categorical"||r===wi)&&(r="ordinal"),s&&(a=Qi(a)),t.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:f,interval:i}}function z6(e,t,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:s,...f}){r=_i(r,n),i===void 0&&(i=np(t,r,e));let l;if(ze.get(e)===io)l=H6(t),a=a===void 0?j6(l):ut(a,Pf);else if(ze.get(e)===rn&&(a===void 0&&(n==="ordinal"||n===wi)&&(a=p6(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const c=qf(o),u=a[0],d=a[1]-a[0];a=({length:h})=>Ht(p=>c(u+d*p),h)}else a=Y1(o);if(s===ls)throw new Error(`implicit unknown on ${e} scale is not supported`);return ep(e,of().unknown(s),t,{...f,type:n,domain:i,range:a,hint:l})}function V6(e,t,{align:n=.5,padding:r=.5,...i}){return tp(pm().align(n).padding(r),t,i,e)}function $6(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...o}){return tp(Oa().align(n).paddingInner(i).paddingOuter(a),t,o,e)}function tp(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=ep(r,e,t,n),e.round=i,e}function np(e,t,n){const r=new nf;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=pr(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&ze.get(n)===Jt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Yi(r,$n)}function jc(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function H6(e){return{fill:jc(e,"fill"),stroke:jc(e,"stroke")}}function j6(e){return Tt(e.fill)?Ny:Cy}function Fs(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:o=n,round:s,nice:f,clamp:l,zero:c,align:u,padding:d,projection:h,facet:{label:p=t}={},...g}={}){const m={};for(const[b,y]of e){const v=g[b],_=op(b,y,{round:ze.get(b)===Jt?s:void 0,nice:f,clamp:l,zero:c,align:u,padding:d,projection:h,...v});if(_){let{label:w=b==="fx"||b==="fy"?p:t,percent:T,transform:S,inset:L,insetTop:O=L!==void 0?L:b==="y"?r:0,insetRight:D=L!==void 0?L:b==="x"?i:0,insetBottom:k=L!==void 0?L:b==="y"?a:0,insetLeft:q=L!==void 0?L:b==="x"?o:0}=v||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");_.percent=!!T,_.label=w===void 0?Y6(y,_):w,_.transform=S,b==="x"||b==="fx"?(_.insetLeft=+q,_.insetRight=+D):(b==="y"||b==="fy")&&(_.insetTop=+O,_.insetBottom=+k),m[b]=_}}return m}function Wc(e){return Object.fromEntries(Object.entries(e).filter(([,{scale:t}])=>t).map(([t,{scale:n,type:r,interval:i,label:a}])=>(n.type=r,i!=null&&(n.interval=i),a!=null&&(n.label=a),[t,n])))}function W6(e,t){const{x:n,y:r,fx:i,fy:a}=e,o=i||a?Uf(t):t;i&&Yc(i,o),a&&Gc(a,o);const s=i||a?rp(e,t):t;n&&Yc(n,s),r&&Gc(r,s)}function Y6(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0&&!(sp(t)&&/^(date|time|year)$/i.test(n)))return!Gn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Uf(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:s,marginRight:f,marginBottom:l,marginLeft:c}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(n,f),marginBottom:Math.max(r,l),marginLeft:Math.max(i,c),width:a,height:o}}function rp({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:s,height:f}=Uf(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:e?e.scale.bandwidth()+o+i:s,height:t?t.scale.bandwidth()+r+a:f}}function Yc(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:o=0}=t,s=a+n,f=i-o-r;e.range=[s,Math.max(s,f)],Gn(e)||(e.range=ap(e)),e.scale.range(e.range)}ip(e)}function Gc(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:o=0}=t,s=a+n,f=i-o-r;e.range=[Math.max(s,f),s],Gn(e)?e.range.reverse():e.range=ap(e),e.scale.range(e.range)}ip(e)}function ip(e){e.round===void 0&&J6(e)&&G6(e)<=30&&e.scale.round(!0)}function G6({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),o=t-i,s=Math.abs(r-n)/Math.max(1,o+a*2);return(s-Math.floor(s))*o}function ap(e){const t=e.scale.domain().length+fp(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function Z6(e,t,n){return op(e,n===void 0?void 0:[{hint:n}],{...t})}function op(e,t=[],n={}){const r=X6(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Gn({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(jt)?cr(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Kn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Kn(r)}".`):i.some(Iw)?cr(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Kn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Kn(r)}".`):i.some(Lw)&&cr(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Kn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Kn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=qi(t,n,En);break;case"identity":switch(ze.get(e)){case Jt:n=qi(t,n,En);break;case io:n=qi(t,n,Q6);break}break;case"utc":case"time":n=qi(t,n,Tw);break}switch(r){case"diverging":return N6(e,t,n);case"diverging-sqrt":return D6(e,t,n);case"diverging-pow":return Q1(e,t,n);case"diverging-log":return I6(e,t,n);case"diverging-symlog":return L6(e,t,n);case"categorical":case"ordinal":case wi:return z6(e,t,n);case"cyclical":case"sequential":case"linear":return b6(e,t,n);case"sqrt":return _6(e,t,n);case"threshold":return Bf(e,t,n);case"quantile":return v6(e,t,n);case"quantize":return M6(e,t,n);case"pow":return X1(e,t,n);case"log":return y6(e,t,n);case"symlog":return w6(e,t,n);case"utc":return U6(e,t,n);case"time":return F6(e,t,n);case"point":return V6(e,t,n);case"band":return $6(e,t,n);case"identity":return ze.get(e)===Jt?T6():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Kn(e){return typeof e=="symbol"?e.description:e}const Zc={toString:()=>"projection"};function X6(e,t,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:s}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(n=Zc);for(const{type:c}of t)if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}if(n===Zc)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:c})=>c!==void 0))return;const f=ze.get(e);if(f===to)return"sqrt";if(f===ro||f===no)return"linear";if(f===io)return"ordinal";if((r||i||[]).length>2)return Fo(f);if(r!==void 0)return Lc(r)?Fo(f):jt(r)?"utc":f===rn&&(o!=null||$c(a))?"diverging":"linear";const l=t.map(({value:c})=>c).filter(c=>c!==void 0);return l.some(Lc)?Fo(f):l.some(jt)?"utc":f===rn&&(o!=null||$c(a))?"diverging":"linear"}function Fo(e){switch(e){case Jt:return"point";case rn:return wi;default:return"ordinal"}}function sp({type:e}){return e==="time"||e==="utc"}function Gn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===wi}function fp({type:e}){return e==="threshold"}function J6({type:e}){return e==="point"||e==="band"}function xn(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function qi(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function Q6(e){return ut(e,Pf)}function Us(e={}){let t;for(const n in e)if(ze.has(n)&&ka(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=lp(Z6(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function K6(e){return t=>{if(!ze.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return t in e?lp(e[t]):void 0}}function lp({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:s,pivot:f}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const l=e.unknown?e.unknown():void 0;return{type:t,domain:Ps(n),...r!==void 0&&{range:Ps(r)},...o!==void 0&&{transform:o},...s&&{percent:s},...l!==void 0&&{unknown:l},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function e3(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const t3=e3(e=>new Intl.NumberFormat(e));function n3(e="en-US"){const t=t3(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function cp(e){return uw(e,"Invalid Date")}function r3(e="en-US"){const t=n3(e);return n=>(n instanceof Date?cp:typeof n=="number"?t:Vt)(n)}const so=r3(),Et=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let i3=0;function Xc(){return`plot-clip-${++i3}`}function a3(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:s,fillOpacity:f,stroke:l,strokeWidth:c,strokeOpacity:u,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:b,mixBlendMode:y,paintOrder:v,pointerEvents:_,shapeRendering:w},{ariaLabel:T,fill:S="currentColor",fillOpacity:L,stroke:O="none",strokeOpacity:D,strokeWidth:k,strokeLinecap:q,strokeLinejoin:E,strokeMiterlimit:I,paintOrder:M}){S===null&&(s=null,f=null),O===null&&(l=null,u=null),Tt(S)?!Tt(O)&&!Tt(s)&&(O="none"):Tt(O)&&!Tt(l)&&(S="none");const[N,U]=Hn(s,S),[K,H]=kt(f,L),[J,Z]=Hn(l,O),[te,ne]=kt(u,D),[Be,ye]=kt(b);ai(Z)||(c===void 0&&(c=k),h===void 0&&(h=q),d===void 0&&(d=E),p===void 0&&!Rw(d)&&(p=I),!ai(U)&&v===void 0&&(v=M));const[F,Se]=kt(c);return S!==null&&(e.fill=lt(U,"currentColor"),e.fillOpacity=Rr(H,1)),O!==null&&(e.stroke=lt(Z,"none"),e.strokeWidth=Rr(Se,1),e.strokeOpacity=Rr(ne,1),e.strokeLinejoin=lt(d,"miter"),e.strokeLinecap=lt(h,"butt"),e.strokeMiterlimit=Rr(p,4),e.strokeDasharray=lt(g,"none"),e.strokeDashoffset=lt(m,"0")),e.target=Vt(o),e.ariaLabel=Vt(T),e.ariaDescription=Vt(i),e.ariaHidden=Vt(a),e.opacity=Rr(ye,1),e.mixBlendMode=lt(y,"normal"),e.paintOrder=lt(v,"normal"),e.pointerEvents=lt(_,"auto"),e.shapeRendering=lt(w,"auto"),{title:{value:t,optional:!0},href:{value:n,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:N,scale:"auto",optional:!0},fillOpacity:{value:K,scale:"auto",optional:!0},stroke:{value:J,scale:"auto",optional:!0},strokeOpacity:{value:te,scale:"auto",optional:!0},strokeWidth:{value:F,optional:!0},opacity:{value:Be,scale:"auto",optional:!0}}}function o3(e,t){t&&e.filter(n=>Af(t[n])).append("title").call(f3,t)}function s3(e,t){t&&e.filter(([n])=>Af(t[n])).append("title").call(l3,t)}function f3(e,t){t&&e.text(n=>so(t[n]))}function l3(e,t){t&&e.text(([n])=>so(t[n]))}function Zn(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:s,strokeWidth:f,opacity:l,href:c}){n&&ie(e,"aria-label",u=>n[u]),i&&ie(e,"fill",u=>i[u]),a&&ie(e,"fill-opacity",u=>a[u]),o&&ie(e,"stroke",u=>o[u]),s&&ie(e,"stroke-opacity",u=>s[u]),f&&ie(e,"stroke-width",u=>f[u]),l&&ie(e,"opacity",u=>l[u]),c&&up(e,u=>c[u],t),o3(e,r)}function c3(e,{target:t},{ariaLabel:n,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:s,strokeWidth:f,opacity:l,href:c}){n&&ie(e,"aria-label",([u])=>n[u]),i&&ie(e,"fill",([u])=>i[u]),a&&ie(e,"fill-opacity",([u])=>a[u]),o&&ie(e,"stroke",([u])=>o[u]),s&&ie(e,"stroke-opacity",([u])=>s[u]),f&&ie(e,"stroke-width",([u])=>f[u]),l&&ie(e,"opacity",([u])=>l[u]),c&&up(e,([u])=>c[u],t),s3(e,r)}function u3({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:s,href:f}){return[e,t,n,r,i,a,o,s,f].filter(l=>l!==void 0)}function d3(e,t,n){const r=rf(e,i=>t[i]);return n===void 0&&r.size>e.length>>1&&cr("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*h3(e,t,{z:n},r){const{z:i}=r,a=u3(r),o=[...t,...a];for(const s of i?d3(e,i,n):[e]){let f,l;e:for(const c of s){for(const u of o)if(!wr(u[c])){l&&l.push(-1);continue e}if(f===void 0){l&&(yield l),f=a.map(u=>Io(u[c])),l=[c];continue}l.push(c);for(let u=0;u<a.length;++u)if(Io(a[u][c])!==f[u]){yield l,f=a.map(h=>Io(h[c])),l=[c];continue e}}l&&(yield l)}}function p3(e){return e===!0?e="frame":e===!1&&(e=null),I1(e,"clip",["frame","sphere"])}function g3(e,t,n,r){let i;switch(t.clip){case"frame":{const{width:a,height:o,marginLeft:s,marginRight:f,marginTop:l,marginBottom:c}=n,u=Xc();i=`url(#${u})`,e=ct("svg:g",r).call(d=>d.append("svg:clipPath").attr("id",u).append("rect").attr("x",s).attr("y",l).attr("width",a-f-s).attr("height",o-l-c)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const o=Xc();i=`url(#${o})`,e.append("clipPath").attr("id",o).append("path").attr("d",ja(a)({type:"Sphere"}));break}}ie(e,"aria-label",t.ariaLabel),ie(e,"aria-description",t.ariaDescription),ie(e,"aria-hidden",t.ariaHidden),ie(e,"clip-path",i)}function wn(e,t,n,r){g3(e,t,n,r),ie(e,"fill",t.fill),ie(e,"fill-opacity",t.fillOpacity),ie(e,"stroke",t.stroke),ie(e,"stroke-width",t.strokeWidth),ie(e,"stroke-opacity",t.strokeOpacity),ie(e,"stroke-linejoin",t.strokeLinejoin),ie(e,"stroke-linecap",t.strokeLinecap),ie(e,"stroke-miterlimit",t.strokeMiterlimit),ie(e,"stroke-dasharray",t.strokeDasharray),ie(e,"stroke-dashoffset",t.strokeDashoffset),ie(e,"shape-rendering",t.shapeRendering),ie(e,"paint-order",t.paintOrder),ie(e,"pointer-events",t.pointerEvents)}function vn(e,t){m3(e,"mix-blend-mode",t.mixBlendMode),ie(e,"opacity",t.opacity)}function up(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(Wi.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Wi.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ie(e,t,n){n!=null&&e.attr(t,n)}function m3(e,t,n){n!=null&&e.style(t,n)}function Mn(e,t,{x:n,y:r},i=Et,a=Et){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function lt(e,t){if((e=Vt(e))!==t)return e}function Rr(e,t){if((e=Pe(e))!==t)return e}const b3=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function zf(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!b3.test(e))throw new Error(`invalid class name: ${e}`);return e}function Vf(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function dp({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(e)?o:/right$/.test(e)?t-i:(o+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function _3(e,t,n={}){let r=.5-Et,i=.5+Et,a=.5+Et,o=.5-Et;for(const{marginTop:g,marginRight:m,marginBottom:b,marginLeft:y}of t)g>r&&(r=g),m>i&&(i=m),b>a&&(a=b),y>o&&(o=y);let{margin:s,marginTop:f=s!==void 0?s:r,marginRight:l=s!==void 0?s:i,marginBottom:c=s!==void 0?s:a,marginLeft:u=s!==void 0?s:o}=n;f=+f,l=+l,c=+c,u=+u;let{width:d=640,height:h=y3(e,t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,f-r+c-a)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:f,marginRight:l,marginBottom:c,marginLeft:u};if(e.fx||e.fy){let{margin:g,marginTop:m=g!==void 0?g:f,marginRight:b=g!==void 0?g:l,marginBottom:y=g!==void 0?g:c,marginLeft:v=g!==void 0?g:u}=n.facet??{};m=+m,b=+b,y=+y,v=+v,p.facet={marginTop:m,marginRight:b,marginBottom:y,marginLeft:v}}return p}function y3({x:e,y:t,fy:n,fx:r},i,{projection:a,aspectRatio:o},{width:s,marginTopDefault:f,marginRightDefault:l,marginBottomDefault:c,marginLeftDefault:u}){const d=n?n.scale.domain().length:1,h=d6(a,i);if(h){const g=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*g-.1)*h,b=Math.max(.1,Math.min(10,m));return Math.round((s-u-l)*b+f+c)}const p=t?Gn(t)?t.scale.domain().length:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const g=Jc("y",t)/(Jc("x",e)*o),m=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,y=m*(s-u-l)-e.insetLeft-e.insetRight;return(g*y+t.insetTop+t.insetBottom)/b+f+c}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Jc(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=t.scale.exponent();i=f=>Math.pow(f,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,o]=pr(r);return Math.abs(i(o)-i(a))}function w3(e,t){const{fx:n,fy:r}=Fs(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?tm(i,a).map(([o,s],f)=>({x:o,y:s,i:f})):i?i.map((o,s)=>({x:o,i:s})):a?a.map((o,s)=>({y:o,i:s})):void 0}function v3(e,{x:t,y:n}){return t&&(t=new Nn(t.map((r,i)=>[r,i]))),n&&(n=new Nn(n.map((r,i)=>[r,i]))),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function $f(e,{fx:t,fy:n}){const r=Ln(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?or(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):t?or(r,o=>(o.fx=i[o[0]],o),o=>i[o]):or(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function M3(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function S3(e){const t=[],n=new Uint32Array(Fn(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const T3=new Map([["top",Uo],["right",$o],["bottom",zo],["left",Vo],["top-left",Bi(Uo,Vo)],["top-right",Bi(Uo,$o)],["bottom-left",Bi(zo,Vo)],["bottom-right",Bi(zo,$o)],["top-empty",E3],["right-empty",C3],["bottom-empty",x3],["left-empty",A3],["empty",N3]]);function k3(e){if(e==null)return null;const t=T3.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}function Uo(e,{y:t},{y:n}){return t?t.indexOf(n)===0:!0}function zo(e,{y:t},{y:n}){return t?t.indexOf(n)===t.length-1:!0}function Vo(e,{x:t},{x:n}){return t?t.indexOf(n)===0:!0}function $o(e,{x:t},{x:n}){return t?t.indexOf(n)===t.length-1:!0}function E3(e,{y:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a>0){const s=t[a-1];return(o=e.find(f=>f.x===n&&f.y===s))==null?void 0:o.empty}}function x3(e,{y:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(r);if(a<(t==null?void 0:t.length)-1){const s=t[a+1];return(o=e.find(f=>f.x===n&&f.y===s))==null?void 0:o.empty}}function A3(e,{x:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(n);if(a>0){const s=t[a-1];return(o=e.find(f=>f.x===s&&f.y===r))==null?void 0:o.empty}}function C3(e,{x:t},{x:n,y:r,empty:i}){var o;if(i)return!1;const a=t==null?void 0:t.indexOf(n);if(a<(t==null?void 0:t.length)-1){const s=t[a+1];return(o=e.find(f=>f.x===s&&f.y===r))==null?void 0:o.empty}}function N3(e,t,{empty:n}){return n}function Bi(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Ho(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}function hp(e){return Gn(e)&&e.interval===void 0?void 0:"tabular-nums"}function D3(e,t){return e===void 0?jt(t)?cp:Vt:typeof e=="function"?e:(typeof e=="string"?jt(t)?za:Sr:Er)(e)}function I3(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:s=0,marginBottom:f=16+r,marginLeft:l=0,style:c,ticks:u=(i-l-s)/64,tickFormat:d,fontVariant:h=hp(e),round:p=!0,opacity:g,className:m}=t;const b=Rf(t);m=zf(m),g=kt(g)[1],d===null&&(d=()=>null);const y=ct("svg",b).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(q=>q.append("style").text(`.${m}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${m}-ramp text {
  white-space: pre;
}`)).call(Vf,c);let v=q=>q.selectAll(".tick line").attr("y1",o+f-a),_;const w=p?(q,E)=>q.rangeRound(E):(q,E)=>q.range(E),{type:T,domain:S,range:L,interpolate:O,scale:D,pivot:k}=e;if(O){const q=L===void 0?O:uf(O.length===1?Ff(O):O,L);_=w(D.copy(),Ht(Cn(l,i-s),Math.min(S.length+(k!==void 0),L===void 0?1/0:L.length)));const E=256,I=b.document.createElement("canvas");I.width=E,I.height=1;const M=I.getContext("2d");for(let N=0,U=E-1;N<E;++N)M.fillStyle=q(N/U),M.fillRect(N,0,1,1);y.append("image").attr("opacity",g).attr("x",l).attr("y",o).attr("width",i-l-s).attr("height",a-o-f).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(T==="threshold"){const q=S,E=d===void 0?I=>I:typeof d=="string"?Sr(d):d;_=w(hf().domain([-1,L.length-1]),[l,i-s]),y.append("g").attr("fill-opacity",g).selectAll().data(L).enter().append("rect").attr("x",(I,M)=>_(M-1)).attr("y",o).attr("width",(I,M)=>_(M)-_(M-1)).attr("height",a-o-f).attr("fill",I=>I),u=ut(q,(I,M)=>M),d=I=>E(q[I],I)}else _=w(Oa().domain(S),[l,i-s]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",_).attr("y",o).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",a-o-f).attr("fill",D),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-f})`).call(l2(_).ticks(Array.isArray(u)?null:u,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(u)?u:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",lt(h,"normal")).call(v).call(q=>q.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",l).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}function Qc(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function L3(e,{opacity:t,...n}={}){if(!Gn(e)&&!fp(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return pp(e,n,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",kt(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function O3(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:Tt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...s}={},f){const[u,d]=Hn(t),[h,p]=Hn(r),g=Qc(f,u),m=Qc(f,h),b=o*o*Math.PI;return n=kt(n)[1],i=kt(i)[1],a=kt(a)[1],pp(e,s,(y,v,_,w)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",w).attr("fill",u==="color"?T=>g.scale(T):d).attr("fill-opacity",n).attr("stroke",h==="color"?T=>m.scale(T):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",T=>{const S=ia();return e.scale(T).draw(S,b),S}))}function pp(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=hp(e),swatchSize:o=15,swatchWidth:s=o,swatchHeight:f=o,marginLeft:l=0,className:c,style:u,width:d}=t;const h=Rf(t);c=zf(c),i=D3(i,e.domain);const p=ct("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,s,f).call(m=>m.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,s,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",l?`${+l}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",lt(a,"normal")).call(Vf,u).node()}const zs=new Map([["symbol",O3],["color",mp],["opacity",R3]]);function P3(e,t,n={}){return(r,i)=>{if(!zs.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return zs.get(r)(e[r],gp(t,n[r],i),a=>e[a])}}function gp({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return qw(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function mp(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return L3(e,n);case"ramp":return I3(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function R3({type:e,interpolate:t,...n},{legend:r=!0,color:i=ji(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return mp({type:e,...n,interpolate:q3(i)},{legend:r,...a})}function q3(e){const{r:t,g:n,b:r}=ji(e)||ji(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function B3(e,t,n){const r=[];for(const[i,a]of zs){const o=n[i];if(o!=null&&o.legend&&i in e){const s=a(e[i],gp(t,e[i],o),f=>e[f]);s!=null&&r.push(s)}}return r}class Ft{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:o,fx:s,fy:f,sort:l,dx:c=0,dy:u=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:g=d,marginLeft:m=d,clip:b,channels:y}=r;if(this.data=t,this.sort=ii(l)?l:null,this.initializer=F1(r).initializer,this.transform=this.initializer?r.transform:B1(r).transform,a===null||a===!1?this.facet=null:(this.facet=yn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=s,this.fy=f),this.facetAnchor=k3(o),n=Oc(n),y!==void 0&&(n={...Oc(y),...n}),i!==void 0&&(n={...a3(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,_])=>{const{value:w}=_;return Df(w)&&(_={..._,value:w.value},w.scale!==void 0&&(_.scale=w.scale)),[v,_]}).filter(([v,{value:_,optional:w}])=>{if(_!=null)return!0;if(w)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+c,this.dy=+u,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=p3(b),this.facet==="super"){if(s||f)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:_}=n[v];if(!(_!=="x"&&_!=="y"))throw new Error("super-faceting cannot use x or y")}}}initialize(t,n){let r=nn(this.data);t===void 0&&r!=null&&(t=[Ln(r)]);const i=t;this.transform!=null&&({facets:t,data:r}=this.transform(r,t),r=nn(r)),t!==void 0&&(t.original=i);const a=e6(this.channels,r);return this.sort!=null&&n6(r,t,a,n,this.sort),{data:r,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:a=wr}=n[i];if(a!==null){const o=r[i];t=t.filter(s=>a(o[s]))}}return t}project(t,n,r){qo("x","y",t,n,r),qo("x1","y1",t,n,r),qo("x2","y2",t,n,r)}scale(t,n,r){const i=t6(t,n);return r.projection&&this.project(t,i,r),i}}function bp(...e){return e.plot=Ft.prototype.plot,e}const _p=Math.PI/180;function Hf({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=yp(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function jf({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=yp(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function yp(e,t,n){return e===void 0&&t===void 0&&n===void 0?Et?[1,0]:[.5,.5]:[t,n]}function wp(e,{interval:t}){return e={...Of(e)},e.interval=Lf(e.interval===void 0?t:e.interval),e}function fo(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:o}=n,{value:s,interval:f}=wp(i,n);if(s==null||f==null&&!r)return n;const l=bi(i);if(f==null){let h;const p={transform:g=>h||(h=qt(g,s)),label:l};return{...n,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:o===void 0?p:o}}let c,u;function d(h){return u!==void 0&&h===c?u:u=ut(qt(c=h,s),p=>f.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:d,label:l}:a,[`${e}2`]:o===void 0?{transform:h=>d(h).map(p=>f.offset(p)),label:l}:o})}function vp(e,t,n){const{[e]:r}=n,{value:i,interval:a}=wp(r,n);return i==null||a==null?n:t({...n,[e]:{label:bi(r),transform:o=>{const s=ut(qt(o,i),l=>a.floor(l)),f=s.map(l=>a.offset(l));return s.map(jt(s)?(l,c)=>l==null||isNaN(l=+l)||(c=f[c],c==null)||isNaN(c=+c)?void 0:new Date((l+c)/2):(l,c)=>l==null||(c=f[c],c==null)?NaN:(+l+ +c)/2)}}})}function F3(e={}){return fo("x",Hf,e,!0)}function Mp(e={}){return fo("y",jf,e,!0)}function U3(e={}){return fo("x",Hf,e)}function z3(e={}){return fo("y",jf,e)}function V3(e={}){return vp("x",Hf,e)}function $3(e={}){return vp("y",jf,e)}const Sp={ariaLabel:"rule",fill:null,stroke:"currentColor"};class H3 extends Ft{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:s=o,insetBottom:f=o}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,Sp),this.insetTop=Pe(s),this.insetBottom=Pe(f)}render(t,n,r,i,a){const{x:o,y:s}=n,{x:f,y1:l,y2:c}=r,{width:u,height:d,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:b,insetBottom:y}=this;return ct("svg:g",a).call(wn,this,i).call(Mn,this,{x:f&&o},Et,0).call(v=>v.selectAll().data(t).enter().append("line").call(vn,this).attr("x1",f?_=>f[_]:(g+u-p)/2).attr("x2",f?_=>f[_]:(g+u-p)/2).attr("y1",l&&!xn(s)?_=>l[_]+b:h+b).attr("y2",c&&!xn(s)?s.bandwidth?_=>c[_]+s.bandwidth()-y:_=>c[_]-y:d-m-y).call(Zn,this,r)).node()}}class j3 extends Ft{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:s=o,insetLeft:f=o}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},n,Sp),this.insetRight=Pe(s),this.insetLeft=Pe(f)}render(t,n,r,i,a){const{x:o,y:s}=n,{y:f,x1:l,x2:c}=r,{width:u,height:d,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:b,insetRight:y}=this;return ct("svg:g",a).call(wn,this,i,a).call(Mn,this,{y:f&&s},0,Et).call(v=>v.selectAll().data(t).enter().append("line").call(vn,this).attr("x1",l&&!xn(o)?_=>l[_]+b:g+b).attr("x2",c&&!xn(o)?o.bandwidth?_=>c[_]+o.bandwidth()-y:_=>c[_]-y:u-p-y).attr("y1",f?_=>f[_]:(h+d-m)/2).attr("y2",f?_=>f[_]:(h+d-m)/2).call(Zn,this,r)).node()}}function Wf(e,t){let{x:n=Wt,y:r,y1:i,y2:a,...o}=z3(t);return[i,a]=Tp(r,i,a),new H3(e,{...o,x:n,y1:i,y2:a})}function Yf(e,t){let{y:n=Wt,x:r,x1:i,x2:a,...o}=U3(t);return[i,a]=Tp(r,i,a),new j3(e,{...o,y:n,x1:i,x2:a})}function Tp(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function kp(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const W3={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ep="­";class Gf extends Ft{constructor(t,n={}){const{x:r,y:i,text:a=Yn(t)&&Dw(t)?Wt:N1,frameAnchor:o,textAnchor:s=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:f=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:l=1,lineWidth:c=1/0,textOverflow:u,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:b,rotate:y}=n,[v,_]=kt(y,0),[w,T]=ev(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:w,optional:!0},rotate:{value:Nw(v),optional:!0},text:{value:a,filter:Af,optional:!0}},n,W3),this.rotate=_,this.textAnchor=lt(s,"middle"),this.lineAnchor=yn(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+c,this.textOverflow=Y3(u),this.monospace=!!d,this.fontFamily=Vt(h),this.fontSize=T,this.fontStyle=Vt(g),this.fontVariant=Vt(m),this.fontWeight=Vt(b),this.frameAnchor=P1(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=rv(this),this.clipLine=iv(this)}render(t,n,r,i,a){const{x:o,y:s}=n,{x:f,y:l,rotate:c,text:u,title:d,fontSize:h}=r,{rotate:p}=this,[g,m]=dp(this,i);return ct("svg:g",a).call(wn,this,i,a).call(J3,this,u,i).call(Mn,this,{x:f&&o,y:l&&s}).call(b=>b.selectAll().data(t).enter().append("text").call(vn,this).call(G3,this,u,d).attr("transform",kp`translate(${f?y=>f[y]:g},${l?y=>l[y]:m})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(ie,"font-size",h&&(y=>h[y])).call(Zn,this,r)).node()}}function Y3(e){return e==null?null:yn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function G3(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:s,clipLine:f}=t;e.each(function(l){const c=s(so(n[l])??"").map(f),u=c.length,d=i==="top"?.71:i==="bottom"?1-u:(164-u*100)/200;if(u>1)for(let h=0;h<u;++h){if(!c[h])continue;const p=this.ownerDocument.createElementNS(Wi.svg,"tspan");p.setAttribute("x",0),p.setAttribute("y",`${(d+h)*a}em`),p.textContent=c[h],this.appendChild(p)}else d&&this.setAttribute("y",`${d*a}em`),this.textContent=c[0];if(o&&!r&&c[0]!==n[l]){const h=this.ownerDocument.createElementNS(Wi.svg,"title");h.textContent=n[l],this.appendChild(h)}})}function lo(e,t={}){let{x:n,y:r,...i}=t;return t.frameAnchor===void 0&&([n,r]=If(n,r)),new Gf(e,{...i,x:n,y:r})}function Z3(e,t={}){const{x:n=Wt,...r}=t;return new Gf(e,$3({...r,x:n}))}function X3(e,t={}){const{y:n=Wt,...r}=t;return new Gf(e,V3({...r,y:n}))}function J3(e,t,n){ie(e,"text-anchor",t.textAnchor),ie(e,"font-family",t.fontFamily),ie(e,"font-size",t.fontSize),ie(e,"font-style",t.fontStyle),ie(e,"font-variant",t.fontVariant===void 0?Q3(n):t.fontVariant),ie(e,"font-weight",t.fontWeight)}function Q3(e){return Ow(e)||jt(e)?"tabular-nums":void 0}const K3=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function ev(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),K3.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function tv(e,t,n){const r=[];let i,a=0;for(const[o,s,f]of nv(e)){if(i===void 0&&(i=o),a>i&&n(e,i,s)>t&&(r.push(e.slice(i,a)+(e[a-1]===Ep?"-":"")),i=o),f){r.push(e.slice(i,s)),i=void 0;continue}a=s}return r}function*nv(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Ep:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Kc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function xp(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xr(e,i))r+=Kc[e[i]]??(Np(e,i)?120:Kc.e);return r}function Ap(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xr(e,i))r+=Np(e,i)?200:100;return r}function rv({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Ap:xp,i=t*100;return a=>tv(a,i,r)}function iv({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Ap:xp,i=t*100;switch(n){case"clip-start":return a=>tu(a,i,r,"");case"clip-end":return a=>eu(a,i,r,"");case"ellipsis-start":return a=>tu(a,i,r,"…");case"ellipsis-middle":return a=>av(a,i,r,"…");case"ellipsis-end":return a=>eu(a,i,r,"…")}}function Ea(e,t,n,r){const i=[];let a=0;for(let o=0,s=0,f=e.length;o<f;o=s){s=xr(e,o);const l=n(e,o,s);if(a+l>t){for(a+=r;a>t&&o>0;)s=o,o=i.pop(),a-=n(e,o,s);return[o,t-a]}a+=l,i.push(o)}return[-1,0]}function eu(e,t,n,r){e=e.trim();const i=n(r),[a]=Ea(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function av(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[o,s]=Ea(e,t/2,n,a),[f]=Ea(e,i-t/2-s+a,n,-a);return f<0?r:e.slice(0,o).trimEnd()+r+e.slice(xr(e,f)).trimStart()}function tu(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[o]=Ea(e,i-t+a,n,-a);return o<0?r:r+e.slice(xr(e,o)).trimStart()}const Vs=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,nu=/\p{Extended_Pictographic}/uy;function xr(e,t){return t+=ov(e,t)?2:1,fv(e,t)&&(t=Vs.lastIndex),sv(e,t)?xr(e,t+1):t}function Cp(e,t){return e.charCodeAt(t)<128}function ov(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function sv(e,t){return e.charCodeAt(t)===8205}function fv(e,t){return Cp(e,t)?!1:(Vs.lastIndex=t,Vs.test(e))}function Np(e,t){return Cp(e,t)?!1:(nu.lastIndex=t,nu.test(e))}const lv={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Dp=3.5,cv=Dp*5,Ip={draw(e,t,n){const r=t*n/cv;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},uv={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},dv=new Map([["arrow",Ip],["spike",uv]]);function hv(e){return e&&typeof e.draw=="function"}function pv(e){if(hv(e))return e;const t=dv.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let Lp=class extends Ft{constructor(t,n={}){const{x:r,y:i,r:a=Dp,length:o,rotate:s,shape:f=Ip,anchor:l="middle",frameAnchor:c}=n,[u,d]=kt(o,12),[h,p]=kt(s,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:u,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,lv),this.r=+a,this.length=d,this.rotate=p,this.shape=pv(f),this.anchor=yn(l,"anchor",["start","middle","end"]),this.frameAnchor=P1(c)}render(t,n,r,i,a){const{x:o,y:s}=n,{x:f,y:l,length:c,rotate:u}=r,{length:d,rotate:h,anchor:p,shape:g,r:m}=this,[b,y]=dp(this,i);return ct("svg:g",a).call(wn,this,i,a).call(Mn,this,{x:f&&o,y:l&&s}).call(v=>v.selectAll().data(t).enter().append("path").call(vn,this).attr("transform",kp`translate(${f?_=>f[_]:b},${l?_=>l[_]:y})${u?_=>` rotate(${u[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?_=>` translate(0,${c[_]})`:` translate(0,${d})`:c?_=>` translate(0,${c[_]/2})`:` translate(0,${d/2})`}`).attr("d",c?_=>{const w=ia();return g.draw(w,c[_],m),w}:(()=>{const _=ia();return g.draw(_,d,m),_})()).call(Zn,this,r)).node()}};function gv(e,t={}){const{x:n=Wt,...r}=t;return new Lp(e,{...r,x:n})}function mv(e,t={}){const{y:n=Wt,...r}=t;return new Lp(e,{...r,y:n})}function On(e,t){return arguments.length<2&&!Yn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function co({anchor:e}={},t){return e===void 0?t[0]:yn(e,"anchor",t)}function Op(e){return co(e,["left","right"])}function Pp(e){return co(e,["right","left"])}function Rp(e){return co(e,["bottom","top"])}function qp(e){return co(e,["top","bottom"])}function vi(){const[e,t]=On(...arguments);return Bp("y",Op(t),e,t)}function bv(){const[e,t]=On(...arguments);return Bp("fy",Pp(t),e,t)}function Ar(){const[e,t]=On(...arguments);return Fp("x",Rp(t),e,t)}function _v(){const[e,t]=On(...arguments);return Fp("fx",qp(t),e,t)}function Bp(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:s=1,fill:f=r,fillOpacity:l=i,textAnchor:c,textStroke:u,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:g,tickRotate:m,x:b,margin:y,marginTop:v=y===void 0?20:y,marginRight:_=y===void 0?t==="right"?40:0:y,marginBottom:w=y===void 0?20:y,marginLeft:T=y===void 0?t==="left"?40:0:y,label:S,labelOffset:L,labelAnchor:O,...D}){return p=Pe(p),g=Pe(g),m=Pe(m),O!==void 0&&(O=yn(O,"labelAnchor",["center","top","bottom"])),bp(p&&!Tt(a)?yv(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:m,x:b,...D}):null,Tt(f)?null:vv(e,t,n,{fill:f,fillOpacity:l,stroke:u,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,x:b,marginTop:v,marginRight:_,marginBottom:w,marginLeft:T,...D}),!Tt(f)&&S!==null?lo([],$p({fill:f,fillOpacity:l,...D},function(k,q,E,I,M){const N=I[e],{marginTop:U,marginRight:K,marginBottom:H,marginLeft:J}=e==="y"&&M.inset||M,Z=O??(N.bandwidth?"center":"top"),te=L??(t==="right"?K:J)-3;return Z==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=Z,this.frameAnchor=`${Z}-${t}`,this.rotate=0),this.dy=Z==="top"?3-U:Z==="bottom"?H-3:0,this.dx=t==="right"?te:-te,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[S===void 0?Wp(e,N,Z):S]}}}})):null)}function Fp(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:s=1,fill:f=r,fillOpacity:l=i,textAnchor:c,textStroke:u,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:g,tickRotate:m,y:b,margin:y,marginTop:v=y===void 0?t==="top"?30:0:y,marginRight:_=y===void 0?20:y,marginBottom:w=y===void 0?t==="bottom"?30:0:y,marginLeft:T=y===void 0?20:y,label:S,labelAnchor:L,labelOffset:O,...D}){return p=Pe(p),g=Pe(g),m=Pe(m),L!==void 0&&(L=yn(L,"labelAnchor",["center","left","right"])),bp(p&&!Tt(a)?wv(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:s,tickSize:p,tickPadding:g,tickRotate:m,y:b,...D}):null,Tt(f)?null:Mv(e,t,n,{fill:f,fillOpacity:l,stroke:u,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,y:b,marginTop:v,marginRight:_,marginBottom:w,marginLeft:T,...D}),!Tt(f)&&S!==null?lo([],$p({fill:f,fillOpacity:l,...D},function(k,q,E,I,M){const N=I[e],{marginTop:U,marginRight:K,marginBottom:H,marginLeft:J}=e==="x"&&M.inset||M,Z=L??(N.bandwidth?"center":"right"),te=O??(t==="top"?U:H)-3;return Z==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${Z}`,this.textAnchor=Z==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-te:te,this.dx=Z==="right"?K-3:Z==="left"?3-J:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[S===void 0?Wp(e,N,Z):S]}}}})):null)}function yv(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:l=0,insetLeft:c=l,insetRight:u=l,dx:d=0,y:h=e==="y"?void 0:null,...p}){return Cr(mv,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:s,y:h,...p,dx:t==="left"?+d-Et+ +c:+d+Et-u,anchor:"start",length:f,shape:t==="left"?Nv:Dv})}function wv(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:f,inset:l=0,insetTop:c=l,insetBottom:u=l,dy:d=0,x:h=e==="x"?void 0:null,...p}){return Cr(gv,e,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:s,x:h,...p,dy:t==="bottom"?+d-Et-u:+d+Et+ +c,anchor:"start",length:f,shape:t==="bottom"?Av:Cv})}function vv(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:s=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*_p):0),tickFormat:f,text:l=typeof f=="function"?f:void 0,textAnchor:c=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:u=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:g=h,dx:m=0,y:b=e==="y"?void 0:null,...y}){return Cr(X3,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:l===void 0?null:l,textAnchor:c,lineAnchor:u,fontVariant:d,rotate:o,y:b,...y,dx:t==="left"?+m-a-s+ +p:+m+ +a+ +s-g},function(v,_,w){d===void 0&&(this.fontVariant=jp(v)),l===void 0&&(w.text=Hp(v,_,f))})}function Mv(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:s=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*_p):0),tickFormat:f,text:l=typeof f=="function"?f:void 0,textAnchor:c=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:g=h,dy:m=0,x:b=e==="x"?void 0:null,...y}){return Cr(Z3,e,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:l===void 0?null:l,textAnchor:c,lineAnchor:u,fontVariant:d,rotate:o,x:b,...y,dy:t==="bottom"?+m+ +a+ +s-g:+m-a-s+ +p},function(v,_,w){d===void 0&&(this.fontVariant=jp(v)),l===void 0&&(w.text=Hp(v,_,f))})}function Sv(){const[e,t]=On(...arguments);return Up("y",Op(t),e,t)}function Tv(){const[e,t]=On(...arguments);return Up("fy",Pp(t),e,t)}function kv(){const[e,t]=On(...arguments);return zp("x",Rp(t),e,t)}function Ev(){const[e,t]=On(...arguments);return zp("fx",qp(t),e,t)}function Up(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:o=t==="right"?i:null,...s}){return Cr(Yf,e,`${e}-grid`,n,{y:r,x1:a,x2:o,...Vp(s)})}function zp(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:o=t==="bottom"?i:null,...s}){return Cr(Wf,e,`${e}-grid`,n,{x:r,y1:a,y2:o,...Vp(s)})}function Vp({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function $p({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:o,pointerEvents:s,shapeRendering:f},l){return[,e]=Hn(e),[,t]=kt(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontWeight:a,monospace:o,pointerEvents:s,shapeRendering:f,initializer:l}}function Cr(e,t,n,r,i,a){let o;const s=e(r,F1(i,function(f,l,c,u){const{[t]:d}=u;if(!d)throw new Error(`missing scale: ${t}`);let{ticks:h,tickSpacing:p,interval:g}=i;if(sp(d)&&typeof h=="string"&&(g=h,h=void 0),f==null){if(Yn(h))f=nn(h);else if(d.ticks)if(h!==void 0)f=d.ticks(h);else if(g=_i(g===void 0?d.interval:g,d.type),g!==void 0){const[m,b]=pr(d.domain());f=g.range(m,g.offset(g.floor(b)))}else{const[m,b]=pr(d.range());h=(b-m)/(p===void 0?t==="x"?80:35:p),f=d.ticks(h)}else f=d.domain();t==="y"||t==="x"?l=[Ln(f)]:(o[t]={scale:t,value:Wt},l=void 0)}return a==null||a.call(this,d,h,o),{data:f,facets:l,channels:Object.fromEntries(Object.entries(o).map(([m,b])=>[m,{...b,value:qt(f,b.value)}]))}}));return r==null?(o=s.channels,s.channels={}):o={},s.ariaLabel=n,s}function Hp(e,t,n){return{value:xv(e,t,n)}}function xv(e,t,n){return e.tickFormat?e.tickFormat(Yn(t)?null:t,n):n===void 0?so:typeof n=="string"?(jt(e.domain())?za:Sr)(n):Er(n)}const Av={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Cv={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},Nv={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Dv={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function jp(e){return e.bandwidth&&e.interval===void 0?void 0:"tabular-nums"}function Iv(e){return Math.sign(oi(e.domain()))*Math.sign(oi(e.range()))}function Wp(e,t,n){const r=t.label;if(t.bandwidth||!(r!=null&&r.inferred))return r;const i=Iv(t);return i?e==="x"||n==="center"?e==="x"==i<0?`← ${r}`:`${r} →`:`${i<0?"↑ ":"↓ "}${r}`:r}const Lv={ariaLabel:"frame",fill:"none",stroke:"currentColor"},Ov={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class Pv extends Ft{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:o=r,insetLeft:s=r,rx:f,ry:l}=t;super(void 0,void 0,t,n==null?Lv:Ov),this.anchor=I1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Pe(i),this.insetRight=Pe(a),this.insetBottom=Pe(o),this.insetLeft=Pe(s),this.rx=Pe(f),this.ry=Pe(l)}render(t,n,r,i,a){const{marginTop:o,marginRight:s,marginBottom:f,marginLeft:l,width:c,height:u}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m,rx:b,ry:y}=this,v=l+m,_=c-s-p,w=o+h,T=u-f-g;return ct(d?"svg:line":"svg:rect",a).call(wn,this,i,a).call(vn,this).call(Mn,this,{}).call(d==="left"?S=>S.attr("x1",v).attr("x2",v).attr("y1",w).attr("y2",T):d==="right"?S=>S.attr("x1",_).attr("x2",_).attr("y1",w).attr("y2",T):d==="top"?S=>S.attr("x1",v).attr("x2",_).attr("y1",w).attr("y2",w):d==="bottom"?S=>S.attr("x1",v).attr("x2",_).attr("y1",T).attr("y2",T):S=>S.attr("x",v).attr("y",w).attr("width",_-v).attr("height",T-w).attr("rx",b).attr("ry",y)).node()}}function Yp(e){return new Pv(e)}function Mi(e={}){const{facet:t,style:n,caption:r,ariaLabel:i,ariaDescription:a}=e,o=zf(e.className),s=e.marks===void 0?[]:ru(e.marks),f=Uv(t,e),l=new Map;for(const E of s){const I=iu(E,f,e);I&&l.set(E,I)}const c=new Map;f&&qr(c,[f]),qr(c,l);const u=ru(zv(s,c,e));for(const E of u){const I=iu(E,f,e);I&&l.set(E,I)}s.unshift(...u);let d=w3(c,e);if(d!==void 0){const E=f?Ho(d,f):void 0;for(const M of s){if(M.facet===null||M.facet==="super")continue;const N=l.get(M);N!==void 0&&(N.facetsIndex=M.fx!=null||M.fy!=null?Ho(d,N):E)}const I=new Set;for(const{facetsIndex:M}of l.values())M==null||M.forEach((N,U)=>{(N==null?void 0:N.length)>0&&I.add(U)});d.forEach(0<I.size&&I.size<d.length?(M,N)=>M.empty=!I.has(N):M=>M.empty=!1);for(const M of s)if(M.facet==="exclude"){const N=l.get(M);N!==void 0&&(N.facetsIndex=S3(N.facetsIndex))}}for(const E of ze.keys())ka(e[E])&&E!=="fx"&&E!=="fy"&&c.set(E,[]);const h=new Map;for(const E of s){if(h.has(E))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:I,channels:M}=l.get(E)??{},{data:N,facets:U,channels:K}=E.initialize(I,M);Zf(K,e),h.set(E,{data:N,facets:U,channels:K})}const p=Fs(qr(c,h),e),g=Wc(p),m=_3(p,s,e);W6(p,m);const{fx:b,fy:y}=g,v=b||y?rp(p,m):m,_=b||y?Gv(g,m):m,w=Rf(e,v,o),T=new Set;for(const[E,I]of h)if(E.initializer!=null){const M=E.facet==="super"?_:v,N=E.initializer(I.data,I.facets,I.channels,g,M,w);if(N.data!==void 0&&(I.data=N.data),N.facets!==void 0&&(I.facets=N.facets),N.channels!==void 0){Fv(N.channels),Object.assign(I.channels,N.channels);for(const H of Object.values(N.channels)){const{scale:J}=H;J!=null&&ze.get(J)!==Jt&&(Gp(H,e),T.add(J))}const{fx:U,fy:K}=N.channels;if(U!=null||K!=null){const H=l.get(E)??{channels:{}};U!=null&&(H.channels.fx=U),K!=null&&(H.channels.fy=K),H.groups=$f(I.data,H.channels),H.facetsIndex=I.facets=Ho(d,H),l.set(E,H)}}}if(T.size){const E=new Map;qr(E,h,N=>T.has(N)),qr(c,h,N=>T.has(N));const I=Yv(Fs(E,e),p),M=Wc(I);Object.assign(p,I),Object.assign(g,M)}for(const[E,I]of h)I.values=E.scale(I.channels,g,w);const{width:S,height:L}=m,O=ct("svg",w).attr("class",o).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",S).attr("height",L).attr("viewBox",`0 0 ${S} ${L}`).attr("aria-label",i).attr("aria-description",a).call(E=>E.append("style").text(`.${o} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${o} text,
.${o} tspan {
  white-space: pre;
}`)).call(Vf,n).node();if(d!==void 0){const E={x:b==null?void 0:b.domain(),y:y==null?void 0:y.domain()};d=v3(d,E),ns(O).selectAll().data(d).enter().append("g").attr("aria-label","facet").attr("transform",M3(b,y,m)).each(function(I){var N;let M=!0;for(const U of s){if(U.facet==="super")continue;const{channels:K,values:H,facets:J}=h.get(U);if(!(((N=U.facetAnchor)==null?void 0:N.call(U,d,E,I))??!I.empty))continue;let Z=null;if(J){if(Z=J[l.has(U)?I.i:0],Z=U.filter(Z,K,H),Z.length===0)continue;Z.fi=I.i}const te=U.render(Z,g,H,v,w);te!=null&&(M=!1,this.appendChild(te))}M&&this.remove()})}for(const E of s){if(d!==void 0&&E.facet!=="super")continue;const{channels:I,values:M,facets:N}=h.get(E);let U=null;if(N&&(U=N[0],U=E.filter(U,I,M),U.length===0))continue;const K=E.render(U,g,M,_,w);K!=null&&O.appendChild(K)}let D=O;const k=B3(p,w,e);if(r!=null||k.length>0){const{document:E}=w;D=E.createElement("figure"),D.style.maxWidth="initial";for(const I of k)D.appendChild(I);if(D.appendChild(O),r!=null){const I=E.createElement("figcaption");I.appendChild(r!=null&&r.ownerDocument?r:E.createTextNode(r)),D.appendChild(I)}}D.scale=K6(p),D.legend=P3(p,w,e);const q=s6();return q>0&&ns(O).append("text").attr("x",S).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${q.toLocaleString("en-US")} warning${q===1?"":"s"}. Please check the console.`),D}function Rv({marks:e=[],...t}={}){return Mi({...t,marks:[...e,this]})}Ft.prototype.plot=Rv;function ru(e){return e.flat(1/0).filter(t=>t!=null).map(qv)}function qv(e){return typeof e.render=="function"?e:new Bv(e)}class Bv extends Ft{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Zf(e,t){for(const n in e)Gp(e[n],t);return e}function Gp(e,t){var s;const{scale:n}=e;if(n==null)return;const{type:r,percent:i,interval:a,transform:o=i?f=>f*100:(s=Lf(a,r))==null?void 0:s.floor}=t[n]??{};o!=null&&(e.value=ut(e.value,o))}function Fv(e){for(const t in e)$1(t,e[t])}function qr(e,t,n=vw){for(const{channels:r}of t.values())for(const i in r){const a=r[i],{scale:o}=a;if(o!=null&&n(o)){const s=e.get(o);s!==void 0?s.push(a):e.set(o,[a])}}return e}function Uv(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=nn(e.data??n??r);if(i===void 0)throw new Error("missing facet data");const a={};n!=null&&(a.fx=si(i,{value:n,scale:"fx"})),r!=null&&(a.fy=si(i,{value:r,scale:"fy"})),Zf(a,t);const o=$f(i,a);return{channels:a,groups:o,data:e.data}}function iu(e,t,n){var f;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const l=nn(e.data??r??i);if(l===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(l===null)return;const c={};return r!=null&&(c.fx=si(l,{value:r,scale:"fx"})),i!=null&&(c.fy=si(l,{value:i,scale:"fy"})),Zf(c,n),{channels:c,groups:$f(l,c)}}if(t===void 0)return;const{channels:a,groups:o,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:a,groups:o};s.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&((f=nn(e.data))==null?void 0:f.length)===s.length&&cr(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function zv(e,t,n){let{projection:r,x:i={},y:a={},fx:o={},fy:s={},axis:f,grid:l,facet:c={},facet:{axis:u=f,grid:d}=c,x:{axis:h=f,grid:p=h===null?null:l}=i,y:{axis:g=f,grid:m=g===null?null:l}=a,fx:{axis:b=u,grid:y=b===null?null:d}=o,fy:{axis:v=u,grid:_=v===null?null:d}=s}=n;(r||!ka(i)&&!au("x",e))&&(h=p=null),(r||!ka(a)&&!au("y",e))&&(g=m=null),t.has("fx")||(b=y=null),t.has("fy")||(v=_=null),h===void 0&&(h=!zi(e,"x")),g===void 0&&(g=!zi(e,"y")),b===void 0&&(b=!zi(e,"fx")),v===void 0&&(v=!zi(e,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),b===!0&&(b=h==="top"||h===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const w=[];return Ui(w,_,Tv,s),Fi(w,v,bv,"right","left",c,s),Ui(w,y,Ev,o),Fi(w,b,_v,"top","bottom",c,o),Ui(w,m,Sv,a),Fi(w,g,vi,"left","right",n,a),Ui(w,p,kv,i),Fi(w,h,Ar,"bottom","top",n,i),w}function Fi(e,t,n,r,i,a,o){if(!t)return;const s=Vv(t);o=$v(s?r:t,a,o);const{line:f}=o;(n===vi||n===Ar)&&f&&!ai(f)&&e.push(Yp(Hv(o))),e.push(n(o)),s&&e.push(n({...o,anchor:i,label:null}))}function Ui(e,t,n,r){!t||ai(t)||e.push(n(jv(t,r)))}function Vv(e){return/^\s*both\s*$/i.test(e)}function $v(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:s,tickRotate:f,fontVariant:l,ariaLabel:c,ariaDescription:u,label:d=t.label,labelAnchor:h,labelOffset:p}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:s,tickRotate:f,fontVariant:l,ariaLabel:c,ariaDescription:u,label:d,labelAnchor:h,labelOffset:p}}function Hv(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function jv(e,{stroke:t=eo(e)?e:void 0,ticks:n=Wv(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function Wv(e){switch(typeof e){case"number":return!0;case"string":return!eo(e)}return Yn(e)||typeof(e==null?void 0:e.range)=="function"}function zi(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function au(e,t){for(const n of t)for(const r in n.channels)if(n.channels[r].scale===e)return!0;return!1}function Yv(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Gv({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:s,height:f}=Uf(n),l=e&&ou(e),c=t&&ou(t);return{marginTop:t?c[0]:r,marginRight:e?s-l[1]:i,marginBottom:t?f-c[1]:a,marginLeft:e?l[0]:o,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:f}}function ou(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Zv=new Map([["basis",Dy],["basis-closed",Iy],["basis-open",Ly],["bundle",Oy],["bump-x",wy],["bump-y",vy],["cardinal",Py],["cardinal-closed",Ry],["cardinal-open",qy],["catmull-rom",By],["catmull-rom-closed",Fy],["catmull-rom-open",Uy],["linear",Ja],["linear-closed",zy],["monotone-x",Vy],["monotone-y",$y],["natural",Hy],["step",jy],["step-after",Yy],["step-before",Wy]]);function Xv(e=Ja,t){if(typeof e=="function")return e;const n=Zv.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Zp(e=vr,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?vr:Xv(e,t)}function vr(e){return Ja(e)}function Jv(e={}){const{x:t,x1:n,x2:r}=e;return n===void 0&&r===void 0&&t===void 0?{...e,x:Wt}:e}function Qv(e={},t={}){arguments.length===1&&([e,t]=e4(e));const{y1:n,y:r=n,x:i,...a}=t,[o,s,f,l]=n4(r,i,"x",e,a);return{...o,y1:n,y:s,x1:f,x2:l,x:Aw(f,l)}}function Kv({x:e,x1:t,x2:n,...r}={}){return t===void 0&&n===void 0?Qv({x:e,...r}):([t,n]=Ew(e,t,n),{...r,x1:t,x2:n})}function e4(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}function t4(e,t=ww,n,{offset:r,order:i,reverse:a},o){const s=L1(o),[f,l]=xw(e),[c,u]=Rs(t),[d,h]=Rs(t);return r=r4(r),i=o4(i,r,n),[B1(o,(p,g)=>{const m=e==null?void 0:l(qt(p,e)),b=qt(p,t,Float64Array),y=qt(p,s),v=i&&i(p,m,b,y),_=p.length,w=u(new Float64Array(_)),T=h(new Float64Array(_)),S=[];for(const L of g){const O=m?Array.from(rf(L,D=>m[D]).values()):[L];v&&d4(O,v);for(const D of O){let k=0,q=0;a&&D.reverse();for(const E of D){const I=b[E];I<0?k=T[E]=(w[E]=k)+I:I>0?q=T[E]=(w[E]=q)+I:T[E]=w[E]=q}}S.push(O)}return r&&r(S,w,T,y),{data:p,facets:g}}),f,c,d]}const n4=t4;function r4(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return i4;case"center":case"silhouette":return a4;case"wiggle":return Jp}throw new Error(`unknown offset: ${e}`)}}function Xp(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function i4(e,t,n){for(const r of e)for(const i of r){const[a,o]=Xp(i,n);for(const s of i){const f=1/(o-a||1);t[s]=f*(t[s]-a),n[s]=f*(n[s]-a)}}}function a4(e,t,n){for(const r of e){for(const i of r){const[a,o]=Xp(i,n);for(const s of i){const f=(o+a)/2;t[s]-=f,n[s]-=f}}Qp(r,t,n)}Kp(e,t,n)}function Jp(e,t,n,r){for(const i of e){const a=new Nn;let o=0;for(const s of i){let f=-1;const l=s.map(h=>Math.abs(n[h]-t[h])),c=s.map(h=>{f=r?r[h]:++f;const p=n[h]-t[h],g=a.has(f)?p-a.get(f):0;return a.set(f,p),g}),u=[0,...nm(c)];for(const h of s)t[h]+=o,n[h]+=o;const d=Fn(l);d&&(o-=Fn(l,(h,p)=>(c[p]/2+u[p])*h)/d)}Qp(i,t,n)}Kp(e,t,n)}function Qp(e,t,n){const r=gn(e,i=>gn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Kp(e,t,n){const r=e.length;if(r===1)return;const i=e.map(s=>s.flat()),a=i.map(s=>(gn(s,f=>t[f])+$t(s,f=>n[f]))/2),o=gn(a);for(let s=0;s<r;s++){const f=o-a[s];for(const l of i[s])t[l]+=f,n[l]+=f}}function o4(e,t,n){if(e===void 0&&t===Jp)return su;if(e!=null){if(typeof e=="string"){switch(e.toLowerCase()){case"value":case n:return s4;case"z":return f4;case"sum":return l4;case"appearance":return c4;case"inside-out":return su}return fu(C1(e))}if(typeof e=="function")return fu(e);if(Array.isArray(e))return u4(e);throw new Error(`invalid order: ${e}`)}}function s4(e,t,n){return n}function f4(e,t,n,r){return r}function l4(e,t,n,r){return uo(r,af(Ln(e),i=>Fn(i,a=>n[a]),i=>r[i]))}function c4(e,t,n,r){return uo(r,af(Ln(e),i=>t[od(i,a=>n[a])],i=>r[i]))}function su(e,t,n,r){const i=Ln(e),a=af(i,c=>t[od(c,u=>n[u])],c=>r[c]),o=or(i,c=>Fn(c,u=>n[u]),c=>r[c]),s=[],f=[];let l=0;for(const c of a)l<0?(l+=o.get(c),s.push(c)):(l-=o.get(c),f.push(c));return uo(r,f.reverse().concat(s))}function fu(e){return t=>qt(t,e)}function u4(e){return(t,n,r,i)=>uo(i,e)}function uo(e,t){if(!e)throw new Error("missing channel: z");return t=new Nn(t.map((n,r)=>[n,r])),e.map(n=>t.get(n))}function d4(e,t){for(const n of e)n.sort((r,i)=>$n(t[r],t[i]))}function eg(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=jo(n),e.markerMid=jo(r),e.markerEnd=jo(i)}function jo(e){if(e==null||e===!1)return null;if(e===!0)return lu;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return h4;case"dot":return p4;case"circle":case"circle-fill":return lu;case"circle-stroke":return g4}throw new Error(`invalid marker: ${e}`)}function h4(e,t){return ct("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function p4(e,t){return ct("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function lu(e,t){return ct("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function g4(e,t){return ct("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let m4=0;function b4(e,t,{stroke:n},r){return tg(e,t,n&&(i=>n[i]),r)}function _4(e,t,{stroke:n},r){return tg(e,t,n&&(([i])=>n[i]),r)}function tg(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,o){const s=new Map;function f(l){return function(c){const u=a(c);let d=s.get(l);d||s.set(l,d=new Map);let h=d.get(u);if(!h){const p=this.parentNode.insertBefore(l(u,o),this),g=`plot-marker-${++m4}`;p.setAttribute("id",g),d.set(u,h=`url(#${g})`)}return h}}t&&e.attr("marker-start",f(t)),n&&e.attr("marker-mid",f(n)),r&&e.attr("marker-end",f(r))}const y4={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class w4 extends Ft{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o,curve:s,tension:f}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,y4),this.curve=Zp(s,f),eg(this,n)}project(t,n,r){this.curve!==vr&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:o,y1:s,x2:f=o,y2:l=s}=r,{curve:c}=this;return ct("svg:g",a).call(wn,this,i,a).call(Mn,this,n).call(u=>u.selectAll().data(t).enter().append("path").call(vn,this).attr("d",c===vr&&a.projection?v4(a.projection,o,s,f,l):d=>{const h=ia(),p=c(h);return p.lineStart(),p.point(o[d],s[d]),p.point(f[d],l[d]),p.lineEnd(),h}).call(Zn,this,r).call(b4,this,r,a)).node()}}function v4(e,t,n,r,i){const a=ja(e);return t=En(t),n=En(n),r=En(r),i=En(i),o=>a({type:"LineString",coordinates:[[t[o],n[o]],[r[o],i[o]]]})}function $s(e,t={}){let{x:n,x1:r,x2:i,y:a,y1:o,y2:s,...f}=t;return[r,i]=cu(n,r,i),[o,s]=cu(a,o,s),new w4(e,{...f,x1:r,x2:i,y1:o,y2:s})}function cu(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class M4 extends Ft{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:o=a,insetRight:s=a,insetBottom:f=a,insetLeft:l=a,rx:c,ry:u}=r;this.insetTop=Pe(o),this.insetRight=Pe(s),this.insetBottom=Pe(f),this.insetLeft=Pe(l),this.rx=lt(c,"auto"),this.ry=lt(u,"auto")}render(t,n,r,i,a){const{rx:o,ry:s}=this;return ct("svg:g",a).call(wn,this,i,a).call(this._transform,this,n).call(f=>f.selectAll().data(t).enter().append("rect").call(vn,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ie,"rx",o).call(ie,"ry",s).call(Zn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:o,insetRight:s}=this,f=n&&t?t.bandwidth():a-r-i;return Math.max(0,f-o-s)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:o,insetBottom:s}=this,f=n&&t?t.bandwidth():a-r-i;return Math.max(0,f-o-s)}}const S4={ariaLabel:"cell"};class T4 extends M4{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,S4)}_transform(t,n){t.call(Mn,n,{},0,0)}}function k4(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=If(n,r),new T4(e,{...i,x:n,y:r})}const E4={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let x4=class extends Ft{constructor(t,n={}){const{x:r,y:i,z:a,curve:o,tension:s}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:L1(n),optional:!0}},n,E4),this.z=a,this.curve=Zp(o,s),eg(this,n)}filter(t){return t}project(t,n,r){this.curve!==vr&&super.project(t,n,r)}render(t,n,r,i,a){const{x:o,y:s}=r,{curve:f}=this;return ct("svg:g",a).call(wn,this,i,a).call(Mn,this,n).call(l=>l.selectAll().data(h3(t,[o,s],this,r)).enter().append("path").call(vn,this).call(c3,this,r).call(_4,this,r,a).attr("d",f===vr&&a.projection?A4(a.projection,o,s):yy().curve(f).defined(c=>c>=0).x(c=>o[c]).y(c=>s[c]))).node()}};function A4(e,t,n){const r=ja(e);return t=En(t),n=En(n),i=>{let a=[];const o=[a];for(const s of i)s===-1?(a=[],o.push(a)):a.push([t[s],n[s]]);return r({type:"MultiLineString",coordinates:o})}}function C4(e,t={}){let{x:n,y:r,...i}=t;return[n,r]=If(n,r),new x4(e,{...i,x:n,y:r})}const N4={ariaLabel:"rect"};class ng extends Ft{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o,inset:s=0,insetTop:f=s,insetRight:l=s,insetBottom:c=s,insetLeft:u=s,rx:d,ry:h}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,N4),this.insetTop=Pe(f),this.insetRight=Pe(l),this.insetBottom=Pe(c),this.insetLeft=Pe(u),this.rx=lt(d,"auto"),this.ry=lt(h,"auto")}render(t,n,r,i,a){const{x:o,y:s}=n,{x1:f,y1:l,x2:c,y2:u}=r,{marginTop:d,marginRight:h,marginBottom:p,marginLeft:g,width:m,height:b}=i,{projection:y}=a,{insetTop:v,insetRight:_,insetBottom:w,insetLeft:T,rx:S,ry:L}=this;return ct("svg:g",a).call(wn,this,i,a).call(Mn,this,{x:f&&c&&o,y:l&&u&&s},0,0).call(O=>O.selectAll().data(t).enter().append("rect").call(vn,this).attr("x",f&&c&&(y||!xn(o))?D=>Math.min(f[D],c[D])+T:g+T).attr("y",l&&u&&(y||!xn(s))?D=>Math.min(l[D],u[D])+v:d+v).attr("width",f&&c&&(y||!xn(o))?D=>Math.max(0,Math.abs(c[D]-f[D])-T-_):m-h-g-_-T).attr("height",l&&u&&(y||!xn(s))?D=>Math.max(0,Math.abs(l[D]-u[D])-v-w):b-d-p-v-w).call(ie,"rx",S).call(ie,"ry",L).call(Zn,this,r)).node()}}function D4(e,t){return new ng(e,F3(Mp(t)))}function rg(e,t={y:N1,interval:1,x2:Wt}){return new ng(e,Kv(Mp(Jv(t))))}function I4(e){let t,n,r,i,a,o,s,f;return{c(){t=W("div"),n=ae(),r=W("div"),i=W("div"),a=ae(),o=Gr("svg"),this.h()},l(l){t=Y(l,"DIV",{}),j(t).forEach(A),n=oe(l),r=Y(l,"DIV",{id:!0});var c=j(r);i=Y(c,"DIV",{}),j(i).forEach(A),a=oe(c),o=Zr(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=j(o);u.forEach(A),c.forEach(A),this.h()},h(){R(o,"class",""),R(o,"viewBox","0 0 800 0"),R(o,"width","100%"),R(o,"height","0"),R(r,"id",e[0])},m(l,c){X(l,t,c),X(l,n,c),X(l,r,c),z(r,i),e[10](i),z(r,a),z(r,o),e[11](r),s||(f=Na(Ha.call(null,t,P4)),s=!0)},p(l,[c]){c&1&&R(r,"id",l[0])},i:xe,o:xe,d(l){l&&A(t),l&&A(n),l&&A(r),e[10](null),e[11](null),s=!1,f()}}}let L4=800,O4=200;function P4(){}function R4(e,t,n){let{name:r,title:i,xAttr:a,yAttr:o,xDomainMin:s=null,xDomainMax:f=null}=t,{theplot:l=null}=t,c,u;ke("dims");let d={},h=[];function p(b,y){if(!b||b.length==0)return;y=="overlay"?d=b??d:h=b??h;let v={x:{domain:[+s,+f]},width:L4,height:O4,marginBottom:50,marks:[Ar({ticks:h.length,fontSize:"0.8rem"}),vi({fontSize:"0.8rem"}),Wf([1]),Yf([0]),C4(h,{x:a,y:o,marker:!0,strokeWidth:3})]};qn(d).length>0&&(v.color={domain:ra("key",d),range:Ga,legend:!0,style:{"font-size":"0.8rem","margin-left":"2em"}},v.marks.push(rg(d,{x1:"left",x2:"right",y2:$t(ra(o,h)),fill:"key",color:"key",opacity:.2}))),n(3,l=Mi(v)),l.children[1].setAttribute("width","100%"),n(2,u.innerHTML="",u),u.appendChild(l)}function g(b){Re[b?"unshift":"push"](()=>{u=b,n(2,u)})}function m(b){Re[b?"unshift":"push"](()=>{c=b,n(1,c)})}return e.$$set=b=>{"name"in b&&n(0,r=b.name),"title"in b&&n(4,i=b.title),"xAttr"in b&&n(5,a=b.xAttr),"yAttr"in b&&n(6,o=b.yAttr),"xDomainMin"in b&&n(7,s=b.xDomainMin),"xDomainMax"in b&&n(8,f=b.xDomainMax),"theplot"in b&&n(3,l=b.theplot)},[r,c,u,l,i,a,o,s,f,p,g,m]}class q4 extends vt{constructor(t){super(),Mt(this,t,R4,I4,St,{name:0,title:4,xAttr:5,yAttr:6,xDomainMin:7,xDomainMax:8,theplot:3,render:9})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),qe()}get title(){return this.$$.ctx[4]}set title(t){this.$$set({title:t}),qe()}get xAttr(){return this.$$.ctx[5]}set xAttr(t){this.$$set({xAttr:t}),qe()}get yAttr(){return this.$$.ctx[6]}set yAttr(t){this.$$set({yAttr:t}),qe()}get xDomainMin(){return this.$$.ctx[7]}set xDomainMin(t){this.$$set({xDomainMin:t}),qe()}get xDomainMax(){return this.$$.ctx[8]}set xDomainMax(t){this.$$set({xDomainMax:t}),qe()}get theplot(){return this.$$.ctx[3]}set theplot(t){this.$$set({theplot:t}),qe()}get render(){return this.$$.ctx[9]}}function uu(e){return Object.prototype.toString.call(e)==="[object Date]"}function Hs(e,t,n,r){if(typeof n=="number"||uu(n)){const i=r-n,a=(n-t)/(e.dt||1/60),o=e.opts.stiffness*i,s=e.opts.damping*a,f=(o-s)*e.inv_mass,l=(a+f)*e.dt;return Math.abs(l)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,uu(n)?new Date(n.getTime()+l):n+l)}else{if(Array.isArray(n))return n.map((i,a)=>Hs(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Hs(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function B4(e,t={}){const n=Ks(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let o,s,f,l=e,c=e,u=1,d=0,h=!1;function p(m,b={}){c=m;const y=f={};return e==null||b.hard||g.stiffness>=1&&g.damping>=1?(h=!0,o=el(),l=m,n.set(e=c),Promise.resolve()):(b.soft&&(d=1/((b.soft===!0?.5:+b.soft)*60),u=0),s||(o=el(),h=!1,s=cg(v=>{if(h)return h=!1,s=null,!1;u=Math.min(u+d,1);const _={inv_mass:u,opts:g,settled:!0,dt:(v-o)*60/1e3},w=Hs(_,l,e,c);return o=v,l=e,n.set(e=w),_.settled&&(s=null),!_.settled})),new Promise(v=>{s.promise.then(()=>{y===f&&v()})}))}const g={set:p,update:(m,b)=>p(m(c,e),b),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function du(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function hu(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&pu(e);return{c(){t=W("span"),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0,style:!0});var s=j(t);a&&a.l(s),s.forEach(A),this.h()},h(){R(t,"class","pip first"),R(t,"style",n=e[14]+": 0%;"),re(t,"selected",e[18](e[0])),re(t,"in-range",e[17](e[0]))},m(o,s){X(o,t,s),a&&a.m(t,null),r||(i=[ve(t,"click",function(){ur(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}),ve(t,"touchend",Xr(function(){ur(e[21](e[0]))&&e[21](e[0]).apply(this,arguments)}))],r=!0)},p(o,s){e=o,e[6]==="label"||e[7]==="label"?a?a.p(e,s):(a=pu(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&16384&&n!==(n=e[14]+": 0%;")&&R(t,"style",n),s&262145&&re(t,"selected",e[18](e[0])),s&131073&&re(t,"in-range",e[17](e[0]))},d(o){o&&A(t),a&&a.d(),r=!1,_n(i)}}}function pu(e){let t,n=e[12](e[16](e[0]),0,0)+"",r,i=e[10]&&gu(e),a=e[11]&&mu(e);return{c(){t=W("span"),i&&i.c(),r=Ae(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),a&&a.l(s),s.forEach(A),this.h()},h(){R(t,"class","pipVal")},m(o,s){X(o,t,s),i&&i.m(t,null),z(t,r),a&&a.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=gu(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&69633&&n!==(n=o[12](o[16](o[0]),0,0)+"")&&at(r,n),o[11]?a?a.p(o,s):(a=mu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&A(t),i&&i.d(),a&&a.d()}}}function gu(e){let t,n;return{c(){t=W("span"),n=Ae(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[10]),i.forEach(A),this.h()},h(){R(t,"class","pipVal-prefix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i&1024&&at(n,r[10])},d(r){r&&A(t)}}}function mu(e){let t,n;return{c(){t=W("span"),n=Ae(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[11]),i.forEach(A),this.h()},h(){R(t,"class","pipVal-suffix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i&2048&&at(n,r[11])},d(r){r&&A(t)}}}function bu(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=Mu(du(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=An()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=An()},m(i,a){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(i,a);X(i,t,a)},p(i,a){if(a&4120131){n=Array(i[20]+1);let o;for(o=0;o<n.length;o+=1){const s=du(i,n,o);r[o]?r[o].p(s,a):(r[o]=Mu(s),r[o].c(),r[o].m(t.parentNode,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(i){Da(r,i),i&&A(t)}}}function _u(e){let t,n,r,i,a,o=(e[6]==="label"||e[9]==="label")&&yu(e);return{c(){t=W("span"),o&&o.c(),n=ae(),this.h()},l(s){t=Y(s,"SPAN",{class:!0,style:!0});var f=j(t);o&&o.l(f),n=oe(f),f.forEach(A),this.h()},h(){R(t,"class","pip"),R(t,"style",r=e[14]+": "+e[15](e[19](e[30]))+"%;"),re(t,"selected",e[18](e[19](e[30]))),re(t,"in-range",e[17](e[19](e[30])))},m(s,f){X(s,t,f),o&&o.m(t,null),z(t,n),i||(a=[ve(t,"click",function(){ur(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}),ve(t,"touchend",Xr(function(){ur(e[21](e[19](e[30])))&&e[21](e[19](e[30])).apply(this,arguments)}))],i=!0)},p(s,f){e=s,e[6]==="label"||e[9]==="label"?o?o.p(e,f):(o=yu(e),o.c(),o.m(t,n)):o&&(o.d(1),o=null),f&573440&&r!==(r=e[14]+": "+e[15](e[19](e[30]))+"%;")&&R(t,"style",r),f&786432&&re(t,"selected",e[18](e[19](e[30]))),f&655360&&re(t,"in-range",e[17](e[19](e[30])))},d(s){s&&A(t),o&&o.d(),i=!1,_n(a)}}}function yu(e){let t,n=e[12](e[19](e[30]),e[30],e[15](e[19](e[30])))+"",r,i=e[10]&&wu(e),a=e[11]&&vu(e);return{c(){t=W("span"),i&&i.c(),r=Ae(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),a&&a.l(s),s.forEach(A),this.h()},h(){R(t,"class","pipVal")},m(o,s){X(o,t,s),i&&i.m(t,null),z(t,r),a&&a.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=wu(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&561152&&n!==(n=o[12](o[19](o[30]),o[30],o[15](o[19](o[30])))+"")&&at(r,n),o[11]?a?a.p(o,s):(a=vu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&A(t),i&&i.d(),a&&a.d()}}}function wu(e){let t,n;return{c(){t=W("span"),n=Ae(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[10]),i.forEach(A),this.h()},h(){R(t,"class","pipVal-prefix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i&1024&&at(n,r[10])},d(r){r&&A(t)}}}function vu(e){let t,n;return{c(){t=W("span"),n=Ae(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[11]),i.forEach(A),this.h()},h(){R(t,"class","pipVal-suffix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i&2048&&at(n,r[11])},d(r){r&&A(t)}}}function Mu(e){let t=e[19](e[30])!==e[0]&&e[19](e[30])!==e[1],n,r=t&&_u(e);return{c(){r&&r.c(),n=An()},l(i){r&&r.l(i),n=An()},m(i,a){r&&r.m(i,a),X(i,n,a)},p(i,a){a&524291&&(t=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1]),t?r?r.p(i,a):(r=_u(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&A(n)}}}function Su(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&Tu(e);return{c(){t=W("span"),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0,style:!0});var s=j(t);a&&a.l(s),s.forEach(A),this.h()},h(){R(t,"class","pip last"),R(t,"style",n=e[14]+": 100%;"),re(t,"selected",e[18](e[1])),re(t,"in-range",e[17](e[1]))},m(o,s){X(o,t,s),a&&a.m(t,null),r||(i=[ve(t,"click",function(){ur(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}),ve(t,"touchend",Xr(function(){ur(e[21](e[1]))&&e[21](e[1]).apply(this,arguments)}))],r=!0)},p(o,s){e=o,e[6]==="label"||e[8]==="label"?a?a.p(e,s):(a=Tu(e),a.c(),a.m(t,null)):a&&(a.d(1),a=null),s&16384&&n!==(n=e[14]+": 100%;")&&R(t,"style",n),s&262146&&re(t,"selected",e[18](e[1])),s&131074&&re(t,"in-range",e[17](e[1]))},d(o){o&&A(t),a&&a.d(),r=!1,_n(i)}}}function Tu(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",r,i=e[10]&&ku(e),a=e[11]&&Eu(e);return{c(){t=W("span"),i&&i.c(),r=Ae(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),a&&a.l(s),s.forEach(A),this.h()},h(){R(t,"class","pipVal")},m(o,s){X(o,t,s),i&&i.m(t,null),z(t,r),a&&a.m(t,null)},p(o,s){o[10]?i?i.p(o,s):(i=ku(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s&1118210&&n!==(n=o[12](o[16](o[1]),o[20],100)+"")&&at(r,n),o[11]?a?a.p(o,s):(a=Eu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&A(t),i&&i.d(),a&&a.d()}}}function ku(e){let t,n;return{c(){t=W("span"),n=Ae(e[10]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[10]),i.forEach(A),this.h()},h(){R(t,"class","pipVal-prefix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i&1024&&at(n,r[10])},d(r){r&&A(t)}}}function Eu(e){let t,n;return{c(){t=W("span"),n=Ae(e[11]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[11]),i.forEach(A),this.h()},h(){R(t,"class","pipVal-suffix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i&2048&&at(n,r[11])},d(r){r&&A(t)}}}function F4(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&hu(e),a=(e[6]&&e[9]!==!1||e[9])&&bu(e),o=(e[6]&&e[8]!==!1||e[8])&&Su(e);return{c(){t=W("div"),i&&i.c(),n=ae(),a&&a.c(),r=ae(),o&&o.c(),this.h()},l(s){t=Y(s,"DIV",{class:!0});var f=j(t);i&&i.l(f),n=oe(f),a&&a.l(f),r=oe(f),o&&o.l(f),f.forEach(A),this.h()},h(){R(t,"class","rangePips"),re(t,"disabled",e[5]),re(t,"hoverable",e[4]),re(t,"vertical",e[2]),re(t,"reversed",e[3]),re(t,"focus",e[13])},m(s,f){X(s,t,f),i&&i.m(t,null),z(t,n),a&&a.m(t,null),z(t,r),o&&o.m(t,null)},p(s,[f]){s[6]&&s[7]!==!1||s[7]?i?i.p(s,f):(i=hu(s),i.c(),i.m(t,n)):i&&(i.d(1),i=null),s[6]&&s[9]!==!1||s[9]?a?a.p(s,f):(a=bu(s),a.c(),a.m(t,r)):a&&(a.d(1),a=null),s[6]&&s[8]!==!1||s[8]?o?o.p(s,f):(o=Su(s),o.c(),o.m(t,null)):o&&(o.d(1),o=null),f&32&&re(t,"disabled",s[5]),f&16&&re(t,"hoverable",s[4]),f&4&&re(t,"vertical",s[2]),f&8&&re(t,"reversed",s[3]),f&8192&&re(t,"focus",s[13])},i:xe,o:xe,d(s){s&&A(t),i&&i.d(),a&&a.d(),o&&o.d()}}}function U4(e,t,n){let r,i,a,o,s,{range:f=!1}=t,{min:l=0}=t,{max:c=100}=t,{step:u=1}=t,{values:d=[(c+l)/2]}=t,{vertical:h=!1}=t,{reversed:p=!1}=t,{hoverable:g=!0}=t,{disabled:m=!1}=t,{pipstep:b=void 0}=t,{all:y=!0}=t,{first:v=void 0}=t,{last:_=void 0}=t,{rest:w=void 0}=t,{prefix:T=""}=t,{suffix:S=""}=t,{formatter:L=(M,N)=>M}=t,{focus:O=void 0}=t,{orientationStart:D=void 0}=t,{percentOf:k=void 0}=t,{moveHandle:q=void 0}=t,{fixFloat:E=void 0}=t;function I(M){m||q(void 0,M)}return e.$$set=M=>{"range"in M&&n(22,f=M.range),"min"in M&&n(0,l=M.min),"max"in M&&n(1,c=M.max),"step"in M&&n(23,u=M.step),"values"in M&&n(24,d=M.values),"vertical"in M&&n(2,h=M.vertical),"reversed"in M&&n(3,p=M.reversed),"hoverable"in M&&n(4,g=M.hoverable),"disabled"in M&&n(5,m=M.disabled),"pipstep"in M&&n(25,b=M.pipstep),"all"in M&&n(6,y=M.all),"first"in M&&n(7,v=M.first),"last"in M&&n(8,_=M.last),"rest"in M&&n(9,w=M.rest),"prefix"in M&&n(10,T=M.prefix),"suffix"in M&&n(11,S=M.suffix),"formatter"in M&&n(12,L=M.formatter),"focus"in M&&n(13,O=M.focus),"orientationStart"in M&&n(14,D=M.orientationStart),"percentOf"in M&&n(15,k=M.percentOf),"moveHandle"in M&&n(26,q=M.moveHandle),"fixFloat"in M&&n(16,E=M.fixFloat)},e.$$.update=()=>{e.$$.dirty&41943047&&n(27,r=b||((c-l)/u>=(h?50:100)?(c-l)/(h?10:20):1)),e.$$.dirty&142606339&&n(20,i=parseInt((c-l)/(u*r),10)),e.$$.dirty&142671873&&n(19,a=function(M){return E(l+M*u*r)}),e.$$.dirty&16842752&&n(18,o=function(M){return d.some(N=>E(N)===E(M))}),e.$$.dirty&20971520&&n(17,s=function(M){if(f==="min")return d[0]>M;if(f==="max")return d[0]<M;if(f)return d[0]<M&&d[1]>M})},[l,c,h,p,g,m,y,v,_,w,T,S,L,O,D,k,E,s,o,a,i,I,f,u,d,b,q,r]}class z4 extends vt{constructor(t){super(),Mt(this,t,U4,F4,St,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function xu(e,t,n){const r=e.slice();return r[64]=t[n],r[66]=n,r}function Au(e){let t,n=e[21](e[64],e[66],e[23](e[64]))+"",r,i=e[18]&&Cu(e),a=e[19]&&Nu(e);return{c(){t=W("span"),i&&i.c(),r=Ae(n),a&&a.c(),this.h()},l(o){t=Y(o,"SPAN",{class:!0});var s=j(t);i&&i.l(s),r=Ce(s,n),a&&a.l(s),s.forEach(A),this.h()},h(){R(t,"class","rangeFloat")},m(o,s){X(o,t,s),i&&i.m(t,null),z(t,r),a&&a.m(t,null)},p(o,s){o[18]?i?i.p(o,s):(i=Cu(o),i.c(),i.m(t,r)):i&&(i.d(1),i=null),s[0]&10485761&&n!==(n=o[21](o[64],o[66],o[23](o[64]))+"")&&at(r,n),o[19]?a?a.p(o,s):(a=Nu(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&A(t),i&&i.d(),a&&a.d()}}}function Cu(e){let t,n;return{c(){t=W("span"),n=Ae(e[18]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[18]),i.forEach(A),this.h()},h(){R(t,"class","rangeFloat-prefix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i[0]&262144&&at(n,r[18])},d(r){r&&A(t)}}}function Nu(e){let t,n;return{c(){t=W("span"),n=Ae(e[19]),this.h()},l(r){t=Y(r,"SPAN",{class:!0});var i=j(t);n=Ce(i,e[19]),i.forEach(A),this.h()},h(){R(t,"class","rangeFloat-suffix")},m(r,i){X(r,t,i),z(t,n)},p(r,i){i[0]&524288&&at(n,r[19])},d(r){r&&A(t)}}}function Du(e){let t,n,r,i,a,o,s,f,l,c,u,d,h=e[7]&&Au(e);return{c(){t=W("span"),n=W("span"),r=ae(),h&&h.c(),this.h()},l(p){t=Y(p,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var g=j(t);n=Y(g,"SPAN",{class:!0}),j(n).forEach(A),r=oe(g),h&&h.l(g),g.forEach(A),this.h()},h(){R(n,"class","rangeNub"),R(t,"role","slider"),R(t,"class","rangeHandle"),R(t,"data-handle",e[66]),R(t,"style",i=e[28]+": "+e[29][e[66]]+"%; z-index: "+(e[26]===e[66]?3:2)+";"),R(t,"aria-valuemin",a=e[2]===!0&&e[66]===1?e[0][0]:e[3]),R(t,"aria-valuemax",o=e[2]===!0&&e[66]===0?e[0][1]:e[4]),R(t,"aria-valuenow",s=e[64]),R(t,"aria-valuetext",f=""+(e[18]+e[21](e[64],e[66],e[23](e[64]))+e[19])),R(t,"aria-orientation",l=e[6]?"vertical":"horizontal"),R(t,"aria-disabled",e[10]),R(t,"disabled",e[10]),R(t,"tabindex",c=e[10]?-1:0),re(t,"active",e[24]&&e[26]===e[66]),re(t,"press",e[25]&&e[26]===e[66])},m(p,g){X(p,t,g),z(t,n),z(t,r),h&&h.m(t,null),u||(d=[ve(t,"blur",e[34]),ve(t,"focus",e[35]),ve(t,"keydown",e[36])],u=!0)},p(p,g){p[7]?h?h.p(p,g):(h=Au(p),h.c(),h.m(t,null)):h&&(h.d(1),h=null),g[0]&872415232&&i!==(i=p[28]+": "+p[29][p[66]]+"%; z-index: "+(p[26]===p[66]?3:2)+";")&&R(t,"style",i),g[0]&13&&a!==(a=p[2]===!0&&p[66]===1?p[0][0]:p[3])&&R(t,"aria-valuemin",a),g[0]&21&&o!==(o=p[2]===!0&&p[66]===0?p[0][1]:p[4])&&R(t,"aria-valuemax",o),g[0]&1&&s!==(s=p[64])&&R(t,"aria-valuenow",s),g[0]&11272193&&f!==(f=""+(p[18]+p[21](p[64],p[66],p[23](p[64]))+p[19]))&&R(t,"aria-valuetext",f),g[0]&64&&l!==(l=p[6]?"vertical":"horizontal")&&R(t,"aria-orientation",l),g[0]&1024&&R(t,"aria-disabled",p[10]),g[0]&1024&&R(t,"disabled",p[10]),g[0]&1024&&c!==(c=p[10]?-1:0)&&R(t,"tabindex",c),g[0]&83886080&&re(t,"active",p[24]&&p[26]===p[66]),g[0]&100663296&&re(t,"press",p[25]&&p[26]===p[66])},d(p){p&&A(t),h&&h.d(),u=!1,_n(d)}}}function Iu(e){let t,n;return{c(){t=W("span"),this.h()},l(r){t=Y(r,"SPAN",{class:!0,style:!0}),j(t).forEach(A),this.h()},h(){R(t,"class","rangeBar"),R(t,"style",n=e[28]+": "+e[32](e[29])+"%; "+e[27]+": "+e[33](e[29])+"%;")},m(r,i){X(r,t,i)},p(r,i){i[0]&939524096&&n!==(n=r[28]+": "+r[32](r[29])+"%; "+r[27]+": "+r[33](r[29])+"%;")&&R(t,"style",n)},d(r){r&&A(t)}}}function Lu(e){let t,n;return t=new z4({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[28],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[24],percentOf:e[23],moveHandle:e[31],fixFloat:e[30]}}),{c(){Ye(t.$$.fragment)},l(r){Ge(t.$$.fragment,r)},m(r,i){Ze(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&268435456&&(a.orientationStart=r[28]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&16777216&&(a.focus=r[24]),i[0]&8388608&&(a.percentOf=r[23]),t.$set(a)},i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){_e(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function V4(e){let t,n,r,i,a,o,s=e[0],f=[];for(let u=0;u<s.length;u+=1)f[u]=Du(xu(e,s,u));let l=e[2]&&Iu(e),c=e[11]&&Lu(e);return{c(){t=W("div");for(let u=0;u<f.length;u+=1)f[u].c();n=ae(),l&&l.c(),r=ae(),c&&c.c(),this.h()},l(u){t=Y(u,"DIV",{id:!0,class:!0});var d=j(t);for(let h=0;h<f.length;h+=1)f[h].l(d);n=oe(d),l&&l.l(d),r=oe(d),c&&c.l(d),d.forEach(A),this.h()},h(){R(t,"id",e[17]),R(t,"class","rangeSlider"),re(t,"range",e[2]),re(t,"disabled",e[10]),re(t,"hoverable",e[9]),re(t,"vertical",e[6]),re(t,"reversed",e[8]),re(t,"focus",e[24]),re(t,"min",e[2]==="min"),re(t,"max",e[2]==="max"),re(t,"pips",e[11]),re(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(u,d){X(u,t,d);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(t,null);z(t,n),l&&l.m(t,null),z(t,r),c&&c.m(t,null),e[50](t),i=!0,a||(o=[ve(window,"mousedown",e[39]),ve(window,"touchstart",e[39]),ve(window,"mousemove",e[40]),ve(window,"touchmove",e[40]),ve(window,"mouseup",e[41]),ve(window,"touchend",e[42]),ve(window,"keydown",e[43]),ve(t,"mousedown",e[37]),ve(t,"mouseup",e[38]),ve(t,"touchstart",Xr(e[37])),ve(t,"touchend",Xr(e[38]))],a=!0)},p(u,d){if(d[0]&934020317|d[1]&56){s=u[0];let h;for(h=0;h<s.length;h+=1){const p=xu(u,s,h);f[h]?f[h].p(p,d):(f[h]=Du(p),f[h].c(),f[h].m(t,n))}for(;h<f.length;h+=1)f[h].d(1);f.length=s.length}u[2]?l?l.p(u,d):(l=Iu(u),l.c(),l.m(t,r)):l&&(l.d(1),l=null),u[11]?c?(c.p(u,d),d[0]&2048&&me(c,1)):(c=Lu(u),c.c(),me(c,1),c.m(t,null)):c&&(ug(),_e(c,1,1,()=>{c=null}),dg()),(!i||d[0]&131072)&&R(t,"id",u[17]),(!i||d[0]&4)&&re(t,"range",u[2]),(!i||d[0]&1024)&&re(t,"disabled",u[10]),(!i||d[0]&512)&&re(t,"hoverable",u[9]),(!i||d[0]&64)&&re(t,"vertical",u[6]),(!i||d[0]&256)&&re(t,"reversed",u[8]),(!i||d[0]&16777216)&&re(t,"focus",u[24]),(!i||d[0]&4)&&re(t,"min",u[2]==="min"),(!i||d[0]&4)&&re(t,"max",u[2]==="max"),(!i||d[0]&2048)&&re(t,"pips",u[11]),(!i||d[0]&122880)&&re(t,"pip-labels",u[13]==="label"||u[14]==="label"||u[15]==="label"||u[16]==="label")},i(u){i||(me(c),i=!0)},o(u){_e(c),i=!1},d(u){u&&A(t),Da(f,u),l&&l.d(),c&&c.d(),e[50](null),a=!1,_n(o)}}}function Ou(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function Wo(e){return e.type.includes("touch")?e.touches[0]:e}function $4(e,t,n){let r,i,a,o,s,f,l=xe,c=()=>(l(),l=Yu(C,x=>n(29,f=x)),C);e.$$.on_destroy.push(()=>l());let{slider:u=void 0}=t,{range:d=!1}=t,{pushy:h=!1}=t,{min:p=0}=t,{max:g=100}=t,{step:m=1}=t,{values:b=[(g+p)/2]}=t,{vertical:y=!1}=t,{float:v=!1}=t,{reversed:_=!1}=t,{hoverable:w=!0}=t,{disabled:T=!1}=t,{pips:S=!1}=t,{pipstep:L=void 0}=t,{all:O=void 0}=t,{first:D=void 0}=t,{last:k=void 0}=t,{rest:q=void 0}=t,{id:E=void 0}=t,{prefix:I=""}=t,{suffix:M=""}=t,{formatter:N=(x,Q,pe)=>x}=t,{handleFormatter:U=N}=t,{precision:K=2}=t,{springValues:H={stiffness:.15,damping:.4}}=t;const J=hg();let Z=0,te=!1,ne=!1,Be=!1,ye=!1,F=b.length-1,Se,je,C;const V=x=>parseFloat(x.toFixed(K));function $(x){const Q=u.querySelectorAll(".handle"),pe=Array.prototype.includes.call(Q,x),we=Array.prototype.some.call(Q,Ct=>Ct.contains(x));return pe||we}function B(x){return d==="min"||d==="max"?x.slice(0,1):d?x.slice(0,2):x}function fe(){return u.getBoundingClientRect()}function le(x){const Q=fe();let pe=0,we=0,Ct=0;y?(pe=x.clientY-Q.top,we=pe/Q.height*100,we=_?we:100-we):(pe=x.clientX-Q.left,we=pe/Q.width*100,we=_?100-we:we),Ct=(g-p)/100*we+p;let Nr;return d===!0&&b[0]===b[1]?Ct>b[1]?1:0:(Nr=b.indexOf([...b].sort((Si,Ti)=>Math.abs(Ct-Si)-Math.abs(Ct-Ti))[0]),Nr)}function de(x){const Q=fe();let pe=0,we=0,Ct=0;y?(pe=x.clientY-Q.top,we=pe/Q.height*100,we=_?we:100-we):(pe=x.clientX-Q.left,we=pe/Q.width*100,we=_?100-we:we),Ct=(g-p)/100*we+p,he(F,Ct)}function he(x,Q){return Q=a(Q),typeof x>"u"&&(x=F),d&&(x===0&&Q>b[1]?h?n(0,b[1]=Q,b):Q=b[1]:x===1&&Q<b[0]&&(h?n(0,b[0]=Q,b):Q=b[0])),b[x]!==Q&&n(0,b[x]=Q,b),je!==Q&&(dt(),je=Q),Q}function ee(x){return d==="min"?0:x[0]}function Fe(x){return d==="max"?0:d==="min"?100-x[0]:100-x[1]}function Oe(x){ye&&(n(24,te=!1),ne=!1,n(25,Be=!1))}function st(x){T||(n(26,F=Ou(x.target)),n(24,te=!0))}function Ne(x){if(!T){const Q=Ou(x.target);let pe=x.ctrlKey||x.metaKey||x.shiftKey?m*10:m,we=!1;switch(x.key){case"PageDown":pe*=10;case"ArrowRight":case"ArrowUp":he(Q,b[Q]+pe),we=!0;break;case"PageUp":pe*=10;case"ArrowLeft":case"ArrowDown":he(Q,b[Q]-pe),we=!0;break;case"Home":he(Q,p),we=!0;break;case"End":he(Q,g),we=!0;break}we&&(x.preventDefault(),x.stopPropagation())}}function Ke(x){if(!T){const Q=x.target,pe=Wo(x);n(24,te=!0),ne=!0,n(25,Be=!0),n(26,F=le(pe)),Se=je=a(b[F]),tt(),x.type==="touchstart"&&!Q.matches(".pipVal")&&de(pe)}}function De(x){x.type==="touchend"&&ft(),n(25,Be=!1)}function et(x){ye=!1,te&&x.target!==u&&!u.contains(x.target)&&n(24,te=!1)}function Ve(x){T||ne&&de(Wo(x))}function P(x){if(!T){const Q=x.target;ne&&((Q===u||u.contains(Q))&&(n(24,te=!0),!$(Q)&&!Q.matches(".pipVal")&&de(Wo(x))),ft())}ne=!1,n(25,Be=!1)}function G(x){ne=!1,n(25,Be=!1)}function Te(x){T||(x.target===u||u.contains(x.target))&&(ye=!0)}function tt(){!T&&J("start",{activeHandle:F,value:Se,values:b.map(x=>a(x))})}function ft(){!T&&J("stop",{activeHandle:F,startValue:Se,value:b[F],values:b.map(x=>a(x))})}function dt(){!T&&J("change",{activeHandle:F,startValue:Se,previousValue:typeof je>"u"?Se:je,value:b[F],values:b.map(x=>a(x))})}function Yt(x){Re[x?"unshift":"push"](()=>{u=x,n(1,u)})}return e.$$set=x=>{"slider"in x&&n(1,u=x.slider),"range"in x&&n(2,d=x.range),"pushy"in x&&n(44,h=x.pushy),"min"in x&&n(3,p=x.min),"max"in x&&n(4,g=x.max),"step"in x&&n(5,m=x.step),"values"in x&&n(0,b=x.values),"vertical"in x&&n(6,y=x.vertical),"float"in x&&n(7,v=x.float),"reversed"in x&&n(8,_=x.reversed),"hoverable"in x&&n(9,w=x.hoverable),"disabled"in x&&n(10,T=x.disabled),"pips"in x&&n(11,S=x.pips),"pipstep"in x&&n(12,L=x.pipstep),"all"in x&&n(13,O=x.all),"first"in x&&n(14,D=x.first),"last"in x&&n(15,k=x.last),"rest"in x&&n(16,q=x.rest),"id"in x&&n(17,E=x.id),"prefix"in x&&n(18,I=x.prefix),"suffix"in x&&n(19,M=x.suffix),"formatter"in x&&n(20,N=x.formatter),"handleFormatter"in x&&n(21,U=x.handleFormatter),"precision"in x&&n(45,K=x.precision),"springValues"in x&&n(46,H=x.springValues)},e.$$.update=()=>{e.$$.dirty[0]&24&&n(49,i=function(x){return x<=p?p:x>=g?g:x}),e.$$.dirty[0]&56|e.$$.dirty[1]&262144&&n(48,a=function(x){if(x<=p)return V(p);if(x>=g)return V(g);let Q=(x-p)%m,pe=x-Q;return Math.abs(Q)*2>=m&&(pe+=Q>0?m:-m),pe=i(pe),V(pe)}),e.$$.dirty[0]&24&&n(23,r=function(x){let Q=(x-p)/(g-p)*100;return isNaN(Q)||Q<=0?0:Q>=100?100:V(Q)}),e.$$.dirty[0]&12582937|e.$$.dirty[1]&229376&&(Array.isArray(b)||(n(0,b=[(g+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),n(0,b=B(b.map(x=>a(x)))),Z!==b.length?c(n(22,C=B4(b.map(x=>r(x)),H))):C.set(b.map(x=>r(x))),n(47,Z=b.length)),e.$$.dirty[0]&320&&n(28,o=y?_?"top":"bottom":_?"right":"left"),e.$$.dirty[0]&320&&n(27,s=y?_?"bottom":"top":_?"left":"right")},[b,u,d,p,g,m,y,v,_,w,T,S,L,O,D,k,q,E,I,M,N,U,C,r,te,Be,F,s,o,f,V,he,ee,Fe,Oe,st,Ne,Ke,De,et,Ve,P,G,Te,h,K,H,Z,a,i,Yt]}class H4 extends vt{constructor(t){super(),Mt(this,t,$4,V4,St,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function j4(e){let t,n;return{c(){t=W("p"),n=Ae(e[4])},l(r){t=Y(r,"P",{});var i=j(t);n=Ce(i,e[4]),i.forEach(A)},m(r,i){X(r,t,i),z(t,n)},p:xe,d(r){r&&A(t)}}}function W4(e){let t,n,r,i,a,o=e[4]&&j4(e);function s(l){e[15](l)}let f={min:e[2],max:e[3],pips:!0,range:!0,float:!0,first:"label",last:"label",disabled:e[1]==null,id:"slider"};return e[0]!==void 0&&(f.values=e[0]),r=new H4({props:f}),Re.push(()=>pg(r,"values",s)),r.$on("stop",e[10]),{c(){t=W("div"),o&&o.c(),n=ae(),Ye(r.$$.fragment),this.h()},l(l){t=Y(l,"DIV",{class:!0,id:!0});var c=j(t);o&&o.l(c),n=oe(c),Ge(r.$$.fragment,c),c.forEach(A),this.h()},h(){R(t,"class","px-[1%] py-[1%] ml-[2.1%]"),R(t,"id","slider")},m(l,c){X(l,t,c),o&&o.m(t,null),z(t,n),Ze(r,t,null),a=!0},p(l,[c]){l[4]&&o.p(l,c);const u={};c&2&&(u.disabled=l[1]==null),!i&&c&1&&(i=!0,u.values=l[0],gg(()=>i=!1)),r.$set(u)},i(l){a||(me(r.$$.fragment,l),a=!0)},o(l){_e(r.$$.fragment,l),a=!1},d(l){l&&A(t),o&&o.d(),Xe(r)}}}function Y4(e,t,n){let r,i,a,o,s,{spec:f}=t,{min:l,max:c,id:u,description:d,widget_id:h}=f,p=ke("dims");Ue(e,p,k=>n(19,o=k));let g=ke("widget_params");Ue(e,g,k=>n(14,r=k));let m=ke("dropdown_index");Ue(e,m,k=>n(17,i=k));let b=ke("unsaved_changes");Ue(e,b,k=>n(18,a=k));let y=ke("user");Ue(e,y,k=>n(1,s=k)),o.margin;let v=[l,c],_=[...v],w=[];function T(){i!=null&&r!=null&&r.length!=0&&(console.log("args for widget for slider",r[i]),console.log("widget for slider",r[i][h]),n(0,v=[Number(r[i][h].start),Number(r[i][h].end)]),console.log("render for slider values are",v),O())}function S(k){console.log("addsource",k),w.push(k)}function L(){rt(b,a=!0,a),O()}function O(){if(console.log("onStop",v,_,hr(v,_)),!hr(v,_)){console.log("!!!!!!!!",v);let k={};k[u]={left:v[0],right:v[1]},rt(g,r[i][h]={start:Number(v[0]),end:Number(v[1])},r),console.log("slider.onstop",w),w.forEach(q=>{console.log("slider.trigger",q,k,u),q.trigger(k,u)})}_=[...v]}function D(k){v=k,n(0,v)}return e.$$set=k=>{"spec"in k&&n(11,f=k.spec)},e.$$.update=()=>{e.$$.dirty&16384&&T()},[v,s,l,c,d,p,g,m,b,y,L,f,T,S,r,D]}class Xf extends vt{constructor(t){super(),Mt(this,t,Y4,W4,St,{spec:11,render:12,addSourceIact:13})}get render(){return this.$$.ctx[12]}get addSourceIact(){return this.$$.ctx[13]}}function G4(e,t={}){if(!e||e.length===0)return[];let n=qn(e[0]),r=t.include?t.include:n;r=sl(t.include||n,t.exclude||[]);let i=sl(n,r);return console.log(r,i),fh(a=>r.map(o=>{let s=Og(i,a);return s[t.key||"key"]=o,s[t.value||"value"]=a[o],s}),e)}function Z4(e){let t,n,r,i,a,o,s,f;return{c(){t=W("div"),n=ae(),r=W("div"),i=W("div"),a=ae(),o=Gr("svg"),this.h()},l(l){t=Y(l,"DIV",{}),j(t).forEach(A),n=oe(l),r=Y(l,"DIV",{id:!0});var c=j(r);i=Y(c,"DIV",{}),j(i).forEach(A),a=oe(c),o=Zr(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=j(o);u.forEach(A),c.forEach(A),this.h()},h(){R(o,"class",""),R(o,"viewBox","0 0 800 0"),R(o,"width","100%"),R(o,"height","0"),R(r,"id",e[0])},m(l,c){X(l,t,c),X(l,n,c),X(l,r,c),z(r,i),e[14](i),z(r,a),z(r,o),e[15](o),e[16](r),s||(f=Na(Ha.call(null,t,J4)),s=!0)},p(l,[c]){c&1&&R(r,"id",l[0])},i:xe,o:xe,d(l){l&&A(t),l&&A(n),l&&A(r),e[14](null),e[15](null),e[16](null),s=!1,f()}}}let X4=400;function J4(){}function Q4(e,t,n){let r,{name:i,groupNames:a=[],title:o="",xAttr:s,yAttr:f="val",yMax:l,xDomainMin:c=null,xDomainMax:u=null}=t,{theplot:d=null}=t,h=null,p=null,g=ke("dims");Ue(e,g,S=>n(20,r=S));let m=[],b=[{year:1994,rank:1},{year:2003,rank:2}],y;function v(S,L){console.log("OBPlot",S,L,y.getBoundingClientRect()),L=="overlay"||(L=="bad_year_q"?(S&&S.forEach((N,U)=>{N.rank=U+1,N[s]=Number(N[s])}),b=S??b):S&&(m=G4(S,{include:a}),m.forEach(N=>N[s]=Number(N[s]))));let O=r.margin,D=y.getBoundingClientRect().width,k=X4-O.top-O.bottom;n(5,c=+c),n(6,u=+u);let q=Us({x:{type:"linear",domain:[c-1,u]}}),E=N=>(b.length-N.rank)*(.3/b.length)+.7,I={x:q,color:{domain:a,range:Ga,legend:!0,style:{"font-size":"0.8rem","margin-left":"2em"}},width:D,height:k,marginBottom:50,marks:[Ar({ticks:Pg(N=>N+c,u-c),tickRotate:-45,fontSize:"0.8rem",tickFormat:N=>(N+"").slice(-2)}),vi({fontSize:"0.8rem",label:"Payout"}),Yf([0]),Wf([q.domain[0]]),$s(b,{x1:N=>N[s]-.5,x2:N=>N[s]+.5,y:E,stroke:"black",opacity:.8,strokeWidth:1}),D4(b,{x1:N=>N[s]-.5,x2:N=>N[s]+.5,y1:0,y2:E,fill:"gray",opacity:.1})]};a.forEach((N,U)=>{let K=(1+U)/a.length*.7;I.marks.push($s(m,{filter:H=>H.key==N&&H[s]>=c&&H[s]<=u,x:H=>+H[s]+K-.35,y1:0,y2:f,stroke:"key",strokeWidth:4}))}),console.log("OBPlot options",I),n(7,d=Mi(I)),d.children[1].setAttribute("width","100%"),console.log("OBPlot",d),n(2,p.innerHTML="",p),p.appendChild(d)}function _(S){Re[S?"unshift":"push"](()=>{p=S,n(2,p)})}function w(S){Re[S?"unshift":"push"](()=>{y=S,n(3,y)})}function T(S){Re[S?"unshift":"push"](()=>{h=S,n(1,h)})}return e.$$set=S=>{"name"in S&&n(0,i=S.name),"groupNames"in S&&n(8,a=S.groupNames),"title"in S&&n(9,o=S.title),"xAttr"in S&&n(10,s=S.xAttr),"yAttr"in S&&n(11,f=S.yAttr),"yMax"in S&&n(12,l=S.yMax),"xDomainMin"in S&&n(5,c=S.xDomainMin),"xDomainMax"in S&&n(6,u=S.xDomainMax),"theplot"in S&&n(7,d=S.theplot)},[i,h,p,y,g,c,u,d,a,o,s,f,l,v,_,w,T]}class K4 extends vt{constructor(t){super(),Mt(this,t,Q4,Z4,St,{name:0,groupNames:8,title:9,xAttr:10,yAttr:11,yMax:12,xDomainMin:5,xDomainMax:6,theplot:7,render:13})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),qe()}get groupNames(){return this.$$.ctx[8]}set groupNames(t){this.$$set({groupNames:t}),qe()}get title(){return this.$$.ctx[9]}set title(t){this.$$set({title:t}),qe()}get xAttr(){return this.$$.ctx[10]}set xAttr(t){this.$$set({xAttr:t}),qe()}get yAttr(){return this.$$.ctx[11]}set yAttr(t){this.$$set({yAttr:t}),qe()}get yMax(){return this.$$.ctx[12]}set yMax(t){this.$$set({yMax:t}),qe()}get xDomainMin(){return this.$$.ctx[5]}set xDomainMin(t){this.$$set({xDomainMin:t}),qe()}get xDomainMax(){return this.$$.ctx[6]}set xDomainMax(t){this.$$set({xDomainMax:t}),qe()}get theplot(){return this.$$.ctx[7]}set theplot(t){this.$$set({theplot:t}),qe()}get render(){return this.$$.ctx[13]}}function e8(e){let t,n,r,i,a,o,s,f,l;return{c(){t=W("div"),n=ae(),r=W("div"),i=W("div"),a=ae(),o=Gr("svg"),s=Gr("g"),this.h()},l(c){t=Y(c,"DIV",{}),j(t).forEach(A),n=oe(c),r=Y(c,"DIV",{id:!0});var u=j(r);i=Y(u,"DIV",{}),j(i).forEach(A),a=oe(u),o=Zr(u,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var d=j(o);s=Zr(d,"g",{}),j(s).forEach(A),d.forEach(A),u.forEach(A),this.h()},h(){R(o,"class",""),R(o,"viewBox","0 0 800 0"),R(o,"width","100%"),R(o,"height","0"),R(r,"id",e[0])},m(c,u){X(c,t,u),X(c,n,u),X(c,r,u),z(r,i),e[8](i),z(r,a),z(r,o),z(o,s),e[9](s),e[10](r),f||(l=Na(Ha.call(null,t,n8)),f=!0)},p(c,[u]){u&1&&R(r,"id",c[0])},i:xe,o:xe,d(c){c&&A(t),c&&A(n),c&&A(r),e[8](null),e[9](null),e[10](null),f=!1,l()}}}let Pu=800,t8=200;function n8(){}function r8(e,t,n){let{name:r,xDomainMin:i,xDomainMax:a,timeDomainMode:o}=t,s,f,l={},c=[],u;function d(m,b){if(console.log("data into crop calendar is:",m),b=="overlay")l=m??l;else{if(!m||m.length===0)return;c=m}Pu-ir.left-ir.right;let y=Math.max(t8,J_(ra("crop",c)).length*100+50),v={x:{domain:[+i,+a],type:"linear"},y:{axis:null},width:Pu,height:y,marginBottom:50,fy:{label:null,tickRotate:-90,labelAnchor:"center"},marks:[Ar({ticks:36,fontSize:"0.8rem"}),Yp(),$s(c,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),lo(c,{x:T=>{let S=(T.end_time-T.start_time)/2+T.start_time;return console.log("yy",T,S),S},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:11,color:"gray",text:"activity"})]};qn(l).length>0&&(v.color={domain:ra("key",l),range:Ga,legend:!0,style:{"font-size":"0.8rem","margin-left":"2em"}},v.marks.push(rg(l,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})));let _=Mi(v);_.children[1].setAttribute("width","100%"),n(2,f.innerHTML="",f),f.appendChild(_)}function h(m){Re[m?"unshift":"push"](()=>{f=m,n(2,f)})}function p(m){Re[m?"unshift":"push"](()=>{u=m,n(3,u)})}function g(m){Re[m?"unshift":"push"](()=>{s=m,n(1,s)})}return e.$$set=m=>{"name"in m&&n(0,r=m.name),"xDomainMin"in m&&n(4,i=m.xDomainMin),"xDomainMax"in m&&n(5,a=m.xDomainMax),"timeDomainMode"in m&&n(6,o=m.timeDomainMode)},[r,s,f,u,i,a,o,d,h,p,g]}class i8 extends vt{constructor(t){super(),Mt(this,t,r8,e8,St,{name:0,xDomainMin:4,xDomainMax:5,timeDomainMode:6,render:7})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),qe()}get xDomainMin(){return this.$$.ctx[4]}set xDomainMin(t){this.$$set({xDomainMin:t}),qe()}get xDomainMax(){return this.$$.ctx[5]}set xDomainMax(t){this.$$set({xDomainMax:t}),qe()}get timeDomainMode(){return this.$$.ctx[6]}set timeDomainMode(t){this.$$set({timeDomainMode:t}),qe()}get render(){return this.$$.ctx[7]}}function a8(e){let t,n,r,i,a,o,s,f;return{c(){t=W("div"),n=ae(),r=W("div"),i=W("div"),a=ae(),o=Gr("svg"),this.h()},l(l){t=Y(l,"DIV",{}),j(t).forEach(A),n=oe(l),r=Y(l,"DIV",{id:!0});var c=j(r);i=Y(c,"DIV",{}),j(i).forEach(A),a=oe(c),o=Zr(c,"svg",{class:!0,viewBox:!0,width:!0,height:!0});var u=j(o);u.forEach(A),c.forEach(A),this.h()},h(){R(o,"class",""),R(o,"viewBox","0 0 800 0"),R(o,"width","100%"),R(o,"height","0"),R(r,"id",e[0])},m(l,c){X(l,t,c),X(l,n,c),X(l,r,c),z(r,i),e[5](i),z(r,a),z(r,o),e[6](r),s||(f=Na(Ha.call(null,t,o8)),s=!0)},p(l,[c]){c&1&&R(r,"id",l[0])},i:xe,o:xe,d(l){l&&A(t),l&&A(n),l&&A(r),e[5](null),e[6](null),s=!1,f()}}}let Ru=800,qu=300;function o8(){}function s8(e,t,n){let{name:r}=t,i,a;ke("dims");let o=[];function s(c,u){if(console.log("MatchingTable data",c),n(4,o=c??o),!o||o.length==0)return;Ru-ir.left-ir.right,qu-ir.top-ir.bottom;let d=Us({color:{type:"linear",scheme:"Greens",legend:!0,style:{"font-size":"0.8rem","margin-left":150}}}),h=Us({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=o.map(y=>h.apply(ea(d.apply(+y.value)).l)),g={padding:0,width:Ru,height:qu,marginLeft:150,color:d,marks:[Ar({fontSize:"0.8rem",label:null}),vi({fontSize:"0.8rem",label:null}),k4(o,{x:"x",y:"y",fill:y=>+y.value,stroke:"white"}),lo(o,{x:"x",y:"y",text:y=>y.value,fill:p,fontSize:"12pt",fontWeight:"bold",textAnchor:"middle"})]},m=Mi(g);m.children[1].setAttribute("width","100%"),n(2,a.innerHTML="",a),a.appendChild(m)}function f(c){Re[c?"unshift":"push"](()=>{a=c,n(2,a)})}function l(c){Re[c?"unshift":"push"](()=>{i=c,n(1,i)})}return e.$$set=c=>{"name"in c&&n(0,r=c.name)},e.$$.update=()=>{e.$$.dirty&16&&s(o)},[r,i,a,s,o,f,l]}class f8 extends vt{constructor(t){super(),Mt(this,t,s8,a8,St,{name:0,render:3})}get render(){return this.$$.ctx[3]}}function Bu(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function Fu(e){var i;let t,n=((i=e[18].village)==null?void 0:i.replace(/_/g," "))+"",r;return{c(){t=W("option"),r=Ae(n),this.h()},l(a){t=Y(a,"OPTION",{});var o=j(t);r=Ce(o,n),o.forEach(A),this.h()},h(){t.__value=e[20],t.value=t.__value},m(a,o){X(a,t,o),z(t,r)},p(a,o){var s;o&1&&n!==(n=((s=a[18].village)==null?void 0:s.replace(/_/g," "))+"")&&at(r,n)},d(a){a&&A(t)}}}function l8(e){let t,n,r,i,a=e[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=Fu(Bu(e,a,s));return{c(){t=W("div"),n=W("select");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0,id:!0});var f=j(t);n=Y(f,"SELECT",{class:!0});var l=j(n);for(let c=0;c<o.length;c+=1)o[c].l(l);l.forEach(A),f.forEach(A),this.h()},h(){R(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&Ys(()=>e[9].call(n)),R(t,"class","px-[1%] py-[1%] ml-[5.9%]"),R(t,"id","dropdown")},m(s,f){X(s,t,f),z(t,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(n,null);Hi(n,e[1],!0),r||(i=[ve(n,"change",e[9]),ve(n,"change",e[4])],r=!0)},p(s,[f]){if(f&1){a=s[0];let l;for(l=0;l<a.length;l+=1){const c=Bu(s,a,l);o[l]?o[l].p(c,f):(o[l]=Fu(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}f&2&&Hi(n,s[1])},i:xe,o:xe,d(s){s&&A(t),Da(o,s),r=!1,_n(i)}}}function c8(e,t,n){let r,i,{spec:a}=t,o=ke("dims");Ue(e,o,v=>n(11,i=v)),ke("widget_params");let s=ke("dropdown_index");Ue(e,s,v=>n(8,r=v));let f=[],l=null,c=null,{id:u,index:d,widget_id:h}=a,p=[];i.margin;function g(v,_){console.log("whats in dropdown",v),n(0,p=v??p),n(1,c=r??c),console.log("at end of render",p,c)}function m(v){console.log("addsource",v),f.push(v)}function b(){if(console.log("onStop for regular dropdown",p,l,hr(c,l)),console.log("onStop for regular dropdown and new selection ",c,l),console.log("onStop for regular dropdown new selection value ",p[c]),!hr(c,l)){let v={};rt(s,r=c,r),v[u]={value:p[c].gid},console.log("dropdown.onstop",f),f.forEach(_=>{console.log("dropdown.trigger",v,u),_.trigger(v,u)})}l=c}function y(){c=Gu(this),n(1,c)}return e.$$set=v=>{"spec"in v&&n(5,a=v.spec)},e.$$.update=()=>{e.$$.dirty&257&&g(p)},[p,c,o,s,b,a,g,m,r,y]}class u8 extends vt{constructor(t){super(),Mt(this,t,c8,l8,St,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}function Uu(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function zu(e){let t=console.log("in matching dropdown, row is",e[19],e[21])+"",n,r,i=Object.values(e[19])[1]+"",a,o;return{c(){n=Ae(t),r=W("option"),a=Ae(i),this.h()},l(s){n=Ce(s,t),r=Y(s,"OPTION",{});var f=j(r);a=Ce(f,i),f.forEach(A),this.h()},h(){r.__value=o=Object.values(e[19])[0],r.value=r.__value},m(s,f){X(s,n,f),X(s,r,f),z(r,a)},p(s,f){f&1&&t!==(t=console.log("in matching dropdown, row is",s[19],s[21])+"")&&at(n,t),f&1&&i!==(i=Object.values(s[19])[1]+"")&&at(a,i),f&1&&o!==(o=Object.values(s[19])[0])&&(r.__value=o,r.value=r.__value)},d(s){s&&A(n),s&&A(r)}}}function d8(e){let t,n,r,i,a=e[0],o=[];for(let s=0;s<a.length;s+=1)o[s]=zu(Uu(e,a,s));return{c(){t=W("div"),n=W("select");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){t=Y(s,"DIV",{class:!0,id:!0});var f=j(t);n=Y(f,"SELECT",{class:!0});var l=j(n);for(let c=0;c<o.length;c+=1)o[c].l(l);l.forEach(A),f.forEach(A),this.h()},h(){R(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[1]===void 0&&Ys(()=>e[10].call(n)),R(t,"class","px-[1%] py-[1%] ml-[5.9%]"),R(t,"id","dropdown")},m(s,f){X(s,t,f),z(t,n);for(let l=0;l<o.length;l+=1)o[l]&&o[l].m(n,null);Hi(n,e[1],!0),r||(i=[ve(n,"change",e[10]),ve(n,"change",e[4])],r=!0)},p(s,[f]){if(f&1){a=s[0];let l;for(l=0;l<a.length;l+=1){const c=Uu(s,a,l);o[l]?o[l].p(c,f):(o[l]=zu(c),o[l].c(),o[l].m(n,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=a.length}f&3&&Hi(n,s[1])},i:xe,o:xe,d(s){s&&A(t),Da(o,s),r=!1,_n(i)}}}function h8(e,t,n){let r,i,{spec:a}=t,o=ke("dims");Ue(e,o,_=>n(12,i=_)),ke("widget_params");let s=ke("dropdown_index");Ue(e,s,_=>n(9,r=_));let f=[],l=null,c=null,u=null,{id:d,index:h,widget_id:p}=a,g=[];i.margin;function m(_,w){console.log("whats in dropdown matching",_),n(0,g=_??g),n(1,c=c??0),n(8,u=r),console.log("at end of render for dropdown matching",g,c)}function b(_){console.log("addsource",_),f.push(_)}function y(){if(console.log("onStop for matching",g,l,hr(c,l)),!hr(c,l)){let _={};console.log("dropdownMatching value for index is",c),console.log("dropdownMatching.onstop value to pass",g,c,Object.values(g[c])[1],typeof c),_[d]={value:Object.values(g[c])[1]},console.log("dropdownMatching.onstop",f),f.forEach(w=>{console.log("dropdownMatching.trigger",_,d),w.trigger(_,d)})}l=c}function v(){c=Gu(this),n(1,c),n(9,r),n(8,u),n(0,g),n(0,g)}return e.$$set=_=>{"spec"in _&&n(5,a=_.spec)},e.$$.update=()=>{e.$$.dirty&769&&(console.log("render triggered with drop_down index of...",r,u),r-u!=0&&(n(1,c=0),y()),m(g))},[g,c,o,s,y,a,m,b,u,r,v]}class p8 extends vt{constructor(t){super(),Mt(this,t,h8,d8,St,{spec:5,render:6,addSourceIact:7})}get render(){return this.$$.ctx[6]}get addSourceIact(){return this.$$.ctx[7]}}const Vu="0.6.0";var xa=y8,Aa=M8,Xt=[],It=[],g8=typeof Uint8Array<"u"?Uint8Array:Array,Yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var er=0,m8=Yo.length;er<m8;++er)Xt[er]=Yo[er],It[Yo.charCodeAt(er)]=er;It["-".charCodeAt(0)]=62;It["_".charCodeAt(0)]=63;function b8(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function _8(e,t,n){return(t+n)*3/4-n}function y8(e){var t,n=b8(e),r=n[0],i=n[1],a=new g8(_8(e,r,i)),o=0,s=i>0?r-4:r,f;for(f=0;f<s;f+=4)t=It[e.charCodeAt(f)]<<18|It[e.charCodeAt(f+1)]<<12|It[e.charCodeAt(f+2)]<<6|It[e.charCodeAt(f+3)],a[o++]=t>>16&255,a[o++]=t>>8&255,a[o++]=t&255;return i===2&&(t=It[e.charCodeAt(f)]<<2|It[e.charCodeAt(f+1)]>>4,a[o++]=t&255),i===1&&(t=It[e.charCodeAt(f)]<<10|It[e.charCodeAt(f+1)]<<4|It[e.charCodeAt(f+2)]>>2,a[o++]=t>>8&255,a[o++]=t&255),a}function w8(e){return Xt[e>>18&63]+Xt[e>>12&63]+Xt[e>>6&63]+Xt[e&63]}function v8(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(w8(r));return i.join("")}function M8(e){for(var t,n=e.length,r=n%3,i=[],a=16383,o=0,s=n-r;o<s;o+=a)i.push(v8(e,o,o+a>s?s:o+a));return r===1?(t=e[n-1],i.push(Xt[t>>2]+Xt[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(Xt[t>>10]+Xt[t>>4&63]+Xt[t<<2&63]+"=")),i.join("")}const ig=!0,Mr=BigInt("-9223372036854775808"),Jf=BigInt("9223372036854775807"),js=BigInt("0"),S8=BigInt("8"),T8=BigInt("256");class li{constructor(t,n){this.tableName=t,this.id=n}equals(t){return t instanceof li?this.tableName===t.tableName&&this.id===t.id:!1}static fromJSON(t){if(typeof t.$id!="string")throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: $id isn't a string.`);const n=t.$id.split("|");if(n.length!==2)throw new Error(`Object ${JSON.stringify(t)} isn't a valid Id: Wrong number of parts.`);return new li(n[0],n[1])}toJSON(){return{$id:`${this.tableName}|${this.id}`}}toString(){return this.id}inspect(){return`Id('${this.tableName}', '${this.id}')`}}function ag(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function k8(e){e<js&&(e-=Mr+Mr);let t=e.toString(16);t.length%2==1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=S8;return Aa(n)}function E8(e){const t=xa(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=js,r=js;for(const i of t)n+=BigInt(i)*T8**r,r++;return n>Jf&&(n+=Mr+Mr),n}function x8(e){if(e<Mr||Jf<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Aa(new Uint8Array(t))}function A8(e){const t=xa(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const C8=DataView.prototype.setBigInt64?x8:k8,N8=DataView.prototype.getBigInt64?A8:E8,$u=64,D8=/^_+$/,I8=/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/;function og(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>$u)throw new Error(`Field name ${e} exceeds maximum field name length ${$u}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);if(D8.test(e))throw new Error(`Field name ${e} can't exclusively be underscores.`);if(!I8.test(e))throw new Error(`Field name ${e} must only contain alphanumeric characters or underscores and can't start with a number.`)}function nr(e){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(e instanceof Array)return e.map(nr);if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const t=Object.entries(e);if(t.length===1){const r=t[0][0];if(r==="$id"||r==="$weakRef"||r==="$strongRef")return li.fromJSON(e);if(r==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return xa(e.$bytes).buffer}if(r==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return N8(e.$integer)}if(r==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const i=xa(e.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const o=new DataView(i.buffer).getFloat64(0,ig);if(!ag(o))throw new Error(`Float ${o} should be encoded as a number`);return o}if(r==="$set"){if(!(e.$set instanceof Array))throw new Error(`Malformed $set field on ${e}`);return new Set(e.$set.map(nr))}if(r==="$map"){if(!(e.$map instanceof Array))throw new Error(`Malformed $map field on ${e}`);const i=new Map;for(const a of e.$map){if(!(a instanceof Array)||a.length!==2)throw new Error(`Malformed pair in $map ${e}`);const o=nr(a[0]),s=nr(a[1]);i.set(o,s)}return i}}const n={};for(const[r,i]of Object.entries(e))og(r),n[r]=nr(i);return n}function Go(e){return nr(e)}function Zo(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":n)}function rr(e,t,n){if(e===void 0)throw new Error(`undefined is not a valid Convex value (present at path ${n} in original object ${Zo(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);if(e===null)return e;if(e instanceof li)return e.toJSON();if(typeof e=="bigint"){if(e<Mr||Jf<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:C8(e)}}if(typeof e=="number")if(ag(e)){const a=new ArrayBuffer(8);return new DataView(a).setFloat64(0,e,ig),{$float:Aa(new Uint8Array(a))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Aa(new Uint8Array(e))};if(e instanceof Array)return e.map((a,o)=>rr(a,t,n+`[${o}]`));if(e instanceof Set)return{$set:[...e].map((a,o)=>rr(a,t,n+`.keys()[${o}]`))};if(e instanceof Map)return{$map:[...e].map(([a,o],s)=>{const f=rr(a,t,n+`.keys()[${s}]`),l=rr(o,t,n+`.values()[${s}]`);return[f,l]})};if(typeof e!="object")throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${Zo(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const r=Object.getPrototypeOf(e);if(r!==null&&r!==Object.prototype)throw new Error(`${e} is not a supported Convex type (present at path ${n} in original object ${Zo(t)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const i={};for(const[a,o]of Object.entries(e))og(a),i[a]=rr(o,t,n+`.${a}`);return i}function Xo(e){return rr(e,e,"")}const L8="color:rgb(0, 145, 255)";function sg(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A"}}function Jo(e,t,n,r){const i=sg(t);e=="info"?console.log(`%c[CONVEX ${i}(${n})] ${r}`,L8):console.error(`[CONVEX ${i}(${n})] ${r}`)}function Hu(e,t,n){const r=sg(e);return new Error(`[CONVEX ${r}(${t})] ${n}`)}const Qo=560,O8=typeof window<"u"&&typeof window.fetch<"u",Ko=O8?window.fetch:(...e)=>Wg(()=>import("../chunks/index.6cad6c50.js"),["../chunks/index.6cad6c50.js","../chunks/model_out.b0bd97d0.js","../chunks/paths.8b544fcb.js","../chunks/index.c742ee74.js","../chunks/index.ab7c113e.js","../assets/model_out.f0073743.css"],import.meta.url).then(({default:t})=>t(...e));class P8{constructor(t){this.address=`${t.address}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.auth=t}clearAuth(){this.auth=void 0}setDebug(t){this.debug=t}query(t){return async(...n)=>{const r=JSON.stringify(Xo(n)),i=encodeURIComponent(r),a=`${this.address}/${Vu}/udf?path=${t}&args=${i}`,o=this.auth?{Authorization:`Bearer ${this.auth}`}:{},s=await Ko(a,{credentials:"include",headers:o});if(!s.ok&&s.status!=Qo)throw new Error(await s.text());const f=await s.json(),l=Go(f.value);for(const c of f.logs)Jo("info","query",t,c);if(!f.success)throw Hu("query",t,l);return l}}mutation(t){return async(...n)=>{const r=JSON.stringify({path:t,args:Xo(n),tokens:[]}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await Ko(`${this.address}/${Vu}/udf`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=Qo)throw new Error(await a.text());const o=await a.json(),s=Go(o.value);for(const f of o.logs)Jo("info","mutation",t,f);if(!o.success)throw Hu("mutation",t,s);return s}}action(t){return async(...n)=>{const r=JSON.stringify({path:t,args:Xo(n),debug:this.debug}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await Ko(`${this.address}/action`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=Qo)throw new Error(await a.text());const o=await a.json();for(const s of o.logLines??[])Jo("info","action",t,s);switch(o.status){case"success":return Go(o.value),o.value;case"error":throw new Error(o.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(o)}`)}}}}function R8(e){let t,n,r,i,a,o,s,f,l,c,u,d,h,p=e[2]?"(unsaved changes)":"",g,m,b;return{c(){t=W("label"),n=Ae("Logged in as "),r=Ae(e[4]),i=ae(),a=W("button"),o=Ae("Save"),s=ae(),f=W("button"),l=W("a"),c=Ae("Download"),u=ae(),d=W("button"),h=Ae("Logout "),g=Ae(p),this.h()},l(y){t=Y(y,"LABEL",{for:!0,class:!0});var v=j(t);n=Ce(v,"Logged in as "),r=Ce(v,e[4]),v.forEach(A),i=oe(y),a=Y(y,"BUTTON",{class:!0,label:!0});var _=j(a);o=Ce(_,"Save"),_.forEach(A),s=oe(y),f=Y(y,"BUTTON",{class:!0});var w=j(f);l=Y(w,"A",{href:!0,download:!0});var T=j(l);c=Ce(T,"Download"),T.forEach(A),w.forEach(A),u=oe(y),d=Y(y,"BUTTON",{class:!0});var S=j(d);h=Ce(S,"Logout "),g=Ce(S,p),S.forEach(A),this.h()},h(){R(t,"for",e[5]),R(t,"class","form-label"),R(a,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),R(a,"label","Save"),R(l,"href",e[16]()),R(l,"download","data.txt"),R(f,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),R(d,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5")},m(y,v){X(y,t,v),z(t,n),z(t,r),X(y,i,v),X(y,a,v),z(a,o),X(y,s,v),X(y,f,v),z(f,l),z(l,c),X(y,u,v),X(y,d,v),z(d,h),z(d,g),m||(b=[ve(a,"click",e[13]),ve(d,"click",e[15])],m=!0)},p(y,v){v[0]&16&&at(r,y[4]),v[0]&4&&p!==(p=y[2]?"(unsaved changes)":"")&&at(g,p)},d(y){y&&A(t),y&&A(i),y&&A(a),y&&A(s),y&&A(f),y&&A(u),y&&A(d),m=!1,_n(b)}}}function q8(e){var l;let t,n,r,i,a,o,s,f=((l=e[3][0])==null?void 0:l.label)&&ju(e);return{c(){f&&f.c(),t=ae(),n=W("input"),r=ae(),i=W("button"),a=Ae("Login"),this.h()},l(c){f&&f.l(c),t=oe(c),n=Y(c,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),r=oe(c),i=Y(c,"BUTTON",{class:!0,label:!0});var u=j(i);a=Ce(u,"Login"),u.forEach(A),this.h()},h(){R(n,"type","text"),R(n,"class","form-select appearance-none border border-solid border-gray-300 rounded px-3"),R(n,"id",e[5]),R(n,"placeholder","Username"),R(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-10"),R(i,"label","Login")},m(c,u){f&&f.m(c,u),X(c,t,u),X(c,n,u),tl(n,e[3][0].value),X(c,r,u),X(c,i,u),z(i,a),o||(s=[ve(n,"input",e[21]),ve(n,"input",e[11]),ve(i,"click",e[12])],o=!0)},p(c,u){var d;(d=c[3][0])!=null&&d.label?f?f.p(c,u):(f=ju(c),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),u[0]&8&&n.value!==c[3][0].value&&tl(n,c[3][0].value)},d(c){f&&f.d(c),c&&A(t),c&&A(n),c&&A(r),c&&A(i),o=!1,_n(s)}}}function ju(e){let t,n=e[3][0].label+"",r;return{c(){t=W("label"),r=Ae(n),this.h()},l(i){t=Y(i,"LABEL",{for:!0,class:!0});var a=j(t);r=Ce(a,n),a.forEach(A),this.h()},h(){R(t,"for",e[5]),R(t,"class","form-label")},m(i,a){X(i,t,a),z(t,r)},p(i,a){a[0]&8&&n!==(n=i[3][0].label+"")&&at(r,n)},d(i){i&&A(t)}}}function B8(e){let t;return{c(){t=Ae("v")},l(n){t=Ce(n,"v")},m(n,r){X(n,t,r)},d(n){n&&A(t)}}}function F8(e){let t;return{c(){t=Ae("^")},l(n){t=Ce(n,"^")},m(n,r){X(n,t,r)},d(n){n&&A(t)}}}function Wu(e){let t,n,r,i,a=e[17]()+"",o,s,f;return{c(){t=W("div"),n=Ae("copy"),r=ae(),i=W("pre"),o=Ae(a),this.h()},l(l){t=Y(l,"DIV",{class:!0});var c=j(t);n=Ce(c,"copy"),c.forEach(A),r=oe(l),i=Y(l,"PRE",{id:!0});var u=j(i);o=Ce(u,a),u.forEach(A),this.h()},h(){R(t,"class","underline text-blue-600 hover:text-blue-900 hover:cursor-pointer"),R(i,"id","userState")},m(l,c){X(l,t,c),z(t,n),X(l,r,c),X(l,i,c),z(i,o),s||(f=ve(t,"click",z8),s=!0)},p:xe,d(l){l&&A(t),l&&A(r),l&&A(i),s=!1,f()}}}function U8(e){let t,n,r,i,a,o,s,f;function l(m,b){return m[4]==null?q8:R8}let c=l(e),u=c(e);function d(m,b){return m[1]?F8:B8}let h=d(e),p=h(e),g=e[1]&&Wu(e);return{c(){t=W("form"),n=W("div"),u.c(),r=ae(),i=W("button"),p.c(),a=ae(),g&&g.c(),o=An(),this.h()},l(m){t=Y(m,"FORM",{});var b=j(t);n=Y(b,"DIV",{class:!0});var y=j(n);u.l(y),r=oe(y),i=Y(y,"BUTTON",{class:!0});var v=j(i);p.l(v),v.forEach(A),y.forEach(A),b.forEach(A),a=oe(m),g&&g.l(m),o=An(),this.h()},h(){R(i,"class","form-select appearance-none border border-solid border-gray-300 rounded px-5"),R(n,"class","mb-3")},m(m,b){X(m,t,b),z(t,n),u.m(n,null),z(n,r),z(n,i),p.m(i,null),X(m,a,b),g&&g.m(m,b),X(m,o,b),s||(f=ve(i,"click",e[14]),s=!0)},p(m,b){c===(c=l(m))&&u?u.p(m,b):(u.d(1),u=c(m),u&&(u.c(),u.m(n,r))),h!==(h=d(m))&&(p.d(1),p=h(m),p&&(p.c(),p.m(i,null))),m[1]?g?g.p(m,b):(g=Wu(m),g.c(),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},i:xe,o:xe,d(m){m&&A(t),u.d(),p.d(),m&&A(a),g&&g.d(m),m&&A(o),s=!1,f()}}}async function z8(){let e=document.getElementById("userState").innerHTML;try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy: ",t)}}function V8(e,t,n){let r,i,a,o,s,f=xe,l=()=>(f(),f=Yu(O,J=>n(3,s=J)),O),c;e.$$.on_destroy.push(()=>f());const u={address:"https://rightful-anteater-150.convex.cloud"};let d=P8;const h=new d(u);window.convex=h;const p=h.mutation("saveParams"),g=h.query("getParams");let{spec:m}=t,b=m.id,y={INPUT:[],SUBMIT:[]},v=ke("widget_params");Ue(e,v,J=>n(24,i=J));let _=ke("dropdown_index");Ue(e,_,J=>n(25,a=J));let w=ke("query_results");Ue(e,w,J=>n(23,r=J));let T=ke("unsaved_changes");Ue(e,T,J=>n(2,o=J));let S=ke("user");Ue(e,S,J=>n(4,c=J));let L=!1,{table:O=Ks([{value:"",label:""}])}=t;l();function D(J){rt(O,s=J,s),s.length<1&&rt(O,s=[{value:"",label:""}],s)}function k(J){console.log("addsource",J),y.SUBMIT.push(J)}function q(){console.log("handle inputs in login"),Rg(y.INPUT,b,s[0])}async function E(){if(s[0].value.length==0){alert("Please enter a valid username.");return}rt(S,c=s[0].value,c),console.log("user for login -->",c);let J=await g(s[0].value);console.log("user village state",J),J!=null&&rt(v,i=JSON.parse(J),i);let Z={};console.log("login parameters are: ",i,[a]),console.log("query results for login: ",r.villages_q),Z[b]={region:r.villages_q[a].gid,vegetation_first:i[a].vegetation.start,vegetation_last:i[a].vegetation.end,sum_early_first:i[a].chirps_early.start,sum_early_last:i[a].chirps_early.end,sum_late_first:i[a].chirps_late.start,sum_late_last:i[a].chirps_late.end,valid_results:i[a].isValid},console.log("login results",Z),console.log("login.onsubmit",y),y.SUBMIT.forEach(te=>{te.id!="login defaults_q_backend"&&(console.log("login.trigger",Z,b,te),te.trigger(Z,b))}),console.log("handle login sees widgets as --> ",i),s[0].value}function I(){console.log("save",i);const J=JSON.stringify(i,(Z,te)=>typeof te=="bigint"?te.toString()+"n":te,4);p(J,c),rt(T,o=!1,o)}function M(){n(1,L=!L)}function N(){console.log("logout.onsubmit",y),rt(S,c=null,c);let J={};y.SUBMIT.forEach(Z=>{Z.trigger(J,b)}),rt(O,s[0].value="",s),rt(T,o=!1,o)}function U(){const Z=JSON.stringify({widget_params:i,query_results:r},(te,ne)=>typeof ne=="bigint"?ne.toString()+"n":ne,4);return encodeURI("data:text/plain;charset=utf-8,"+Z)}function K(){return JSON.stringify({dropdown_index:a,widget_params:i,query_results:r},(te,ne)=>typeof ne=="bigint"?ne.toString()+"n":ne,4)}function H(){s[0].value=this.value,O.set(s)}return e.$$set=J=>{"spec"in J&&n(18,m=J.spec),"table"in J&&l(n(0,O=J.table))},[O,L,o,s,c,b,v,_,w,T,S,q,E,I,M,N,U,K,m,D,k,H]}class $8 extends vt{constructor(t){super(),Mt(this,t,V8,U8,St,{spec:18,table:0,render:19,addSourceIact:20},null,[-1,-1])}get spec(){return this.$$.ctx[18]}set spec(t){this.$$set({spec:t}),qe()}get table(){return this.$$.ctx[0]}set table(t){this.$$set({table:t}),qe()}get render(){return this.$$.ctx[19]}get addSourceIact(){return this.$$.ctx[20]}}function H8(e,t,n){let r,i,{name:a,title:o=""}=t;ke("dims");let s=ke("widget_params");Ue(e,s,u=>n(7,i=u));let f=ke("dropdown_index");Ue(e,f,u=>n(6,r=u));let l=[];function c(u,d){l=u??l,!(!l||l.length==0)&&(console.log("data into alert is",Object.values(l[0])[0]),Object.values(l[0])[0]<1?(alert("Not enough rainfall to set an index for one of your windows; do not save these values..."),rt(s,i[r].isValid=!1,i),console.log("widget params",i[r])):(rt(s,i[r].isValid=!0,i),console.log("widget params",i[r])))}return e.$$set=u=>{"name"in u&&n(2,a=u.name),"title"in u&&n(3,o=u.title)},[s,f,a,o,c]}class j8 extends vt{constructor(t){super(),Mt(this,t,H8,null,St,{name:2,title:3,render:4})}get name(){return this.$$.ctx[2]}set name(t){this.$$set({name:t}),qe()}get title(){return this.$$.ctx[3]}set title(t){this.$$set({title:t}),qe()}get render(){return this.$$.ctx[4]}}function W8(e,t,n){let r,i,a=ke("query_results");Ue(e,a,l=>n(5,i=l));let o=ke("widget_params");Ue(e,o,l=>n(4,r=l));let s=[];function f(l,c){s=l??s,console.log("in query update.... ",l,c),rt(a,i[c]=s,i);let u={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};c=="defaults_q"&&rt(o,r=s.map(d=>({chirps_early:{start:d.chirps_early_first,end:d.chirps_early_last},chirps_late:{start:d.chirps_late_first,end:d.chirps_late_last},vegetation:u[d.evi_month]})),r)}return[a,o,f]}class Y8 extends vt{constructor(t){super(),Mt(this,t,W8,null,St,{render:2})}get render(){return this.$$.ctx[2]}}function We(e){console.log(e.h);let t=[qg(Ws,[e.h])];return Bg(...t)}function Ws(e,t){const n=qn(t).length;if(Fg(e)||qn(e).length===0)return t;let r=null;if(e["*"]){r=G8(e["*"],n,t);const a=Ug("*",e);return r.map(o=>Ws(a,o))}let i={};for(const a in e){const o=e[a];Vi(Function,o)?i[a]=o(t):Vi(String,o)?i[a]=lh(o.split("."),t):Vi(Object,o)?i[a]=Ws(o,t):i[a]=o}return i}function G8(e,t,n){let r=null;return e==="*"&&t==1?r=zg(n)[0]??[]:r=t2([],e.split("."),n),Vi(Array,r)||(r=[r]),r}class Ca{constructor(t){this.compPos=function(n){var r=[];console.log("CompPos calculation");for(var i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);console.log("CompPos elements:",this._array[i],n[i]),console.log("CompPos ret check: ",a),r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){var r=[];console.log("compZero calculation");for(var i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));console.log("compZero elements:",this._array[i],n[i]),console.log("compZero ret check: ",a),r.push(a)}return r},this.getPos=function(){var n=[];console.log("getPos calculation");for(var r=0;r<this._array.length;r++){let i=+(this._array[r]>0);console.log("getPos element:",this._array[r]),console.log("getPos ret check: ",i),n.push(+(this._array[r]>0))}return n},this.getZero=function(){var n=[];console.log("getZero calculation");for(var r=0;r<this._array.length;r++){let i=+this.isNegative(this._array[r]);console.log("getZero element:",this._array[r]),console.log("getZero ret check: ",i),n.push(+(this._array[r]===0))}return n},this._array=t}get array(){return this._array}}const fg=function(e,t,n,r){console.log("----------------------------------------------------------"),console.log("NUMERATOR AND DENOMINATOR CALCULATION FOR: ",e,n),console.log("raw arrays for numerator and denominator",t,r);let i=t.map(Number),a=r.map(Number);console.log("arrays casted to number for numerator and denominator",i,a);let o=new Ca(i),s=new Ca(a),f=o.compPos(s.array),l=s.getPos();console.log("numerator and denominator arrays",f,l);let c=f.filter(h=>h>0).length,u=l.filter(h=>h>0).length;console.log("numerator and denominator",c,u);let d=(c/u).toFixed(2);return console.log("numerator / denominator = ",d,"for fields:",e,n),console.log("----------------------------------------------------------"),d},lg=function(e,t,n,r){console.log("----------------------------------------------------------"),console.log("NUMERATOR AND DENOMINATOR CALCULATION FOR: ",e,n),console.log("raw arrays for numerator and denominator",t,r);let i=t.map(Number),a=r.map(Number);console.log("arrays casted to number for numerator and denominator",i,a);let o=new Ca(i),s=new Ca(a),f=o.compZero(s.array),l=s.getZero();console.log("numerator and denominator arrays",f,l);let c=f.filter(h=>h>0).length,u=l.filter(h=>h>0).length;console.log("numerator and denominator",c,u);let d=(c/u).toFixed(2);return console.log("numerator / denominator = ",d,"for fields:",e,n),console.log("----------------------------------------------------------"),d},Z8=function(e,t,n,r){return console.log("=========================="),console.log("TRUE POSITIVE CALCULATION"),console.log("=========================="),fg(e,t,n,r)},X8=function(e,t,n,r){return console.log("=========================="),console.log("TRUE NEGATIVE CALCULATION"),console.log("=========================="),lg(e,t,n,r)},J8=function(e,t,n,r){console.log("=========================="),console.log("OVERALL MATCHING CALCULATION"),console.log("==========================");let i=Number(fg(e,t,n,r));console.log("r1 for true negative is:",i);let a=Number(lg(e,t,n,r));console.log("r2 for true negative is:",a);let o=i+a,s=2,f=o/s,l=f.toFixed(2);return console.log("overall matching is: (",i," + ",a,")/",s,"=",f,"to fixed gives",l),l};let Q8=[{"true positive":Z8,"true negative":X8,"average matching":J8}];function K8(e){return{c:xe,l:xe,m:xe,p:xe,i:xe,o:xe,d:xe}}function e5(e){let t,n,r,i,a,o,s,f,l,c,u,d,h,p;t=new Hg({props:{country:"Ethiopia",initTime:e[42]}});let g={};return i=new Y8({props:g}),e[20](i),o=new Do({props:{$$slots:{dropdown1:[r5],alert:[n5],header:[t5]},$$scope:{ctx:e}}}),c=new Do({props:{$$slots:{slider3:[f5],slider2:[s5],slider1:[o5],chart2:[a5],chart1:[i5]},$$scope:{ctx:e}}}),h=new Do({props:{$$slots:{chart2:[u5],dropdown2:[c5],chart1:[l5]},$$scope:{ctx:e}}}),{c(){Ye(t.$$.fragment),n=ae(),r=W("div"),Ye(i.$$.fragment),a=ae(),Ye(o.$$.fragment),s=ae(),f=W("div"),l=W("div"),Ye(c.$$.fragment),u=ae(),d=W("div"),Ye(h.$$.fragment),this.h()},l(m){Ge(t.$$.fragment,m),n=oe(m),r=Y(m,"DIV",{});var b=j(r);Ge(i.$$.fragment,b),a=oe(b),Ge(o.$$.fragment,b),b.forEach(A),s=oe(m),f=Y(m,"DIV",{class:!0});var y=j(f);l=Y(y,"DIV",{class:!0});var v=j(l);Ge(c.$$.fragment,v),v.forEach(A),u=oe(y),d=Y(y,"DIV",{class:!0});var _=j(d);Ge(h.$$.fragment,_),_.forEach(A),y.forEach(A),this.h()},h(){R(l,"class","col-span-1"),R(d,"class","col-span-1"),R(f,"class","grid grid-cols-1 sm:grid-cols-2")},m(m,b){Ze(t,m,b),X(m,n,b),X(m,r,b),Ze(i,r,null),z(r,a),Ze(o,r,null),X(m,s,b),X(m,f,b),z(f,l),Ze(c,l,null),z(f,u),z(f,d),Ze(h,d,null),p=!0},p(m,b){const y={};i.$set(y);const v={};b[0]&13314|b[1]&4096&&(v.$$scope={dirty:b,ctx:m}),o.$set(v);const _={};b[0]&916|b[1]&4096&&(_.$$scope={dirty:b,ctx:m}),c.$set(_);const w={};b[0]&2088|b[1]&4096&&(w.$$scope={dirty:b,ctx:m}),h.$set(w)},i(m){p||(me(t.$$.fragment,m),me(i.$$.fragment,m),me(o.$$.fragment,m),me(c.$$.fragment,m),me(h.$$.fragment,m),p=!0)},o(m){_e(t.$$.fragment,m),_e(i.$$.fragment,m),_e(o.$$.fragment,m),_e(c.$$.fragment,m),_e(h.$$.fragment,m),p=!1},d(m){Xe(t,m),m&&A(n),m&&A(r),e[20](null),Xe(i),Xe(o),m&&A(s),m&&A(f),Xe(c),Xe(h)}}}function t5(e){let t,n,r={table:Ks([{value:"",label:"Login to use tool:"}]),spec:{id:"l1",default_user_state:e[1]},slot:"header"};return t=new $8({props:r}),e[23](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};a[0]&2&&(o.spec={id:"l1",default_user_state:i[1]}),t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[23](null),Xe(t,i)}}}function n5(e){let t,n,r={slot:"alert",name:"no variance alert"};return t=new j8({props:r}),e[22](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[22](null),Xe(t,i)}}}function r5(e){let t,n,r={slot:"dropdown1",spec:e[16]};return t=new u8({props:r}),e[21](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[21](null),Xe(t,i)}}}function i5(e){let t,n,r={slot:"chart1",name:"line",title:"Climatology",xAttr:"dekad",yAttr:"average_value",xDomainMin:"1",xDomainMax:"36"};return t=new q4({props:r}),e[28](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[28](null),Xe(t,i)}}}function a5(e){let t,n,r={slot:"chart2",name:"testCropCal",xDomainMin:"1.0",xDomainMax:"36.0",timeDomainMode:"fixed"};return t=new i8({props:r}),e[27](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[27](null),Xe(t,i)}}}function o5(e){let t,n,r={slot:"slider1",spec:{min:1,max:36,id:"sum_early_slider",description:"CHIPRS sum early",widget_id:"chirps_early"}};return t=new Xf({props:r}),e[26](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[26](null),Xe(t,i)}}}function s5(e){let t,n,r={slot:"slider2",spec:{min:1,max:36,id:"sum_late_slider",description:"CHIRPS sum late",widget_id:"chirps_late"}};return t=new Xf({props:r}),e[25](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[25](null),Xe(t,i)}}}function f5(e){let t,n,r={slot:"slider3",spec:{min:1,max:36,id:"vegetation_slider",description:"Vegetation",widget_id:"vegetation"}};return t=new Xf({props:r}),e[24](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[24](null),Xe(t,i)}}}function l5(e){let t,n,r={slot:"chart1",name:"Bar Grouped",title:"Payouts",groupNames:["sum_early","sum_late","vegetation","combined_payout"],xAttr:"year",yAttr:"value",yMax:"1",xDomainMin:"1981",xDomainMax:"2021"};return t=new K4({props:r}),e[31](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[31](null),Xe(t,i)}}}function c5(e){let t,n,r={slot:"dropdown2",spec:e[17]};return t=new p8({props:r}),e[30](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[30](null),Xe(t,i)}}}function u5(e){let t,n,r={slot:"chart2",name:"matching_table"};return t=new f8({props:r}),e[29](t),{c(){Ye(t.$$.fragment)},l(i){Ge(t.$$.fragment,i)},m(i,a){Ze(t,i,a),n=!0},p(i,a){const o={};t.$set(o)},i(i){n||(me(t.$$.fragment,i),n=!0)},o(i){_e(t.$$.fragment,i),n=!1},d(i){e[29](null),Xe(t,i)}}}function d5(e){let t,n;return t=new jg({}),{c(){Ye(t.$$.fragment)},l(r){Ge(t.$$.fragment,r)},m(r,i){Ze(t,r,i),n=!0},p:xe,i(r){n||(me(t.$$.fragment,r),n=!0)},o(r){_e(t.$$.fragment,r),n=!1},d(r){Xe(t,r)}}}function h5(e){let t,n,r,i,a,o;Ys(e[19]);let s={ctx:e,current:null,token:null,hasCatch:!1,pending:d5,then:e5,catch:K8,value:42,blocks:[,,,]};return mg(e[18],s),{c(){t=W("meta"),n=ae(),r=An(),s.block.c(),this.h()},l(f){const l=bg("svelte-1qxraob",document.head);t=Y(l,"META",{name:!0,content:!0}),l.forEach(A),n=oe(f),r=An(),s.block.l(f),this.h()},h(){document.title="DESDR: Ethiopia",R(t,"name","description"),R(t,"content","DESDR Ethiopia")},m(f,l){z(document.head,t),X(f,n,l),X(f,r,l),s.block.m(f,s.anchor=l),s.mount=()=>r.parentNode,s.anchor=r,i=!0,a||(o=ve(window,"resize",e[19]),a=!0)},p(f,l){e=f,_g(s,e,l)},i(f){i||(me(s.block),i=!0)},o(f){for(let l=0;l<3;l+=1){const c=s.blocks[l];_e(c)}i=!1},d(f){A(t),f&&A(n),f&&A(r),s.block.d(f),s.token=null,s=null,a=!1,o()}}}function p5(e,t,n){let r,i,a,o;Ue(e,fl,F=>n(32,r=F)),Ue(e,ll,F=>n(34,a=F));const s=[{name:"admin_raw",parquet:"admin_raw.parquet"},{name:"badyear_raw",parquet:"badyear_raw.parquet"},{name:"chirps_raw",parquet:"chirps_raw.parquet"},{name:"crop_cal_raw",parquet:"crop_cal_raw.parquet"},{name:"evi_raw",parquet:"evi_raw.parquet"}];ke("dims");let f=ke("widget_params");Ue(e,f,F=>n(33,i=F));let l=ke("dropdown_index");Ue(e,l,F=>n(35,o=F)),ke("early_params"),ke("early_params");let c=0,u=[],d={id:"d1",index:o,widget_id:"w1"},h={id:"d2",index:0,widget_id:"w5"},p=null,g=null,m=null,b=null,y=null,v=null,_=null,w=null,T=null,S=null,L=null,O=null;rt(fl,r=new Vg,r),rt(ll,a=new $g,a);let D=r.createBackend({id:"duckdb1",type:"DuckDBBackend",name:null,url:null,schema:[]});async function k(F){console.log("dbGoLive started");let Se=Date.now();await F.init(!1),await F.loadParquets(s);let je=Date.now();return console.log("db go live time is,",je-Se),je-Se}let q=k(D);yg(async()=>{await q,console.log("launch....");let F={region:1128,dekcap:24,freq:.23,year_start:1981,year_end:2020,back_fill_year:2001,sum_early_weight:.4,sum_late_weight:.4,vegetation_weight:.6,sum_early_first:1,sum_early_last:30,sum_late_first:1,sum_late_last:30,vegetation_first:10,vegetation_last:30,scalar_vegetation:1,exit_multiplier:.8},Se="SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last, evi_month FROM admin_raw ORDER BY gid",je=r.createBackend({id:"defaults_q_backend",type:"QueryBackend",query:Se,name:"defaults_q",params:F,backend:D}),C=await je.execute(),V={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};n(1,u=C.map(pe=>({chirps_early:{start:pe.chirps_early_first,end:pe.chirps_early_last},chirps_late:{start:pe.chirps_late_first,end:pe.chirps_late_last},vegetation:V[pe.evi_month],village:pe.gid}))),rt(f,i=u,i),console.log("default widget params check: ",i),F.sum_early_first=i[0].chirps_early.start,F.sum_early_last=i[0].chirps_early.end,F.sum_late_first=i[0].chirps_late.start,F.sum_late_last=i[0].chirps_late.end,F.vegetation_first=i[0].vegetation.start,F.vegetation_last=i[0].vegetation.end;let $=new Pi,B=new Pi;new Pi;let fe=new Pi,le=Xn.climatology.query,de=Xn.payout_combined.query,he=Xn.matching.query,ee=Xn.check.query,Fe="SELECT village, gid FROM admin_raw ORDER BY gid",Oe=Xn.crop_cal.query,st=Xn.badyear.query,Ne="SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);",Ke=r.createBackend({id:"climatology_q_backend",type:"QueryBackend",query:le,name:"climatology",params:F,backend:D}),De=r.createBackend({id:"combined_payouts_q_backend",type:"QueryBackend",query:de,name:"combined_payouts",params:F,backend:D}),et=r.createBackend({id:"matching_q_backend",type:"QueryBackend",query:he,name:"matching",params:F,backend:D}),Ve=r.createBackend({id:"villages_q_backend",type:"QueryBackend",query:Fe,name:"villages_q",params:F,backend:D}),P=r.createBackend({id:"crop_cal_q_backend",type:"QueryBackend",query:Oe,name:"crop_cal_q",params:F,backend:D}),G=r.createBackend({id:"bad_year_q_backend",type:"QueryBackend",query:st,name:"bad_year_q",params:F,backend:D}),Te=r.createBackend({id:"check_q_backend",type:"QueryBackend",query:ee,name:"check_q",params:F,backend:D}),tt=r.createBackend({id:"matching_table_options_q_backend",type:"QueryBackend",query:Ne,name:"matching_table_options_q",params:F,backend:D}),ft=r.createBackend({id:"matching_table_backend",type:"MatchingTableBackEnd",main_data_name:"matching",main_data_default:null,function_store:Q8,default_func:"true positive"});fe.registerView(g,null),$.registerView(p,null),B.registerView(m,null),Ke.registerView(p),De.registerView(g),G.registerView(g),Ve.registerView(T),P.registerView(m),et.registerView(ft),ft.registerView(b),tt.registerView(S),Ke.registerView(y),De.registerView(y),P.registerView(y),G.registerView(y),Ve.registerView(y),et.registerView(y),tt.registerView(y),je.registerView(y),Te.registerView(O),await Ke.execute(F),await Ve.execute(F),await P.execute(F),await De.execute(F),await G.execute(F),await Te.execute(F),await et.execute(F),await tt.execute([]),await ft.execute([]);let dt={sum_early_slider:{left:Number(F.sum_early_first),right:Number(F.sum_early_last)},sum_late_slider:{left:Number(F.sum_late_first),right:Number(F.sum_late_last)},vegetation_slider:{left:Number(F.vegetation_first),right:Number(F.vegetation_last)}};await $.execute(dt,null),await B.execute(dt,null),console.log("PARAMS THAT WERE USED ARE",F),new Le({id:"village_dropdown climatology_q_backend",source:T,target:Ke,postprocess:We({h:{"*":"d1",region:"value"}})}),new Le({id:"village_dropdown combined_payouts_q_backend",source:T,target:De,postprocess:We({h:{"*":"d1",region:"value"}})}),new Le({id:"village_dropdown crop_cal_q_backend",source:T,target:P,postprocess:We({h:{"*":"d1",region:"value"}})}),new Le({id:"village_dropdown bad_year_q_backend",source:T,target:G,postprocess:We({h:{"*":"d1",region:"value"}})}),new Le({id:"village_dropdown check_q_backend",source:T,target:Te,postprocess:We({h:{"*":"d1",region:"value"}})}),new Le({id:"village_dropdown matching_q_backend",source:T,target:et,postprocess:We({h:{"*":"d1",region:"value"}})}),new Le({id:"matching_options_dropdown matching_table_backend",source:S,target:ft,postprocess:We({h:{"*":"d2",func_elected:"value"}})}),new Le({id:"login defaults_q_backend",source:L,target:je,postprocess:We({h:{"*":"l1",region:"region"}})}),new Le({id:"login climatology_q_backend",source:L,target:Ke,postprocess:We({h:{"*":"l1",region:"region"}})}),new Le({id:"login crop_cal_q_backend",source:L,target:P,postprocess:We({h:{"*":"l1",region:"region"}})}),new Le({id:"login combined_payouts_q_backend",source:L,target:De,postprocess:We({h:{"*":"l1",region:"region",vegetation_first:"vegetation_first",vegetation_last:"vegetation_last",sum_early_first:"sum_early_first",sum_early_last:"sum_early_last",sum_late_first:"sum_late_first",sum_late_last:"sum_late_last"}})});let Yt={"*":"sum_early_slider",sum_early_first:"left",sum_early_last:"right"};new Le({id:"sum_early_slider combined_payouts_q_backend",source:_,target:De,postprocess:We({h:Yt})}),new Le({id:"sum_early_slider matching_q_backend",source:_,target:et,postprocess:We({h:Yt})}),new Le({id:"sum_early_slider check_q_backend",source:_,target:Te,postprocess:We({h:Yt})});let x={"*":"sum_late_slider",sum_late_first:"left",sum_late_last:"right"};new Le({id:"sum_late_slider combined_payouts_q_backend",source:w,target:De,postprocess:We({h:x})}),new Le({id:"sum_late_slider matching_q_backend",source:w,target:et,postprocess:We({h:x})}),new Le({id:"sum_late_slider check_q_backend",source:w,target:Te,postprocess:We({h:x})});let Q={"*":"vegetation_slider",vegetation_first:"left",vegetation_last:"right"};new Le({id:"vegetation_slider combined_payouts_q_backend",source:v,target:De,postprocess:We({h:Q})}),new Le({id:"vegetation_slider matching_q_backend",source:v,target:et,postprocess:We({h:Q})}),new Le({id:"vegetation_slider check_q_backend",source:v,target:Te,postprocess:We({h:Q})}),new Le({id:"sum_early_slider cropcal_overlay",source:_,target:B}),new Le({id:"sum_early_slider climatology_overlay",source:_,target:$}),new Le({id:"sum_late_slider cropcal_overlay",source:w,target:B}),new Le({id:"sum_late_slider climatology_overlay",source:w,target:$}),new Le({id:"vegetation_slider cropcal_overlay",source:v,target:B}),new Le({id:"vegetation_slider climatology_overlay",source:v,target:$})});function E(){n(0,c=window.innerWidth)}function I(F){Re[F?"unshift":"push"](()=>{y=F,n(6,y)})}function M(F){Re[F?"unshift":"push"](()=>{T=F,n(10,T)})}function N(F){Re[F?"unshift":"push"](()=>{O=F,n(13,O)})}function U(F){Re[F?"unshift":"push"](()=>{L=F,n(12,L)})}function K(F){Re[F?"unshift":"push"](()=>{v=F,n(7,v)})}function H(F){Re[F?"unshift":"push"](()=>{w=F,n(9,w)})}function J(F){Re[F?"unshift":"push"](()=>{_=F,n(8,_)})}function Z(F){Re[F?"unshift":"push"](()=>{m=F,n(4,m)})}function te(F){Re[F?"unshift":"push"](()=>{p=F,n(2,p)})}function ne(F){Re[F?"unshift":"push"](()=>{b=F,n(5,b)})}function Be(F){Re[F?"unshift":"push"](()=>{S=F,n(11,S)})}function ye(F){Re[F?"unshift":"push"](()=>{g=F,n(3,g)})}return[c,u,p,g,m,b,y,v,_,w,T,S,L,O,f,l,d,h,q,E,I,M,N,U,K,H,J,Z,te,ne,Be,ye]}class T5 extends vt{constructor(t){super(),Mt(this,t,p5,h5,St,{},null,[-1,-1])}}export{T5 as component,v5 as universal};
