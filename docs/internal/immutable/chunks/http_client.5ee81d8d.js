import{B as Io,S as We,i as Ve,U as K,s as He,g as ct,l as lt,m as ht,d as V,r as q,a as bt,v as ot,n as Lt,f as kr,Y as qu,Z as gp,k as Re,q as Be,_ as rt,Q as kt,R as Hn,e as Dt,$ as Ha,a0 as Ya,y as Kt,z as Jt,A as ke,I as Cf,a1 as ju,t as Hr,F as mp,b as na,C as pp,a2 as bp,j as Id,p as Ld,w as Fd,x as Od,V as Fn,a3 as yp,a4 as _p,a5 as wp,T as le,O as vp,a6 as Wu,c as Mp,a7 as Sp,P as Vu}from"./index.b89b4bd1.js";import{c as vt,n as Hu,o as Pd,_ as li,p as Rn,q as Xa,r as hr,k as vn,s as Es,t as xp,u as Rd,g as Dn,w as Cs,x as Tp,y as kp,h as Ap,z as Bd,j as It,A as Ep,C as Cp,D as $d,i as Ns,E as Np,F as ra,S as Yu,G as Dp,H as Nf,I as Df,R as Ga,J as If,K as Ud,L as Xu,N as Gu,P as Ip,T as Mn,U as Zu,V as Jr,W as Lp,X as Ku,Y as Zt,Z as Lf,$ as Fp,a0 as Ju,a1 as Op,a2 as ia,a3 as zd,a4 as aa,e as Ht,f as tn,l as Yt,a5 as Pp,m as Rp,d as Qu,a6 as Bp,a7 as $p}from"./index.7443dd84.js";import{w as ie}from"./paths.8f3d230d.js";import{_ as Up}from"./preload-helper.a4192956.js";var zp=vt(function(e,n){return Number(e)+Number(n)});function qd(t,e,n){return function(){for(var r=[],i=0,a=t,s=0;s<e.length||i<arguments.length;){var f;s<e.length&&(!Hu(e[s])||i>=arguments.length)?f=e[s]:(f=arguments[i],i+=1),r[s]=f,Hu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):Pd(a,qd(t,r,n))}}var gr=vt(function(e,n){return e===1?li(n):Pd(e,qd(e,[],n))});function qp(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var jp=vt(function(e,n){return n>e?n:e});function Zi(t,e){for(var n=0,r=e.length,i=Array(r);n<r;)i[n]=t(e[n]),n+=1;return i}var Wp=function(){function t(e,n){this.xf=n,this.f=e}return t.prototype["@@transducer/init"]=Rn.init,t.prototype["@@transducer/result"]=Rn.result,t.prototype["@@transducer/step"]=function(e,n){return this.xf["@@transducer/step"](e,this.f(n))},t}(),Vp=vt(function(e,n){return new Wp(e,n)}),Hp=vt(Xa(["fantasy-land/map","map"],Vp,function(e,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return gr(n.length,function(){return e.call(this,n.apply(this,arguments))});case"[object Object]":return hr(function(r,i){return r[i]=e(n[i]),r},{},vn(n));default:return Zi(e,n)}}));const Sn=Hp,Yp=Number.isInteger||function(e){return e<<0===e};var Xp=vt(function(e,n){var r=e<0?n.length+e:e;return Es(n)?n.charAt(r):n[r]});const jd=Xp;var Gp=vt(function(e,n){if(n!=null)return Yp(e)?jd(e,n):n[e]});const Ds=Gp;var Zp=vt(function(e,n){return Sn(Ds(e),n)});const Ff=Zp;var Kp=function(){function t(e,n){this.xf=n,this.f=e,this.any=!1}return t.prototype["@@transducer/init"]=Rn.init,t.prototype["@@transducer/result"]=function(e){return this.any||(e=this.xf["@@transducer/step"](e,!1)),this.xf["@@transducer/result"](e)},t.prototype["@@transducer/step"]=function(e,n){return this.f(n)&&(this.any=!0,e=qp(this.xf["@@transducer/step"](e,!0))),e},t}(),Jp=vt(function(e,n){return new Kp(e,n)}),Qp=vt(Xa(["any"],Jp,function(e,n){for(var r=0;r<n.length;){if(e(n[r]))return!0;r+=1}return!1}));const Wd=Qp;var tb=vt(function(e,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](e):typeof e.ap=="function"?e.ap(n):typeof e=="function"?function(r){return e(r)(n(r))}:hr(function(r,i){return xp(r,Sn(i,n))},[],e)}),eb=vt(function(e,n){return e.apply(this,n)});function tc(t,e){return Cs(e)?e.map(t):vn(e).reduce(function(n,r){return n[r]=t(e[r]),n},{})}var nb=li(function t(e){return e=tc(function(n){return typeof n=="function"?n:t(n)},e),gr(Rd(jp,0,Ff("length",Dn(e))),function(){var n=arguments;return tc(function(r){return eb(r,n)},e)})});const ec=nb;function Is(t){var e=Object.prototype.toString.call(t);return e==="[object Function]"||e==="[object AsyncFunction]"||e==="[object GeneratorFunction]"||e==="[object AsyncGeneratorFunction]"}var rb=vt(function(e,n){var r=gr(e,n);return gr(e,function(){return hr(tb,Sn(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),ib=li(function(e){return rb(e.length,e)});function ab(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var ob=function(t){return{"@@transducer/init":Rn.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,n){var r=t["@@transducer/step"](e,n);return r["@@transducer/reduced"]?ab(r):r}}},sb=function(e){var n=ob(e);return{"@@transducer/init":Rn.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return Tp(i)?hr(n,r,i):hr(n,r,[i])}}},fb=vt(function(e,n){return Sn(e,sb(n))}),ub=vt(Xa(["fantasy-land/chain","chain"],fb,function(e,n){return typeof n=="function"?function(r){return e(n(r))(r)}:kp(!1)(Sn(e,n))}));const Vd=ub;function Lo(t){var e=t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+e.replace(/"/g,'\\"')+'"'}var Lr=function(e){return(e<10?"0":"")+e},cb=typeof Date.prototype.toISOString=="function"?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+Lr(e.getUTCMonth()+1)+"-"+Lr(e.getUTCDate())+"T"+Lr(e.getUTCHours())+":"+Lr(e.getUTCMinutes())+":"+Lr(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function lb(t){return function(){return!t.apply(this,arguments)}}var db=vt(function(e,n){return Ap(lb(e),n)});const hb=db;function Hd(t,e){var n=function(s){var f=e.concat([t]);return Bd(s,f)?"<Circular>":Hd(s,f)},r=function(a,s){return Zi(function(f){return Lo(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+Zi(n,t).join(", ")+"))";case"[object Array]":return"["+Zi(n,t).concat(r(t,hb(function(a){return/^\d+$/.test(a)},vn(t)))).join(", ")+"]";case"[object Boolean]":return typeof t=="object"?"new Boolean("+n(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?n(NaN):Lo(cb(t)))+")";case"[object Null]":return"null";case"[object Number]":return typeof t=="object"?"new Number("+n(t.valueOf())+")":1/t===-1/0?"-0":t.toString(10);case"[object String]":return typeof t=="object"?"new String("+n(t.valueOf())+")":Lo(t);case"[object Undefined]":return"undefined";default:if(typeof t.toString=="function"){var i=t.toString();if(i!=="[object Object]")return i}return"{"+r(t,vn(t)).join(", ")+"}"}}var Fo=li(function(e){return Hd(e,[])}),gb=vt(function(e,n){if(Cs(e)){if(Cs(n))return e.concat(n);throw new TypeError(Fo(n)+" is not an array")}if(Es(e)){if(Es(n))return e+n;throw new TypeError(Fo(n)+" is not a string")}if(e!=null&&Is(e["fantasy-land/concat"]))return e["fantasy-land/concat"](n);if(e!=null&&Is(e.concat))return e.concat(n);throw new TypeError(Fo(e)+' does not have a method named "concat" or "fantasy-land/concat"')});const oa=gb;var mb=jd(-1);const Oo=mb;var pb=vt(function(e,n){return e||n}),bb=vt(function(e,n){return Is(e)?function(){return e.apply(this,arguments)||n.apply(this,arguments)}:ib(pb)(e,n)});const yb=bb;var _b=li(function(e){return gr(e.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,e.apply(this,i)})}),wb=vt(function(e,n){if(e.length===0||It(n))return!1;for(var r=n,i=0;i<e.length;)if(!It(r)&&Ep(e[i],r))r=r[e[i]],i+=1;else return!1;return!0}),vb=vt(function(e,n){return wb([e],n)});const sa=vb;var Mb=Cp(function(e,n,r){return gr(Math.max(e.length,n.length,r.length),function(){return e.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const nc=Mb;var Sb=function(){function t(e,n){this.xf=n,this.f=e,this.set=new $d}return t.prototype["@@transducer/init"]=Rn.init,t.prototype["@@transducer/result"]=Rn.result,t.prototype["@@transducer/step"]=function(e,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](e,n):e},t}(),xb=vt(function(e,n){return new Sb(e,n)}),Tb=vt(Xa([],xb,function(t,e){for(var n=new $d,r=[],i=0,a,s;i<e.length;)s=e[i],a=t(s),n.add(a)&&r.push(s),i+=1;return r})),kb=Tb(Ns),Ab=vt(function(e,n){var r,i;return e.length>n.length?(r=e,i=n):(r=n,i=e),kb(Np(_b(Bd)(r),i))});const Eb=Ab;var Cb=vt(function(e,n){return hr(function(r,i){return r[i]=e(n[i],i,n),r},{},vn(n))});const Nb=Cb;var Db=Rd(zp,0);const Ib=Db;var Lb=vt(function(e,n){for(var r={},i=0;i<e.length;)e[i]in n&&(r[e[i]]=n[e[i]]),i+=1;return r});const Fb=Lb;var Ob=vt(function(e,n){return Array.prototype.slice.call(n,0).sort(e)});const Pb=Ob;var Rb=vt(function(e,n){return oa(ra(e,n),ra(n,e))});const Bb=Rb;function Qt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function di(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Za(t){let e,n,r;t.length!==2?(e=Qt,n=(f,u)=>Qt(t(f),u),r=(f,u)=>t(f)-u):(e=t===Qt||t===di?t:$b,n=t,r=t);function i(f,u,c=0,l=f.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(f[h],u)<0?c=h+1:l=h}while(c<l)}return c}function a(f,u,c=0,l=f.length){if(c<l){if(e(u,u)!==0)return l;do{const h=c+l>>>1;n(f[h],u)<=0?c=h+1:l=h}while(c<l)}return c}function s(f,u,c=0,l=f.length){const h=i(f,u,c,l-1);return h>c&&r(f[h-1],u)>-r(f[h],u)?h-1:h}return{left:i,center:s,right:a}}function $b(){return 0}function Yd(t){return t===null?NaN:+t}function*Ub(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const zb=Za(Qt),qb=zb.right;Za(Yd).center;const Of=qb;function jb(t){return t.length|0}function Wb(t){return!(t>0)}function Vb(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Hb(t){return e=>t(...e)}function Yb(...t){const e=typeof t[t.length-1]=="function"&&Hb(t.pop());t=t.map(Vb);const n=t.map(jb),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Wb))return a;for(;;){a.push(i.map((f,u)=>t[u][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return e?a.map(e):a;i[s--]=0}}}function Xb(t,e){var n=0,r=0;return Float64Array.from(t,e===void 0?i=>n+=+i||0:i=>n+=+e(i,r++,t)||0)}function Xd(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let s of t)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of t)(f=e(f,++s,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function Gb(t,e){const n=Xd(t,e);return n&&Math.sqrt(n)}function _n(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Bn{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=e+a,f=Math.abs(e)<Math.abs(a)?e-(s-a):a-(s-e);f&&(n[r++]=f),e=s}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=e[--n];n>0&&(r=s,i=e[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class $n extends Map{constructor(e,n=Kd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ls(this,e))}has(e){return super.has(Ls(this,e))}set(e,n){return super.set(Gd(this,e),n)}delete(e){return super.delete(Zd(this,e))}}class Ka extends Set{constructor(e,n=Kd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Ls(this,e))}add(e){return super.add(Gd(this,e))}delete(e){return super.delete(Zd(this,e))}}function Ls({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Gd({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zd({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fs(t){return t}function Pf(t,...e){return Rf(t,Fs,Fs,e)}function Yr(t,e,...n){return Rf(t,Fs,e,n)}function Zb(t,e,...n){return Rf(t,Array.from,e,n)}function Rf(t,e,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new $n,u=r[s++];let c=-1;for(const l of a){const h=u(l,++c,a),d=f.get(h);d?d.push(l):f.set(h,[l])}for(const[l,h]of f)f.set(l,i(h,s));return e(f)}(t,0)}function Kb(t,e){return Array.from(e,n=>t[n])}function Os(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const s of e){const f=fa(s[i],s[a]);if(f)return f}})):(n=t.map(n),r.sort((i,a)=>fa(n[i],n[a]))),Kb(t,r)}return t.sort(Jd(n))}function Jd(t=Qt){if(t===Qt)return fa;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function fa(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Bf(t,e,n){return(e.length!==2?Os(Yr(t,e,n),([r,i],[a,s])=>Qt(i,s)||Qt(r,a)):Os(Pf(t,n),([r,i],[a,s])=>e(i,s)||Qt(r,a))).map(([r])=>r)}const Jb=Math.sqrt(50),Qb=Math.sqrt(10),t2=Math.sqrt(2);function ua(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Jb?10:a>=Qb?5:a>=t2?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/s,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*s,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=n&&n<2?ua(t,e,n*2):[f,u,c]}function ca(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?ua(e,t,n):ua(t,e,n);if(!(a>=i))return[];const f=a-i+1,u=new Array(f);if(r)if(s<0)for(let c=0;c<f;++c)u[c]=(a-c)/-s;else for(let c=0;c<f;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<f;++c)u[c]=(i+c)/-s;else for(let c=0;c<f;++c)u[c]=(i+c)*s;return u}function Ps(t,e,n){return e=+e,t=+t,n=+n,ua(t,e,n)[2]}function Rs(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ps(e,t,n):Ps(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ae(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function e2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Ue(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function n2(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Qd(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?fa:Jd(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,l=Math.log(u),h=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*h*(u-h)/u)*(c-u/2<0?-1:1),g=Math.max(n,Math.floor(e-c*h/u+d)),p=Math.min(r,Math.floor(e+(u-c)*h/u+d));Qd(t,e,g,p,i)}const a=t[e];let s=n,f=r;for(Fr(t,n,e),i(t[r],a)>0&&Fr(t,n,r);s<f;){for(Fr(t,s,f),++s,--f;i(t[s],a)<0;)++s;for(;i(t[f],a)>0;)--f}i(t[n],a)===0?Fr(t,n,f):(++f,Fr(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Fr(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function th(t,e=Qt){let n,r=!1;if(e.length===1){let i;for(const a of t){const s=e(a);(r?Qt(s,i)>0:Qt(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function la(t,e,n){if(t=Float64Array.from(Ub(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Ue(t);if(e>=1)return ae(t);var r,i=(r-1)*e,a=Math.floor(i),s=ae(Qd(t,a).subarray(0,a+1)),f=Ue(t.subarray(a+1));return s+(f-s)*(i-a)}}function r2(t,e,n=Yd){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),f=+n(t[a+1],a+1,t);return s+(f-s)*(i-a)}}function i2(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Bs(t,e){return la(t,.5,e)}function*a2(t){for(const e of t)yield*e}function eh(t){return Array.from(a2(t))}function o2(t,e){const n=new $n;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of t)(s=e(s,++a,t))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function s2(t,e=f2){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function f2(t,e){return[t,e]}function $s(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function Un(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function da(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function u2(t){return t}var Po=1,Ro=2,Us=3,Oi=4,rc=1e-6;function c2(t){return"translate("+t+",0)"}function l2(t){return"translate(0,"+t+")"}function d2(t){return e=>+t(e)}function h2(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function g2(){return!this.__axis}function m2(t,e){var n=[],r=null,i=null,a=6,s=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===Po||t===Oi?-1:1,l=t===Oi||t===Ro?"x":"y",h=t===Po||t===Us?c2:l2;function d(g){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):u2),b=Math.max(a,0)+f,y=e.range(),_=+y[0]+u,v=+y[y.length-1]+u,w=(e.bandwidth?h2:d2)(e.copy(),u),M=g.selection?g.selection():g,S=M.selectAll(".domain").data([null]),T=M.selectAll(".tick").data(p,e).order(),A=T.exit(),N=T.enter().append("g").attr("class","tick"),k=T.select("line"),x=T.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),T=T.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(l+"2",c*a)),x=x.merge(N.append("text").attr("fill","currentColor").attr(l,c*b).attr("dy",t===Po?"0em":t===Us?"0.71em":"0.32em")),g!==M&&(S=S.transition(g),T=T.transition(g),k=k.transition(g),x=x.transition(g),A=A.transition(g).attr("opacity",rc).attr("transform",function(L){return isFinite(L=w(L))?h(L+u):this.getAttribute("transform")}),N.attr("opacity",rc).attr("transform",function(L){var I=this.parentNode.__axis;return h((I&&isFinite(I=I(L))?I:w(L))+u)})),A.remove(),S.attr("d",t===Oi||t===Ro?s?"M"+c*s+","+_+"H"+u+"V"+v+"H"+c*s:"M"+u+","+_+"V"+v:s?"M"+_+","+c*s+"V"+u+"H"+v+"V"+c*s:"M"+_+","+u+"H"+v),T.attr("opacity",1).attr("transform",function(L){return h(w(L)+u)}),k.attr(l+"2",c*a),x.attr(l,c*b).text(m),M.filter(g2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Ro?"start":t===Oi?"end":"middle"),M.each(function(){this.__axis=w})}return d.scale=function(g){return arguments.length?(e=g,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),d):n.slice()},d.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),d):r&&r.slice()},d.tickFormat=function(g){return arguments.length?(i=g,d):i},d.tickSize=function(g){return arguments.length?(a=s=+g,d):a},d.tickSizeInner=function(g){return arguments.length?(a=+g,d):a},d.tickSizeOuter=function(g){return arguments.length?(s=+g,d):s},d.tickPadding=function(g){return arguments.length?(f=+g,d):f},d.offset=function(g){return arguments.length?(u=+g,d):u},d}function p2(t){return m2(Us,t)}function Xt(t){return typeof t=="string"?new Yu([[document.querySelector(t)]],[document.documentElement]):new Yu([[t]],Dp)}function b2(t){let e;for(;e=t.sourceEvent;)t=e;return t}function zs(t,e){if(t=b2(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const qs={capture:!0,passive:!1};function js(t){t.preventDefault(),t.stopImmediatePropagation()}function y2(t){var e=t.document.documentElement,n=Xt(t).on("dragstart.drag",js,qs);"onselectstart"in e?n.on("selectstart.drag",js,qs):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function _2(t,e){var n=t.document.documentElement,r=Xt(t).on("dragstart.drag",null);e&&(r.on("click.drag",js,qs),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const nh=Math.PI/180,rh=180/Math.PI,ha=18,ih=.96422,ah=1,oh=.82521,sh=4/29,cr=6/29,fh=3*cr*cr,w2=cr*cr*cr;function uh(t){if(t instanceof $e)return new $e(t.l,t.a,t.b,t.opacity);if(t instanceof nn)return ch(t);t instanceof Ga||(t=Ud(t));var e=zo(t.r),n=zo(t.g),r=zo(t.b),i=Bo((.2225045*e+.7168786*n+.0606169*r)/ah),a,s;return e===n&&n===r?a=s=i:(a=Bo((.4360747*e+.3850649*n+.1430804*r)/ih),s=Bo((.0139322*e+.0971045*n+.7141733*r)/oh)),new $e(116*i-16,500*(a-i),200*(i-s),t.opacity)}function Ws(t,e,n,r){return arguments.length===1?uh(t):new $e(t,e,n,r??1)}function $e(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Nf($e,Ws,Df(If,{brighter(t){return new $e(this.l+ha*(t??1),this.a,this.b,this.opacity)},darker(t){return new $e(this.l-ha*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=ih*$o(e),t=ah*$o(t),n=oh*$o(n),new Ga(Uo(3.1338561*e-1.6168667*t-.4906146*n),Uo(-.9787684*e+1.9161415*t+.033454*n),Uo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Bo(t){return t>w2?Math.pow(t,1/3):t/fh+sh}function $o(t){return t>cr?t*t*t:fh*(t-sh)}function Uo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function zo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function v2(t){if(t instanceof nn)return new nn(t.h,t.c,t.l,t.opacity);if(t instanceof $e||(t=uh(t)),t.a===0&&t.b===0)return new nn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*rh;return new nn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ga(t,e,n,r){return arguments.length===1?v2(t):new nn(t,e,n,r??1)}function nn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ch(t){if(isNaN(t.h))return new $e(t.l,0,0,t.opacity);var e=t.h*nh;return new $e(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Nf(nn,ga,Df(If,{brighter(t){return new nn(this.h,this.c,this.l+ha*(t??1),this.opacity)},darker(t){return new nn(this.h,this.c,this.l-ha*(t??1),this.opacity)},rgb(){return ch(this).rgb()}}));var lh=-.14861,$f=1.78277,Uf=-.29227,Ja=-.90649,Qr=1.97294,ic=Qr*Ja,ac=Qr*$f,oc=$f*Uf-Ja*lh;function M2(t){if(t instanceof On)return new On(t.h,t.s,t.l,t.opacity);t instanceof Ga||(t=Ud(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(oc*r+ic*e-ac*n)/(oc+ic-ac),a=r-i,s=(Qr*(n-i)-Uf*a)/Ja,f=Math.sqrt(s*s+a*a)/(Qr*i*(1-i)),u=f?Math.atan2(s,a)*rh-120:NaN;return new On(u<0?u+360:u,f,i,t.opacity)}function ze(t,e,n,r){return arguments.length===1?M2(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Nf(On,ze,Df(If,{brighter(t){return t=t==null?Xu:Math.pow(Xu,t),new On(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gu:Math.pow(Gu,t),new On(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*nh,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Ga(255*(e+n*(lh*r+$f*i)),255*(e+n*(Uf*r+Ja*i)),255*(e+n*(Qr*r)),this.opacity)}}));function S2(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function x2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function T2(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Ar(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function k2(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function A2(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ar(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function Ar(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ip(e):(n==="number"?Mn:n==="string"?(r=Zu(e))?(e=r,Jr):Lp:e instanceof Zu?Jr:e instanceof Date?k2:x2(e)?S2:Array.isArray(e)?T2:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?A2:Mn)(t,e)}function zf(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function E2(t){return function(e,n){var r=t((e=Ku(e)).h,(n=Ku(n)).h),i=Zt(e.s,n.s),a=Zt(e.l,n.l),s=Zt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=a(f),e.opacity=s(f),e+""}}}const C2=E2(Lf);function N2(t,e){var n=Zt((t=Ws(t)).l,(e=Ws(e)).l),r=Zt(t.a,e.a),i=Zt(t.b,e.b),a=Zt(t.opacity,e.opacity);return function(s){return t.l=n(s),t.a=r(s),t.b=i(s),t.opacity=a(s),t+""}}function D2(t){return function(e,n){var r=t((e=ga(e)).h,(n=ga(n)).h),i=Zt(e.c,n.c),a=Zt(e.l,n.l),s=Zt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=a(f),e.opacity=s(f),e+""}}}const I2=D2(Lf);function dh(t){return function e(n){n=+n;function r(i,a){var s=t((i=ze(i)).h,(a=ze(a)).h),f=Zt(i.s,a.s),u=Zt(i.l,a.l),c=Zt(i.opacity,a.opacity);return function(l){return i.h=s(l),i.s=f(l),i.l=u(Math.pow(l,n)),i.opacity=c(l),i+""}}return r.gamma=e,r}(1)}dh(Lf);var qf=dh(Zt);function Qa(t,e){e===void 0&&(e=t,t=Ar);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function Se(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}const qo=t=>()=>t;function L2(t,{sourceEvent:e,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function F2(t){t.stopImmediatePropagation()}function jo(t){t.preventDefault(),t.stopImmediatePropagation()}var sc={name:"drag"},Wo={name:"space"},Qn={name:"handle"},tr={name:"center"};const{abs:fc,max:zt,min:qt}=Math;function uc(t){return[+t[0],+t[1]]}function cc(t){return[uc(t[0]),uc(t[1])]}var Ki={name:"x",handles:["w","e"].map(ma),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Vo={name:"y",handles:["n","s"].map(ma),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ge={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},lc={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},dc={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},O2={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},P2={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ma(t){return{type:t}}function R2(t){return!t.ctrlKey&&!t.button}function B2(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function $2(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ho(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function U2(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function z2(){return q2(Ki)}function q2(t){var e=B2,n=R2,r=$2,i=!0,a=Fp("start","brush","end"),s=6,f;function u(b){var y=b.property("__brush",m).selectAll(".overlay").data([ma("overlay")]);y.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ge.overlay).merge(y).each(function(){var v=Ho(this).extent;Xt(this).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1])}),b.selectAll(".selection").data([ma("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ge.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var _=b.selectAll(".handle").data(t.handles,function(v){return v.type});_.exit().remove(),_.enter().append("rect").attr("class",function(v){return"handle handle--"+v.type}).attr("cursor",function(v){return Ge[v.type]}),b.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",g).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}u.move=function(b,y,_){b.tween?b.on("start.brush",function(v){l(this,arguments).beforestart().start(v)}).on("interrupt.brush end.brush",function(v){l(this,arguments).end(v)}).tween("brush",function(){var v=this,w=v.__brush,M=l(v,arguments),S=w.selection,T=t.input(typeof y=="function"?y.apply(this,arguments):y,w.extent),A=Ar(S,T);function N(k){w.selection=k===1&&T===null?null:A(k),c.call(v),M.brush()}return S!==null&&T!==null?N:N(1)}):b.each(function(){var v=this,w=arguments,M=v.__brush,S=t.input(typeof y=="function"?y.apply(v,w):y,M.extent),T=l(v,w).beforestart();Ju(v),M.selection=S===null?null:S,c.call(v),T.start(_).brush(_).end(_)})},u.clear=function(b,y){u.move(b,null,y)};function c(){var b=Xt(this),y=Ho(this).selection;y?(b.selectAll(".selection").style("display",null).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(_){return _.type[_.type.length-1]==="e"?y[1][0]-s/2:y[0][0]-s/2}).attr("y",function(_){return _.type[0]==="s"?y[1][1]-s/2:y[0][1]-s/2}).attr("width",function(_){return _.type==="n"||_.type==="s"?y[1][0]-y[0][0]+s:s}).attr("height",function(_){return _.type==="e"||_.type==="w"?y[1][1]-y[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,y,_){var v=b.__brush.emitter;return v&&(!_||!v.clean)?v:new h(b,y,_)}function h(b,y,_){this.that=b,this.args=y,this.state=b.__brush,this.active=0,this.clean=_}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,y){return this.starting?(this.starting=!1,this.emit("start",b,y)):this.emit("brush",b),this},brush:function(b,y){return this.emit("brush",b,y),this},end:function(b,y){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,y)),this},emit:function(b,y,_){var v=Xt(this.that).datum();a.call(b,this.that,new L2(b,{sourceEvent:y,target:u,selection:t.output(this.state.selection),mode:_,dispatch:a}),v)}};function d(b){if(f&&!b.touches||!n.apply(this,arguments))return;var y=this,_=b.target.__data__.type,v=(i&&b.metaKey?_="overlay":_)==="selection"?sc:i&&b.altKey?tr:Qn,w=t===Vo?null:O2[_],M=t===Ki?null:P2[_],S=Ho(y),T=S.extent,A=S.selection,N=T[0][0],k,x,L=T[0][1],I,R,E=T[1][0],P,H,Z=T[1][1],Y,B,U=0,$=0,j,D=w&&M&&i&&b.shiftKey,tt,et,z=Array.from(b.touches||[b],G=>{const wt=G.identifier;return G=zs(G,y),G.point0=G.slice(),G.identifier=wt,G});Ju(y);var Q=l(y,arguments,!0).beforestart();if(_==="overlay"){A&&(j=!0);const G=[z[0],z[1]||z[0]];S.selection=A=[[k=t===Vo?N:qt(G[0][0],G[1][0]),I=t===Ki?L:qt(G[0][1],G[1][1])],[P=t===Vo?E:zt(G[0][0],G[1][0]),Y=t===Ki?Z:zt(G[0][1],G[1][1])]],z.length>1&&mt(b)}else k=A[0][0],I=A[0][1],P=A[1][0],Y=A[1][1];x=k,R=I,H=P,B=Y;var O=Xt(y).attr("pointer-events","none"),W=O.selectAll(".overlay").attr("cursor",Ge[_]);if(b.touches)Q.moved=F,Q.ended=nt;else{var X=Xt(b.view).on("mousemove.brush",F,!0).on("mouseup.brush",nt,!0);i&&X.on("keydown.brush",yt,!0).on("keyup.brush",Mt,!0),y2(b.view)}c.call(y),Q.start(b,v.name);function F(G){for(const wt of G.changedTouches||[G])for(const ne of z)ne.identifier===wt.identifier&&(ne.cur=zs(wt,y));if(D&&!tt&&!et&&z.length===1){const wt=z[0];fc(wt.cur[0]-wt[0])>fc(wt.cur[1]-wt[1])?et=!0:tt=!0}for(const wt of z)wt.cur&&(wt[0]=wt.cur[0],wt[1]=wt.cur[1]);j=!0,jo(G),mt(G)}function mt(G){const wt=z[0],ne=wt.point0;var De;switch(U=wt[0]-ne[0],$=wt[1]-ne[1],v){case Wo:case sc:{w&&(U=zt(N-k,qt(E-P,U)),x=k+U,H=P+U),M&&($=zt(L-I,qt(Z-Y,$)),R=I+$,B=Y+$);break}case Qn:{z[1]?(w&&(x=zt(N,qt(E,z[0][0])),H=zt(N,qt(E,z[1][0])),w=1),M&&(R=zt(L,qt(Z,z[0][1])),B=zt(L,qt(Z,z[1][1])),M=1)):(w<0?(U=zt(N-k,qt(E-k,U)),x=k+U,H=P):w>0&&(U=zt(N-P,qt(E-P,U)),x=k,H=P+U),M<0?($=zt(L-I,qt(Z-I,$)),R=I+$,B=Y):M>0&&($=zt(L-Y,qt(Z-Y,$)),R=I,B=Y+$));break}case tr:{w&&(x=zt(N,qt(E,k-U*w)),H=zt(N,qt(E,P+U*w))),M&&(R=zt(L,qt(Z,I-$*M)),B=zt(L,qt(Z,Y+$*M)));break}}H<x&&(w*=-1,De=k,k=P,P=De,De=x,x=H,H=De,_ in lc&&W.attr("cursor",Ge[_=lc[_]])),B<R&&(M*=-1,De=I,I=Y,Y=De,De=R,R=B,B=De,_ in dc&&W.attr("cursor",Ge[_=dc[_]])),S.selection&&(A=S.selection),tt&&(x=A[0][0],H=A[1][0]),et&&(R=A[0][1],B=A[1][1]),(A[0][0]!==x||A[0][1]!==R||A[1][0]!==H||A[1][1]!==B)&&(S.selection=[[x,R],[H,B]],c.call(y),Q.brush(G,v.name))}function nt(G){if(F2(G),G.touches){if(G.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else _2(G.view,j),X.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);O.attr("pointer-events","all"),W.attr("cursor",Ge.overlay),S.selection&&(A=S.selection),U2(A)&&(S.selection=null,c.call(y)),Q.end(G,v.name)}function yt(G){switch(G.keyCode){case 16:{D=w&&M;break}case 18:{v===Qn&&(w&&(P=H-U*w,k=x+U*w),M&&(Y=B-$*M,I=R+$*M),v=tr,mt(G));break}case 32:{(v===Qn||v===tr)&&(w<0?P=H-U:w>0&&(k=x-U),M<0?Y=B-$:M>0&&(I=R-$),v=Wo,W.attr("cursor",Ge.selection),mt(G));break}default:return}jo(G)}function Mt(G){switch(G.keyCode){case 16:{D&&(tt=et=D=!1,mt(G));break}case 18:{v===tr&&(w<0?P=H:w>0&&(k=x),M<0?Y=B:M>0&&(I=R),v=Qn,mt(G));break}case 32:{v===Wo&&(G.altKey?(w&&(P=H-U*w,k=x+U*w),M&&(Y=B-$*M,I=R+$*M),v=tr):(w<0?P=H:w>0&&(k=x),M<0?Y=B:M>0&&(I=R),v=Qn),W.attr("cursor",Ge[_]),mt(G));break}default:return}jo(G)}}function g(b){l(this,arguments).moved(b)}function p(b){l(this,arguments).ended(b)}function m(){var b=this.__brush||{selection:null};return b.extent=cc(e.apply(this,arguments)),b.dim=t,b}return u.extent=function(b){return arguments.length?(e=typeof b=="function"?b:qo(cc(b)),u):e},u.filter=function(b){return arguments.length?(n=typeof b=="function"?b:qo(!!b),u):n},u.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:qo(!!b),u):r},u.handleSize=function(b){return arguments.length?(s=+b,u):s},u.keyModifiers=function(b){return arguments.length?(i=!!b,u):i},u.on=function(){var b=a.on.apply(a,arguments);return b===a?u:b},u}const Vs=Math.PI,Hs=2*Vs,Nn=1e-6,j2=Hs-Nn;function hh(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function W2(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hh;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hh:W2(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,u=r-e,c=i-n,l=s-e,h=f-n,d=l*l+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>Nn)if(!(Math.abs(h*u-c*l)>Nn)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,p=i-f,m=u*u+c*c,b=g*g+p*p,y=Math.sqrt(m),_=Math.sqrt(d),v=a*Math.tan((Vs-Math.acos((m+d-b)/(2*y*_)))/2),w=v/_,M=v/y;Math.abs(w-1)>Nn&&this._append`L${e+w*l},${n+w*h}`,this._append`A${a},${a},0,0,${+(h*g>l*p)},${this._x1=e+M*u},${this._y1=n+M*c}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=e+f,l=n+u,h=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Nn||Math.abs(this._y1-l)>Nn)&&this._append`L${c},${l}`,r&&(d<0&&(d=d%Hs+Hs),d>j2?this._append`A${r},${r},0,1,${h},${e-f},${n-u}A${r},${r},0,1,${h},${this._x1=c},${this._y1=l}`:d>Nn&&this._append`A${r},${r},0,${+(d>=Vs)},${h},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function gn(t=3){return new gh(+t)}function V2(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function pa(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function mr(t){return t=pa(Math.abs(t)),t?t[1]:NaN}function H2(t,e){return function(n,r){for(var i=n.length,a=[],s=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),a.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[s=(s+1)%t.length];return a.reverse().join(e)}}function Y2(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var X2=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(t){if(!(e=X2.exec(t)))throw new Error("invalid format: "+t);var e;return new jf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ti.prototype=jf.prototype;function jf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}jf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G2(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mh;function Z2(t,e){var n=pa(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(mh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pa(t,Math.max(0,e+a-1))[0]}function hc(t,e){var n=pa(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gc={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:V2,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>hc(t*100,e),r:hc,s:Z2,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function mc(t){return t}var pc=Array.prototype.map,bc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function K2(t){var e=t.grouping===void 0||t.thousands===void 0?mc:H2(pc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?mc:Y2(pc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(h){h=ti(h);var d=h.fill,g=h.align,p=h.sign,m=h.symbol,b=h.zero,y=h.width,_=h.comma,v=h.precision,w=h.trim,M=h.type;M==="n"?(_=!0,M="g"):gc[M]||(v===void 0&&(v=12),w=!0,M="g"),(b||d==="0"&&g==="=")&&(b=!0,d="0",g="=");var S=m==="$"?n:m==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",T=m==="$"?r:/[%p]/.test(M)?s:"",A=gc[M],N=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(x){var L=S,I=T,R,E,P;if(M==="c")I=A(x)+I,x="";else{x=+x;var H=x<0||1/x<0;if(x=isNaN(x)?u:A(Math.abs(x),v),w&&(x=G2(x)),H&&+x==0&&p!=="+"&&(H=!1),L=(H?p==="("?p:f:p==="-"||p==="("?"":p)+L,I=(M==="s"?bc[8+mh/3]:"")+I+(H&&p==="("?")":""),N){for(R=-1,E=x.length;++R<E;)if(P=x.charCodeAt(R),48>P||P>57){I=(P===46?i+x.slice(R+1):x.slice(R))+I,x=x.slice(0,R);break}}}_&&!b&&(x=e(x,1/0));var Z=L.length+x.length+I.length,Y=Z<y?new Array(y-Z+1).join(d):"";switch(_&&b&&(x=e(Y+x,Y.length?y-I.length:1/0),Y=""),g){case"<":x=L+x+I+Y;break;case"=":x=L+Y+x+I;break;case"^":x=Y.slice(0,Z=Y.length>>1)+L+x+I+Y.slice(Z);break;default:x=Y+L+x+I;break}return a(x)}return k.toString=function(){return h+""},k}function l(h,d){var g=c((h=ti(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(mr(d)/3)))*3,m=Math.pow(10,-p),b=bc[8+p/3];return function(y){return g(m*y)+b}}return{format:c,formatPrefix:l}}var Pi,Er,ph;J2({thousands:",",grouping:[3],currency:["$",""]});function J2(t){return Pi=K2(t),Er=Pi.format,ph=Pi.formatPrefix,Pi}function Q2(t){return Math.max(0,-mr(Math.abs(t)))}function ty(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mr(e)/3)))*3-mr(Math.abs(t)))}function ey(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mr(e)-mr(t))+1}var ut=1e-6,bh=1e-12,gt=Math.PI,Nt=gt/2,yc=gt/4,oe=gt*2,jt=180/gt,Ct=gt/180,_t=Math.abs,Cr=Math.atan,on=Math.atan2,dt=Math.cos,yh=Math.exp,ba=Math.log,Yo=Math.pow,st=Math.sin,de=Math.sign||function(t){return t>0?1:t<0?-1:0},te=Math.sqrt,Wf=Math.tan;function _h(t){return t>1?0:t<-1?gt:Math.acos(t)}function be(t){return t>1?Nt:t<-1?-Nt:Math.asin(t)}function he(){}function ya(t,e){t&&wc.hasOwnProperty(t.type)&&wc[t.type](t,e)}var _c={Feature:function(t,e){ya(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)ya(n[r].geometry,e)}},wc={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ys(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ys(n[r],e,0)},Polygon:function(t,e){vc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vc(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)ya(n[r],e)}};function Ys(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function vc(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ys(t[n],e,1);e.polygonEnd()}function In(t,e){t&&_c.hasOwnProperty(t.type)?_c[t.type](t,e):ya(t,e)}function Xs(t){return[on(t[1],t[0]),be(t[2])]}function pr(t){var e=t[0],n=t[1],r=dt(n);return[r*dt(e),r*st(e),st(n)]}function Ri(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _a(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Xo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Bi(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Gs(t){var e=te(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Zs(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Ks(t,e){return _t(t)>gt&&(t-=Math.round(t/oe)*oe),[t,e]}Ks.invert=Ks;function wh(t,e,n){return(t%=oe)?e||n?Zs(Sc(t),xc(e,n)):Sc(t):e||n?xc(e,n):Ks}function Mc(t){return function(e,n){return e+=t,_t(e)>gt&&(e-=Math.round(e/oe)*oe),[e,n]}}function Sc(t){var e=Mc(t);return e.invert=Mc(-t),e}function xc(t,e){var n=dt(t),r=st(t),i=dt(e),a=st(e);function s(f,u){var c=dt(u),l=dt(f)*c,h=st(f)*c,d=st(u),g=d*n+l*r;return[on(h*i-g*a,l*n-d*r),be(g*i+h*a)]}return s.invert=function(f,u){var c=dt(u),l=dt(f)*c,h=st(f)*c,d=st(u),g=d*i-h*a;return[on(h*i+d*a,l*n+g*r),be(g*n-l*r)]},s}function ny(t){t=wh(t[0]*Ct,t[1]*Ct,t.length>2?t[2]*Ct:0);function e(n){return n=t(n[0]*Ct,n[1]*Ct),n[0]*=jt,n[1]*=jt,n}return e.invert=function(n){return n=t.invert(n[0]*Ct,n[1]*Ct),n[0]*=jt,n[1]*=jt,n},e}function ry(t,e,n,r,i,a){if(n){var s=dt(e),f=st(e),u=r*n;i==null?(i=e+r*oe,a=e-u/2):(i=Tc(s,i),a=Tc(s,a),(r>0?i<a:i>a)&&(i+=r*oe));for(var c,l=i;r>0?l>a:l<a;l-=u)c=Xs([s,-f*dt(l),-f*st(l)]),t.point(c[0],c[1])}}function Tc(t,e){e=pr(e),e[0]-=t,Gs(e);var n=_h(-e[1]);return((-e[2]<0?-n:n)+oe-ut)%oe}function vh(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:he,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ji(t,e){return _t(t[0]-e[0])<ut&&_t(t[1]-e[1])<ut}function $i(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Mh(t,e,n,r,i){var a=[],s=[],f,u;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,b=p[0],y=p[m],_;if(Ji(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((b=p[f])[0],b[1]);i.lineEnd();return}y[0]+=2*ut}a.push(_=new $i(b,p,null,!0)),s.push(_.o=new $i(b,null,_,!1)),a.push(_=new $i(y,p,null,!1)),s.push(_.o=new $i(y,null,_,!0))}}),!!a.length){for(s.sort(e),kc(a),kc(s),f=0,u=s.length;f<u;++f)s[f].e=n=!n;for(var c=a[0],l,h;;){for(var d=c,g=!0;d.v;)if((d=d.n)===c)return;l=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(g)for(f=0,u=l.length;f<u;++f)i.point((h=l[f])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(g)for(l=d.p.z,f=l.length-1;f>=0;--f)i.point((h=l[f])[0],h[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,l=d.z,g=!g}while(!d.v);i.lineEnd()}}}function kc(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Go(t){return _t(t[0])<=gt?t[0]:de(t[0])*((_t(t[0])+gt)%oe-gt)}function iy(t,e){var n=Go(e),r=e[1],i=st(r),a=[st(n),-dt(n),0],s=0,f=0,u=new Bn;i===1?r=Nt+ut:i===-1&&(r=-Nt-ut);for(var c=0,l=t.length;c<l;++c)if(d=(h=t[c]).length)for(var h,d,g=h[d-1],p=Go(g),m=g[1]/2+yc,b=st(m),y=dt(m),_=0;_<d;++_,p=w,b=S,y=T,g=v){var v=h[_],w=Go(v),M=v[1]/2+yc,S=st(M),T=dt(M),A=w-p,N=A>=0?1:-1,k=N*A,x=k>gt,L=b*S;if(u.add(on(L*N*st(k),y*T+L*dt(k))),s+=x?A+N*oe:A,x^p>=n^w>=n){var I=_a(pr(g),pr(v));Gs(I);var R=_a(a,I);Gs(R);var E=(x^A>=0?-1:1)*be(R[2]);(r>E||r===E&&(I[0]||I[1]))&&(f+=x^A>=0?1:-1)}}return(s<-ut||s<ut&&u<-bh)^f&1}function Sh(t,e,n,r){return function(i){var a=e(i),s=vh(),f=e(s),u=!1,c,l,h,d={point:g,lineStart:m,lineEnd:b,polygonStart:function(){d.point=y,d.lineStart=_,d.lineEnd=v,l=[],c=[]},polygonEnd:function(){d.point=g,d.lineStart=m,d.lineEnd=b,l=eh(l);var w=iy(c,r);l.length?(u||(i.polygonStart(),u=!0),Mh(l,oy,w,n,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),l=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function g(w,M){t(w,M)&&i.point(w,M)}function p(w,M){a.point(w,M)}function m(){d.point=p,a.lineStart()}function b(){d.point=g,a.lineEnd()}function y(w,M){h.push([w,M]),f.point(w,M)}function _(){f.lineStart(),h=[]}function v(){y(h[0][0],h[0][1]),f.lineEnd();var w=f.clean(),M=s.result(),S,T=M.length,A,N,k;if(h.pop(),c.push(h),h=null,!!T){if(w&1){if(N=M[0],(A=N.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),S=0;S<A;++S)i.point((k=N[S])[0],k[1]);i.lineEnd()}return}T>1&&w&2&&M.push(M.pop().concat(M.shift())),l.push(M.filter(ay))}}return d}}function ay(t){return t.length>1}function oy(t,e){return((t=t.x)[0]<0?t[1]-Nt-ut:Nt-t[1])-((e=e.x)[0]<0?e[1]-Nt-ut:Nt-e[1])}const Ac=Sh(function(){return!0},sy,uy,[-gt,-Nt]);function sy(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,s){var f=a>0?gt:-gt,u=_t(a-e);_t(u-gt)<ut?(t.point(e,n=(n+s)/2>0?Nt:-Nt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(a,n),i=0):r!==f&&u>=gt&&(_t(e-r)<ut&&(e-=r*ut),_t(a-f)<ut&&(a-=f*ut),n=fy(e,n,a,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=a,n=s),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function fy(t,e,n,r){var i,a,s=st(t-n);return _t(s)>ut?Cr((st(e)*(a=dt(r))*st(n)-st(r)*(i=dt(e))*st(t))/(i*a*s)):(e+r)/2}function uy(t,e,n,r){var i;if(t==null)i=n*Nt,r.point(-gt,i),r.point(0,i),r.point(gt,i),r.point(gt,0),r.point(gt,-i),r.point(0,-i),r.point(-gt,-i),r.point(-gt,0),r.point(-gt,i);else if(_t(t[0]-e[0])>ut){var a=t[0]<e[0]?gt:-gt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function cy(t){var e=dt(t),n=2*Ct,r=e>0,i=_t(e)>ut;function a(l,h,d,g){ry(g,t,n,d,l,h)}function s(l,h){return dt(l)*dt(h)>e}function f(l){var h,d,g,p,m;return{lineStart:function(){p=g=!1,m=1},point:function(b,y){var _=[b,y],v,w=s(b,y),M=r?w?0:c(b,y):w?c(b+(b<0?gt:-gt),y):0;if(!h&&(p=g=w)&&l.lineStart(),w!==g&&(v=u(h,_),(!v||Ji(h,v)||Ji(_,v))&&(_[2]=1)),w!==g)m=0,w?(l.lineStart(),v=u(_,h),l.point(v[0],v[1])):(v=u(h,_),l.point(v[0],v[1],2),l.lineEnd()),h=v;else if(i&&h&&r^w){var S;!(M&d)&&(S=u(_,h,!0))&&(m=0,r?(l.lineStart(),l.point(S[0][0],S[0][1]),l.point(S[1][0],S[1][1]),l.lineEnd()):(l.point(S[1][0],S[1][1]),l.lineEnd(),l.lineStart(),l.point(S[0][0],S[0][1],3)))}w&&(!h||!Ji(h,_))&&l.point(_[0],_[1]),h=_,g=w,d=M},lineEnd:function(){g&&l.lineEnd(),h=null},clean:function(){return m|(p&&g)<<1}}}function u(l,h,d){var g=pr(l),p=pr(h),m=[1,0,0],b=_a(g,p),y=Ri(b,b),_=b[0],v=y-_*_;if(!v)return!d&&l;var w=e*y/v,M=-e*_/v,S=_a(m,b),T=Bi(m,w),A=Bi(b,M);Xo(T,A);var N=S,k=Ri(T,N),x=Ri(N,N),L=k*k-x*(Ri(T,T)-1);if(!(L<0)){var I=te(L),R=Bi(N,(-k-I)/x);if(Xo(R,T),R=Xs(R),!d)return R;var E=l[0],P=h[0],H=l[1],Z=h[1],Y;P<E&&(Y=E,E=P,P=Y);var B=P-E,U=_t(B-gt)<ut,$=U||B<ut;if(!U&&Z<H&&(Y=H,H=Z,Z=Y),$?U?H+Z>0^R[1]<(_t(R[0]-E)<ut?H:Z):H<=R[1]&&R[1]<=Z:B>gt^(E<=R[0]&&R[0]<=P)){var j=Bi(N,(-k+I)/x);return Xo(j,T),[R,Xs(j)]}}}function c(l,h){var d=r?t:gt-t,g=0;return l<-d?g|=1:l>d&&(g|=2),h<-d?g|=4:h>d&&(g|=8),g}return Sh(s,f,a,r?[0,-t]:[-gt,t-gt])}function ly(t,e,n,r,i,a){var s=t[0],f=t[1],u=e[0],c=e[1],l=0,h=1,d=u-s,g=c-f,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<l)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>l&&(l=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>l&&(l=p)}else if(d>0){if(p<l)return;p<h&&(h=p)}if(p=r-f,!(!g&&p>0)){if(p/=g,g<0){if(p<l)return;p<h&&(h=p)}else if(g>0){if(p>h)return;p>l&&(l=p)}if(p=a-f,!(!g&&p<0)){if(p/=g,g<0){if(p>h)return;p>l&&(l=p)}else if(g>0){if(p<l)return;p<h&&(h=p)}return l>0&&(t[0]=s+l*d,t[1]=f+l*g),h<1&&(e[0]=s+h*d,e[1]=f+h*g),!0}}}}}var Ur=1e9,Ui=-Ur;function xh(t,e,n,r){function i(c,l){return t<=c&&c<=n&&e<=l&&l<=r}function a(c,l,h,d){var g=0,p=0;if(c==null||(g=s(c,h))!==(p=s(l,h))||u(c,l)<0^h>0)do d.point(g===0||g===3?t:n,g>1?r:e);while((g=(g+h+4)%4)!==p);else d.point(l[0],l[1])}function s(c,l){return _t(c[0]-t)<ut?l>0?0:3:_t(c[0]-n)<ut?l>0?2:1:_t(c[1]-e)<ut?l>0?1:0:l>0?3:2}function f(c,l){return u(c.x,l.x)}function u(c,l){var h=s(c,1),d=s(l,1);return h!==d?h-d:h===0?l[1]-c[1]:h===1?c[0]-l[0]:h===2?c[1]-l[1]:l[0]-c[0]}return function(c){var l=c,h=vh(),d,g,p,m,b,y,_,v,w,M,S,T={point:A,lineStart:L,lineEnd:I,polygonStart:k,polygonEnd:x};function A(E,P){i(E,P)&&l.point(E,P)}function N(){for(var E=0,P=0,H=g.length;P<H;++P)for(var Z=g[P],Y=1,B=Z.length,U=Z[0],$,j,D=U[0],tt=U[1];Y<B;++Y)$=D,j=tt,U=Z[Y],D=U[0],tt=U[1],j<=r?tt>r&&(D-$)*(r-j)>(tt-j)*(t-$)&&++E:tt<=r&&(D-$)*(r-j)<(tt-j)*(t-$)&&--E;return E}function k(){l=h,d=[],g=[],S=!0}function x(){var E=N(),P=S&&E,H=(d=eh(d)).length;(P||H)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),H&&Mh(d,f,E,a,c),c.polygonEnd()),l=c,d=g=p=null}function L(){T.point=R,g&&g.push(p=[]),M=!0,w=!1,_=v=NaN}function I(){d&&(R(m,b),y&&w&&h.rejoin(),d.push(h.result())),T.point=A,w&&l.lineEnd()}function R(E,P){var H=i(E,P);if(g&&p.push([E,P]),M)m=E,b=P,y=H,M=!1,H&&(l.lineStart(),l.point(E,P));else if(H&&w)l.point(E,P);else{var Z=[_=Math.max(Ui,Math.min(Ur,_)),v=Math.max(Ui,Math.min(Ur,v))],Y=[E=Math.max(Ui,Math.min(Ur,E)),P=Math.max(Ui,Math.min(Ur,P))];ly(Z,Y,t,e,n,r)?(w||(l.lineStart(),l.point(Z[0],Z[1])),l.point(Y[0],Y[1]),H||l.lineEnd(),S=!1):H&&(l.lineStart(),l.point(E,P),S=!1)}_=E,v=P,w=H}return T}}const Js=t=>t;var Zo=new Bn,Qs=new Bn,Th,kh,tf,ef,dn={point:he,lineStart:he,lineEnd:he,polygonStart:function(){dn.lineStart=dy,dn.lineEnd=gy},polygonEnd:function(){dn.lineStart=dn.lineEnd=dn.point=he,Zo.add(_t(Qs)),Qs=new Bn},result:function(){var t=Zo/2;return Zo=new Bn,t}};function dy(){dn.point=hy}function hy(t,e){dn.point=Ah,Th=tf=t,kh=ef=e}function Ah(t,e){Qs.add(ef*t-tf*e),tf=t,ef=e}function gy(){Ah(Th,kh)}const Ec=dn;var br=1/0,wa=br,ei=-br,va=ei,my={point:py,lineStart:he,lineEnd:he,polygonStart:he,polygonEnd:he,result:function(){var t=[[br,wa],[ei,va]];return ei=va=-(wa=br=1/0),t}};function py(t,e){t<br&&(br=t),t>ei&&(ei=t),e<wa&&(wa=e),e>va&&(va=e)}const Ma=my;var nf=0,rf=0,zr=0,Sa=0,xa=0,fr=0,af=0,of=0,qr=0,Eh,Ch,Le,Fe,ve={point:zn,lineStart:Cc,lineEnd:Nc,polygonStart:function(){ve.lineStart=_y,ve.lineEnd=wy},polygonEnd:function(){ve.point=zn,ve.lineStart=Cc,ve.lineEnd=Nc},result:function(){var t=qr?[af/qr,of/qr]:fr?[Sa/fr,xa/fr]:zr?[nf/zr,rf/zr]:[NaN,NaN];return nf=rf=zr=Sa=xa=fr=af=of=qr=0,t}};function zn(t,e){nf+=t,rf+=e,++zr}function Cc(){ve.point=by}function by(t,e){ve.point=yy,zn(Le=t,Fe=e)}function yy(t,e){var n=t-Le,r=e-Fe,i=te(n*n+r*r);Sa+=i*(Le+t)/2,xa+=i*(Fe+e)/2,fr+=i,zn(Le=t,Fe=e)}function Nc(){ve.point=zn}function _y(){ve.point=vy}function wy(){Nh(Eh,Ch)}function vy(t,e){ve.point=Nh,zn(Eh=Le=t,Ch=Fe=e)}function Nh(t,e){var n=t-Le,r=e-Fe,i=te(n*n+r*r);Sa+=i*(Le+t)/2,xa+=i*(Fe+e)/2,fr+=i,i=Fe*t-Le*e,af+=i*(Le+t),of+=i*(Fe+e),qr+=i*3,zn(Le=t,Fe=e)}const Dc=ve;function Dh(t){this._context=t}Dh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,oe);break}}},result:he};var sf=new Bn,Ko,Ih,Lh,jr,Wr,Ta={point:he,lineStart:function(){Ta.point=My},lineEnd:function(){Ko&&Fh(Ih,Lh),Ta.point=he},polygonStart:function(){Ko=!0},polygonEnd:function(){Ko=null},result:function(){var t=+sf;return sf=new Bn,t}};function My(t,e){Ta.point=Fh,Ih=jr=t,Lh=Wr=e}function Fh(t,e){jr-=t,Wr-=e,sf.add(te(jr*jr+Wr*Wr)),jr=t,Wr=e}const Ic=Ta;let Lc,ka,Fc,Oc;class Pc{constructor(e){this._append=e==null?Oh:Sy(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Fc||this._append!==ka){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Fc=r,ka=this._append,Oc=this._,this._=i}this._+=Oc;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Oh(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Sy(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Oh;if(e!==Lc){const n=10**e;Lc=e,ka=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return ka}function to(t,e){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),In(f,i(a))),a.result()}return s.area=function(f){return In(f,i(Ec)),Ec.result()},s.measure=function(f){return In(f,i(Ic)),Ic.result()},s.bounds=function(f){return In(f,i(Ma)),Ma.result()},s.centroid=function(f){return In(f,i(Dc)),Dc.result()},s.projection=function(f){return arguments.length?(i=f==null?(t=null,Js):(t=f).stream,s):t},s.context=function(f){return arguments.length?(a=f==null?(e=null,new Pc(n)):new Dh(e=f),typeof r!="function"&&a.pointRadius(r),s):e},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return e===null&&(a=new Pc(n)),s},s.projection(t).digits(n).context(e)}function ff(t){return{stream:eo(t)}}function eo(t){return function(e){var n=new uf;for(var r in t)n[r]=t[r];return n.stream=e,n}}function uf(){}uf.prototype={constructor:uf,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Vf(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),In(n,t.stream(Ma)),e(Ma.result()),r!=null&&t.clipExtent(r),t}function Hf(t,e,n){return Vf(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+e[0][0]+(i-s*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(a-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([f,u])},n)}function Ph(t,e,n){return Hf(t,[[0,0],e],n)}function Rh(t,e,n){return Vf(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];t.scale(150*a).translate([s,f])},n)}function Bh(t,e,n){return Vf(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([s,f])},n)}var Rc=16,xy=dt(30*Ct);function Bc(t,e){return+e?ky(t,e):Ty(t)}function Ty(t){return eo({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ky(t,e){function n(r,i,a,s,f,u,c,l,h,d,g,p,m,b){var y=c-r,_=l-i,v=y*y+_*_;if(v>4*e&&m--){var w=s+d,M=f+g,S=u+p,T=te(w*w+M*M+S*S),A=be(S/=T),N=_t(_t(S)-1)<ut||_t(a-h)<ut?(a+h)/2:on(M,w),k=t(N,A),x=k[0],L=k[1],I=x-r,R=L-i,E=_*I-y*R;(E*E/v>e||_t((y*I+_*R)/v-.5)>.3||s*d+f*g+u*p<xy)&&(n(r,i,a,s,f,u,x,L,N,w/=T,M/=T,S,m,b),b.point(x,L),n(x,L,N,w,M,S,c,l,h,d,g,p,m,b))}}return function(r){var i,a,s,f,u,c,l,h,d,g,p,m,b={point:y,lineStart:_,lineEnd:w,polygonStart:function(){r.polygonStart(),b.lineStart=M},polygonEnd:function(){r.polygonEnd(),b.lineStart=_}};function y(A,N){A=t(A,N),r.point(A[0],A[1])}function _(){h=NaN,b.point=v,r.lineStart()}function v(A,N){var k=pr([A,N]),x=t(A,N);n(h,d,l,g,p,m,h=x[0],d=x[1],l=A,g=k[0],p=k[1],m=k[2],Rc,r),r.point(h,d)}function w(){b.point=y,r.lineEnd()}function M(){_(),b.point=S,b.lineEnd=T}function S(A,N){v(i=A,N),a=h,s=d,f=g,u=p,c=m,b.point=v}function T(){n(h,d,l,g,p,m,a,s,i,f,u,c,Rc,r),b.lineEnd=w,w()}return b}}var Ay=eo({point:function(t,e){this.stream.point(t*Ct,e*Ct)}});function Ey(t){return eo({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function Cy(t,e,n,r,i){function a(s,f){return s*=r,f*=i,[e+t*s,n-t*f]}return a.invert=function(s,f){return[(s-e)/t*r,(n-f)/t*i]},a}function $c(t,e,n,r,i,a){if(!a)return Cy(t,e,n,r,i);var s=dt(a),f=st(a),u=s*t,c=f*t,l=s/t,h=f/t,d=(f*n-s*e)/t,g=(f*e+s*n)/t;function p(m,b){return m*=r,b*=i,[u*m-c*b+e,n-c*m-u*b]}return p.invert=function(m,b){return[r*(l*m-h*b+d),i*(g-h*m-l*b)]},p}function kn(t){return $h(function(){return t})()}function $h(t){var e,n=150,r=480,i=250,a=0,s=0,f=0,u=0,c=0,l,h=0,d=1,g=1,p=null,m=Ac,b=null,y,_,v,w=Js,M=.5,S,T,A,N,k;function x(E){return A(E[0]*Ct,E[1]*Ct)}function L(E){return E=A.invert(E[0],E[1]),E&&[E[0]*jt,E[1]*jt]}x.stream=function(E){return N&&k===E?N:N=Ay(Ey(l)(m(S(w(k=E)))))},x.preclip=function(E){return arguments.length?(m=E,p=void 0,R()):m},x.postclip=function(E){return arguments.length?(w=E,b=y=_=v=null,R()):w},x.clipAngle=function(E){return arguments.length?(m=+E?cy(p=E*Ct):(p=null,Ac),R()):p*jt},x.clipExtent=function(E){return arguments.length?(w=E==null?(b=y=_=v=null,Js):xh(b=+E[0][0],y=+E[0][1],_=+E[1][0],v=+E[1][1]),R()):b==null?null:[[b,y],[_,v]]},x.scale=function(E){return arguments.length?(n=+E,I()):n},x.translate=function(E){return arguments.length?(r=+E[0],i=+E[1],I()):[r,i]},x.center=function(E){return arguments.length?(a=E[0]%360*Ct,s=E[1]%360*Ct,I()):[a*jt,s*jt]},x.rotate=function(E){return arguments.length?(f=E[0]%360*Ct,u=E[1]%360*Ct,c=E.length>2?E[2]%360*Ct:0,I()):[f*jt,u*jt,c*jt]},x.angle=function(E){return arguments.length?(h=E%360*Ct,I()):h*jt},x.reflectX=function(E){return arguments.length?(d=E?-1:1,I()):d<0},x.reflectY=function(E){return arguments.length?(g=E?-1:1,I()):g<0},x.precision=function(E){return arguments.length?(S=Bc(T,M=E*E),R()):te(M)},x.fitExtent=function(E,P){return Hf(x,E,P)},x.fitSize=function(E,P){return Ph(x,E,P)},x.fitWidth=function(E,P){return Rh(x,E,P)},x.fitHeight=function(E,P){return Bh(x,E,P)};function I(){var E=$c(n,0,0,d,g,h).apply(null,e(a,s)),P=$c(n,r-E[0],i-E[1],d,g,h);return l=wh(f,u,c),T=Zs(e,P),A=Zs(l,T),S=Bc(T,M),R()}function R(){return N=k=null,x}return function(){return e=t.apply(this,arguments),x.invert=e.invert&&L,I()}}function Yf(t){var e=0,n=gt/3,r=$h(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*Ct,n=a[1]*Ct):[e*jt,n*jt]},i}function Ny(t){var e=dt(t);function n(r,i){return[r*e,st(i)/e]}return n.invert=function(r,i){return[r/e,be(i*e)]},n}function Dy(t,e){var n=st(t),r=(n+st(e))/2;if(_t(r)<ut)return Ny(t);var i=1+n*(2*r-n),a=te(i)/r;function s(f,u){var c=te(i-2*r*st(u))/r;return[c*st(f*=r),a-c*dt(f)]}return s.invert=function(f,u){var c=a-u,l=on(f,_t(c))*de(c);return c*r<0&&(l-=gt*de(f)*de(c)),[l/r,be((i-(f*f+c*c)*r*r)/(2*r))]},s}function Aa(){return Yf(Dy).scale(155.424).center([0,33.6442])}function Uh(){return Aa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Iy(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function Ly(){var t,e,n=Uh(),r,i=Aa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Aa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(d,g){u=[d,g]}};function l(d){var g=d[0],p=d[1];return u=null,r.point(g,p),u||(a.point(g,p),u)||(f.point(g,p),u)}l.invert=function(d){var g=n.scale(),p=n.translate(),m=(d[0]-p[0])/g,b=(d[1]-p[1])/g;return(b>=.12&&b<.234&&m>=-.425&&m<-.214?i:b>=.166&&b<.234&&m>=-.214&&m<-.115?s:n).invert(d)},l.stream=function(d){return t&&e===d?t:t=Iy([n.stream(e=d),i.stream(d),s.stream(d)])},l.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),h()):n.precision()},l.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),l.translate(n.translate())):n.scale()},l.translate=function(d){if(!arguments.length)return n.translate();var g=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*g,m-.238*g],[p+.455*g,m+.238*g]]).stream(c),a=i.translate([p-.307*g,m+.201*g]).clipExtent([[p-.425*g+ut,m+.12*g+ut],[p-.214*g-ut,m+.234*g-ut]]).stream(c),f=s.translate([p-.205*g,m+.212*g]).clipExtent([[p-.214*g+ut,m+.166*g+ut],[p-.115*g-ut,m+.234*g-ut]]).stream(c),h()},l.fitExtent=function(d,g){return Hf(l,d,g)},l.fitSize=function(d,g){return Ph(l,d,g)},l.fitWidth=function(d,g){return Rh(l,d,g)},l.fitHeight=function(d,g){return Bh(l,d,g)};function h(){return t=e=null,l}return l.scale(1070)}function zh(t){return function(e,n){var r=dt(e),i=dt(n),a=t(r*i);return a===1/0?[2,0]:[a*i*st(e),a*st(n)]}}function hi(t){return function(e,n){var r=te(e*e+n*n),i=t(r),a=st(i),s=dt(i);return[on(e*a,r*s),be(r&&n*a/r)]}}var qh=zh(function(t){return te(2/(1+t))});qh.invert=hi(function(t){return 2*be(t/2)});function Fy(){return kn(qh).scale(124.75).clipAngle(180-.001)}var jh=zh(function(t){return(t=_h(t))&&t/st(t)});jh.invert=hi(function(t){return t});function Oy(){return kn(jh).scale(79.4188).clipAngle(180-.001)}function no(t,e){return[t,ba(Wf((Nt+e)/2))]}no.invert=function(t,e){return[t,2*Cr(yh(e))-Nt]};function Py(){return Wh(no).scale(961/oe)}function Wh(t){var e=kn(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,s=null,f,u,c;e.scale=function(h){return arguments.length?(r(h),l()):r()},e.translate=function(h){return arguments.length?(i(h),l()):i()},e.center=function(h){return arguments.length?(n(h),l()):n()},e.clipExtent=function(h){return arguments.length?(h==null?s=f=u=c=null:(s=+h[0][0],f=+h[0][1],u=+h[1][0],c=+h[1][1]),l()):s==null?null:[[s,f],[u,c]]};function l(){var h=gt*r(),d=e(ny(e.rotate()).invert([0,0]));return a(s==null?[[d[0]-h,d[1]-h],[d[0]+h,d[1]+h]]:t===no?[[Math.max(d[0]-h,s),f],[Math.min(d[0]+h,u),c]]:[[s,Math.max(d[1]-h,f)],[u,Math.min(d[1]+h,c)]])}return l()}function zi(t){return Wf((Nt+t)/2)}function Ry(t,e){var n=dt(t),r=t===e?st(t):ba(n/dt(e))/ba(zi(e)/zi(t)),i=n*Yo(zi(t),r)/r;if(!r)return no;function a(s,f){i>0?f<-Nt+ut&&(f=-Nt+ut):f>Nt-ut&&(f=Nt-ut);var u=i/Yo(zi(f),r);return[u*st(r*s),i-u*dt(r*s)]}return a.invert=function(s,f){var u=i-f,c=de(r)*te(s*s+u*u),l=on(s,_t(u))*de(u);return u*r<0&&(l-=gt*de(s)*de(u)),[l/r,2*Cr(Yo(i/c,1/r))-Nt]},a}function By(){return Yf(Ry).scale(109.5).parallels([30,30])}function Ea(t,e){return[t,e]}Ea.invert=Ea;function $y(){return kn(Ea).scale(152.63)}function Uy(t,e){var n=dt(t),r=t===e?st(t):(n-dt(e))/(e-t),i=n/r+t;if(_t(r)<ut)return Ea;function a(s,f){var u=i-f,c=r*s;return[u*st(c),i-u*dt(c)]}return a.invert=function(s,f){var u=i-f,c=on(s,_t(u))*de(u);return u*r<0&&(c-=gt*de(s)*de(u)),[c/r,i-de(r)*te(s*s+u*u)]},a}function zy(){return Yf(Uy).scale(131.154).center([0,13.9389])}var Xr=1.340264,Gr=-.081106,Zr=893e-6,Kr=.003796,Ca=te(3)/2,qy=12;function Vh(t,e){var n=be(Ca*st(e)),r=n*n,i=r*r*r;return[t*dt(n)/(Ca*(Xr+3*Gr*r+i*(7*Zr+9*Kr*r))),n*(Xr+Gr*r+i*(Zr+Kr*r))]}Vh.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,s,f,u;a<qy&&(f=n*(Xr+Gr*r+i*(Zr+Kr*r))-e,u=Xr+3*Gr*r+i*(7*Zr+9*Kr*r),n-=s=f/u,r=n*n,i=r*r*r,!(_t(s)<bh));++a);return[Ca*t*(Xr+3*Gr*r+i*(7*Zr+9*Kr*r))/dt(n),be(st(n)/Ca)]};function jy(){return kn(Vh).scale(177.158)}function Hh(t,e){var n=dt(e),r=dt(t)*n;return[n*st(t)/r,st(e)/r]}Hh.invert=hi(Cr);function Wy(){return kn(Hh).scale(144.049).clipAngle(60)}function Yh(t,e){return[dt(e)*st(t),st(e)]}Yh.invert=hi(be);function Vy(){return kn(Yh).scale(249.5).clipAngle(90+ut)}function Xh(t,e){var n=dt(e),r=1+dt(t)*n;return[n*st(t)/r,st(e)/r]}Xh.invert=hi(function(t){return 2*Cr(t)});function Hy(){return kn(Xh).scale(250).clipAngle(142)}function Gh(t,e){return[ba(Wf((Nt+e)/2)),-t]}Gh.invert=function(t,e){return[-e,2*Cr(yh(t))-Nt]};function Yy(){var t=Wh(Gh),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Ye(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ro(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cf=Symbol("implicit");function Xf(){var t=new $n,e=[],n=[],r=cf;function i(a){let s=t.get(a);if(s===void 0){if(r!==cf)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new $n;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Xf(e,n).unknown(r)},Ye.apply(i,arguments),i}function io(){var t=Xf().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,f=!1,u=0,c=0,l=.5;delete t.unknown;function h(){var d=e().length,g=i<r,p=g?i:r,m=g?r:i;a=(m-p)/Math.max(1,d-u+c*2),f&&(a=Math.floor(a)),p+=(m-p-a*(d-u))*l,s=a*(1-u),f&&(p=Math.round(p),s=Math.round(s));var b=$s(d).map(function(y){return p+a*y});return n(g?b.reverse():b)}return t.domain=function(d){return arguments.length?(e(d),h()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(d){return arguments.length?(f=!!d,h()):f},t.padding=function(d){return arguments.length?(u=Math.min(1,c=+d),h()):u},t.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),h()):u},t.paddingOuter=function(d){return arguments.length?(c=+d,h()):c},t.align=function(d){return arguments.length?(l=Math.max(0,Math.min(1,d)),h()):l},t.copy=function(){return io(e(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(l)},Ye.apply(h(),arguments)}function Zh(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Zh(e())},t}function Xy(){return Zh(io.apply(null,arguments).paddingInner(1))}function Gy(t){return function(){return t}}function lf(t){return+t}var Uc=[0,1];function ge(t){return t}function df(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Gy(isNaN(e)?NaN:.5)}function Zy(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ky(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=df(i,r),a=n(s,a)):(r=df(r,i),a=n(a,s)),function(f){return a(r(f))}}function Jy(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=df(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(f){var u=Of(t,f,1,r)-1;return a[u](i[u](f))}}function gi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ao(){var t=Uc,e=Uc,n=Ar,r,i,a,s=ge,f,u,c;function l(){var d=Math.min(t.length,e.length);return s!==ge&&(s=Zy(t[0],t[d-1])),f=d>2?Jy:Ky,u=c=null,h}function h(d){return d==null||isNaN(d=+d)?a:(u||(u=f(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((c||(c=f(e,t.map(r),Mn)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,lf),l()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),l()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=zf,l()},h.clamp=function(d){return arguments.length?(s=d?!0:ge,l()):s!==ge},h.interpolate=function(d){return arguments.length?(n=d,l()):n},h.unknown=function(d){return arguments.length?(a=d,h):a},function(d,g){return r=d,i=g,l()}}function Kh(){return ao()(ge,ge)}function Qy(t,e,n,r){var i=Rs(t,e,n),a;switch(r=ti(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=ty(i,s))&&(r.precision=a),ph(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ey(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Q2(i))&&(r.precision=a-(r.type==="%")*2);break}}return Er(r)}function mi(t){var e=t.domain;return t.ticks=function(n){var r=e();return ca(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Qy(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],f=r[a],u,c,l=10;for(f<s&&(c=s,s=f,f=c,c=i,i=a,a=c);l-- >0;){if(c=Ps(s,f,n),c===u)return r[i]=s,r[a]=f,e(r);if(c>0)s=Math.floor(s/c)*c,f=Math.ceil(f/c)*c;else if(c<0)s=Math.ceil(s*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function Gf(){var t=Kh();return t.copy=function(){return gi(t,Gf())},Ye.apply(t,arguments),mi(t)}function Jh(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lf),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Jh(t).unknown(e)},t=arguments.length?Array.from(t,lf):[0,1],mi(n)}function Qh(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function zc(t){return Math.log(t)}function qc(t){return Math.exp(t)}function t6(t){return-Math.log(-t)}function e6(t){return-Math.exp(-t)}function n6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function r6(t){return t===10?n6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function i6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jc(t){return(e,n)=>-t(-e,n)}function t0(t){const e=t(zc,qc),n=e.domain;let r=10,i,a;function s(){return i=i6(r),a=r6(r),n()[0]<0?(i=jc(i),a=jc(a),t(t6,e6)):t(zc,qc),e}return e.base=function(f){return arguments.length?(r=+f,s()):r},e.domain=function(f){return arguments.length?(n(f),s()):n()},e.ticks=f=>{const u=n();let c=u[0],l=u[u.length-1];const h=l<c;h&&([c,l]=[l,c]);let d=i(c),g=i(l),p,m;const b=f==null?10:+f;let y=[];if(!(r%1)&&g-d<b){if(d=Math.floor(d),g=Math.ceil(g),c>0){for(;d<=g;++d)for(p=1;p<r;++p)if(m=d<0?p/a(-d):p*a(d),!(m<c)){if(m>l)break;y.push(m)}}else for(;d<=g;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/a(-d):p*a(d),!(m<c)){if(m>l)break;y.push(m)}y.length*2<b&&(y=ca(c,l,b))}else y=ca(d,g,Math.min(g-d,b)).map(a);return h?y.reverse():y},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ti(u)).precision==null&&(u.trim=!0),u=Er(u)),f===1/0)return u;const c=Math.max(1,r*f/e.ticks().length);return l=>{let h=l/a(Math.round(i(l)));return h*r<r-.5&&(h*=r),h<=c?u(l):""}},e.nice=()=>n(Qh(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),e}function e0(){const t=t0(ao()).domain([1,10]);return t.copy=()=>gi(t,e0()).base(t.base()),Ye.apply(t,arguments),t}function Wc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Vc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function n0(t){var e=1,n=t(Wc(e),Vc(e));return n.constant=function(r){return arguments.length?t(Wc(e=+r),Vc(e)):e},mi(n)}function r0(){var t=n0(ao());return t.copy=function(){return gi(t,r0()).constant(t.constant())},Ye.apply(t,arguments)}function Hc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function a6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function o6(t){return t<0?-t*t:t*t}function i0(t){var e=t(ge,ge),n=1;function r(){return n===1?t(ge,ge):n===.5?t(a6,o6):t(Hc(n),Hc(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},mi(e)}function a0(){var t=i0(ao());return t.copy=function(){return gi(t,a0()).exponent(t.exponent())},Ye.apply(t,arguments),t}function o0(){var t=[],e=[],n=[],r;function i(){var s=0,f=Math.max(1,e.length);for(n=new Array(f-1);++s<f;)n[s-1]=r2(t,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:e[Of(n,s)]}return a.invertExtent=function(s){var f=e.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let f of s)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Qt),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return o0().domain(t).range(e).unknown(r)},Ye.apply(a,arguments)}function s0(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Of(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return s0().domain(t).range(e).unknown(n)},Ye.apply(i,arguments)}const Jo=new Date,Qo=new Date;function Ot(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const u=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return u;let c;do u.push(c=new Date(+a)),e(a,f),t(a);while(c<a&&a<s);return u},i.filter=a=>Ot(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;e(s,-1),!a(s););else for(;--f>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>(Jo.setTime(+a),Qo.setTime(+s),t(Jo),t(Qo),Math.floor(n(Jo,Qo))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Na=Ot(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Na.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ot(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Na);Na.range;const rn=1e3,me=rn*60,an=me*60,sn=an*24,Zf=sn*7,Yc=sn*30,ts=sn*365,Me=Ot(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*rn)},(t,e)=>(e-t)/rn,t=>t.getUTCSeconds());Me.range;const pi=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn)},(t,e)=>{t.setTime(+t+e*me)},(t,e)=>(e-t)/me,t=>t.getMinutes());pi.range;const bi=Ot(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*me)},(t,e)=>(e-t)/me,t=>t.getUTCMinutes());bi.range;const yi=Ot(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*rn-t.getMinutes()*me)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getHours());yi.range;const _i=Ot(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*an)},(t,e)=>(e-t)/an,t=>t.getUTCHours());_i.range;const Yn=Ot(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*me)/sn,t=>t.getDate()-1);Yn.range;const oo=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>t.getUTCDate()-1);oo.range;const so=Ot(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/sn,t=>Math.floor(t/sn));so.range;function Xn(t){return Ot(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*me)/Zf)}const yr=Xn(0),ni=Xn(1),f0=Xn(2),u0=Xn(3),qn=Xn(4),c0=Xn(5),l0=Xn(6);yr.range;ni.range;f0.range;u0.range;qn.range;c0.range;l0.range;function Gn(t){return Ot(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Zf)}const _r=Gn(0),ri=Gn(1),d0=Gn(2),h0=Gn(3),jn=Gn(4),g0=Gn(5),m0=Gn(6);_r.range;ri.range;d0.range;h0.range;jn.range;g0.range;m0.range;const wi=Ot(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());wi.range;const vi=Ot(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());vi.range;const xe=Ot(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());xe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});xe.range;const Te=Ot(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Te.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ot(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Te.range;function p0(t,e,n,r,i,a){const s=[[Me,1,rn],[Me,5,5*rn],[Me,15,15*rn],[Me,30,30*rn],[a,1,me],[a,5,5*me],[a,15,15*me],[a,30,30*me],[i,1,an],[i,3,3*an],[i,6,6*an],[i,12,12*an],[r,1,sn],[r,2,2*sn],[n,1,Zf],[e,1,Yc],[e,3,3*Yc],[t,1,ts]];function f(c,l,h){const d=l<c;d&&([c,l]=[l,c]);const g=h&&typeof h.range=="function"?h:u(c,l,h),p=g?g.range(c,+l+1):[];return d?p.reverse():p}function u(c,l,h){const d=Math.abs(l-c)/h,g=Za(([,,b])=>b).right(s,d);if(g===s.length)return t.every(Rs(c/ts,l/ts,h));if(g===0)return Na.every(Math.max(Rs(c,l,h),1));const[p,m]=s[d/s[g-1][2]<s[g][2]/d?g-1:g];return p.every(m)}return[f,u]}const[s6,f6]=p0(Te,vi,_r,so,_i,bi),[u6,c6]=p0(xe,wi,yr,Yn,yi,pi);function es(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ns(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Or(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function l6(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,f=t.months,u=t.shortMonths,c=Pr(i),l=Rr(i),h=Pr(a),d=Rr(a),g=Pr(s),p=Rr(s),m=Pr(f),b=Rr(f),y=Pr(u),_=Rr(u),v={a:H,A:Z,b:Y,B,c:null,d:Qc,e:Qc,f:F6,g:W6,G:H6,H:D6,I:I6,j:L6,L:b0,m:O6,M:P6,p:U,q:$,Q:nl,s:rl,S:R6,u:B6,U:$6,V:U6,w:z6,W:q6,x:null,X:null,y:j6,Y:V6,Z:Y6,"%":el},w={a:j,A:D,b:tt,B:et,c:null,d:tl,e:tl,f:K6,g:s_,G:u_,H:X6,I:G6,j:Z6,L:_0,m:J6,M:Q6,p:z,q:Q,Q:nl,s:rl,S:t_,u:e_,U:n_,V:r_,w:i_,W:a_,x:null,X:null,y:o_,Y:f_,Z:c_,"%":el},M={a:k,A:x,b:L,B:I,c:R,d:Kc,e:Kc,f:A6,g:Zc,G:Gc,H:Jc,I:Jc,j:S6,L:k6,m:M6,M:x6,p:N,q:v6,Q:C6,s:N6,S:T6,u:p6,U:b6,V:y6,w:m6,W:_6,x:E,X:P,y:Zc,Y:Gc,Z:w6,"%":E6};v.x=S(n,v),v.X=S(r,v),v.c=S(e,v),w.x=S(n,w),w.X=S(r,w),w.c=S(e,w);function S(O,W){return function(X){var F=[],mt=-1,nt=0,yt=O.length,Mt,G,wt;for(X instanceof Date||(X=new Date(+X));++mt<yt;)O.charCodeAt(mt)===37&&(F.push(O.slice(nt,mt)),(G=Xc[Mt=O.charAt(++mt)])!=null?Mt=O.charAt(++mt):G=Mt==="e"?" ":"0",(wt=W[Mt])&&(Mt=wt(X,G)),F.push(Mt),nt=mt+1);return F.push(O.slice(nt,mt)),F.join("")}}function T(O,W){return function(X){var F=Or(1900,void 0,1),mt=A(F,O,X+="",0),nt,yt;if(mt!=X.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(W&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(nt=ns(Or(F.y,0,1)),yt=nt.getUTCDay(),nt=yt>4||yt===0?ri.ceil(nt):ri(nt),nt=oo.offset(nt,(F.V-1)*7),F.y=nt.getUTCFullYear(),F.m=nt.getUTCMonth(),F.d=nt.getUTCDate()+(F.w+6)%7):(nt=es(Or(F.y,0,1)),yt=nt.getDay(),nt=yt>4||yt===0?ni.ceil(nt):ni(nt),nt=Yn.offset(nt,(F.V-1)*7),F.y=nt.getFullYear(),F.m=nt.getMonth(),F.d=nt.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),yt="Z"in F?ns(Or(F.y,0,1)).getUTCDay():es(Or(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(yt+5)%7:F.w+F.U*7-(yt+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,ns(F)):es(F)}}function A(O,W,X,F){for(var mt=0,nt=W.length,yt=X.length,Mt,G;mt<nt;){if(F>=yt)return-1;if(Mt=W.charCodeAt(mt++),Mt===37){if(Mt=W.charAt(mt++),G=M[Mt in Xc?W.charAt(mt++):Mt],!G||(F=G(O,X,F))<0)return-1}else if(Mt!=X.charCodeAt(F++))return-1}return F}function N(O,W,X){var F=c.exec(W.slice(X));return F?(O.p=l.get(F[0].toLowerCase()),X+F[0].length):-1}function k(O,W,X){var F=g.exec(W.slice(X));return F?(O.w=p.get(F[0].toLowerCase()),X+F[0].length):-1}function x(O,W,X){var F=h.exec(W.slice(X));return F?(O.w=d.get(F[0].toLowerCase()),X+F[0].length):-1}function L(O,W,X){var F=y.exec(W.slice(X));return F?(O.m=_.get(F[0].toLowerCase()),X+F[0].length):-1}function I(O,W,X){var F=m.exec(W.slice(X));return F?(O.m=b.get(F[0].toLowerCase()),X+F[0].length):-1}function R(O,W,X){return A(O,e,W,X)}function E(O,W,X){return A(O,n,W,X)}function P(O,W,X){return A(O,r,W,X)}function H(O){return s[O.getDay()]}function Z(O){return a[O.getDay()]}function Y(O){return u[O.getMonth()]}function B(O){return f[O.getMonth()]}function U(O){return i[+(O.getHours()>=12)]}function $(O){return 1+~~(O.getMonth()/3)}function j(O){return s[O.getUTCDay()]}function D(O){return a[O.getUTCDay()]}function tt(O){return u[O.getUTCMonth()]}function et(O){return f[O.getUTCMonth()]}function z(O){return i[+(O.getUTCHours()>=12)]}function Q(O){return 1+~~(O.getUTCMonth()/3)}return{format:function(O){var W=S(O+="",v);return W.toString=function(){return O},W},parse:function(O){var W=T(O+="",!1);return W.toString=function(){return O},W},utcFormat:function(O){var W=S(O+="",w);return W.toString=function(){return O},W},utcParse:function(O){var W=T(O+="",!0);return W.toString=function(){return O},W}}}var Xc={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,d6=/^%/,h6=/[\\^$*+?|[\]().{}]/g;function pt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function g6(t){return t.replace(h6,"\\$&")}function Pr(t){return new RegExp("^(?:"+t.map(g6).join("|")+")","i")}function Rr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function m6(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function p6(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function b6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function y6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Gc(t,e,n){var r=Ut.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Zc(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function w6(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function v6(t,e,n){var r=Ut.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function M6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Kc(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function S6(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Jc(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function x6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function T6(t,e,n){var r=Ut.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function k6(t,e,n){var r=Ut.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function A6(t,e,n){var r=Ut.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function E6(t,e,n){var r=d6.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function C6(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function N6(t,e,n){var r=Ut.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Qc(t,e){return pt(t.getDate(),e,2)}function D6(t,e){return pt(t.getHours(),e,2)}function I6(t,e){return pt(t.getHours()%12||12,e,2)}function L6(t,e){return pt(1+Yn.count(xe(t),t),e,3)}function b0(t,e){return pt(t.getMilliseconds(),e,3)}function F6(t,e){return b0(t,e)+"000"}function O6(t,e){return pt(t.getMonth()+1,e,2)}function P6(t,e){return pt(t.getMinutes(),e,2)}function R6(t,e){return pt(t.getSeconds(),e,2)}function B6(t){var e=t.getDay();return e===0?7:e}function $6(t,e){return pt(yr.count(xe(t)-1,t),e,2)}function y0(t){var e=t.getDay();return e>=4||e===0?qn(t):qn.ceil(t)}function U6(t,e){return t=y0(t),pt(qn.count(xe(t),t)+(xe(t).getDay()===4),e,2)}function z6(t){return t.getDay()}function q6(t,e){return pt(ni.count(xe(t)-1,t),e,2)}function j6(t,e){return pt(t.getFullYear()%100,e,2)}function W6(t,e){return t=y0(t),pt(t.getFullYear()%100,e,2)}function V6(t,e){return pt(t.getFullYear()%1e4,e,4)}function H6(t,e){var n=t.getDay();return t=n>=4||n===0?qn(t):qn.ceil(t),pt(t.getFullYear()%1e4,e,4)}function Y6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+pt(e/60|0,"0",2)+pt(e%60,"0",2)}function tl(t,e){return pt(t.getUTCDate(),e,2)}function X6(t,e){return pt(t.getUTCHours(),e,2)}function G6(t,e){return pt(t.getUTCHours()%12||12,e,2)}function Z6(t,e){return pt(1+oo.count(Te(t),t),e,3)}function _0(t,e){return pt(t.getUTCMilliseconds(),e,3)}function K6(t,e){return _0(t,e)+"000"}function J6(t,e){return pt(t.getUTCMonth()+1,e,2)}function Q6(t,e){return pt(t.getUTCMinutes(),e,2)}function t_(t,e){return pt(t.getUTCSeconds(),e,2)}function e_(t){var e=t.getUTCDay();return e===0?7:e}function n_(t,e){return pt(_r.count(Te(t)-1,t),e,2)}function w0(t){var e=t.getUTCDay();return e>=4||e===0?jn(t):jn.ceil(t)}function r_(t,e){return t=w0(t),pt(jn.count(Te(t),t)+(Te(t).getUTCDay()===4),e,2)}function i_(t){return t.getUTCDay()}function a_(t,e){return pt(ri.count(Te(t)-1,t),e,2)}function o_(t,e){return pt(t.getUTCFullYear()%100,e,2)}function s_(t,e){return t=w0(t),pt(t.getUTCFullYear()%100,e,2)}function f_(t,e){return pt(t.getUTCFullYear()%1e4,e,4)}function u_(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jn(t):jn.ceil(t),pt(t.getUTCFullYear()%1e4,e,4)}function c_(){return"+0000"}function el(){return"%"}function nl(t){return+t}function rl(t){return Math.floor(+t/1e3)}var er,Kf,Mi;l_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l_(t){return er=l6(t),Kf=er.format,er.parse,Mi=er.utcFormat,er.utcParse,er}function d_(t){return new Date(t)}function h_(t){return t instanceof Date?+t:+new Date(+t)}function Jf(t,e,n,r,i,a,s,f,u,c){var l=Kh(),h=l.invert,d=l.domain,g=c(".%L"),p=c(":%S"),m=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),_=c("%b %d"),v=c("%B"),w=c("%Y");function M(S){return(u(S)<S?g:f(S)<S?p:s(S)<S?m:a(S)<S?b:r(S)<S?i(S)<S?y:_:n(S)<S?v:w)(S)}return l.invert=function(S){return new Date(h(S))},l.domain=function(S){return arguments.length?d(Array.from(S,h_)):d().map(d_)},l.ticks=function(S){var T=d();return t(T[0],T[T.length-1],S??10)},l.tickFormat=function(S,T){return T==null?M:c(T)},l.nice=function(S){var T=d();return(!S||typeof S.range!="function")&&(S=e(T[0],T[T.length-1],S??10)),S?d(Qh(T,S)):l},l.copy=function(){return gi(l,Jf(t,e,n,r,i,a,s,f,u,c))},l}function g_(){return Ye.apply(Jf(u6,c6,xe,wi,yr,Yn,yi,pi,Me,Kf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function m_(){return Ye.apply(Jf(s6,f6,Te,vi,_r,oo,_i,bi,Me,Mi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function fo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function uo(){var t=0,e=.5,n=1,r=1,i,a,s,f,u,c=ge,l,h=!1,d;function g(m){return isNaN(m=+m)?d:(m=.5+((m=+l(m))-a)*(r*m<r*a?f:u),c(h?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([t,e,n]=m,i=l(t=+t),a=l(e=+e),s=l(n=+n),f=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(m){return arguments.length?(h=!!m,g):h},g.interpolator=function(m){return arguments.length?(c=m,g):c};function p(m){return function(b){var y,_,v;return arguments.length?([y,_,v]=b,c=Qa(m,[y,_,v]),g):[c(0),c(.5),c(1)]}}return g.range=p(Ar),g.rangeRound=p(zf),g.unknown=function(m){return arguments.length?(d=m,g):d},function(m){return l=m,i=m(t),a=m(e),s=m(n),f=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,g}}function v0(){var t=mi(uo()(ge));return t.copy=function(){return fo(t,v0())},ro.apply(t,arguments)}function M0(){var t=t0(uo()).domain([.1,1,10]);return t.copy=function(){return fo(t,M0()).base(t.base())},ro.apply(t,arguments)}function S0(){var t=n0(uo());return t.copy=function(){return fo(t,S0()).constant(t.constant())},ro.apply(t,arguments)}function x0(){var t=i0(uo());return t.copy=function(){return fo(t,x0()).exponent(t.exponent())},ro.apply(t,arguments)}function ft(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const T0=ft("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),p_=ft("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),b_=ft("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),y_=ft("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),__=ft("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),w_=ft("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),v_=ft("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),M_=ft("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),S_=ft("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),x_=ft("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),T_=ft("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Tt=t=>Op(t[t.length-1]);var k0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ft);const A0=Tt(k0);var E0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ft);const C0=Tt(E0);var N0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ft);const D0=Tt(N0);var I0=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ft);const L0=Tt(I0);var hf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ft);const Da=Tt(hf);var F0=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ft);const O0=Tt(F0);var gf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ft);const Ia=Tt(gf);var P0=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ft);const R0=Tt(P0);var B0=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ft);const $0=Tt(B0);var U0=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ft);const z0=Tt(U0);var q0=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ft);const j0=Tt(q0);var W0=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ft);const V0=Tt(W0);var H0=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ft);const Y0=Tt(H0);var X0=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ft);const G0=Tt(X0);var Z0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ft);const K0=Tt(Z0);var J0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ft);const Q0=Tt(J0);var t1=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ft);const e1=Tt(t1);var n1=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ft);const r1=Tt(n1);var i1=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ft);const a1=Tt(i1);var o1=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ft);const s1=Tt(o1);var f1=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ft);const u1=Tt(f1);var c1=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ft);const l1=Tt(c1);var d1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ft);const h1=Tt(d1);var g1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ft);const m1=Tt(g1);var p1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ft);const b1=Tt(p1);var y1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ft);const _1=Tt(y1);var w1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ft);const v1=Tt(w1);function M1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const S1=qf(ze(300,.5,0),ze(-240,.5,1));var x1=qf(ze(-100,.75,.35),ze(80,1.5,.8)),T1=qf(ze(260,.75,.35),ze(80,1.5,.8)),qi=ze();function k1(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return qi.h=360*t-100,qi.s=1.5-1.5*e,qi.l=.8-.9*e,qi+""}var ji=ia(),k_=Math.PI/3,A_=Math.PI*2/3;function A1(t){var e;return t=(.5-t)*Math.PI,ji.r=255*(e=Math.sin(t))*e,ji.g=255*(e=Math.sin(t+k_))*e,ji.b=255*(e=Math.sin(t+A_))*e,ji+""}function E1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function co(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const C1=co(ft("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var N1=co(ft("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),D1=co(ft("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),I1=co(ft("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function nr(t){return function(){return t}}const L1=Math.cos,Qf=Math.min,La=Math.sin,Pt=Math.sqrt,il=1e-12,Fa=Math.PI,lo=2*Fa;function E_(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gh(e)}function C_(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function F1(t){this._context=t}F1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ho(t){return new F1(t)}function N_(t){return t[0]}function D_(t){return t[1]}function I_(t,e){var n=nr(!0),r=null,i=ho,a=null,s=E_(f);t=typeof t=="function"?t:t===void 0?N_:nr(t),e=typeof e=="function"?e:e===void 0?D_:nr(e);function f(u){var c,l=(u=C_(u)).length,h,d=!1,g;for(r==null&&(a=i(g=s())),c=0;c<=l;++c)!(c<l&&n(h=u[c],c,u))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+t(h,c,u),+e(h,c,u));if(g)return a=null,g+""||null}return f.x=function(u){return arguments.length?(t=typeof u=="function"?u:nr(+u),f):t},f.y=function(u){return arguments.length?(e=typeof u=="function"?u:nr(+u),f):e},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:nr(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),f):r},f}class O1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function L_(t){return new O1(t,!0)}function F_(t){return new O1(t,!1)}const O_=Pt(3),P1={draw(t,e){const n=Pt(e+Qf(e/28,.75))*.59436,r=n/2,i=r*O_;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},ii={draw(t,e){const n=Pt(e/Fa);t.moveTo(n,0),t.arc(0,0,n,0,lo)}},R1={draw(t,e){const n=Pt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},B1=Pt(1/3),P_=B1*2,$1={draw(t,e){const n=Pt(e/P_),r=n*B1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},U1={draw(t,e){const n=Pt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},z1={draw(t,e){const n=Pt(e-Qf(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},q1={draw(t,e){const n=Pt(e),r=-n/2;t.rect(r,r,n,n)}},j1={draw(t,e){const n=Pt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},R_=.8908130915292852,W1=La(Fa/10)/La(7*Fa/10),B_=La(lo/10)*W1,$_=-L1(lo/10)*W1,V1={draw(t,e){const n=Pt(e*R_),r=B_*n,i=$_*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=lo*a/5,f=L1(s),u=La(s);t.lineTo(u*n,-f*n),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},rs=Pt(3),H1={draw(t,e){const n=-Pt(e/(rs*3));t.moveTo(0,n*2),t.lineTo(-rs*n,-n),t.lineTo(rs*n,-n),t.closePath()}},U_=Pt(3),Y1={draw(t,e){const n=Pt(e)*.6824,r=n/2,i=n*U_/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},fe=-.5,ue=Pt(3)/2,mf=1/Pt(12),z_=(mf/2+1)*3,X1={draw(t,e){const n=Pt(e/z_),r=n/2,i=n*mf,a=r,s=n*mf+n,f=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(f,u),t.lineTo(fe*r-ue*i,ue*r+fe*i),t.lineTo(fe*a-ue*s,ue*a+fe*s),t.lineTo(fe*f-ue*u,ue*f+fe*u),t.lineTo(fe*r+ue*i,fe*i-ue*r),t.lineTo(fe*a+ue*s,fe*s-ue*a),t.lineTo(fe*f+ue*u,fe*u-ue*f),t.closePath()}},G1={draw(t,e){const n=Pt(e-Qf(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},q_=[ii,R1,$1,q1,V1,H1,X1],j_=[ii,z1,G1,Y1,P1,j1,U1];function xn(){}function Oa(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function go(t){this._context=t}go.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oa(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function W_(t){return new go(t)}function Z1(t){this._context=t}Z1.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Oa(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V_(t){return new Z1(t)}function K1(t){this._context=t}K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Oa(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function H_(t){return new K1(t)}function J1(t,e){this._basis=new go(t),this._beta=e}J1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,s=e[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*a),this._beta*e[f]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Y_=function t(e){function n(r){return e===1?new go(r):new J1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Pa(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function tu(t,e){this._context=t,this._k=(1-e)/6}tu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Pa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Pa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const X_=function t(e){function n(r){return new tu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function eu(t,e){this._context=t,this._k=(1-e)/6}eu.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Pa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const G_=function t(e){function n(r){return new eu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function nu(t,e){this._context=t,this._k=(1-e)/6}nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Pa(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Z_=function t(e){function n(r){return new nu(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ru(t,e,n){var r=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>il){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>il){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/l,s=(s*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,a,s,t._x2,t._y2)}function Q1(t,e){this._context=t,this._alpha=e}Q1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ru(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const K_=function t(e){function n(r){return e?new Q1(r,e):new tu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function tg(t,e){this._context=t,this._alpha=e}tg.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ru(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const J_=function t(e){function n(r){return e?new tg(r,e):new eu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function eg(t,e){this._context=t,this._alpha=e}eg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ru(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Q_=function t(e){function n(r){return e?new eg(r,e):new nu(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function ng(t){this._context=t}ng.prototype={areaStart:xn,areaEnd:xn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function t3(t){return new ng(t)}function al(t){return t<0?-1:1}function ol(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(al(a)+al(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function sl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function is(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,f=(a-r)/3;t._context.bezierCurveTo(r+f,i+f*e,a-f,s-f*n,a,s)}function Ra(t){this._context=t}Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:is(this,this._t0,sl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,is(this,sl(this,n=ol(this,t,e)),n);break;default:is(this,this._t0,n=ol(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rg(t){this._context=new ig(t)}(rg.prototype=Object.create(Ra.prototype)).point=function(t,e){Ra.prototype.point.call(this,e,t)};function ig(t){this._context=t}ig.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function e3(t){return new Ra(t)}function n3(t){return new rg(t)}function ag(t){this._context=t}ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fl(t),i=fl(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fl(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function r3(t){return new ag(t)}function mo(t,e){this._context=t,this._t=e}mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function i3(t){return new mo(t,.5)}function a3(t){return new mo(t,0)}function o3(t){return new mo(t,1)}function Tn(t){return t!=null&&!Number.isNaN(t)}function qe(t,e){return+Tn(e)-+Tn(t)||Qt(t,e)}function Ba(t,e){return+Tn(e)-+Tn(t)||di(t,e)}function iu(t){return t!=null&&`${t}`!=""}function og(t){return isFinite(t)?t:NaN}function po(t){return t>0&&isFinite(t)?t:NaN}function au(t){return t<0&&isFinite(t)?t:NaN}function s3(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${f3(t.getUTCFullYear())}-${en(t.getUTCMonth()+1,2)}-${en(t.getUTCDate(),2)}${n||r||i||a?`T${en(n,2)}:${en(r,2)}${i||a?`:${en(i,2)}${a?`.${en(a,3)}`:""}`:""}Z`:""}`}function f3(t){return t<0?`-${en(-t,6)}`:t>9999?`+${en(t,6)}`:en(t,4)}function en(t,e){return`${t}`.padStart(e,"0")}const u3=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function sg(t,e){return u3.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function wr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return di(e,n)}const ur=1e3,mn=ur*60,pn=mn*60,je=pn*24,Ie=je*7,Pn=je*30,cn=je*365,as=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",ur],["5 seconds",5*ur],["15 seconds",15*ur],["30 seconds",30*ur],["minute",mn],["5 minutes",5*mn],["15 minutes",15*mn],["30 minutes",30*mn],["hour",pn],["3 hours",3*pn],["6 hours",6*pn],["12 hours",12*pn],["day",je],["2 days",2*je],["week",Ie],["2 weeks",2*Ie],["month",Pn],["3 months",3*Pn],["6 months",6*Pn],["year",cn],["2 years",2*cn],["5 years",5*cn],["10 years",10*cn],["20 years",20*cn],["50 years",50*cn],["100 years",100*cn]],ou=new Map([["second",ur],["minute",mn],["hour",pn],["day",je],["monday",Ie],["tuesday",Ie],["wednesday",Ie],["thursday",Ie],["friday",Ie],["saturday",Ie],["sunday",Ie],["week",Ie],["month",Pn],["year",cn]]),fg=new Map([["second",Me],["minute",pi],["hour",yi],["day",Yn],["monday",ni],["tuesday",f0],["wednesday",u0],["thursday",qn],["friday",c0],["saturday",l0],["sunday",yr],["week",yr],["month",wi],["year",xe]]),su=new Map([["second",Me],["minute",bi],["hour",_i],["day",so],["monday",ri],["tuesday",d0],["wednesday",h0],["thursday",jn],["friday",g0],["saturday",m0],["sunday",_r],["week",_r],["month",vi],["year",Te]]),Si=Symbol("intervalDuration"),bo=Symbol("intervalType");for(const[t,e]of fg)e[Si]=ou.get(t),e[bo]="time";for(const[t,e]of su)e[Si]=ou.get(t),e[bo]="utc";const Vr=[["year",Te,"utc"],["month",vi,"utc"],["day",so,"utc",6*Pn],["hour",_i,"utc",3*je],["minute",bi,"utc",6*pn],["second",Me,"utc",30*mn]],Qi=[["year",xe,"time"],["month",wi,"time"],["day",Yn,"time",6*Pn],["hour",yi,"time",3*je],["minute",pi,"time",6*pn],["second",Me,"time",30*mn]],c3=[Vr[0],Qi[0],Vr[1],Qi[1],Vr[2],Qi[2],...Vr.slice(3)];function ug(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=su.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function cg(t){return dg(ug(t),"time")}function lg(t){return dg(ug(t),"utc")}function dg([t,e],n){let r=(n==="time"?fg:su).get(t);return e>1&&(r=r.every(e),r[Si]=ou.get(t)*e,r[bo]=n),r}function ul(t,e){if(!(e>1))return;const n=t[Si];if(!as.some(([,i])=>i===n)||n%je===0&&je<n&&n<Pn)return;const[r]=as[Za(([,i])=>Math.log(i)).center(as,Math.log(n*e))];return(t[bo]==="time"?cg:lg)(r)}function cl(t,e,n){const r=e==="time"?Kf:Mi;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=l3(n);switch(t){case"millisecond":return rr(r(".%L"),r(":%M:%S"),i);case"second":return rr(r(":%S"),r("%-I:%M"),i);case"minute":return rr(r("%-I:%M"),r("%p"),i);case"hour":return rr(r("%-I %p"),r("%b %-d"),i);case"day":return rr(r("%-d"),r("%b"),i);case"month":return rr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function l3(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function d3(t){return t==="time"?Qi:t==="utc"?Vr:c3}function h3(t,e,n){const r=ae(s2(e,(i,a)=>Math.abs(a-i)));if(r<1e3)return cl("millisecond","utc",n);for(const[i,a,s,f]of d3(t)){if(r>f||i==="hour"&&!r)break;if(e.every(u=>a.floor(u)>=u))return cl(i,s,n)}}function rr(t,e,n){return(r,i,a)=>{const s=t(r,i),f=e(r,i),u=i-wr(a);return i!==u&&a[u]!==void 0&&f===e(a[u],u)?s:n(s,f)}}const ai=Object.getPrototypeOf(Uint8Array),g3=Object.prototype.toString,hg=Symbol("reindex");function pe(t,e,n){const r=typeof e;return r==="string"?ll(t,gg(e),n):r==="function"?ll(t,e,n):r==="number"||e instanceof Date||r==="boolean"?$t(t,xi(e),n):typeof(e==null?void 0:e.transform)=="function"?dl(e.transform(t),n):m3(dl(e,n),t==null?void 0:t[hg])}function m3(t,e){return e?uu(t,e):t}function ll(t,e,n){return $t(t,(n==null?void 0:n.prototype)instanceof ai?p3(e):e,n)}function dl(t,e){return e===void 0?se(t):t instanceof e?t:e.prototype instanceof ai&&!(t instanceof ai)?e.from(t,fu):e.from(t)}function p3(t){return(e,n)=>fu(t(e,n))}const ta=[null],gg=t=>e=>e[t],mg={transform:An},_e={transform:t=>t},b3=()=>1,y3=()=>!0,Wt=t=>t==null?t:`${t}`,At=t=>t==null?t:+t,pg=t=>t?t[0]:void 0,_3=t=>t?t[1]:void 0,xi=t=>()=>t;function w3(t){const e=+`${t}`.slice(1)/100;return(n,r)=>la(n,e,r)}function bn(t){return t instanceof ai?t:$t(t,fu,Float64Array)}function fu(t){return t==null?NaN:Number(t)}function v3(t){return $t(t,M3)}function M3(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?sg(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Wn(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:wo(t)?[void 0,t]:[t,void 0]}function Vt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function bg(t,e,n){if(t!=null)return Ae(t,e,n)}function Ae(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function se(t){return t==null||t instanceof Array||t instanceof ai?t:Array.from(t)}function $t(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function oi(t,e=Array){return t instanceof e?t.slice():e.from(t)}function yg({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function S3({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function x3(t){return yg(t)||S3(t)||t.interval!==void 0}function Zn(t){return(t==null?void 0:t.toString)===g3}function $a(t){return Zn(t)&&(t.type!==void 0||t.domain!==void 0)}function yo(t){return Zn(t)&&typeof t.transform!="function"}function vr(t){return yo(t)&&t.value===void 0&&t.channel===void 0}function T3(t,e,n,r=_e){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function Ti(t,e){return t===void 0&&e===void 0?[pg,_3]:[t,e]}function _g({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Wn(e)),t===void 0&&([t]=Wn(n)),t}function An(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function uu(t,e){return $t(e,n=>t[n],t.constructor)}function k3(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Ln(t){return t!==null&&typeof t=="object"?t.valueOf():t}function pf(t){let e;return[{transform:()=>e,label:ki(t)},n=>e=n]}function A3(t){return t==null?[t]:pf(t)}function ki(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function E3(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return ye(r)||ye(i)?$t(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):$t(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:t.label}}function C3(t,e){const n=wg(e==null?void 0:e.interval,e==null?void 0:e.type);return n?$t(t,n):t}function wg(t,e){const n=cu(t,e);return n&&(r=>Tn(r)?n.floor(r):r)}function cu(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>$s(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>$s(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof t=="string")return(e==="time"?cg:lg)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Ai(t,e){if(t=cu(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function N3(t,e){if(t=Ai(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function D3(t){return typeof(t==null?void 0:t.range)=="function"}function _o(t){return t===void 0||yo(t)?t:{value:t}}function I3(t){return t==null?null:{transform:e=>pe(e,t,Float64Array),label:ki(t)}}function Kn(t){return t&&typeof t[Symbol.iterator]=="function"}function vg(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function hl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function ye(t){for(const e of t)if(e!=null)return e instanceof Date}function L3(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&sg(e)}function F3(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function O3(t){for(const e of t)if(e!=null)return typeof e=="number"}function os(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const P3=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function wo(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||P3.has(t))}function R3(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Gt(t){return t==null||si(t)}function si(t){return/^\s*none\s*$/i.test(t)}function B3(t){return/^\s*round\s*$/i.test(t)}function bf(t,e){return bg(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function vo(t="middle"){return bf(t,"frameAnchor")}function $3(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const a=r[i];n===t?n={...n,[i]:a}:n[i]=a}return n}function U3(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function Mg(t){return Kn(t)?U3(t):t}function Sg(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Ae(t,"clip",["frame","sphere"])),t}const Pe=Symbol("position"),fn=Symbol("color"),Ei=Symbol("radius"),Ci=Symbol("length"),Ni=Symbol("opacity"),Mo=Symbol("symbol"),xg=Symbol("projection"),Et=new Map([["x",Pe],["y",Pe],["fx",Pe],["fy",Pe],["r",Ei],["color",fn],["opacity",Ni],["symbol",Mo],["length",Ci],["projection",xg]]);function z3(t){return t===Pe||t===xg}function q3(t){return t===Pe||t===Ei||t===Ci||t===Ni}const j3=Math.sqrt(3),W3=2/j3,V3={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*W3,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},lu=new Map([["asterisk",P1],["circle",ii],["cross",R1],["diamond",$1],["diamond2",U1],["hexagon",V3],["plus",z1],["square",q1],["square2",j1],["star",V1],["times",G1],["triangle",H1],["triangle2",Y1],["wye",X1]]);function du(t){return t&&typeof t.draw=="function"}function H3(t){return du(t)?!0:typeof t!="string"?!1:lu.has(t.toLowerCase())}function hu(t){if(t==null||du(t))return t;const e=lu.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Y3(t){if(t==null||du(t))return[void 0,t];if(typeof t=="string"){const e=lu.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function gu({filter:t,sort:e,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(t!=null&&(r=Tg(t)),e!=null&&!vr(e)&&(r=ss(r,mu(e))),n&&(r=ss(r,kg))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||vr(e))&&{sort:e},transform:ss(r,s)}}function Mr({filter:t,sort:e,reverse:n,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=Tg(t)),e!=null&&!vr(e)&&(r=fs(r,mu(e))),n&&(r=fs(r,kg))),{...i,...(e===null||vr(e))&&{sort:e},initializer:fs(r,a)}}function ss(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,se(n),r,i)}}function fs(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...a){let s,f,u,c,l,h;return{data:f=n,facets:u=r,channels:s}=t.call(this,n,r,i,...a),{data:l=f,facets:h=u,channels:c}=e.call(this,f,u,{...i,...s},...a),{data:l,facets:h,channels:{...s,...c}}}}function X3(t,e){return(t.initializer!=null?Mr:gu)(t,e)}function Tg(t){return(e,n)=>{const r=pe(e,t);return{data:e,facets:n.map(i=>i.filter(a=>r[a]))}}}function kg(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function G3(t,{sort:e,...n}={}){return{...(yo(t)&&t.channel!==void 0?Mr:X3)(n,mu(t)),sort:vr(e)?e:null}}function mu(t){return(typeof t=="function"&&t.length!==1?Z3:K3)(t)}function Z3(t){return(e,n)=>{const r=(i,a)=>t(e[i],e[a]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function K3(t){let e,n;({channel:e,value:t,order:n}={..._o(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Ba:qe),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=qe;break;case"descending":n=Ba;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(e===void 0)f=pe(i,t);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[e],!f)return{};f=f.value}const u=(c,l)=>n(f[c],f[l]);return{data:i,facets:a.map(c=>c.slice().sort(u))}}}function J3(t,e,n=Q3){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Zn(t))return tw(t);if(typeof t=="function")return ew(t);if(/^p\d{2}$/i.test(t))return Qe(w3(t));switch(`${t}`.toLowerCase()){case"first":return rw;case"last":return iw;case"identity":return nw;case"count":return ml;case"distinct":return aw;case"sum":return e==null?ml:ow;case"proportion":return pl(e,"data");case"proportion-facet":return pl(e,"facet");case"deviation":return Qe(Gb);case"min":return Qe(Ue);case"min-index":return Qe(n2);case"max":return Qe(ae);case"max-index":return Qe(e2);case"mean":return gl(i2);case"median":return gl(Bs);case"variance":return Qe(Xd);case"mode":return Qe(o2)}return n(t)}function Q3(t){throw new Error(`invalid reduce: ${t}`)}function tw(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function ew(t){return{reduceIndex(e,n,r){return t(uu(n,e),r)}}}function Qe(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function gl(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return ye(n)?new Date(r):r}}}const nw={reduceIndex(t,e){return uu(e,t)}},rw={reduceIndex(t,e){return e[t[0]]}},iw={reduceIndex(t,e){return e[t[t.length-1]]}},ml={label:"Frequency",reduceIndex(t){return t.length}},aw={label:"Distinct",reduceIndex(t,e){const n=new Ka;for(const r of t)n.add(e[r]);return n.size}},ow=Qe(Un);function pl(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>Un(n,a=>r[a])/i}}function fi(t,{scale:e,type:n,value:r,filter:i,hint:a,label:s=ki(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Ag(f,{scale:e,type:n,value:pe(t,r),label:s,filter:i,hint:a})}function sw(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,fi(e,r,n)]))}function fw(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const s=i==null?null:e[i];return[r,s==null?a:$t(a,s)]}));return n.channels=t,n}function Ag(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&os(r,wo)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&os(r,R3)?null:"opacity";break;case"symbol":n!==!0&&os(r,H3)?(e.scale=null,e.value=$t(r,hu)):e.scale="symbol";break;default:e.scale=Et.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Et.has(n))throw new Error(`unknown scale: ${n}`);return e}function uw(t,e,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:u}=i;for(const c in i){if(!Et.has(c))continue;let{value:l,order:h=a,reverse:d=s,reduce:g=f,limit:p=u}=_o(i[c]);const m=l==null?void 0:l.startsWith("-");if(m&&(l=l.slice(1)),h=h===void 0?m!==(l==="width"||l==="height")?Cg:Eg:dw(h),g==null||g===!1)continue;const b=c==="fx"||c==="fy"?lw(e,r[c]):cw(n,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const y=b.value,[_=0,v=1/0]=Kn(p)?p:p<0?[p]:[0,p];if(l==null)b.domain=()=>{let w=Array.from(new Ka(y));return d&&(w=w.reverse()),(_!==0||v!==1/0)&&(w=w.slice(_,v)),w};else{const w=l==="data"?t:l==="height"?bl(n,"y1","y2"):l==="width"?bl(n,"x1","x2"):yf(n,l,l==="y"?"y2":l==="x"?"x2":void 0),M=J3(g===!0?"max":g,w);b.domain=()=>{let S=Zb(An(y),T=>M.reduceIndex(T,w),T=>y[T]);return h&&S.sort(h),d&&S.reverse(),(_!==0||v!==1/0)&&(S=S.slice(_,v)),S.map(pg)}}}}function cw(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function lw(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of t[a])i[f]=s}return e}function bl(t,e,n){const r=yf(t,e),i=yf(t,n);return $t(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function yf(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function dw(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Eg;case"descending":return Cg}throw new Error(`invalid order: ${t}`)}function Eg([t,e],[n,r]){return qe(e,r)||qe(t,n)}function Cg([t,e],[n,r]){return Ba(e,r)||qe(t,n)}function yl(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function pu(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Sg(n)}}function Rt(t,{document:e}){return Xt(zd(t).call(e.documentElement))}let _f=0,wf;function hw(){const t=_f;return _f=0,wf=void 0,t}function wn(t){t!==wf&&(wf=t,console.warn(t),++_f)}const Ng=Math.PI,Ze=2*Ng,_l=.618;function gw({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},s){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(Zn(t)){let M;if({type:t,domain:u,inset:M,insetTop:n=M!==void 0?M:n,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Dg(t));const{width:l,height:h,marginLeft:d,marginRight:g,marginTop:p,marginBottom:m}=s,b=l-d-g-a-r,y=h-p-m-n-i;if(t=t==null?void 0:t({width:b,height:y,clip:c,...f}),t==null)return;c=mw(c,d,p,l-g,h-m);let _=d+a,v=p+n,w;if(u!=null){const[[M,S],[T,A]]=to(t).bounds(u),N=Math.min(b/(T-M),y/(A-S));N>0?(_-=(N*(M+T)-b)/2,v-=(N*(S+A)-y)/2,w=ff({point(k,x){this.stream.point(k*N+_,x*N+v)}})):wn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=_===0&&v===0?Ig():ff({point(M,S){this.stream.point(M+_,S+v)}})),{stream:M=>t.stream(w.stream(c(M)))}}function Dg(t){switch(`${t}`.toLowerCase()){case"albers-usa":return we(Ly,.7463,.4673);case"albers":return Wi(Uh,.7463,.4673);case"azimuthal-equal-area":return we(Fy,4,4);case"azimuthal-equidistant":return we(Oy,Ze,Ze);case"conic-conformal":return Wi(By,Ze,Ze);case"conic-equal-area":return Wi(Aa,6.1702,2.9781);case"conic-equidistant":return Wi(zy,7.312,3.6282);case"equal-earth":return we(jy,5.4133,2.6347);case"equirectangular":return we($y,Ze,Ng);case"gnomonic":return we(Wy,3.4641,3.4641);case"identity":return{type:Ig};case"reflect-y":return{type:pw};case"mercator":return we(Py,Ze,Ze);case"orthographic":return we(Vy,2,2);case"stereographic":return we(Hy,2,2);case"transverse-mercator":return we(Yy,Ze,Ze);default:throw new Error(`unknown projection type: ${t}`)}}function mw(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return xh(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function we(t,e,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var c,l,h;const u=t();return s!=null&&((c=u.precision)==null||c.call(u,s)),a!=null&&((l=u.rotate)==null||l.call(u,a)),typeof f=="number"&&((h=u.clipAngle)==null||h.call(u,f)),u.scale(Math.min(r/e,i/n)),u.translate([r/2,i/2]),u},aspectRatio:n/e}}function Wi(t,e,n){const{type:r,aspectRatio:i}=we(t,e,n);return{type:a=>{const{parallels:s,domain:f,width:u,height:c}=a,l=r(a);return s!=null&&(l.parallels(s),f===void 0&&l.fitSize([u,c],{type:"Sphere"})),l},aspectRatio:i}}const Ig=xi({stream:t=>t}),pw=xi(ff({point(t,e){this.stream.point(t,-e)}}));function bw(t,e,n,r){const i=n[t],a=n[e],s=i.length,f=n[t]=new Float64Array(s).fill(NaN),u=n[e]=new Float64Array(s).fill(NaN);let c;const l=r.stream({point(h,d){f[c]=h,u[c]=d}});for(c=0;c<s;++c)l.point(i[c],a[c])}function yw({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Zn(t)&&(t=t.type),t!=null)}function _w(t){if(typeof(t==null?void 0:t.stream)=="function")return _l;if(Zn(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=Dg(t);if(e)return e}return _l}}function ww(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},a={point(s,f){e.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of t.value)In(s,a);return[r,i]}const Lg=new Map([["accent",p_],["category10",T0],["dark2",b_],["observable10",y_],["paired",__],["pastel1",w_],["pastel2",v_],["set1",M_],["set2",S_],["set3",x_],["tableau10",T_]]);function vw(t){return t!=null&&Lg.has(`${t}`.toLowerCase())}const wl=new Map([...Lg,["brbg",Ke(k0,A0)],["prgn",Ke(E0,C0)],["piyg",Ke(N0,D0)],["puor",Ke(I0,L0)],["rdbu",Ke(hf,Da)],["rdgy",Ke(F0,O0)],["rdylbu",Ke(gf,Ia)],["rdylgn",Ke(P0,R0)],["spectral",Ke(B0,$0)],["burd",vl(hf,Da)],["buylrd",vl(gf,Ia)],["blues",Bt(c1,l1)],["greens",Bt(d1,h1)],["greys",Bt(g1,m1)],["oranges",Bt(w1,v1)],["purples",Bt(p1,b1)],["reds",Bt(y1,_1)],["turbo",Je(E1)],["viridis",Je(C1)],["magma",Je(N1)],["inferno",Je(D1)],["plasma",Je(I1)],["cividis",Je(M1)],["cubehelix",Je(S1)],["warm",Je(x1)],["cool",Je(T1)],["bugn",Bt(U0,z0)],["bupu",Bt(q0,j0)],["gnbu",Bt(W0,V0)],["orrd",Bt(H0,Y0)],["pubu",Bt(Z0,K0)],["pubugn",Bt(X0,G0)],["purd",Bt(J0,Q0)],["rdpu",Bt(t1,e1)],["ylgn",Bt(i1,a1)],["ylgnbu",Bt(n1,r1)],["ylorbr",Bt(o1,s1)],["ylorrd",Bt(f1,u1)],["rainbow",Ml(k1)],["sinebow",Ml(A1)]]);function Bt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Se(e,n):t[n])}function Ke(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Se(e,n):t[n])}function vl(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Se(r=>e(1-r),n):t[n].slice().reverse())}function Je(t){return({length:e})=>Se(t,Math.max(2,Math.floor(e)))}function Ml(t){return({length:e})=>Se(t,Math.floor(e)+1).slice(0,-1)}function Fg(t){const e=`${t}`.toLowerCase();if(!wl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return wl.get(e)}function So(t,e){const n=Fg(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function Mw(t,e="greys"){const n=new Set,[r,i]=So(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Sl=new Map([["brbg",A0],["prgn",C0],["piyg",D0],["puor",L0],["rdbu",Da],["rdgy",O0],["rdylbu",Ia],["rdylgn",R0],["spectral",$0],["burd",t=>Da(1-t)],["buylrd",t=>Ia(1-t)],["blues",l1],["greens",h1],["greys",m1],["purples",b1],["reds",_1],["oranges",v1],["turbo",E1],["viridis",C1],["magma",N1],["inferno",D1],["plasma",I1],["cividis",M1],["cubehelix",S1],["warm",x1],["cool",T1],["bugn",z0],["bupu",j0],["gnbu",V0],["orrd",Y0],["pubugn",G0],["pubu",K0],["purd",Q0],["rdpu",e1],["ylgnbu",r1],["ylgn",a1],["ylorbr",s1],["ylorrd",u1],["rainbow",k1],["sinebow",A1]]);function bu(t){const e=`${t}`.toLowerCase();if(!Sl.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Sl.get(e)}const Sw=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function xw(t){return t!=null&&Sw.has(`${t}`.toLowerCase())}const Og=t=>e=>t(1-e),us=[0,1],xl=new Map([["number",Mn],["rgb",Jr],["hsl",C2],["hcl",I2],["lab",N2]]);function Pg(t){const e=`${t}`.toLowerCase();if(!xl.has(e))throw new Error(`unknown interpolator: ${e}`);return xl.get(e)}function Di(t,e,n,{type:r,nice:i,clamp:a,zero:s,domain:f=Bg(t,n),unknown:u,round:c,scheme:l,interval:h,range:d=Et.get(t)===Ei?Ow(n,f):Et.get(t)===Ci?Pw(n,f):Et.get(t)===Ni?us:void 0,interpolate:g=Et.get(t)===fn?l==null&&d!==void 0?Jr:bu(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):c?zf:Mn,reverse:p}){if(h=Ai(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof g!="function"&&(g=Pg(g)),p=!!p,d!==void 0){const m=(f=se(f)).length,b=(d=se(d)).length;if(m!==b){if(g.length===1)throw new Error("invalid piecewise interpolator");g=Qa(g,d),d=void 0}}if(g.length===1?(p&&(g=Og(g),p=!1),d===void 0&&(d=Float64Array.from(f,(m,b)=>b/(f.length-1)),d.length===2&&(d=us)),e.interpolate((d===us?xi:_u)(g))):e.interpolate(g),s){const[m,b]=_n(f);(m>0||b<0)&&(f=oi(f),wr(f)!==Math.sign(m)?f[f.length-1]=0:f[0]=0)}return p&&(f=da(f)),e.domain(f).unknown(u),i&&(e.nice(Tw(i,r)),f=e.domain()),d!==void 0&&e.range(d),a&&e.clamp(a),{type:r,domain:f,range:d,scale:e,interpolate:g,interval:h}}function Tw(t,e){return t===!0?void 0:typeof t=="number"?t:N3(t,e)}function kw(t,e,n){return Di(t,Gf(),e,n)}function Aw(t,e,n){return Rg(t,e,{...n,exponent:.5})}function Rg(t,e,{exponent:n=1,...r}){return Di(t,a0().exponent(n),e,{...r,type:"pow"})}function Ew(t,e,{base:n=10,domain:r=Rw(e),...i}){return Di(t,e0().base(n),e,{...i,domain:r})}function Cw(t,e,{constant:n=1,...r}){return Di(t,r0().constant(n),e,r)}function Nw(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=Bw(e),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?Se(u,i):Et.get(t)===fn?So(a,i):void 0),s.length>0&&(s=o0(s,n===void 0?{length:i}:n).quantiles()),yu(t,e,{domain:s,range:n,reverse:c,unknown:f})}function Dw(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Bg(t,e),unknown:s,interpolate:f,reverse:u}){const[c,l]=_n(a);let h;return n===void 0?(h=ca(c,l,r),h[0]<=c&&h.splice(0,1),h[h.length-1]>=l&&h.pop(),r=h.length+1,n=f!==void 0?Se(f,r):Et.get(t)===fn?So(i,r):void 0):(h=Se(Mn(c,l),r+1).slice(1,-1),c instanceof Date&&(h=h.map(d=>new Date(d)))),wr(se(a))<0&&h.reverse(),yu(t,e,{domain:h,range:n,reverse:u,unknown:s})}function yu(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?Se(a,n.length+1):Et.get(t)===fn?So(i,n.length+1):void 0,reverse:f}){n=se(n);const u=wr(n);if(!isNaN(u)&&!Iw(n,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(s=da(s)),{type:"threshold",scale:s0(u<0?da(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function Iw(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const a=di(i,i=t[n]);if(a!==0&&a!==e)return!1}return!0}function Lw(t){return{type:"identity",scale:q3(Et.get(t))?Jh():e=>e}}function ui(t,e=og){return t.length?[Ue(t,({value:n})=>n===void 0?n:Ue(n,e)),ae(t,({value:n})=>n===void 0?n:ae(n,e))]:[0,1]}function Bg(t,e){const n=Et.get(t);return(n===Ei||n===Ni||n===Ci?Fw:ui)(e)}function Fw(t){return[0,t.length?ae(t,({value:e})=>e===void 0?e:ae(e,og)):1]}function Ow(t,e){const n=t.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=la(t,.5,({value:s})=>s===void 0?NaN:la(s,.25,po)),i=e.map(s=>3*Math.sqrt(s/r)),a=30/ae(i);return a<1?i.map(s=>s*a):i}function Pw(t,e){const n=Bs(t,({value:a})=>a===void 0?NaN:Bs(a,Math.abs)),r=e.map(a=>12*a/n),i=60/ae(r);return i<1?r.map(a=>a*i):r}function Rw(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ui(t,po);if(n<0)return ui(t,au)}return[1,10]}function Bw(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function _u(t){return(e,n)=>r=>t(e+r*(n-e))}function xo(t,e,n,r,{type:i,nice:a,clamp:s,domain:f=ui(r),unknown:u,pivot:c=0,scheme:l,range:h,symmetric:d=!0,interpolate:g=Et.get(t)===fn?l==null&&h!==void 0?Jr:bu(l!==void 0?l:"rdbu"):Mn,reverse:p}){c=+c,f=se(f);let[m,b]=f;if(f.length>2&&wn(`Warning: the diverging ${t} scale domain contains extra elements.`),di(m,b)<0&&([m,b]=[b,m],p=!p),m=Math.min(m,c),b=Math.max(b,c),typeof g!="function"&&(g=Pg(g)),h!==void 0&&(g=g.length===1?_u(g)(...h):Qa(g,h)),p&&(g=Og(g)),d){const y=n.apply(c),_=y-n.apply(m),v=n.apply(b)-y;_<v?m=n.invert(y-v):_>v&&(b=n.invert(y+_))}return e.domain([m,c,b]).unknown(u).interpolator(g),s&&e.clamp(s),a&&e.nice(a),{type:i,domain:[m,b],pivot:c,interpolate:g,scale:e}}function $w(t,e,n){return xo(t,v0(),jw,e,n)}function Uw(t,e,n){return $g(t,e,{...n,exponent:.5})}function $g(t,e,{exponent:n=1,...r}){return xo(t,x0().exponent(n=+n),Hw(n),e,{...r,type:"diverging-pow"})}function zw(t,e,{base:n=10,pivot:r=1,domain:i=ui(e,r<0?au:po),...a}){return xo(t,M0().base(n=+n),Ww,e,{domain:i,pivot:r,...a})}function qw(t,e,{constant:n=1,...r}){return xo(t,S0().constant(n=+n),Yw(n),e,r)}const jw={apply(t){return t},invert(t){return t}},Ww={apply:Math.log,invert:Math.exp},Vw={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function Hw(t){return t===.5?Vw:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function Yw(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Ug(t,e,n,r){return Di(t,e,n,r)}function Xw(t,e,n){return Ug(t,g_(),e,n)}function Gw(t,e,n){return Ug(t,m_(),e,n)}const Ii=Symbol("ordinal");function zg(t,e,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:u}){return i=Ai(i,r),a===void 0&&(a=jg(n,i,t)),(r==="categorical"||r===Ii)&&(r="ordinal"),f&&(a=da(a)),a=e.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),e.range(s)),{type:r,domain:a,range:s,scale:e,hint:u,interval:i}}function Zw(t,e,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...u}){r=Ai(r,n),i===void 0&&(i=jg(e,r,t));let c;if(Et.get(t)===Mo)c=Qw(e),a=a===void 0?t5(c):$t(a,hu);else if(Et.get(t)===fn&&(a===void 0&&(n==="ordinal"||n===Ii)&&(a=Mw(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"observable10"),s!==void 0))if(a!==void 0){const l=bu(s),h=a[0],d=a[1]-a[0];a=({length:g})=>Se(p=>l(h+d*p),g)}else a=Fg(s);if(f===cf)throw new Error(`implicit unknown on ${t} scale is not supported`);return zg(t,Xf().unknown(f),e,{...u,type:n,domain:i,range:a,hint:c})}function Kw(t,e,{align:n=.5,padding:r=.5,...i}){return qg(Xy().align(n).padding(r),e,i,t)}function Jw(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...s}){return qg(io().align(n).paddingInner(i).paddingOuter(a),e,s,t)}function qg(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=zg(r,t,e,n),t.round=i,t}function jg(t,e,n){const r=new Ka;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(e!==void 0){const[i,a]=_n(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&Et.get(n)===Pe)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Os(r,qe)}function Tl(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function Qw(t){return{fill:Tl(t,"fill"),stroke:Tl(t,"stroke")}}function t5(t){return Gt(t.fill)?j_:q_}function vf(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:u,clamp:c,zero:l,align:h,padding:d,projection:g,facet:{label:p=e}={},...m}={}){const b={};for(const[y,_]of t){const v=m[y],w=Yg(y,_,{round:Et.get(y)===Pe?f:void 0,nice:u,clamp:c,zero:l,align:h,padding:d,projection:g,...v});if(w){let{label:M=y==="fx"||y==="fy"?p:e,percent:S,transform:T,inset:A,insetTop:N=A!==void 0?A:y==="y"?r:0,insetRight:k=A!==void 0?A:y==="x"?i:0,insetBottom:x=A!==void 0?A:y==="y"?a:0,insetLeft:L=A!==void 0?A:y==="x"?s:0}=v||{};if(T==null)T=void 0;else if(typeof T!="function")throw new Error("invalid scale transform; not a function");w.percent=!!S,w.label=M===void 0?n5(_,w):M,w.transform=T,y==="x"||y==="fx"?(w.insetLeft=+L,w.insetRight=+k):(y==="y"||y==="fy")&&(w.insetTop=+N,w.insetBottom=+x),b[y]=w}}return b}function kl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:a,type:s,interval:f,label:u}=i;e[r]=Gg(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),u!=null&&(a.label=u)}return n}function e5(t,e){const{x:n,y:r,fx:i,fy:a}=t,s=i||a?wu(e):e;i&&Al(i,s),a&&El(a,s);const f=i||a?Wg(t,e):e;n&&Al(n,f),r&&El(r,f)}function n5(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Jn(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function r5(t){return Math.sign(wr(t.domain()))*Math.sign(wr(t.range()))}function wu(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:l}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,l),width:a,height:s}}function Wg({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:u}=wu(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:t?t.scale.bandwidth()+s+i:f,height:e?e.scale.bandwidth()+r+a:u,facet:{width:f,height:u}}}function Al(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:s=0}=e,f=a+n,u=i-s-r;t.range=[f,Math.max(f,u)],Jn(t)||(t.range=Hg(t)),t.scale.range(t.range)}Vg(t)}function El(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:s=0}=e,f=a+n,u=i-s-r;t.range=[Math.max(f,u),f],Jn(t)?t.range.reverse():t.range=Hg(t),t.scale.range(t.range)}Vg(t)}function Vg(t){t.round===void 0&&s5(t)&&i5(t)<=30&&t.scale.round(!0)}function i5({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),s=e-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function Hg(t){const e=t.scale.domain().length+Xg(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,a)=>n+a/(e-1)*(r-n))}function a5(t,e,n){return Yg(t,n===void 0?void 0:[{hint:n}],{...e})}function Yg(t,e=[],n={}){const r=o5(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Jn({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(ye)?wn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ir(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`):i.some(L3)?wn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ir(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`):i.some(F3)&&wn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ir(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ir(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Vi(e,n,bn);break;case"identity":switch(Et.get(t)){case Pe:n=Vi(e,n,bn);break;case Mo:n=Vi(e,n,f5);break}break;case"utc":case"time":n=Vi(e,n,v3);break}switch(r){case"diverging":return $w(t,e,n);case"diverging-sqrt":return Uw(t,e,n);case"diverging-pow":return $g(t,e,n);case"diverging-log":return zw(t,e,n);case"diverging-symlog":return qw(t,e,n);case"categorical":case"ordinal":case Ii:return Zw(t,e,n);case"cyclical":case"sequential":case"linear":return kw(t,e,n);case"sqrt":return Aw(t,e,n);case"threshold":return yu(t,e,n);case"quantile":return Nw(t,e,n);case"quantize":return Dw(t,e,n);case"pow":return Rg(t,e,n);case"log":return Ew(t,e,n);case"symlog":return Cw(t,e,n);case"utc":return Gw(t,e,n);case"time":return Xw(t,e,n);case"point":return Kw(t,e,n);case"band":return Jw(t,e,n);case"identity":return Lw(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ir(t){return typeof t=="symbol"?t.description:t}function Cl(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Nl={toString:()=>"projection"};function o5(t,e,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(n=Cl(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Nl);for(const c of e){const l=Cl(c.type);if(l!==void 0){if(n===void 0)n=l;else if(n!==l)throw new Error(`scale incompatible with channel: ${n} !== ${l}`)}}if(n===Nl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:c})=>c!==void 0))return;const u=Et.get(t);if(u===Ei)return"sqrt";if(u===Ni||u===Ci)return"linear";if(u===Mo)return"ordinal";if((r||i||[]).length>2)return cs(u);if(r!==void 0){if(hl(r))return cs(u);if(ye(r))return"utc"}else{const c=e.map(({value:l})=>l).filter(l=>l!==void 0);if(c.some(hl))return cs(u);if(c.some(ye))return"utc"}if(u===fn){if(s!=null||xw(a))return"diverging";if(vw(a))return"categorical"}return"linear"}function cs(t){switch(t){case Pe:return"point";case fn:return Ii;default:return"ordinal"}}function Jn({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Ii}function Xg({type:t}){return t==="threshold"}function s5({type:t}){return t==="point"||t==="band"}function yn(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function Vi(t,{domain:e,...n},r){var i;for(const a of t)a.value!==void 0&&(e===void 0&&(e=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:e===void 0?e:r(e),...n}}function f5(t){return $t(t,hu)}function Mf(t={}){let e;for(const n in t)if(Et.has(n)&&$a(t[n])){if(e!==void 0)throw new Error("ambiguous scale definition; multiple scales found");e=Gg(a5(n,t[n]))}if(e===void 0)throw new Error("invalid scale definition; no scale found");return e}function u5(t){return e=>{if(!Et.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function Gg({scale:t,type:e,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const c=t.unknown?t.unknown():void 0;return{type:e,domain:oi(n),...r!==void 0&&{range:oi(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...c!==void 0&&{unknown:c},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:l=>t(l),...t.invert&&{invert:l=>t.invert(l)}}}function c5(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,e=t(...r)),e)}const l5=c5(t=>new Intl.NumberFormat(t));function d5(t="en-US"){const e=l5(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function h5(t){return s3(t,"Invalid Date")}function g5(t="en-US"){const e=d5(t);return n=>(n instanceof Date?h5:typeof n=="number"?e:Wt)(n)}const Vn=g5(),re=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let m5=0;function Dl(){return`plot-clip-${++m5}`}function p5(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:u,stroke:c,strokeWidth:l,strokeOpacity:h,strokeLinejoin:d,strokeLinecap:g,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:b,opacity:y,mixBlendMode:_,imageFilter:v,paintOrder:w,pointerEvents:M,shapeRendering:S,channels:T},{ariaLabel:A,fill:N="currentColor",fillOpacity:k,stroke:x="none",strokeOpacity:L,strokeWidth:I,strokeLinecap:R,strokeLinejoin:E,strokeMiterlimit:P,paintOrder:H}){N===null&&(f=null,u=null),x===null&&(c=null,h=null),Gt(N)?!Gt(x)&&(!Gt(f)||T!=null&&T.fill)&&(x="none"):Gt(x)&&(!Gt(c)||T!=null&&T.stroke)&&(N="none");const[Z,Y]=Wn(f,N),[B,U]=Vt(u,k),[$,j]=Wn(c,x),[D,tt]=Vt(h,L),[et,z]=Vt(y);si(j)||(l===void 0&&(l=I),g===void 0&&(g=R),d===void 0&&(d=E),p===void 0&&!B3(d)&&(p=P),!si(Y)&&w===void 0&&(w=H));const[Q,O]=Vt(l);return N!==null&&(t.fill=Ft(Y,"currentColor"),t.fillOpacity=Br(U,1)),x!==null&&(t.stroke=Ft(j,"none"),t.strokeWidth=Br(O,1),t.strokeOpacity=Br(tt,1),t.strokeLinejoin=Ft(d,"miter"),t.strokeLinecap=Ft(g,"butt"),t.strokeMiterlimit=Br(p,4),t.strokeDasharray=Ft(m,"none"),t.strokeDashoffset=Ft(b,"0")),t.target=Wt(s),t.ariaLabel=Wt(A),t.ariaDescription=Wt(i),t.ariaHidden=Wt(a),t.opacity=Br(z,1),t.mixBlendMode=Ft(_,"normal"),t.imageFilter=Ft(v,"none"),t.paintOrder=Ft(w,"normal"),t.pointerEvents=Ft(M,"auto"),t.shapeRendering=Ft(S,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:Z,scale:"auto",optional:!0},fillOpacity:{value:B,scale:"auto",optional:!0},stroke:{value:$,scale:"auto",optional:!0},strokeOpacity:{value:D,scale:"auto",optional:!0},strokeWidth:{value:Q,optional:!0},opacity:{value:et,scale:"auto",optional:!0}}}function b5(t,e){e&&t.filter(n=>iu(e[n])).append("title").call(_5,e)}function y5(t,e){e&&t.filter(([n])=>iu(e[n])).append("title").call(w5,e)}function _5(t,e){e&&t.text(n=>Vn(e[n]))}function w5(t,e){e&&t.text(([n])=>Vn(e[n]))}function un(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&at(t,"aria-label",d=>r[d]),a&&at(t,"fill",d=>a[d]),s&&at(t,"fill-opacity",d=>s[d]),f&&at(t,"stroke",d=>f[d]),u&&at(t,"stroke-opacity",d=>u[d]),c&&at(t,"stroke-width",d=>c[d]),l&&at(t,"opacity",d=>l[d]),h&&Zg(t,d=>h[d],e),n||b5(t,i)}function v5(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:l,href:h}){r&&at(t,"aria-label",([d])=>r[d]),a&&at(t,"fill",([d])=>a[d]),s&&at(t,"fill-opacity",([d])=>s[d]),f&&at(t,"stroke",([d])=>f[d]),u&&at(t,"stroke-opacity",([d])=>u[d]),c&&at(t,"stroke-width",([d])=>c[d]),l&&at(t,"opacity",([d])=>l[d]),h&&Zg(t,([d])=>h[d],e),n||y5(t,i)}function M5({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:u},{tip:c}){return[t,c?void 0:e,n,r,i,a,s,f,u].filter(l=>l!==void 0)}function S5(t,e,n){const r=Pf(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&wn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*x5(t,e,n,r){const{z:i}=n,{z:a}=r,s=M5(r,n),f=[...e,...s];for(const u of a?S5(t,a,i):[t]){let c,l;t:for(const h of u){for(const d of f)if(!Tn(d[h])){l&&l.push(-1);continue t}if(c===void 0){l&&(yield l),c=s.map(d=>Ln(d[h])),l=[h];continue}l.push(h);for(let d=0;d<s.length;++d)if(Ln(s[d][h])!==c[d]){yield l,c=s.map(p=>Ln(p[h])),l=[h];continue t}}l&&(yield l)}}function T5(t,e,n,r){let i;const{clip:a=r.clip}=e;switch(a){case"frame":{const{width:s,height:f,marginLeft:u,marginRight:c,marginTop:l,marginBottom:h}=n,d=Dl();i=`url(#${d})`,t=Rt("svg:g",r).call(g=>g.append("svg:clipPath").attr("id",d).append("rect").attr("x",u).attr("y",l).attr("width",s-c-u).attr("height",f-l-h)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Dl();i=`url(#${f})`,t.append("clipPath").attr("id",f).append("path").attr("d",to(s)({type:"Sphere"}));break}}at(t,"aria-label",e.ariaLabel),at(t,"aria-description",e.ariaDescription),at(t,"aria-hidden",e.ariaHidden),at(t,"clip-path",i)}function Ee(t,e,n,r){T5(t,e,n,r),at(t,"fill",e.fill),at(t,"fill-opacity",e.fillOpacity),at(t,"stroke",e.stroke),at(t,"stroke-width",e.strokeWidth),at(t,"stroke-opacity",e.strokeOpacity),at(t,"stroke-linejoin",e.strokeLinejoin),at(t,"stroke-linecap",e.strokeLinecap),at(t,"stroke-miterlimit",e.strokeMiterlimit),at(t,"stroke-dasharray",e.strokeDasharray),at(t,"stroke-dashoffset",e.strokeDashoffset),at(t,"shape-rendering",e.shapeRendering),at(t,"filter",e.imageFilter),at(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;at(t,"pointer-events",i)}function Ce(t,e){k5(t,"mix-blend-mode",e.mixBlendMode),at(t,"opacity",e.opacity)}function Zg(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(aa.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(aa.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function at(t,e,n){n!=null&&t.attr(e,n)}function k5(t,e,n){n!=null&&t.style(e,n)}function Ne(t,e,{x:n,y:r},i=re,a=re){i+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function Ft(t,e){if((t=Wt(t))!==e)return t}function Br(t,e){if((t=At(t))!==e)return t}const A5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function vu(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!A5.test(t))throw new Error(`invalid class name: ${t}`);return t}function Mu(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function Li({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(t)?s:/right$/.test(t)?e-i:(s+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-a:(r+n-a)/2]}function E5(t,e,n={}){let r=.5-re,i=.5+re,a=.5+re,s=.5-re;for(const{marginTop:m,marginRight:b,marginBottom:y,marginLeft:_}of e)m>r&&(r=m),b>i&&(i=b),y>a&&(a=y),_>s&&(s=_);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:l=f!==void 0?f:a,marginLeft:h=f!==void 0?f:s}=n;u=+u,c=+c,l=+l,h=+h;let{width:d=640,height:g=C5(t,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,u-r+l-a)}=n;d=+d,g=+g;const p={width:d,height:g,marginTop:u,marginRight:c,marginBottom:l,marginLeft:h};if(t.fx||t.fy){let{margin:m,marginTop:b=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:_=m!==void 0?m:l,marginLeft:v=m!==void 0?m:h}=n.facet??{};b=+b,y=+y,_=+_,v=+v,p.facet={marginTop:b,marginRight:y,marginBottom:_,marginLeft:v}}return p}function C5({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:l}){const h=n?n.scale.domain().length:1,d=_w(i);if(d){const p=r?r.scale.domain().length:1,m=(1.1*h-.1)/(1.1*p-.1)*d,b=Math.max(.1,Math.min(10,m));return Math.round((s-l-u)*b+f+c)}const g=e?Jn(e)?e.scale.domain().length:Math.max(7,17/h):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Il("y",e)/(Il("x",t)*a),m=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,y=m*(s-l-u)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/b+f+c}return!!(e||n)*Math.max(1,Math.min(60,g*h))*20+!!r*30+60}function Il(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,s]=_n(r);return Math.abs(i(s)-i(a))}function N5(t,e){const{fx:n,fy:r}=vf(t,e),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Yb(i,a).map(([s,f],u)=>({x:s,y:f,i:u})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function D5(t,{x:e,y:n}){return e&&(e=Sf(e)),n&&(n=Sf(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Su(t,{fx:e,fy:n}){const r=An(t),i=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?Yr(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):e?Yr(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Yr(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function I5(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:a})=>`translate(${t(i)-r},${e(a)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function L5(t){const e=[],n=new Uint32Array(Un(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(n.set(a,i),i+=a.length);e.push(n.slice(0,i))}return e}const F5=new Map([["top",ls],["right",gs],["bottom",ds],["left",hs],["top-left",Hi(ls,hs)],["top-right",Hi(ls,gs)],["bottom-left",Hi(ds,hs)],["bottom-right",Hi(ds,gs)],["top-empty",R5],["right-empty",U5],["bottom-empty",B5],["left-empty",$5],["empty",z5]]);function O5(t){if(t==null)return null;const e=F5.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Ll=new WeakMap;function Sf(t){let e=Ll.get(t);return e||Ll.set(t,e=new $n($t(t,(n,r)=>[n,r]))),e}function En(t,e){return Sf(t).get(e)}function P5(t,e,n){return e=Ln(e),n=Ln(n),t.find(r=>Object.is(Ln(r.x),e)&&Object.is(Ln(r.y),n))}function To(t,e,n){var r;return(r=P5(t,e,n))==null?void 0:r.empty}function ls(t,{y:e},{y:n}){return e?En(e,n)===0:!0}function ds(t,{y:e},{y:n}){return e?En(e,n)===e.length-1:!0}function hs(t,{x:e},{x:n}){return e?En(e,n)===0:!0}function gs(t,{x:e},{x:n}){return e?En(e,n)===e.length-1:!0}function R5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,r);if(a>0)return To(t,n,e[a-1])}function B5(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,r);if(a<e.length-1)return To(t,n,e[a+1])}function $5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,n);if(a>0)return To(t,e[a-1],r)}function U5(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=En(e,n);if(a<e.length-1)return To(t,e[a+1],r)}function z5(t,e,{empty:n}){return n}function Hi(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function ms(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}class ee{constructor(e,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:u,sort:c,dx:l=0,dy:h=0,margin:d=0,marginTop:g=d,marginRight:p=d,marginBottom:m=d,marginLeft:b=d,clip:y=i==null?void 0:i.clip,channels:_,tip:v,render:w}=r;if(this.data=e,this.sort=vr(c)?c:null,this.initializer=Mr(r).initializer,this.transform=this.initializer?r.transform:gu(r).transform,a===null||a===!1?this.facet=null:(this.facet=Ae(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===ta&&typeof f=="string"?[f]:f,this.fy=e===ta&&typeof u=="string"?[u]:u),this.facetAnchor=O5(s),n=Mg(n),_!==void 0&&(n={...q5(_),...n}),i!==void 0&&(n={...p5(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([M,S])=>{if(yo(S.value)){const{value:T,label:A=S.label,scale:N=S.scale}=S.value;S={...S,label:A,scale:N,value:T}}if(e===ta&&typeof S.value=="string"){const{value:T}=S;S={...S,value:[T]}}return[M,S]}).filter(([M,{value:S,optional:T}])=>{if(S!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+l,this.dy=+h,this.marginTop=+g,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+b,this.clip=Sg(y),this.tip=j5(v),this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:S}=n[M];if(!(S!=="x"&&S!=="y"))throw new Error("super-faceting cannot use x or y")}}w!=null&&(this.render=Jg(w,this.render))}initialize(e,n,r){let i=se(this.data);e===void 0&&i!=null&&(e=[An(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=se(i)),e!==void 0&&(e.original=a);const s=sw(this.channels,i);return this.sort!=null&&uw(i,e,s,n,this.sort),{data:i,facets:e,channels:s}}filter(e,n,r){for(const i in n){const{filter:a=Tn}=n[i];if(a!==null){const s=r[i];e=e.filter(f=>a(s[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&bw(i,a,n,r.projection)}}scale(e,n,r){const i=fw(e,n);return r.projection&&this.project(e,i,r),i}}function Kg(...t){return t.plot=ee.prototype.plot,t}function Jg(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,a,s,f){return t.call(this,n,r,i,a,s,(u,c,l,h,d)=>e.call(this,u,c,l,h,d,f))}}function q5(t){return Object.fromEntries(Object.entries(Mg(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:_o(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function j5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Ae(t,"tip",["x","y","xy"]):t}function xu(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:Zn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Fl=new WeakMap;function Tu(t,e,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:u,...c}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...c,render:Jg(function(l,h,d,g,p,m){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:y}=p.getMarkState(this);let _=Fl.get(b);_||Fl.set(b,_={sticky:!1,roots:[],renders:[]});let v=_.renders.push(j)-1;const{x:w,y:M,fx:S,fy:T}=h;let A=S?S(l.fx)-g.marginLeft:0,N=T?T(l.fy)-g.marginTop:0;w!=null&&w.bandwidth&&(A+=w.bandwidth()/2),M!=null&&M.bandwidth&&(N+=M.bandwidth()/2);const k=l.fi!=null;let x;if(k){let z=_.facetStates;z||(_.facetStates=z=new Map),x=z.get(this),x||z.set(this,x=new Map)}const[L,I]=Li(this,g),{px:R,py:E}=d,P=R?z=>R[z]:Qg(d,L),H=E?z=>E[z]:tm(d,I);let Z,Y,B,U;function $(z,Q){if(k)if(U&&(U=cancelAnimationFrame(U)),z==null)x.delete(l.fi);else{x.set(l.fi,Q),U=requestAnimationFrame(()=>{U=null;for(const[O,W]of x)if(W<Q||W===Q&&O<l.fi){z=null;break}j(z)});return}j(z)}function j(z){if(Z===z&&B===_.sticky)return;Z=z,B=p.pointerSticky=_.sticky;const Q=Z==null?[]:[Z];k&&(Q.fx=l.fx,Q.fy=l.fy,Q.fi=l.fi);const O=m(Q,h,d,g,p);if(Y){if(k){const W=Y.parentNode,X=Y.getAttribute("transform"),F=O.getAttribute("transform");X?O.setAttribute("transform",X):O.removeAttribute("transform"),F?W.setAttribute("transform",F):W.removeAttribute("transform"),O.removeAttribute("aria-label"),O.removeAttribute("aria-description"),O.removeAttribute("aria-hidden")}Y.replaceWith(O)}return _.roots[v]=Y=O,Z==null&&(x==null?void 0:x.size)>1||p.dispatchValue(Z==null?null:y[Z]),O}function D(z){if(_.sticky||z.pointerType==="mouse"&&z.buttons===1)return;let[Q,O]=zs(z);Q-=A,O-=N;const W=Q<g.marginLeft||Q>g.width-g.marginRight?1:t,X=O<g.marginTop||O>g.height-g.marginBottom?1:e;let F=null,mt=s*s;for(const nt of l){const yt=W*(P(nt)-Q),Mt=X*(H(nt)-O),G=yt*yt+Mt*Mt;G<=mt&&(F=nt,mt=G)}if(F!=null&&(t!==1||e!==1)){const nt=P(F)-Q,yt=H(F)-O;mt=nt*nt+yt*yt}$(F,mt)}function tt(z){z.pointerType==="mouse"&&Z!=null&&(_.sticky&&_.roots.some(Q=>Q==null?void 0:Q.contains(z.target))||(_.sticky?(_.sticky=!1,_.renders.forEach(Q=>Q(null))):(_.sticky=!0,j(Z)),z.stopImmediatePropagation()))}function et(z){z.pointerType==="mouse"&&(_.sticky||$(null))}return b.addEventListener("pointerenter",D),b.addEventListener("pointermove",D),b.addEventListener("pointerdown",tt),b.addEventListener("pointerleave",et),j(null)},u)}}function W5(t){return Tu(1,1,t)}function V5(t){return Tu(1,.01,t)}function Ol(t){return Tu(.01,1,t)}function Qg({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function tm({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function em(t){return Jn(t)&&t.interval===void 0?void 0:"tabular-nums"}function H5(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:l,ticks:h=(i-c-f)/64,tickFormat:d,fontVariant:g=em(t),round:p=!0,opacity:m,className:b}=e;const y=pu(e);b=vu(b),m=Vt(m)[1],d===null&&(d=()=>null);const _=Rt("svg",y).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(L=>L.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(Mu,l);let v=L=>L.selectAll(".tick line").attr("y1",s+u-a),w;const M=p?(L,I)=>L.rangeRound(I):(L,I)=>L.range(I),{type:S,domain:T,range:A,interpolate:N,scale:k,pivot:x}=t;if(N){const L=A===void 0?N:Qa(N.length===1?_u(N):N,A);w=M(k.copy(),Se(Mn(c,i-f),Math.min(T.length+(x!==void 0),A===void 0?1/0:A.length)));const I=256,R=y.document.createElement("canvas");R.width=I,R.height=1;const E=R.getContext("2d");for(let P=0,H=I-1;P<I;++P)E.fillStyle=L(P/H),E.fillRect(P,0,1,1);_.append("image").attr("opacity",m).attr("x",c).attr("y",s).attr("width",i-c-f).attr("height",a-s-u).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(S==="threshold"){const L=T,I=d===void 0?R=>R:typeof d=="string"?Er(d):d;w=M(Gf().domain([-1,A.length-1]),[c,i-f]),_.append("g").attr("fill-opacity",m).selectAll().data(A).enter().append("rect").attr("x",(R,E)=>w(E-1)).attr("y",s).attr("width",(R,E)=>w(E)-w(E-1)).attr("height",a-s-u).attr("fill",R=>R),h=$t(L,(R,E)=>E),d=R=>I(L[R],R)}else w=M(io().domain(T),[c,i-f]),_.append("g").attr("fill-opacity",m).selectAll().data(T).enter().append("rect").attr("x",w).attr("y",s).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",a-s-u).attr("fill",k),v=()=>{};return _.append("g").attr("transform",`translate(0,${a-u})`).call(p2(w).ticks(Array.isArray(h)?null:h,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ft(g,"normal")).call(v).call(L=>L.select(".domain").remove()),n!==void 0&&_.append("text").attr("x",c).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),_.node()}const nm=Math.PI/180;function ko(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=ps(n),t.markerMid=ps(r),t.markerEnd=ps(i)}function ps(t){if(t==null||t===!1)return null;if(t===!0)return Rl;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Pl("auto");case"arrow-reverse":return Pl("auto-start-reverse");case"dot":return Y5;case"circle":case"circle-fill":return Rl;case"circle-stroke":return X5;case"tick":return bs("auto");case"tick-x":return bs(90);case"tick-y":return bs(0)}throw new Error(`invalid marker: ${t}`)}function Pl(t){return(e,n)=>Rt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function Y5(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Rl(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function X5(t,e){return Rt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function bs(t){return(e,n)=>Rt("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let G5=0;function ku(t,e,{stroke:n},r){return rm(t,e,n&&(i=>n[i]),r)}function Z5(t,e,{stroke:n},r){return rm(t,e,n&&(([i])=>n[i]),r)}function rm(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function u(c){return function(l){const h=a(l);let d=f.get(c);d||f.set(c,d=new Map);let g=d.get(h);if(!g){const p=this.parentNode.insertBefore(c(h,s),this),m=`plot-marker-${++G5}`;p.setAttribute("id",m),d.set(h,g=`url(#${m})`)}return g}}e&&t.attr("marker-start",u(e)),n&&t.attr("marker-mid",u(n)),r&&t.attr("marker-end",u(r))}function Au({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=im(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Eu({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=im(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function im(t,e,n){return t===void 0&&e===void 0&&n===void 0?re?[1,0]:[.5,.5]:[e,n]}function am(t,{interval:e}){return t={..._o(t)},t.interval=cu(t.interval===void 0?e:t.interval),t}function Ao(t,e,n,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:s}=n,{value:f,interval:u}=am(i,n);if(f==null||u==null&&!r)return n;const c=ki(i);if(u==null){let g;const p={transform:m=>g||(g=pe(m,f)),label:c};return{...n,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:s===void 0&&!(a===s&&r)?p:s}}let l,h;function d(g){return h!==void 0&&g===l?h:h=$t(pe(l=g,f),p=>u.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:d,label:c}:a,[`${t}2`]:s===void 0?{transform:g=>d(g).map(p=>u.offset(p)),label:c}:s})}function om(t,e,n){const{[t]:r}=n,{value:i,interval:a}=am(r,n);return i==null||a==null?n:e({...n,[t]:{label:ki(r),transform:s=>{const f=$t(pe(s,i),c=>a.floor(c)),u=f.map(c=>a.offset(c));return f.map(ye(f)?(c,l)=>c==null||isNaN(c=+c)||(l=u[l],l==null)||isNaN(l=+l)?void 0:new Date((c+l)/2):(c,l)=>c==null||(l=u[l],l==null)?NaN:(+c+ +l)/2)}}})}function K5(t={}){return Ao("x",Au,t,!0)}function sm(t={}){return Ao("y",Eu,t,!0)}function J5(t={}){return Ao("x",Au,t)}function Q5(t={}){return Ao("y",Eu,t)}function t4(t={}){return om("x",Au,t)}function e4(t={}){return om("y",Eu,t)}const fm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class n4 extends ee{constructor(e,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:u=s}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},xu(n,"x"),fm),this.insetTop=At(f),this.insetBottom=At(u),ko(this,n)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y1:c,y2:l}=r,{width:h,height:d,marginTop:g,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetTop:y,insetBottom:_}=this;return Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,{x:u&&s},re,0).call(v=>v.selectAll().data(e).enter().append("line").call(Ce,this).attr("x1",u?w=>u[w]:(m+h-p)/2).attr("x2",u?w=>u[w]:(m+h-p)/2).attr("y1",c&&!yn(f)?w=>c[w]+y:g+y).attr("y2",l&&!yn(f)?f.bandwidth?w=>l[w]+f.bandwidth()-_:w=>l[w]-_:d-b-_).call(un,this,r).call(ku,this,r,a)).node()}}class r4 extends ee{constructor(e,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:u=s}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},xu(n,"y"),fm),this.insetRight=At(f),this.insetLeft=At(u),ko(this,n)}render(e,n,r,i,a){const{x:s,y:f}=n,{y:u,x1:c,x2:l}=r,{width:h,height:d,marginTop:g,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetLeft:y,insetRight:_}=this;return Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,{y:u&&f},0,re).call(v=>v.selectAll().data(e).enter().append("line").call(Ce,this).attr("x1",c&&!yn(s)?w=>c[w]+y:m+y).attr("x2",l&&!yn(s)?s.bandwidth?w=>l[w]+s.bandwidth()-_:w=>l[w]-_:h-p-_).attr("y1",u?w=>u[w]:(g+d-b)/2).attr("y2",u?w=>u[w]:(g+d-b)/2).call(un,this,r).call(ku,this,r,a)).node()}}function Cu(t,e){let{x:n=_e,y:r,y1:i,y2:a,...s}=Q5(e);return[i,a]=um(r,i,a),new n4(t,{...s,x:n,y1:i,y2:a})}function Nu(t,e){let{y:n=_e,x:r,x1:i,x2:a,...s}=J5(e);return[i,a]=um(r,i,a),new r4(t,{...s,y:n,x1:i,x2:a})}function um(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Du(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let a=0;a<n;++a)i+=e[a](r)+t[a+1];return i}}const i4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},cm="­";class Iu extends ee{constructor(e,n={}){const{x:r,y:i,text:a=Kn(e)&&vg(e)?_e:mg,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:u=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:c=1,lineWidth:l=1/0,textOverflow:h,monospace:d,fontFamily:g=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:b,fontWeight:y,rotate:_}=n,[v,w]=Vt(_,0),[M,S]=c4(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:I3(v),optional:!0},text:{value:a,filter:iu,optional:!0}},n,i4),this.rotate=w,this.textAnchor=Ft(f,"middle"),this.lineAnchor=Ae(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+l,this.textOverflow=lm(h),this.monospace=!!d,this.fontFamily=Wt(g),this.fontSize=S,this.fontStyle=Wt(m),this.fontVariant=Wt(b),this.fontWeight=Wt(y),this.frameAnchor=vo(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=hm(this),this.clipLine=gm(this)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,rotate:l,text:h,title:d,fontSize:g}=r,{rotate:p}=this,[m,b]=Li(this,i);return Rt("svg:g",a).call(Ee,this,i,a).call(dm,this,h,i).call(Ne,this,{x:u&&s,y:c&&f}).call(y=>y.selectAll().data(e).enter().append("text").call(Ce,this).call(a4,this,h,d).attr("transform",Du`translate(${u?_=>u[_]:m},${c?_=>c[_]:b})${l?_=>` rotate(${l[_]})`:p?` rotate(${p})`:""}`).call(at,"font-size",g&&(_=>g[_])).call(un,this,r)).node()}}function lm(t){return t==null?null:Ae(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function a4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:u}=e;t.each(function(c){const l=f(Vn(n[c])??"").map(u),h=l.length,d=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let g=0;for(let p=0;p<h;++p){if(++g,!l[p])continue;const m=this.ownerDocument.createElementNS(aa.svg,"tspan");m.setAttribute("x",0),p===g-1?m.setAttribute("y",`${(d+p)*a}em`):m.setAttribute("dy",`${g*a}em`),m.textContent=l[p],this.appendChild(m),g=0}}else d&&this.setAttribute("y",`${d*a}em`),this.textContent=l[0];if(s&&!r&&l[0]!==n[c]){const g=this.ownerDocument.createElementNS(aa.svg,"title");g.textContent=n[c],this.appendChild(g)}})}function Eo(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Ti(e,n)),new Iu(t,{...r,x:e,y:n})}function o4(t,{x:e=_e,...n}={}){return new Iu(t,e4({...n,x:e}))}function s4(t,{y:e=_e,...n}={}){return new Iu(t,t4({...n,y:e}))}function dm(t,e,n){at(t,"text-anchor",e.textAnchor),at(t,"font-family",e.fontFamily),at(t,"font-size",e.fontSize),at(t,"font-style",e.fontStyle),at(t,"font-variant",e.fontVariant===void 0?f4(n):e.fontVariant),at(t,"font-weight",e.fontWeight)}function f4(t){return t&&(O3(t)||ye(t))?"tabular-nums":void 0}const u4=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function c4(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),u4.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function l4(t,e,n){const r=[];let i,a=0;for(const[s,f,u]of d4(t)){if(i===void 0&&(i=s),a>i&&n(t,i,f)>e&&(r.push(t.slice(i,a)+(t[a-1]===cm?"-":"")),i=s),u){r.push(t.slice(i,f)),i=void 0;continue}a=f}return r}function*d4(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case cm:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const Bl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Lu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Nr(t,i))r+=Bl[t[i]]??(pm(t,i)?120:Bl.e);return r}function Fu(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Nr(t,i))r+=pm(t,i)?126:63;return r}function hm({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?Fu:Lu,i=e*100;return a=>l4(a,i,r)}function gm({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const r=t?Fu:Lu,i=e*100;switch(n){case"clip-start":return a=>Ul(a,i,r,"");case"clip-end":return a=>$l(a,i,r,"");case"ellipsis-start":return a=>Ul(a,i,r,lr);case"ellipsis-middle":return a=>h4(a,i,r,lr);case"ellipsis-end":return a=>$l(a,i,r,lr)}}const lr="…";function Sr(t,e,n,r){const i=[];let a=0;for(let s=0,f=0,u=t.length;s<u;s=f){f=Nr(t,s);const c=n(t,s,f);if(a+c>e){for(a+=r;a>e&&s>0;)f=s,s=i.pop(),a-=n(t,s,f);return[s,e-a]}a+=c,i.push(s)}return[-1,0]}function $l(t,e,n,r){t=t.trim();const i=n(r),[a]=Sr(t,e,n,i);return a<0?t:t.slice(0,a).trimEnd()+r}function h4(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r)/2,[s,f]=Sr(t,e/2,n,a),[u]=Sr(t,i-e/2-f+a,n,-a);return u<0?r:t.slice(0,s).trimEnd()+r+t.slice(Nr(t,u)).trimStart()}function Ul(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r),[s]=Sr(t,i-e+a,n,-a);return s<0?r:r+t.slice(Nr(t,s)).trimStart()}const xf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,zl=/\p{Extended_Pictographic}/uy;function Nr(t,e){return e+=g4(t,e)?2:1,p4(t,e)&&(e=xf.lastIndex),m4(t,e)?Nr(t,e+1):e}function mm(t,e){return t.charCodeAt(e)<128}function g4(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function m4(t,e){return t.charCodeAt(e)===8205}function p4(t,e){return mm(t,e)?!1:(xf.lastIndex=e,xf.test(t))}function pm(t,e){return mm(t,e)?!1:(zl.lastIndex=e,zl.test(t))}const b4={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},bm=3.5,y4=bm*5,ym={draw(t,e,n){const r=e*n/y4;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},_4={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},w4=new Map([["arrow",ym],["spike",_4]]);function v4(t){return t&&typeof t.draw=="function"}function M4(t){if(v4(t))return t;const e=w4.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}let _m=class extends ee{constructor(e,n={}){const{x:r,y:i,r:a=bm,length:s,rotate:f,shape:u=ym,anchor:c="middle",frameAnchor:l}=n,[h,d]=Vt(s,12),[g,p]=Vt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:g,optional:!0}},n,b4),this.r=+a,this.length=d,this.rotate=p,this.shape=M4(u),this.anchor=Ae(c,"anchor",["start","middle","end"]),this.frameAnchor=vo(l)}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,length:l,rotate:h}=r,{length:d,rotate:g,anchor:p,shape:m,r:b}=this,[y,_]=Li(this,i);return Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,{x:u&&s,y:c&&f}).call(v=>v.selectAll().data(e).enter().append("path").call(Ce,this).attr("transform",Du`translate(${u?w=>u[w]:y},${c?w=>c[w]:_})${h?w=>` rotate(${h[w]})`:g?` rotate(${g})`:""}${p==="start"?"":p==="end"?l?w=>` translate(0,${l[w]})`:` translate(0,${d})`:l?w=>` translate(0,${l[w]/2})`:` translate(0,${d/2})`}`).attr("d",l?w=>{const M=gn();return m.draw(M,l[w],b),M}:(()=>{const w=gn();return m.draw(w,d,b),w})()).call(un,this,r)).node()}};function S4(t,e={}){const{x:n=_e,...r}=e;return new _m(t,{...r,x:n})}function x4(t,e={}){const{y:n=_e,...r}=e;return new _m(t,{...r,y:n})}function Cn(t,e){return arguments.length<2&&!Kn(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Co({anchor:t}={},e){return t===void 0?e[0]:Ae(t,"anchor",e)}function wm(t){return Co(t,["left","right"])}function vm(t){return Co(t,["right","left"])}function Mm(t){return Co(t,["bottom","top"])}function Sm(t){return Co(t,["top","bottom"])}function Fi(){const[t,e]=Cn(...arguments);return xm("y",wm(e),t,e)}function T4(){const[t,e]=Cn(...arguments);return xm("fy",vm(e),t,e)}function Dr(){const[t,e]=Cn(...arguments);return Tm("x",Mm(e),t,e)}function k4(){const[t,e]=Cn(...arguments);return Tm("fx",Sm(e),t,e)}function xm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:d,textStrokeWidth:g,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:b,x:y,margin:_,marginTop:v=_===void 0?20:_,marginRight:w=_===void 0?e==="right"?40:0:_,marginBottom:M=_===void 0?20:_,marginLeft:S=_===void 0?e==="left"?40:0:_,label:T,labelAnchor:A,labelArrow:N,labelOffset:k,...x}){return p=At(p),m=At(m),b=At(b),A!==void 0&&(A=Ae(A,"labelAnchor",["center","top","bottom"])),N=Lm(N),Kg(p&&!Gt(a)?A4(t,e,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,x:y,...x}):null,Gt(u)?null:C4(t,e,n,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:d,strokeWidth:g,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:b,x:y,marginTop:v,marginRight:w,marginBottom:M,marginLeft:S,...x}),!Gt(u)&&T!==null?Eo([],Cm({fill:u,fillOpacity:c,...x},function(L,I,R,E,P){const H=E[t],{marginTop:Z,marginRight:Y,marginBottom:B,marginLeft:U}=t==="y"&&P.inset||P,$=A??(H.bandwidth?"center":"top"),j=k??(e==="right"?Y:U)-3;return $==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=$,this.frameAnchor=`${$}-${e}`,this.rotate=0),this.dy=$==="top"?3-Z:$==="bottom"?B-3:0,this.dx=e==="right"?j:-j,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Im(t,H,{anchor:e,label:T,labelAnchor:$,labelArrow:N})]}}}})):null)}function Tm(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:l,textStroke:h,textStrokeOpacity:d,textStrokeWidth:g,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:b,y,margin:_,marginTop:v=_===void 0?e==="top"?30:0:_,marginRight:w=_===void 0?20:_,marginBottom:M=_===void 0?e==="bottom"?30:0:_,marginLeft:S=_===void 0?20:_,label:T,labelAnchor:A,labelArrow:N,labelOffset:k,...x}){return p=At(p),m=At(m),b=At(b),A!==void 0&&(A=Ae(A,"labelAnchor",["center","left","right"])),N=Lm(N),Kg(p&&!Gt(a)?E4(t,e,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:b,y,...x}):null,Gt(u)?null:N4(t,e,n,{fill:u,fillOpacity:c,stroke:h,strokeOpacity:d,strokeWidth:g,textAnchor:l,tickSize:p,tickPadding:m,tickRotate:b,y,marginTop:v,marginRight:w,marginBottom:M,marginLeft:S,...x}),!Gt(u)&&T!==null?Eo([],Cm({fill:u,fillOpacity:c,...x},function(L,I,R,E,P){const H=E[t],{marginTop:Z,marginRight:Y,marginBottom:B,marginLeft:U}=t==="x"&&P.inset||P,$=A??(H.bandwidth?"center":"right"),j=k??(e==="top"?Z:B)-3;return $==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${$}`,this.textAnchor=$==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-j:j,this.dx=$==="right"?Y-3:$==="left"?3-U:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Im(t,H,{anchor:e,label:T,labelAnchor:$,labelArrow:N})]}}}})):null)}function A4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:l=c,insetRight:h=c,dx:d=0,y:g=t==="y"?void 0:null,...p}){return Ir(x4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:g,...p,dx:e==="left"?+d-re+ +l:+d+re-h,anchor:"start",length:u,shape:e==="left"?B4:$4})}function E4(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:l=c,insetBottom:h=c,dy:d=0,x:g=t==="x"?void 0:null,...p}){return Ir(S4,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:g,...p,dy:e==="bottom"?+d-re-h:+d+re+ +l,anchor:"start",length:u,shape:e==="bottom"?P4:R4})}function C4(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*nm):0),text:u,textAnchor:c=Math.abs(s)>60?"middle":e==="left"?"end":"start",lineAnchor:l=s>60?"top":s<-60?"bottom":"middle",fontVariant:h,inset:d=0,insetLeft:g=d,insetRight:p=d,dx:m=0,y:b=t==="y"?void 0:null,...y}){return Ir(s4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:s,y:b,...y,dx:e==="left"?+m-a-f+ +g:+m+ +a+ +f-p},function(_,v,w,M,S){h===void 0&&(this.fontVariant=Dm(_)),u===void 0&&(S.text=Nm(_,v,w,M,e))})}function N4(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*nm):0),text:u,textAnchor:c=Math.abs(s)>=10?s<0^e==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(s)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:h,inset:d=0,insetTop:g=d,insetBottom:p=d,dy:m=0,x:b=t==="x"?void 0:null,...y}){return Ir(o4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:l,fontVariant:h,rotate:s,x:b,...y,dy:e==="bottom"?+m+ +a+ +f-p:+m-a-f+ +g},function(_,v,w,M,S){h===void 0&&(this.fontVariant=Dm(_)),u===void 0&&(S.text=Nm(_,v,w,M,e))})}function D4(){const[t,e]=Cn(...arguments);return km("y",wm(e),t,e)}function I4(){const[t,e]=Cn(...arguments);return km("fy",vm(e),t,e)}function L4(){const[t,e]=Cn(...arguments);return Am("x",Mm(e),t,e)}function F4(){const[t,e]=Cn(...arguments);return Am("fx",Sm(e),t,e)}function km(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:s=e==="right"?i:null,...f}){return Ir(Nu,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:a,x2:s,...Em(f)})}function Am(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:s=e==="bottom"?i:null,...f}){return Ir(Cu,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:a,y2:s,...Em(f)})}function Em({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Cm({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:u,shapeRendering:c,clip:l=!1},h){return[,t]=Wn(t),[,e]=Vt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:u,shapeRendering:c,clip:l,initializer:h}}function Ir(t,e,n,r,i,a){let s;function f(l,h,d,g,p,m){const b=l==null&&(e==="fx"||e==="fy"),{[e]:y}=g;if(!y)throw new Error(`missing scale: ${e}`);const _=y.domain();let{interval:v,ticks:w,tickFormat:M,tickSpacing:S=e==="x"?80:35}=i;if(typeof w=="string"&&Fm(y)&&(v=w,w=void 0),w===void 0&&(w=Ai(v,y.type)??O4(y,S)),l==null){if(Kn(w))l=se(w);else if(D3(w))l=ys(w,..._n(_));else if(y.interval){let A=y.interval;if(y.ticks){const[N,k]=_n(_),x=(k-N)/A[Si];A=ul(A,x/w)??A,l=ys(A,N,k)}else{l=_;const N=l.length;A=ul(A,N/w)??A,A!==y.interval&&(l=ys(A,..._n(l)))}if(A===y.interval){const N=Math.round(l.length/w);N>1&&(l=l.filter((k,x)=>x%N===0))}}else y.ticks?l=y.ticks(w):l=_;if(!y.ticks&&l.length&&l!==_){const A=new Ka(_);l=l.filter(N=>A.has(N)),l.length||wn(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?h=[An(l)]:s[e]={scale:e,value:_e}}a==null||a.call(this,y,l,w,M,s);const T=Object.fromEntries(Object.entries(s).map(([A,N])=>[A,{...N,value:pe(l,N.value)}]));return b&&(h=m.filterFacets(l,T)),{data:l,facets:h,channels:T}}const u=Mr(i).initializer,c=t(n,Mr({...i,initializer:f},u));return n==null?(s=c.channels,c.channels={}):s={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function O4(t,e){const[n,r]=_n(t.range());return(r-n)/e}function Nm(t,e,n,r,i){return{value:Ou(t,e,n,r,i)}}function Ou(t,e,n,r,i){return typeof r=="function"?r:r===void 0&&e&&ye(e)?h3(t.type,e,i)??Vn:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?Vn:typeof r=="string"?(ye(t.domain())?Mi:Er)(r):xi(r)}function ys(t,e,n){return t.range(e,t.offset(t.floor(n)))}const P4={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},R4={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},B4={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},$4={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Dm(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Im(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Fm(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=r5(e);s&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Lm(t="auto"){return Gt(t)?!1:typeof t=="boolean"?t:Ae(t,"labelArrow",["auto","up","right","down","left"])}function Fm(t){return ye(t.domain())}function ql(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function U4(t,{opacity:e,...n}={}){if(!Jn(t)&&!Xg(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Om(t,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",Vt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function z4(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=t.hint)==null?void 0:l.stroke)()!==void 0?t.hint.stroke:Gt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},u){const[h,d]=Wn(e),[g,p]=Wn(r),m=ql(u,h),b=ql(u,g),y=s*s*Math.PI;return n=Vt(n)[1],i=Vt(i)[1],a=Vt(a)[1],Om(t,f,(_,v,w,M)=>_.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",M).attr("fill",h==="color"?S=>m.scale(S):d).attr("fill-opacity",n).attr("stroke",g==="color"?S=>b.scale(S):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",S=>{const T=gn();return t.scale(S).draw(T,y),T}))}function Om(t,e={},n){let{columns:r,tickFormat:i,fontVariant:a=em(t),swatchSize:s=15,swatchWidth:f=s,swatchHeight:u=s,marginLeft:c=0,className:l,style:h,width:d}=e;const g=pu(e);l=vu(l),i=Ou(t.scale,t.domain,void 0,i);const p=Rt("div",g).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${l}-swatches-columns .${l}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${l}-swatches-columns .${l}-swatch::before) {
  flex-shrink: 0;
}
:where(.${l}-swatches-columns .${l}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${l}-swatch`).call(n,t,f,u).call(b=>b.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${l}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${l}-swatches-wrap .${l}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${l}-swatch`).call(n,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${l}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${l}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",Ft(a,"normal")).call(Mu,h).node()}const Tf=new Map([["symbol",z4],["color",Rm],["opacity",j4]]);function q4(t,e,n={}){return(r,i)=>{if(!Tf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Tf.get(r)(t[r],Pm(e,n[r],i),a=>t[a])}}function Pm({className:t,...e},{label:n,ticks:r,tickFormat:i}={},a){return $3(a,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function Rm(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return U4(t,n);case"ramp":return H5(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function j4({type:t,interpolate:e,...n},{legend:r=!0,color:i=ia(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Rm({type:t,...n,interpolate:W4(i)},{legend:r,...a})}function W4(t){const{r:e,g:n,b:r}=ia(t)||ia(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function V4(t,e,n){const r=[];for(const[i,a]of Tf){const s=n[i];if(s!=null&&s.legend&&i in t){const f=a(t[i],Pm(e,t[i],s),u=>t[u]);f!=null&&r.push(f)}}return r}const H4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Y4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class X4 extends ee{constructor(e={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:u,ry:c}=e;super(ta,void 0,e,n==null?H4:Y4),this.anchor=bg(n,"anchor",["top","right","bottom","left"]),this.insetTop=At(i),this.insetRight=At(a),this.insetBottom=At(s),this.insetLeft=At(f),this.rx=At(u),this.ry=At(c)}render(e,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:u,marginLeft:c,width:l,height:h}=i,{anchor:d,insetTop:g,insetRight:p,insetBottom:m,insetLeft:b,rx:y,ry:_}=this,v=c+b,w=l-f-p,M=s+g,S=h-u-m;return Rt(d?"svg:line":"svg:rect",a).datum(0).call(Ee,this,i,a).call(Ce,this).call(un,this,r).call(Ne,this,{}).call(d==="left"?T=>T.attr("x1",v).attr("x2",v).attr("y1",M).attr("y2",S):d==="right"?T=>T.attr("x1",w).attr("x2",w).attr("y1",M).attr("y2",S):d==="top"?T=>T.attr("x1",v).attr("x2",w).attr("y1",M).attr("y2",M):d==="bottom"?T=>T.attr("x1",v).attr("x2",w).attr("y1",S).attr("y2",S):T=>T.attr("x",v).attr("y",M).attr("width",w-v).attr("height",S-M).attr("rx",y).attr("ry",_)).node()}}function Bm(t){return new X4(t)}const _s={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},G4=new Set(["geometry","href","src","ariaLabel","scales"]);class Z4 extends ee{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Kn(e)&&vg(e)&&(n={...n,title:_e});const{x:r,y:i,x1:a,x2:s,y1:f,y2:u,anchor:c,preferredAnchor:l="bottom",monospace:h,fontFamily:d=h?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:p,fontVariant:m,fontWeight:b,lineHeight:y=1,lineWidth:_=20,frameAnchor:v,format:w,textAnchor:M="start",textOverflow:S,textPadding:T=8,title:A,pointerSize:N=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:u,scale:"y",optional:f==null},title:{value:A,optional:!0}},n,_s),this.anchor=bf(c,"anchor"),this.preferredAnchor=bf(l,"preferredAnchor"),this.frameAnchor=vo(v),this.textAnchor=Ft(M,"middle"),this.textPadding=+T,this.pointerSize=+N,this.pathFilter=Wt(k),this.lineHeight=+y,this.lineWidth=+_,this.textOverflow=lm(S),this.monospace=!!h,this.fontFamily=Wt(d),this.fontSize=At(g),this.fontStyle=Wt(p),this.fontVariant=Wt(m),this.fontWeight=Wt(b);for(const x in _s)x in this.channels&&(this[x]=_s[x]);this.splitLines=hm(this),this.clipLine=gm(this),this.format={...w}}render(e,n,r,i,a){const s=this,{x:f,y:u,fx:c,fy:l}=n,{ownerSVGElement:h,document:d}=a,{anchor:g,monospace:p,lineHeight:m,lineWidth:b}=this,{textPadding:y,pointerSize:_,pathFilter:v}=this,{marginTop:w,marginLeft:M}=i,{x1:S,y1:T,x2:A,y2:N,x:k=S??A,y:x=T??N}=r,L=c?c(e.fx)-M:0,I=l?l(e.fy)-w:0,[R,E]=Li(this,i),P=Qg(r,R),H=tm(r,E),Z=p?Fu:Lu,Y=Z(lr);let B,U;"title"in r?(B=r.channels,U=n8):(B=e8.call(this,r,n),U=r8);const $=Rt("svg:g",a).call(Ee,this,i,a).call(dm,this).call(Ne,this,{x:k&&f,y:x&&u}).call(tt=>tt.selectAll().data(e).enter().append("g").attr("transform",et=>`translate(${Math.round(P(et))},${Math.round(H(et))})`).call(Ce,this).call(et=>et.append("path").attr("filter",v)).call(et=>et.append("text").each(function(z){const Q=Xt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const O=U.call(s,z,e,B,n,r);if(typeof O=="string")for(const W of s.splitLines(O))j(Q,{value:s.clipLine(W)});else{const W=new Set;for(const X of O){const{label:F=""}=X;F&&W.has(F)||(W.add(F),j(Q,X))}}})));function j(tt,{label:et,value:z,color:Q,opacity:O}){et??(et=""),z??(z="");const W=Q!=null||O!=null;let X,F=b*100;const[mt]=Sr(et,F,Z,Y);if(mt>=0)et=et.slice(0,mt).trimEnd()+lr,X=z.trim(),z="";else{(et||!z&&!W)&&(z=" "+z);const[yt]=Sr(z,F-Z(et),Z,Y);yt>=0&&(X=z.trim(),z=z.slice(0,yt).trimEnd()+lr)}const nt=tt.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");et&&nt.append("tspan").attr("font-weight","bold").text(et),z&&nt.append(()=>d.createTextNode(z)),W&&nt.append("tspan").text(" ■").attr("fill",Q).attr("fill-opacity",O).style("user-select","none"),X&&nt.append("title").text(X)}function D(){const{width:tt,height:et}=i.facet??i;$.selectChildren().each(function(z){let{x:Q,width:O,height:W}=this.getBBox();O=Math.round(O),W=Math.round(W);let X=g;if(X===void 0){const nt=P(z)+L,yt=H(z)+I,Mt=nt+O+_+y*2<tt,G=nt-O-_-y*2>0,wt=yt+W+_+y*2<et,ne=yt-W-_-y*2>0;X=Mt&&G?wt&&ne?s.preferredAnchor:ne?"bottom":"top":wt&&ne?Mt?"left":"right":(Mt||G)&&(wt||ne)?`${ne?"bottom":"top"}-${Mt?"left":"right"}`:s.preferredAnchor}const F=this.firstChild,mt=this.lastChild;if(F.setAttribute("d",t8(X,_,y,O,W)),Q)for(const nt of mt.childNodes)nt.setAttribute("x",-Q);mt.setAttribute("y",`${+J4(X,mt.childNodes.length,m).toFixed(6)}em`),mt.setAttribute("transform",`translate(${Q4(X,_,y,O,W)})`)}),$.attr("visibility",null)}return e.length&&($.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(D):typeof requestAnimationFrame<"u"&&requestAnimationFrame(D)),$.node()}}function K4(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Ti(e,n)),new Z4(t,{...r,x:e,y:n})}function J4(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function Q4(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function t8(t,e,n,r,i){const a=r+n*2,s=i+n*2;switch(t){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${s}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${s}h${-a}v${-s}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${s}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-s/2}h${-a}v${s}h${a}v${e/2-s/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-s}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-s}h${-a}v${s}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-s}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-s/2}h${a}v${s}h${-a}v${e/2-s/2}z`}}function e8({channels:t},e){var i,a;const n={};let r=this.format;r=jl(r,t,"x"),r=jl(r,t,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const u=yl(t,s);u&&(n[s]=u)}}for(const s in t){if(s in n||s in r||G4.has(s))continue;const f=yl(t,s);f&&(n[s]=f)}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const u=((i=n[s])==null?void 0:i.value)??((a=e[s])==null?void 0:a.domain())??[];this.format[s]=(ye(u)?Mi:Er)(f)}else if(f===void 0||f===!0){const u=e[s];this.format[s]=u!=null&&u.bandwidth?Ou(u,u.domain()):Vn}}return n}function jl(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const a=Object.entries(t),s=t[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function n8(t,e,{title:n}){return Vn(n.value[t],t)}function*r8(t,e,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Ua(r,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:Vl(r,n,"x"),value:Wl(this.format.x2,n.x1,s,t)};else if(a==="y2"&&"y1"in n)yield{label:Vl(r,n,"y"),value:Wl(this.format.y2,n.y1,s,t)};else{const f=s.value[t],u=s.scale;if(!Tn(f)&&u==null)continue;yield{label:Ua(r,n,a),value:this.format[a](f,t),color:u==="color"?i[a][t]:null,opacity:u==="opacity"?i[a][t]:null}}}}function Wl(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}–${t(n.value[r],r)}`}function Vl(t,e,n){const r=Ua(t,e,`${n}1`,n),i=Ua(t,e,`${n}2`,n);return r===i?r:`${r}–${i}`}function Ua(t,e,n,r=n){const i=e[n],a=t[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function $m(t={}){var Y;const{facet:e,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=t,u=vu(t.className),c=t.marks===void 0?[]:Yl(t.marks);c.push(...l8(c));const l=u8(e,t),h=new Map;for(const B of c){const U=Xl(B,l,t);U&&h.set(B,U)}const d=new Map;l&&$r(d,[l],t),$r(d,h,t);const g=Yl(d8(c,d,t));for(const B of g){const U=Xl(B,l,t);U&&h.set(B,U)}c.unshift(...g);let p=N5(d,t);if(p!==void 0){const B=l?ms(p,l):void 0;for(const $ of c){if($.facet===null||$.facet==="super")continue;const j=h.get($);j!==void 0&&(j.facetsIndex=$.fx!=null||$.fy!=null?ms(p,j):B)}const U=new Set;for(const{facetsIndex:$}of h.values())$==null||$.forEach((j,D)=>{(j==null?void 0:j.length)>0&&U.add(D)});p.forEach(0<U.size&&U.size<p.length?($,j)=>$.empty=!U.has(j):$=>$.empty=!1);for(const $ of c)if($.facet==="exclude"){const j=h.get($);j!==void 0&&(j.facetsIndex=L5(j.facetsIndex))}}for(const B of Et.keys())$a(t[B])&&B!=="fx"&&B!=="fy"&&d.set(B,[]);const m=new Map;for(const B of c){if(m.has(B))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:U,channels:$}=h.get(B)??{},{data:j,facets:D,channels:tt}=B.initialize(U,$,t);Pu(tt,t),m.set(B,{data:j,facets:D,channels:tt})}const b=vf($r(d,m,t),t),y=E5(b,c,t);e5(b,y);const _=kl(b),{fx:v,fy:w}=_,M=v||w?Wg(b,y):y,S=v||w?_8(_,y):y,T=pu(t),A=T.document,N=zd("svg").call(A.documentElement);let k=N;T.ownerSVGElement=N,T.className=u,T.projection=gw(t,M),T.filterFacets=(B,U)=>ms(p,{channels:U,groups:Su(B,U)}),T.getMarkState=B=>{const U=m.get(B),$=h.get(B);return{...U,channels:{...U.channels,...$==null?void 0:$.channels}}},T.dispatchValue=B=>{k.value!==B&&(k.value=B,k.dispatchEvent(new Event("input",{bubbles:!0})))};const x=new Set;for(const[B,U]of m)if(B.initializer!=null){const $=B.facet==="super"?S:M,j=B.initializer(U.data,U.facets,U.channels,_,$,T);if(j.data!==void 0&&(U.data=j.data),j.facets!==void 0&&(U.facets=j.facets),j.channels!==void 0){const{fx:D,fy:tt,...et}=j.channels;f8(et),Object.assign(U.channels,et);for(const z of Object.values(et)){const{scale:Q}=z;Q!=null&&!z3(Et.get(Q))&&(Um(z,t),x.add(Q))}(D!=null||tt!=null)&&h.set(B,!0)}}if(x.size){const B=new Map;$r(B,m,t,D=>x.has(D)),$r(d,m,t,D=>x.has(D));const U=y8(vf(B,t),b),{scales:$,...j}=kl(U);Object.assign(b,U),Object.assign(_,j),Object.assign(_.scales,$)}let L,I;p!==void 0&&(L={x:v==null?void 0:v.domain(),y:w==null?void 0:w.domain()},p=D5(p,L),I=I5(v,w,y));for(const[B,U]of m)U.values=B.scale(U.channels,_,T);const{width:R,height:E}=y;Xt(N).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",E).attr("viewBox",`0 0 ${R} ${E}`).attr("aria-label",s).attr("aria-description",f).call(B=>B.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Mu,n);for(const B of c){const{channels:U,values:$,facets:j}=m.get(B);if(p===void 0||B.facet==="super"){let D=null;if(j&&(D=j[0],D=B.filter(D,U,$),D.length===0))continue;const tt=B.render(D,_,$,S,T);if(tt==null)continue;N.appendChild(tt)}else{let D;for(const tt of p){if(!(((Y=B.facetAnchor)==null?void 0:Y.call(B,p,L,tt))??!tt.empty))continue;let et=null;if(j){const Q=h.has(B);if(et=j[Q?tt.i:0],et=B.filter(et,U,$),et.length===0)continue;!Q&&et===j[0]&&(et=k3(et)),et.fx=tt.x,et.fy=tt.y,et.fi=tt.i}const z=B.render(et,_,$,M,T);if(z!=null){(D??(D=Xt(N).append("g"))).append(()=>z).datum(tt);for(const Q of["aria-label","aria-description","aria-hidden","transform"])z.hasAttribute(Q)&&(D.attr(Q,z.getAttribute(Q)),z.removeAttribute(Q))}}D==null||D.selectChildren().attr("transform",I)}}const P=V4(b,T,t),{figure:H=r!=null||i!=null||a!=null||P.length>0}=t;H&&(k=A.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",r!=null&&k.append(Hl(A,r,"h2")),i!=null&&k.append(Hl(A,i,"h3")),k.append(...P,N),a!=null&&k.append(i8(A,a))),k.scale=u5(_.scales),k.legend=q4(b,T,t);const Z=hw();return Z>0&&Xt(N).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${Z.toLocaleString("en-US")} warning${Z===1?"":"s"}. Please check the console.`),k}function Hl(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function i8(t,e){const n=t.createElement("figcaption");return n.append(e),n}function a8({marks:t=[],...e}={}){return $m({...e,marks:[...t,this]})}ee.prototype.plot=a8;function Yl(t){return t.flat(1/0).filter(e=>e!=null).map(o8)}function o8(t){return typeof t.render=="function"?t:new s8(t)}class s8 extends ee{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Pu(t,e){for(const n in t)Um(t[n],e);return t}function Um(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?u=>u*100:wg(s,i)}=e[n]??{};f!=null&&(t.value=$t(t.value,f),t.transform=!1)}function f8(t){for(const e in t)Ag(e,t[e])}function $r(t,e,n,r=y3){var i,a;for(const{channels:s}of e.values())for(const f in s){const u=s[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!yw(n)){const l=((i=n.x)==null?void 0:i.domain)===void 0,h=((a=n.y)==null?void 0:a.domain)===void 0;if(l||h){const[d,g]=ww(u);l&&ws(t,"x",d),h&&ws(t,"y",g)}}}else ws(t,c,u)}return t}function ws(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function u8(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=se(t.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=fi(i,{value:n,scale:"fx"})),r!=null&&(a.fy=fi(i,{value:r,scale:"fy"})),Pu(a,e);const s=Su(i,a);return{channels:a,groups:s,data:t.data}}function Xl(t,e,n){var u;if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=se(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const l={};return r!=null&&(l.fx=fi(c,{value:r,scale:"fx"})),i!=null&&(l.fy=fi(c,{value:i,scale:"fy"})),Pu(l,n),{channels:l,groups:Su(c,l)}}if(e===void 0)return;const{channels:a,groups:s,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((u=se(t.data))==null?void 0:u.length)===f.length&&wn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function c8(t,e={}){return Mr({...e,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(t))}function l8(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?V5:/^y$/i.test(i)?Ol:W5,r=i(c8(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Ol?"left":"bottom");const s=K4(n.data,r);s.facet=n.facet,s.facetAnchor=n.facetAnchor,e.push(s)}}return e}function d8(t,e,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:u,grid:c,facet:l={},facet:{axis:h=u,grid:d}=l,x:{axis:g=u,grid:p=g===null?null:c}=i,y:{axis:m=u,grid:b=m===null?null:c}=a,fx:{axis:y=h,grid:_=y===null?null:d}=s,fy:{axis:v=h,grid:w=v===null?null:d}=f}=n;(r||!$a(i)&&!Gl("x",t))&&(g=p=null),(r||!$a(a)&&!Gl("y",t))&&(m=b=null),e.has("fx")||(y=_=null),e.has("fy")||(v=w=null),g===void 0&&(g=!Gi(t,"x")),m===void 0&&(m=!Gi(t,"y")),y===void 0&&(y=!Gi(t,"fx")),v===void 0&&(v=!Gi(t,"fy")),g===!0&&(g="bottom"),m===!0&&(m="left"),y===!0&&(y=g==="top"||g===null?"bottom":"top"),v===!0&&(v=m==="right"||m===null?"left":"right");const M=[];return Xi(M,w,I4,f),Yi(M,v,T4,"right","left",l,f),Xi(M,_,F4,s),Yi(M,y,k4,"top","bottom",l,s),Xi(M,b,D4,a),Yi(M,m,Fi,"left","right",n,a),Xi(M,p,L4,i),Yi(M,g,Dr,"bottom","top",n,i),M}function Yi(t,e,n,r,i,a,s){if(!e)return;const f=h8(e);s=g8(f?r:e,a,s);const{line:u}=s;(n===Fi||n===Dr)&&u&&!si(u)&&t.push(Bm(m8(s))),t.push(n(s)),f&&t.push(n({...s,anchor:i,label:null}))}function Xi(t,e,n,r){!e||si(e)||t.push(n(p8(e,r)))}function h8(t){return/^\s*both\s*$/i.test(t)}function g8(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:d=e.label,labelAnchor:g,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:l,ariaDescription:h,label:d,labelAnchor:g,labelArrow:p,labelOffset:m}}function m8(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function p8(t,{stroke:e=wo(t)?t:void 0,ticks:n=b8(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function b8(t){switch(typeof t){case"number":return!0;case"string":return!wo(t)}return Kn(t)||typeof(t==null?void 0:t.range)=="function"}function Gi(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Gl(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function y8(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function _8({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:u}=wu(n),c=t&&Zl(t),l=e&&Zl(e);return{marginTop:e?l[0]:r,marginRight:t?f-c[1]:i,marginBottom:e?u-l[1]:a,marginLeft:t?c[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function Zl(t){const e=t.domain();let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const w8=new Map([["basis",W_],["basis-closed",V_],["basis-open",H_],["bundle",Y_],["bump-x",L_],["bump-y",F_],["cardinal",X_],["cardinal-closed",G_],["cardinal-open",Z_],["catmull-rom",K_],["catmull-rom-closed",J_],["catmull-rom-open",Q_],["linear",ho],["linear-closed",t3],["monotone-x",e3],["monotone-y",n3],["natural",r3],["step",i3],["step-after",o3],["step-before",a3]]);function v8(t=ho,e){if(typeof t=="function")return t;const n=w8.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function zm(t=xr,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?xr:v8(t,e)}function xr(t){return ho(t)}function M8(t={}){return yg(t)?t:{...t,x:_e}}function S8(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,r=new Uint8Array(n);let i=0;for(const f of e)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:t,facets:e};t=oi(t);const a=t[hg]=new Uint32Array(n+i);e=e.map(f=>oi(f,Uint32Array));let s=n;r.fill(0);for(const f of e)for(let u=0,c=f.length;u<c;++u){const l=f[u];r[l]?(f[u]=s,t[s]=t[l],a[s]=l,++s):a[l]=l,r[l]=1}return{data:t,facets:e}}function x8(t={},e={}){arguments.length===1&&([t,e]=k8(t));const{y1:n,y:r=n,x:i,...a}=e,[s,f,u,c]=E8(r,i,"y","x",t,a);return{...s,y1:n,y:f,x1:u,x2:c,x:E3(u,c)}}function T8({x:t,x1:e,x2:n,...r}={}){return r=xu(r,"y"),e===void 0&&n===void 0?x8({x:t,...r}):([e,n]=T3(t,e,n),{...r,x1:e,x2:n})}function k8(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const A8={length:!0};function E8(t,e=b3,n,r,{offset:i,order:a,reverse:s},f){if(e===null)throw new Error(`stack requires ${r}`);const u=_g(f),[c,l]=A3(t),[h,d]=pf(e),[g,p]=pf(e);return h.hint=g.hint=A8,i=C8(i),a=I8(a,i,r),[gu(f,(m,b,y)=>{({data:m,facets:b}=S8(m,b));const _=t==null?void 0:l(C3(pe(m,t),y==null?void 0:y[n])),v=pe(m,e,Float64Array),w=pe(m,u),M=a&&a(m,_,v,w),S=m.length,T=d(new Float64Array(S)),A=p(new Float64Array(S)),N=[];for(const k of b){const x=_?Array.from(Pf(k,L=>_[L]).values()):[k];if(M)for(const L of x)L.sort(M);for(const L of x){let I=0,R=0;s&&L.reverse();for(const E of L){const P=v[E];P<0?I=A[E]=(T[E]=I)+P:P>0?R=A[E]=(T[E]=R)+P:A[E]=T[E]=R}}N.push(x)}return i&&i(N,T,A,w),{data:m,facets:b}}),c,h,g]}function C8(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return N8;case"center":case"silhouette":return D8;case"wiggle":return jm}throw new Error(`unknown offset: ${t}`)}}function qm(t,e){let n=0,r=0;for(const i of t){const a=e[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function N8(t,e,n){for(const r of t)for(const i of r){const[a,s]=qm(i,n);for(const f of i){const u=1/(s-a||1);e[f]=u*(e[f]-a),n[f]=u*(n[f]-a)}}}function D8(t,e,n){for(const r of t){for(const i of r){const[a,s]=qm(i,n);for(const f of i){const u=(s+a)/2;e[f]-=u,n[f]-=u}}Wm(r,e,n)}Vm(t,e,n)}function jm(t,e,n,r){for(const i of t){const a=new $n;let s=0;for(const f of i){let u=-1;const c=f.map(g=>Math.abs(n[g]-e[g])),l=f.map(g=>{u=r?r[g]:++u;const p=n[g]-e[g],m=a.has(u)?p-a.get(u):0;return a.set(u,p),m}),h=[0,...Xb(l)];for(const g of f)e[g]+=s,n[g]+=s;const d=Un(c);d&&(s-=Un(c,(g,p)=>(l[p]/2+h[p])*g)/d)}Wm(i,e,n)}Vm(t,e,n)}function Wm(t,e,n){const r=Ue(t,i=>Ue(i,a=>e[a]));for(const i of t)for(const a of i)e[a]-=r,n[a]-=r}function Vm(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),a=i.map(f=>(Ue(f,u=>e[u])+ae(f,u=>n[u]))/2),s=Ue(a);for(let f=0;f<r;f++){const u=s-a[f];for(const c of i[f])e[c]+=u,n[c]+=u}}function I8(t,e,n){if(t===void 0&&e===jm)return Kl(qe);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Ba:qe;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return L8(i);case"z":return F8(i);case"sum":return O8(i);case"appearance":return P8(i);case"inside-out":return Kl(i)}return Jl(gg(t))}if(typeof t=="function")return(t.length===1?Jl:R8)(t);if(Array.isArray(t))return B8(t);throw new Error(`invalid order: ${t}`)}}function L8(t){return(e,n,r)=>(i,a)=>t(r[i],r[a])}function F8(t){return(e,n,r,i)=>(a,s)=>t(i[a],i[s])}function O8(t){return No(t,(e,n,r,i)=>Bf(An(e),a=>Un(a,s=>r[s]),a=>i[a]))}function P8(t){return No(t,(e,n,r,i)=>Bf(An(e),a=>n[th(a,s=>r[s])],a=>i[a]))}function Kl(t){return No(t,(e,n,r,i)=>{const a=An(e),s=Bf(a,h=>n[th(h,d=>r[d])],h=>i[h]),f=Yr(a,h=>Un(h,d=>r[d]),h=>i[h]),u=[],c=[];let l=0;for(const h of s)l<0?(l+=f.get(h),u.push(h)):(l-=f.get(h),c.push(h));return c.reverse().concat(u)})}function Jl(t){return e=>{const n=pe(e,t);return(r,i)=>qe(n[r],n[i])}}function R8(t){return e=>(n,r)=>t(e[n],e[r])}function B8(t){return No(qe,()=>t)}function No(t,e){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new $n(e(n,r,i,a).map((f,u)=>[f,u]));return(f,u)=>t(s.get(a[f]),s.get(a[u]))}}const $8={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class U8 extends ee{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:u}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,$8),this.curve=zm(f,u),ko(this,n)}project(e,n,r){this.curve!==xr&&super.project(e,n,r)}render(e,n,r,i,a){const{x1:s,y1:f,x2:u=s,y2:c=f}=r,{curve:l}=this;return Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,n).call(h=>h.selectAll().data(e).enter().append("path").call(Ce,this).attr("d",l===xr&&a.projection?z8(a.projection,s,f,u,c):d=>{const g=gn(),p=l(g);return p.lineStart(),p.point(s[d],f[d]),p.point(u[d],c[d]),p.lineEnd(),g}).call(un,this,r).call(ku,this,r,a)).node()}}function z8(t,e,n,r,i){const a=to(t);return e=bn(e),n=bn(n),r=bn(r),i=bn(i),s=>a({type:"LineString",coordinates:[[e[s],n[s]],[r[s],i[s]]]})}function kf(t,{x:e,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=Ql(e,n,r),[a,s]=Ql(i,a,s),new U8(t,{...f,x1:n,x2:r,y1:a,y2:s})}function Ql(t,e,n){if(t===void 0){if(e===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[e]}else{if(e===void 0)return n===void 0?[t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}class q8 extends ee{constructor(e,n,r={},i){super(e,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:u=a,insetLeft:c=a,rx:l,ry:h}=r;this.insetTop=At(s),this.insetRight=At(f),this.insetBottom=At(u),this.insetLeft=At(c),this.rx=Ft(l,"auto"),this.ry=Ft(h,"auto")}render(e,n,r,i,a){const{rx:s,ry:f}=this;return Rt("svg:g",a).call(Ee,this,i,a).call(this._transform,this,n).call(u=>u.selectAll().data(e).enter().append("rect").call(Ce,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(at,"rx",s).call(at,"ry",f).call(un,this,r)).node()}_x(e,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(e,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:e},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,u=n&&e?e.bandwidth():a-r-i;return Math.max(0,u-s-f)}_height({y:e},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,u=n&&e?e.bandwidth():a-r-i;return Math.max(0,u-s-f)}}const j8={ariaLabel:"cell"};class W8 extends q8{constructor(e,{x:n,y:r,...i}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,j8)}_transform(e,n){e.call(Ne,n,{},0,0)}}function V8(t,{x:e,y:n,...r}={}){return[e,n]=Ti(e,n),new W8(t,{...r,x:e,y:n})}const H8={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Y8(t){return t.sort===void 0&&t.reverse===void 0?G3({channel:"-r"},t):t}class X8 extends ee{constructor(e,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=ii,frameAnchor:u}=n,[c,l]=Vt(s,0),[h,d]=Y3(f),[g,p]=Vt(a,h==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:g,scale:"r",filter:po,optional:!0},rotate:{value:c,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},Y8(n),H8),this.r=p,this.rotate=l,this.symbol=d,this.frameAnchor=vo(u);const{channels:m}=this,{symbol:b}=m;if(b){const{fill:y,stroke:_}=m;b.hint={fill:y?y.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:_?_.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,a){const{x:s,y:f}=n,{x:u,y:c,r:l,rotate:h,symbol:d}=r,{r:g,rotate:p,symbol:m}=this,[b,y]=Li(this,i),_=m===ii,v=l?void 0:g*g*Math.PI;return au(g)&&(e=[]),Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,{x:u&&s,y:c&&f}).call(w=>w.selectAll().data(e).enter().append(_?"circle":"path").call(Ce,this).call(_?M=>{M.attr("cx",u?S=>u[S]:b).attr("cy",c?S=>c[S]:y).attr("r",l?S=>l[S]:g)}:M=>{M.attr("transform",Du`translate(${u?S=>u[S]:b},${c?S=>c[S]:y})${h?S=>` rotate(${h[S]})`:p?` rotate(${p})`:""}`).attr("d",l&&d?S=>{const T=gn();return d[S].draw(T,l[S]*l[S]*Math.PI),T}:l?S=>{const T=gn();return m.draw(T,l[S]*l[S]*Math.PI),T}:d?S=>{const T=gn();return d[S].draw(T,v),T}:(()=>{const S=gn();return m.draw(S,v),S})())}).call(un,this,r)).node()}}function G8(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Ti(e,n)),new X8(t,{...r,x:e,y:n})}function Z8(t,e){return G8(t,{...e,symbol:"circle"})}const K8={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let J8=class extends ee{constructor(e,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:_g(n),optional:!0}},n,K8),this.z=a,this.curve=zm(s,f),ko(this,n)}filter(e){return e}project(e,n,r){this.curve!==xr&&super.project(e,n,r)}render(e,n,r,i,a){const{x:s,y:f}=r,{curve:u}=this;return Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,n).call(c=>c.selectAll().data(x5(e,[s,f],this,r)).enter().append("path").call(Ce,this).call(v5,this,r).call(Z5,this,r,a).attr("d",u===xr&&a.projection?Q8(a.projection,s,f):I_().curve(u).defined(l=>l>=0).x(l=>s[l]).y(l=>f[l]))).node()}};function Q8(t,e,n){const r=to(t);return e=bn(e),n=bn(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function t7(t,{x:e,y:n,...r}={}){return[e,n]=Ti(e,n),new J8(t,{...r,x:e,y:n})}const e7={ariaLabel:"rect"};class Hm extends ee{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:u=f,insetRight:c=f,insetBottom:l=f,insetLeft:h=f,rx:d,ry:g}=n;super(e,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&s==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,e7),this.insetTop=At(u),this.insetRight=At(c),this.insetBottom=At(l),this.insetLeft=At(h),this.rx=Ft(d,"auto"),this.ry=Ft(g,"auto")}render(e,n,r,i,a){const{x:s,y:f}=n,{x1:u,y1:c,x2:l,y2:h}=r,{marginTop:d,marginRight:g,marginBottom:p,marginLeft:m,width:b,height:y}=i,{projection:_}=a,{insetTop:v,insetRight:w,insetBottom:M,insetLeft:S,rx:T,ry:A}=this,N=(s!=null&&s.bandwidth?s.bandwidth():0)-S-w,k=(f!=null&&f.bandwidth?f.bandwidth():0)-v-M;return Rt("svg:g",a).call(Ee,this,i,a).call(Ne,this,{},0,0).call(x=>x.selectAll().data(e).enter().append("rect").call(Ce,this).attr("x",u&&(_||!yn(s))?l?L=>Math.min(u[L],l[L])+S:L=>u[L]+S:m+S).attr("y",c&&(_||!yn(f))?h?L=>Math.min(c[L],h[L])+v:L=>c[L]+v:d+v).attr("width",u&&(_||!yn(s))?l?L=>Math.max(0,Math.abs(l[L]-u[L])+N):N:b-g-m-w-S).attr("height",c&&(_||!yn(f))?h?L=>Math.max(0,Math.abs(c[L]-h[L])+k):k:y-d-p-v-M).call(at,"rx",T).call(at,"ry",A).call(un,this,r)).node()}}function n7(t,e){return new Hm(t,K5(sm(e)))}function Ru(t,e={}){return x3(e)||(e={...e,y:mg,x2:_e,interval:1}),new Hm(t,T8(sm(M8(e))))}function r7(t,e={}){if(!t||t.length===0)return[];let n=vn(t[0]),r=e.include?e.include:n;r=ra(e.include||n,e.exclude||[]);let i=ra(n,r);return console.log(r,i),Vd(a=>r.map(s=>{let f=Fb(i,a);return f[e.key||"key"]=s,f[e.value||"value"]=a[s],f}),t)}class i7{add(e,n,r){let i=`${r.view.id}::${r.eventname}`;return It(this[i])?this[i]={iact:r,oldVal:e,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(e){Dn(this).forEach(e)}merge(e){if(It(e))return this;e.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const hn=Ht(Array),td=()=>null;function dr(t,e,n){if(Ht(String,e))t[e]=n;else if(hn(e)){let[r,...i]=e;It(t[r])&&(t[r]={}),Yt(i)?dr(t,r,n):dr(t[r],i,n)}}function za(t,e,n){if(Ht(String,e))It(t[e])&&(t[e]=[]),t[e].push(n);else if(hn(e)){let[r,...i]=e;It(t[r])&&(t[r]=Yt(i)?[]:{}),Yt(i)?za(t,r,n):za(t[r],i,n)}}function ln(t,e,n){if(Ht(String,e))return t[e]||(Ht(Function,n)?n():n);if(hn(e)){let[r,...i]=e;return It(t[r])?Ht(Function,n)?n():n:Yt(i)?ln(t,r,n):ln(t[r],i,n)}}class a7{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(e,n,r=td,i){if(!e.attr)return this;let a=e.view.id,s=e.eventname;return za(this.dependencies,[a,s],{view:n,domainfunction:r}),za(this.view2iacts,n.id,e),this.setDefault(n,i),this}dependentViews(e){let n=e.eventname;return ln(this.dependencies,[e.view.id,n],[])}cmp(e,n){return this.isDependentOn(e.view,n)?1:this.isDependentOn(n.view,e)?-1:0}isDependentOn(e,n){let r=this.getAncestorIacts(e);return Wd(i=>(i.store??i)==n,r)}setDefault(e,n){return It(n)||(this.defaults[e.id]=n),this}getDefault(e,n){return(ln(this.defaults,e.id)??td)(n,this.getAncestorIacts(e))}getAncestorIacts(e){let n=[];return ln(this.view2iacts,e.id,[]).forEach(r=>{n.push(r),n=oa(n,this.getAncestorIacts(r.view))}),n}getStatesKey(e){let n=this.getAncestorIacts(e),r=oa([e.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(e,n,r){let i=this.getStatesKey(n.view);!It(r)&&It(r.states[i])&&dr(r.states,[i,n.eventname],{old:ln(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,ln(this.states,[i,n.eventname]),e),dr(this.states,[i,n.eventname],e)}restoreStates(e){tn((n,r)=>{tn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),dr(this.states,[r,i.eventname],a)},n)},e.states)}getState(e,n,r=!0){let i=this.getStatesKey(e);return It(n)?this.states[i]:ln(this.states,[i,n],()=>r?this.getDefault(e,n):void 0)}}class sv{constructor(e){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new a7,this.transactions=[],this._isaborting=!1,this.backends=e,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(e){if(this.views[e.id]=e,hn(e)){e.forEach(n=>this.view(n));return}this.interactions[e.id]=this.interactions[e.id]??{_attrs:{}},e.magic=this,tn((n,r)=>{if(!It(this.interactions[e.id][r]))return;let i=a=>{e.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>Io(n)??{},load:i,id:this._iactid++,view:e,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!It(this.interactions[e.id]._attrs[a]))return this.interactions[e.id]._attrs[a];let f={store:n,attr:a,view:e,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let u=Io(n);return sa(a)(u)?u[a]:(Yt(u)||console.error("could not find attr:",vn(Io(n)).length),Ht(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[e.id]._attrs[a]=f,f},this.interactions[e.id][r]=n},e.interactions)}render(e,n,r,i={}){return e=hn(e)?e:[e],n=hn(n)?n:[n],e.map(s=>{if(Ht(Pp,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(e){console.debug("save backends invoked on: ",e),e=hn(e)?e:[e],e.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),tn((a,s)=>{tn((f,u)=>{f.forEach(c=>{console.debug("saveBackend.DependencyLeaf.ViewIact",c.view.id,this.i2b[c.view.id]);let l=this.dependencies.getAncestorIacts(c.view),h=oa([n.id],l.map(d=>[d.id,d.val()]));Yt(Eb(vn(this.i2b[c.view.id]),n.id))||(console.debug("saveBackend.View",n.id,c.view.id),this.dependencies.viewData[h]=r)})},a)},this.dependencies.dependencies)})})}connect(e,n,r){var s;if(hn(n)){n.forEach(f=>this.connect(e,f,r));return}let i=n,a=i.view;It(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),It(e)||dr(this.i2b,[a.id,e.id],this.processBindings(r))}processBindings(e){if(It(e)||Yt(e))return Ns;if(Ht(Function,e))return e;let n=nc(yb(Ht(Array),Ht(Object)),Sn(r=>this.processBindings(r)),nc(Ht(Function),Ns,r=>()=>r))(e);return sa("*",e)?r=>Rp(r,ec(n)(r)):ec(n)}saveIactState(e,n,r){this.dependencies.saveState(e,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(e,f))}let s=this.dependencies.getState(i);tn((f,u)=>{f=f??this.dependencies.getDefault(i,u),f&&(console.debug("saveIactState.load",i.id,u,f),i.load(f,u))},s),(It(s)||Yt(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(e,n){if(!It(e))if(console.log("handleEvent",this._isaborting,n.view.id,e),this._isaborting)this.dependencies.saveState(e,n,null),this.sendEventToBackends(e,n);else if(this.transactions.length==0||Oo(this.transactions).iact!=n)n.start(),this.handleEvent(e,n),n.end();else{let r=Oo(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,e,n),r.visible&&this.sendEventToBackends(e,n)}}sendEventToBackends(e,n){tn((r,i)=>{let a=r(e);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return Nb(e=>e.snapshot(),this.backends)}restoreSnapshot(e){tn((n,r)=>{It(n)||this.backends[r].restoreSnapshot(n)},e.snapshot)}start(e,n=!0){this.transactions.push({xid:this._xid++,iact:e,visible:n,snapshot:this.snapshot(),states:{},writeSet:new i7}),console.log("magic.start",this.transactions)}end(e){if(!Wd(a=>a.iact=e,this.transactions)){console.log("magic.end: can't find interaction",e);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=Dn(n.writeSet).map(({iact:a})=>a.id),i=Vd(a=>Dn(a).map(({iact:s})=>s.id),Dn(n.states));if(Yt(Bb(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=Oo(this.transactions);a.snapshot=Qu(a.snapshot,n.snapshot),a.states=Qu(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(e){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",Bp(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),Pb((i,a)=>this.dependencies.cmp(i.iact,a.iact),Dn(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(e){let n=JSON.parse(e);this.dependencies.states=n,tn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(e){let n=this.dependencies.getStatesKey(e),r=this.dependencies.states[n],i=Dn(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}e.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const qa="_theplot_",o7={top:30,right:20,bottom:50,left:40};function Do(t,e){t.className=t.className||qa,It(t.width);let n=$m(t),r=null;return n.tagName=="svg"&&n.classList.contains(t.className)?r=n:r=n.querySelector(`svg.${t.className}`),r.classList.add(qa),t.width||r.setAttribute("width","100%"),t.height||r.setAttribute("height","100%"),e.innerHTML="",e.appendChild(n),n}class Bu{constructor({iact:e,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=e,this.magic=n,this.plot=r,r&&this.init(r)}load(e){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!e||Yt(e)){this.el.call(this.brush.clear);return}const{left:n,right:r}=e;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:e}){if(this.iact.isActive)if(!e)this.iact.set(this.defaultSelection);else{const[n,r]=e;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:e,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:e,sourceEvent:n}){this.iact.isActive&&(e||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(e){if(!this.iact.isActive)return;if(this.plot=e,this.x=e.scale("x"),this.y=e.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=e.classList.contains(qa)?Xt(e):Xt(e.querySelector(`.${qa}`));this.brush=z2().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function s7(t){let e,n;return{c(){e=ct("div"),n=ct("div"),this.h()},l(r){e=lt(r,"DIV",{id:!0});var i=ht(e);n=lt(i,"DIV",{}),ht(n).forEach(V),i.forEach(V),this.h()},h(){q(e,"id",t[0])},m(r,i){bt(r,e,i),ot(e,n),t[15](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&V(e),t[15](null)}}}function f7(t,e,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:u,xDomainMin:c=null,xDomainMax:l=null,brushX:h=ie({}),interactions:d={brushX:h}}=e,g,p=null,m={},b=[],y;function _(T,A){return A==="overlay"?(m=T,!0):!1}function v(T,A){!T||T.length===0||typeof A=="object"||(_(T,A)?console.debug("overlays"):b=T,M())}let{load:w=T=>y==null?void 0:y.load(T)}=e;function M(){n(2,c=c??Ue(Sn(Ds(f),b))),n(3,l=l??ae(Sn(Ds(f),b)));const T=Math.max(36,Math.min(b.length,20));let A={x:{domain:[+c,+l]},height:200,marginBottom:50,color:{scheme:"Tableau10",legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[Dr({ticks:T,fontSize:10}),Fi({fontSize:10}),Cu([c]),Nu([0]),t7(b,{x:f,y:u,marker:!0,strokeWidth:3}),Ru(m,{x1:"left",x2:"right",y2:ae(Ff(u,b)),fill:"key",color:"key",opacity:.2})]};p=Do(A,g),h.isActive&&(y=y??new Bu({iact:h,magic:a}),y.init(p))}function S(T){kr[T?"unshift":"push"](()=>{g=T,n(1,g)})}return t.$$set=T=>{"id"in T&&n(4,r=T.id),"name"in T&&n(0,i=T.name),"magic"in T&&n(5,a=T.magic),"description"in T&&n(6,s=T.description),"xAttr"in T&&n(7,f=T.xAttr),"yAttr"in T&&n(8,u=T.yAttr),"xDomainMin"in T&&n(2,c=T.xDomainMin),"xDomainMax"in T&&n(3,l=T.xDomainMax),"brushX"in T&&n(9,h=T.brushX),"interactions"in T&&n(10,d=T.interactions),"load"in T&&n(13,w=T.load)},[i,g,c,l,r,a,s,f,u,h,d,_,v,w,M,S]}class fv extends We{constructor(e){super(),Ve(this,e,f7,s7,He,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(e){this.$$set({id:e}),K()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),K()}get magic(){return this.$$.ctx[5]}set magic(e){this.$$set({magic:e}),K()}get description(){return this.$$.ctx[6]}set description(e){this.$$set({description:e}),K()}get xAttr(){return this.$$.ctx[7]}set xAttr(e){this.$$set({xAttr:e}),K()}get yAttr(){return this.$$.ctx[8]}set yAttr(e){this.$$set({yAttr:e}),K()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(e){this.$$set({xDomainMin:e}),K()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(e){this.$$set({xDomainMax:e}),K()}get brushX(){return this.$$.ctx[9]}set brushX(e){this.$$set({brushX:e}),K()}get interactions(){return this.$$.ctx[10]}set interactions(e){this.$$set({interactions:e}),K()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(e){this.$$set({load:e}),K()}get update(){return this.$$.ctx[14]}}function ed(t){return Object.prototype.toString.call(t)==="[object Date]"}function Af(t,e,n,r){if(typeof n=="number"||ed(n)){const i=r-n,a=(n-e)/(t.dt||1/60),s=t.opts.stiffness*i,f=t.opts.damping*a,u=(s-f)*t.inv_mass,c=(a+u)*t.dt;return Math.abs(c)<t.opts.precision&&Math.abs(i)<t.opts.precision?r:(t.settled=!1,ed(n)?new Date(n.getTime()+c):n+c)}else{if(Array.isArray(n))return n.map((i,a)=>Af(t,e[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Af(t,e[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function u7(t,e={}){const n=ie(t),{stiffness:r=.15,damping:i=.8,precision:a=.01}=e;let s,f,u,c=t,l=t,h=1,d=0,g=!1;function p(b,y={}){l=b;const _=u={};return t==null||y.hard||m.stiffness>=1&&m.damping>=1?(g=!0,s=qu(),c=b,n.set(t=l),Promise.resolve()):(y.soft&&(d=1/((y.soft===!0?.5:+y.soft)*60),h=0),f||(s=qu(),g=!1,f=gp(v=>{if(g)return g=!1,f=null,!1;h=Math.min(h+d,1);const w={inv_mass:h,opts:m,settled:!0,dt:(v-s)*60/1e3},M=Af(w,c,t,l);return s=v,c=t,n.set(t=M),w.settled&&(f=null),!w.settled})),new Promise(v=>{f.promise.then(()=>{_===u&&v()})}))}const m={set:p,update:(b,y)=>p(b(l,t),y),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return m}function nd(t,e,n){const r=t.slice();return r[37]=e[n],r[39]=n,r}function rd(t){let e,n,r,i,a=(t[6]==="label"||t[7]==="label")&&id(t);return{c(){e=ct("span"),a&&a.c(),this.h()},l(s){e=lt(s,"SPAN",{class:!0,style:!0});var f=ht(e);a&&a.l(f),f.forEach(V),this.h()},h(){q(e,"class","pip first"),q(e,"style",n=t[14]+": 0%;"),rt(e,"selected",t[18](t[0])),rt(e,"in-range",t[17](t[0]))},m(s,f){bt(s,e,f),a&&a.m(e,null),r||(i=[kt(e,"pointerdown",t[30]),kt(e,"pointerup",t[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=id(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&q(e,"style",n),f[0]&262145&&rt(e,"selected",s[18](s[0])),f[0]&131073&&rt(e,"in-range",s[17](s[0]))},d(s){s&&V(e),a&&a.d(),r=!1,Hn(i)}}}function id(t){let e,n,r,i=t[12](t[16](t[0]),0,0)+"",a,s=t[10]&&ad(t),f=t[11]&&od(t);return{c(){e=ct("span"),s&&s.c(),n=Dt(),r=new Ha(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=lt(u,"SPAN",{class:!0});var c=ht(e);s&&s.l(c),n=Dt(),r=Ya(c,!1),a=Dt(),f&&f.l(c),c.forEach(V),this.h()},h(){r.a=a,q(e,"class","pipVal")},m(u,c){bt(u,e,c),s&&s.m(e,null),ot(e,n),r.m(i,e),ot(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=ad(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&69633&&i!==(i=u[12](u[16](u[0]),0,0)+"")&&r.p(i),u[11]?f?f.p(u,c):(f=od(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&V(e),s&&s.d(),f&&f.d()}}}function ad(t){let e,n;return{c(){e=ct("span"),n=Kt(t[10]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[10]),i.forEach(V),this.h()},h(){q(e,"class","pipVal-prefix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&1024&&ke(n,r[10])},d(r){r&&V(e)}}}function od(t){let e,n;return{c(){e=ct("span"),n=Kt(t[11]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[11]),i.forEach(V),this.h()},h(){q(e,"class","pipVal-suffix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&2048&&ke(n,r[11])},d(r){r&&V(e)}}}function sd(t){let e,n=Array(t[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=dd(nd(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Dt()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);e=Dt()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);bt(i,e,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=nd(i,n,s);r[s]?r[s].p(f,a):(r[s]=dd(f),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Cf(r,i),i&&V(e)}}}function fd(t){let e,n,r,i,a,s=(t[6]==="label"||t[9]==="label")&&ud(t);function f(...u){return t[33](t[39],...u)}return{c(){e=ct("span"),s&&s.c(),n=Re(),this.h()},l(u){e=lt(u,"SPAN",{class:!0,style:!0});var c=ht(e);s&&s.l(c),n=Be(c),c.forEach(V),this.h()},h(){q(e,"class","pip"),q(e,"style",r=t[14]+": "+t[15](t[19](t[39]))+"%;"),rt(e,"selected",t[18](t[19](t[39]))),rt(e,"in-range",t[17](t[19](t[39])))},m(u,c){bt(u,e,c),s&&s.m(e,null),ot(e,n),i||(a=[kt(e,"pointerdown",t[32]),kt(e,"pointerup",f)],i=!0)},p(u,c){t=u,t[6]==="label"||t[9]==="label"?s?s.p(t,c):(s=ud(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&573440&&r!==(r=t[14]+": "+t[15](t[19](t[39]))+"%;")&&q(e,"style",r),c[0]&786432&&rt(e,"selected",t[18](t[19](t[39]))),c[0]&655360&&rt(e,"in-range",t[17](t[19](t[39])))},d(u){u&&V(e),s&&s.d(),i=!1,Hn(a)}}}function ud(t){let e,n,r,i=t[12](t[19](t[39]),t[39],t[15](t[19](t[39])))+"",a,s=t[10]&&cd(t),f=t[11]&&ld(t);return{c(){e=ct("span"),s&&s.c(),n=Dt(),r=new Ha(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=lt(u,"SPAN",{class:!0});var c=ht(e);s&&s.l(c),n=Dt(),r=Ya(c,!1),a=Dt(),f&&f.l(c),c.forEach(V),this.h()},h(){r.a=a,q(e,"class","pipVal")},m(u,c){bt(u,e,c),s&&s.m(e,null),ot(e,n),r.m(i,e),ot(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=cd(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&561152&&i!==(i=u[12](u[19](u[39]),u[39],u[15](u[19](u[39])))+"")&&r.p(i),u[11]?f?f.p(u,c):(f=ld(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&V(e),s&&s.d(),f&&f.d()}}}function cd(t){let e,n;return{c(){e=ct("span"),n=Kt(t[10]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[10]),i.forEach(V),this.h()},h(){q(e,"class","pipVal-prefix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&1024&&ke(n,r[10])},d(r){r&&V(e)}}}function ld(t){let e,n;return{c(){e=ct("span"),n=Kt(t[11]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[11]),i.forEach(V),this.h()},h(){q(e,"class","pipVal-suffix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&2048&&ke(n,r[11])},d(r){r&&V(e)}}}function dd(t){let e=t[19](t[39])!==t[0]&&t[19](t[39])!==t[1],n,r=e&&fd(t);return{c(){r&&r.c(),n=Dt()},l(i){r&&r.l(i),n=Dt()},m(i,a){r&&r.m(i,a),bt(i,n,a)},p(i,a){a[0]&524291&&(e=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),e?r?r.p(i,a):(r=fd(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&V(n)}}}function hd(t){let e,n,r,i,a=(t[6]==="label"||t[8]==="label")&&gd(t);return{c(){e=ct("span"),a&&a.c(),this.h()},l(s){e=lt(s,"SPAN",{class:!0,style:!0});var f=ht(e);a&&a.l(f),f.forEach(V),this.h()},h(){q(e,"class","pip last"),q(e,"style",n=t[14]+": 100%;"),rt(e,"selected",t[18](t[1])),rt(e,"in-range",t[17](t[1]))},m(s,f){bt(s,e,f),a&&a.m(e,null),r||(i=[kt(e,"pointerdown",t[34]),kt(e,"pointerup",t[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=gd(s),a.c(),a.m(e,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&q(e,"style",n),f[0]&262146&&rt(e,"selected",s[18](s[1])),f[0]&131074&&rt(e,"in-range",s[17](s[1]))},d(s){s&&V(e),a&&a.d(),r=!1,Hn(i)}}}function gd(t){let e,n,r,i=t[12](t[16](t[1]),t[20],100)+"",a,s=t[10]&&md(t),f=t[11]&&pd(t);return{c(){e=ct("span"),s&&s.c(),n=Dt(),r=new Ha(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=lt(u,"SPAN",{class:!0});var c=ht(e);s&&s.l(c),n=Dt(),r=Ya(c,!1),a=Dt(),f&&f.l(c),c.forEach(V),this.h()},h(){r.a=a,q(e,"class","pipVal")},m(u,c){bt(u,e,c),s&&s.m(e,null),ot(e,n),r.m(i,e),ot(e,a),f&&f.m(e,null)},p(u,c){u[10]?s?s.p(u,c):(s=md(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&1118210&&i!==(i=u[12](u[16](u[1]),u[20],100)+"")&&r.p(i),u[11]?f?f.p(u,c):(f=pd(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&V(e),s&&s.d(),f&&f.d()}}}function md(t){let e,n;return{c(){e=ct("span"),n=Kt(t[10]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[10]),i.forEach(V),this.h()},h(){q(e,"class","pipVal-prefix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&1024&&ke(n,r[10])},d(r){r&&V(e)}}}function pd(t){let e,n;return{c(){e=ct("span"),n=Kt(t[11]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[11]),i.forEach(V),this.h()},h(){q(e,"class","pipVal-suffix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&2048&&ke(n,r[11])},d(r){r&&V(e)}}}function c7(t){let e,n,r,i=(t[6]&&t[7]!==!1||t[7])&&rd(t),a=(t[6]&&t[9]!==!1||t[9])&&sd(t),s=(t[6]&&t[8]!==!1||t[8])&&hd(t);return{c(){e=ct("div"),i&&i.c(),n=Re(),a&&a.c(),r=Re(),s&&s.c(),this.h()},l(f){e=lt(f,"DIV",{class:!0});var u=ht(e);i&&i.l(u),n=Be(u),a&&a.l(u),r=Be(u),s&&s.l(u),u.forEach(V),this.h()},h(){q(e,"class","rangePips"),rt(e,"disabled",t[5]),rt(e,"hoverable",t[4]),rt(e,"vertical",t[2]),rt(e,"reversed",t[3]),rt(e,"focus",t[13])},m(f,u){bt(f,e,u),i&&i.m(e,null),ot(e,n),a&&a.m(e,null),ot(e,r),s&&s.m(e,null)},p(f,u){f[6]&&f[7]!==!1||f[7]?i?i.p(f,u):(i=rd(f),i.c(),i.m(e,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,u):(a=sd(f),a.c(),a.m(e,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,u):(s=hd(f),s.c(),s.m(e,null)):s&&(s.d(1),s=null),u[0]&32&&rt(e,"disabled",f[5]),u[0]&16&&rt(e,"hoverable",f[4]),u[0]&4&&rt(e,"vertical",f[2]),u[0]&8&&rt(e,"reversed",f[3]),u[0]&8192&&rt(e,"focus",f[13])},i:Lt,o:Lt,d(f){f&&V(e),i&&i.d(),a&&a.d(),s&&s.d()}}}function l7(t,e,n){let r,i,a,s,f,{range:u=!1}=e,{min:c=0}=e,{max:l=100}=e,{step:h=1}=e,{values:d=[(l+c)/2]}=e,{vertical:g=!1}=e,{reversed:p=!1}=e,{hoverable:m=!0}=e,{disabled:b=!1}=e,{pipstep:y=void 0}=e,{all:_=!0}=e,{first:v=void 0}=e,{last:w=void 0}=e,{rest:M=void 0}=e,{prefix:S=""}=e,{suffix:T=""}=e,{formatter:A=(D,tt,et)=>D}=e,{focus:N=void 0}=e,{orientationStart:k=void 0}=e,{percentOf:x=void 0}=e,{moveHandle:L=void 0}=e,{fixFloat:I=void 0}=e,{normalisedClient:R=void 0}=e,E;function P(D){D=R(D),E={x:D.clientX,y:D.clientY}}function H(D,tt){if(tt=R(tt),!b){const et=Math.sqrt(Math.pow(E.x-tt.clientX,2)+Math.pow(E.y-tt.clientY,2));E&&et<=5&&L(void 0,D)}}const Z=D=>{P(D)},Y=D=>{H(c,D)},B=D=>{P(D)},U=(D,tt)=>{H(a(D),tt)},$=D=>{P(D)},j=D=>{H(l,D)};return t.$$set=D=>{"range"in D&&n(23,u=D.range),"min"in D&&n(0,c=D.min),"max"in D&&n(1,l=D.max),"step"in D&&n(24,h=D.step),"values"in D&&n(25,d=D.values),"vertical"in D&&n(2,g=D.vertical),"reversed"in D&&n(3,p=D.reversed),"hoverable"in D&&n(4,m=D.hoverable),"disabled"in D&&n(5,b=D.disabled),"pipstep"in D&&n(26,y=D.pipstep),"all"in D&&n(6,_=D.all),"first"in D&&n(7,v=D.first),"last"in D&&n(8,w=D.last),"rest"in D&&n(9,M=D.rest),"prefix"in D&&n(10,S=D.prefix),"suffix"in D&&n(11,T=D.suffix),"formatter"in D&&n(12,A=D.formatter),"focus"in D&&n(13,N=D.focus),"orientationStart"in D&&n(14,k=D.orientationStart),"percentOf"in D&&n(15,x=D.percentOf),"moveHandle"in D&&n(27,L=D.moveHandle),"fixFloat"in D&&n(16,I=D.fixFloat),"normalisedClient"in D&&n(28,R=D.normalisedClient)},t.$$.update=()=>{t.$$.dirty[0]&83886087&&n(29,r=y||((l-c)/h>=(g?50:100)?(l-c)/(g?10:20):1)),t.$$.dirty[0]&553648131&&n(20,i=parseInt((l-c)/(h*r),10)),t.$$.dirty[0]&553713665&&n(19,a=function(D){return I(c+D*h*r)}),t.$$.dirty[0]&33619968&&n(18,s=function(D){return d.some(tt=>I(tt)===I(D))}),t.$$.dirty[0]&41943040&&n(17,f=function(D){if(u==="min")return d[0]>D;if(u==="max")return d[0]<D;if(u)return d[0]<D&&d[1]>D})},[c,l,g,p,m,b,_,v,w,M,S,T,A,N,k,x,I,f,s,a,i,P,H,u,h,d,y,L,R,r,Z,Y,B,U,$,j]}class d7 extends We{constructor(e){super(),Ve(this,e,l7,c7,He,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function bd(t,e,n){const r=t.slice();return r[65]=e[n],r[67]=n,r}function yd(t){let e,n,r,i=t[21](t[65],t[67],t[24](t[65]))+"",a,s=t[18]&&_d(t),f=t[19]&&wd(t);return{c(){e=ct("span"),s&&s.c(),n=Dt(),r=new Ha(!1),a=Dt(),f&&f.c(),this.h()},l(u){e=lt(u,"SPAN",{class:!0});var c=ht(e);s&&s.l(c),n=Dt(),r=Ya(c,!1),a=Dt(),f&&f.l(c),c.forEach(V),this.h()},h(){r.a=a,q(e,"class","rangeFloat")},m(u,c){bt(u,e,c),s&&s.m(e,null),ot(e,n),r.m(i,e),ot(e,a),f&&f.m(e,null)},p(u,c){u[18]?s?s.p(u,c):(s=_d(u),s.c(),s.m(e,n)):s&&(s.d(1),s=null),c[0]&18874369&&i!==(i=u[21](u[65],u[67],u[24](u[65]))+"")&&r.p(i),u[19]?f?f.p(u,c):(f=wd(u),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&V(e),s&&s.d(),f&&f.d()}}}function _d(t){let e,n;return{c(){e=ct("span"),n=Kt(t[18]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[18]),i.forEach(V),this.h()},h(){q(e,"class","rangeFloat-prefix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&262144&&ke(n,r[18])},d(r){r&&V(e)}}}function wd(t){let e,n;return{c(){e=ct("span"),n=Kt(t[19]),this.h()},l(r){e=lt(r,"SPAN",{class:!0});var i=ht(e);n=Jt(i,t[19]),i.forEach(V),this.h()},h(){q(e,"class","rangeFloat-suffix")},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i[0]&524288&&ke(n,r[19])},d(r){r&&V(e)}}}function vd(t){let e,n,r,i,a,s,f,u,c,l,h,d,g,p=t[7]&&yd(t);return{c(){e=ct("span"),n=ct("span"),r=Re(),p&&p.c(),this.h()},l(m){e=lt(m,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=ht(e);n=lt(b,"SPAN",{class:!0}),ht(n).forEach(V),r=Be(b),p&&p.l(b),b.forEach(V),this.h()},h(){q(n,"class","rangeNub"),q(e,"role","slider"),q(e,"class","rangeHandle"),q(e,"data-handle",t[67]),q(e,"style",i=t[29]+": "+t[30][t[67]]+"%; z-index: "+(t[27]===t[67]?3:2)+";"),q(e,"aria-label",a=t[22][t[67]]),q(e,"aria-valuemin",s=t[2]===!0&&t[67]===1?t[0][0]:t[3]),q(e,"aria-valuemax",f=t[2]===!0&&t[67]===0?t[0][1]:t[4]),q(e,"aria-valuenow",u=t[65]),q(e,"aria-valuetext",c=""+(t[18]+Td(t[21](t[65],t[67],t[24](t[65])))+t[19])),q(e,"aria-orientation",l=t[6]?"vertical":"horizontal"),q(e,"aria-disabled",t[10]),q(e,"disabled",t[10]),q(e,"tabindex",h=t[10]?-1:0),rt(e,"active",t[25]&&t[27]===t[67]),rt(e,"press",t[26]&&t[27]===t[67])},m(m,b){bt(m,e,b),ot(e,n),ot(e,r),p&&p.m(e,null),d||(g=[kt(e,"blur",t[35]),kt(e,"focus",t[36]),kt(e,"keydown",t[37])],d=!0)},p(m,b){m[7]?p?p.p(m,b):(p=yd(m),p.c(),p.m(e,null)):p&&(p.d(1),p=null),b[0]&1744830464&&i!==(i=m[29]+": "+m[30][m[67]]+"%; z-index: "+(m[27]===m[67]?3:2)+";")&&q(e,"style",i),b[0]&4194304&&a!==(a=m[22][m[67]])&&q(e,"aria-label",a),b[0]&13&&s!==(s=m[2]===!0&&m[67]===1?m[0][0]:m[3])&&q(e,"aria-valuemin",s),b[0]&21&&f!==(f=m[2]===!0&&m[67]===0?m[0][1]:m[4])&&q(e,"aria-valuemax",f),b[0]&1&&u!==(u=m[65])&&q(e,"aria-valuenow",u),b[0]&19660801&&c!==(c=""+(m[18]+Td(m[21](m[65],m[67],m[24](m[65])))+m[19]))&&q(e,"aria-valuetext",c),b[0]&64&&l!==(l=m[6]?"vertical":"horizontal")&&q(e,"aria-orientation",l),b[0]&1024&&q(e,"aria-disabled",m[10]),b[0]&1024&&q(e,"disabled",m[10]),b[0]&1024&&h!==(h=m[10]?-1:0)&&q(e,"tabindex",h),b[0]&167772160&&rt(e,"active",m[25]&&m[27]===m[67]),b[0]&201326592&&rt(e,"press",m[26]&&m[27]===m[67])},d(m){m&&V(e),p&&p.d(),d=!1,Hn(g)}}}function Md(t){let e,n;return{c(){e=ct("span"),this.h()},l(r){e=lt(r,"SPAN",{class:!0,style:!0}),ht(e).forEach(V),this.h()},h(){q(e,"class","rangeBar"),q(e,"style",n=t[29]+": "+t[33](t[30])+"%; "+t[28]+": "+t[34](t[30])+"%;")},m(r,i){bt(r,e,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&q(e,"style",n)},d(r){r&&V(e)}}}function Sd(t){let e,n;return e=new d7({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[29],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[25],percentOf:t[24],moveHandle:t[32],fixFloat:t[31],normalisedClient:ea}}),{c(){Id(e.$$.fragment)},l(r){Ld(e.$$.fragment,r)},m(r,i){Fd(e,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),e.$set(a)},i(r){n||(Hr(e.$$.fragment,r),n=!0)},o(r){na(e.$$.fragment,r),n=!1},d(r){Od(e,r)}}}function h7(t){let e,n,r,i,a,s,f=t[0],u=[];for(let h=0;h<f.length;h+=1)u[h]=vd(bd(t,f,h));let c=t[2]&&Md(t),l=t[11]&&Sd(t);return{c(){e=ct("div");for(let h=0;h<u.length;h+=1)u[h].c();n=Re(),c&&c.c(),r=Re(),l&&l.c(),this.h()},l(h){e=lt(h,"DIV",{id:!0,role:!0,class:!0});var d=ht(e);for(let g=0;g<u.length;g+=1)u[g].l(d);n=Be(d),c&&c.l(d),r=Be(d),l&&l.l(d),d.forEach(V),this.h()},h(){q(e,"id",t[17]),q(e,"role","none"),q(e,"class","rangeSlider"),rt(e,"range",t[2]),rt(e,"disabled",t[10]),rt(e,"hoverable",t[9]),rt(e,"vertical",t[6]),rt(e,"reversed",t[8]),rt(e,"focus",t[25]),rt(e,"min",t[2]==="min"),rt(e,"max",t[2]==="max"),rt(e,"pips",t[11]),rt(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(h,d){bt(h,e,d);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(e,null);ot(e,n),c&&c.m(e,null),ot(e,r),l&&l.m(e,null),t[51](e),i=!0,a||(s=[kt(window,"mousedown",t[40]),kt(window,"touchstart",t[40]),kt(window,"mousemove",t[41]),kt(window,"touchmove",t[41]),kt(window,"mouseup",t[42]),kt(window,"touchend",t[43]),kt(window,"keydown",t[44]),kt(e,"mousedown",t[38]),kt(e,"mouseup",t[39]),kt(e,"touchstart",ju(t[38])),kt(e,"touchend",ju(t[39]))],a=!0)},p(h,d){if(d[0]&1869350109|d[1]&112){f=h[0];let g;for(g=0;g<f.length;g+=1){const p=bd(h,f,g);u[g]?u[g].p(p,d):(u[g]=vd(p),u[g].c(),u[g].m(e,n))}for(;g<u.length;g+=1)u[g].d(1);u.length=f.length}h[2]?c?c.p(h,d):(c=Md(h),c.c(),c.m(e,r)):c&&(c.d(1),c=null),h[11]?l?(l.p(h,d),d[0]&2048&&Hr(l,1)):(l=Sd(h),l.c(),Hr(l,1),l.m(e,null)):l&&(mp(),na(l,1,1,()=>{l=null}),pp()),(!i||d[0]&131072)&&q(e,"id",h[17]),(!i||d[0]&4)&&rt(e,"range",h[2]),(!i||d[0]&1024)&&rt(e,"disabled",h[10]),(!i||d[0]&512)&&rt(e,"hoverable",h[9]),(!i||d[0]&64)&&rt(e,"vertical",h[6]),(!i||d[0]&256)&&rt(e,"reversed",h[8]),(!i||d[0]&33554432)&&rt(e,"focus",h[25]),(!i||d[0]&4)&&rt(e,"min",h[2]==="min"),(!i||d[0]&4)&&rt(e,"max",h[2]==="max"),(!i||d[0]&2048)&&rt(e,"pips",h[11]),(!i||d[0]&122880)&&rt(e,"pip-labels",h[13]==="label"||h[14]==="label"||h[15]==="label"||h[16]==="label")},i(h){i||(Hr(l),i=!0)},o(h){na(l),i=!1},d(h){h&&V(e),Cf(u,h),c&&c.d(),l&&l.d(),t[51](null),a=!1,Hn(s)}}}function xd(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function ea(t){return t.type.includes("touch")?t.touches[0]||t.changedTouches[0]:t}function Td(t){return`${t}`.replace(/<[^>]*>/g,"")}function g7(t,e,n){let r,i,a,s,f,u,c=Lt,l=()=>(c(),c=Fn(W,C=>n(30,u=C)),W);t.$$.on_destroy.push(()=>c());let{slider:h=void 0}=e,{range:d=!1}=e,{pushy:g=!1}=e,{min:p=0}=e,{max:m=100}=e,{step:b=1}=e,{values:y=[(m+p)/2]}=e,{vertical:_=!1}=e,{float:v=!1}=e,{reversed:w=!1}=e,{hoverable:M=!0}=e,{disabled:S=!1}=e,{pips:T=!1}=e,{pipstep:A=void 0}=e,{all:N=void 0}=e,{first:k=void 0}=e,{last:x=void 0}=e,{rest:L=void 0}=e,{id:I=void 0}=e,{prefix:R=""}=e,{suffix:E=""}=e,{formatter:P=(C,J,St)=>C}=e,{handleFormatter:H=P}=e,{ariaLabels:Z=[]}=e,{precision:Y=2}=e,{springValues:B={stiffness:.15,damping:.4}}=e;const U=bp();let $=0,j=!1,D=!1,tt=!1,et=!1,z=y.length-1,Q,O,W;const X=C=>parseFloat((+C).toFixed(Y));function F(C){const J=h.querySelectorAll(".handle"),St=Array.prototype.includes.call(J,C),xt=Array.prototype.some.call(J,Xe=>Xe.contains(C));return St||xt}function mt(C){return d==="min"||d==="max"?C.slice(0,1):d?C.slice(0,2):C}function nt(){return h.getBoundingClientRect()}function yt(C){const J=nt();let St=0,xt=0,Xe=0;_?(St=C.clientY-J.top,xt=St/J.height*100,xt=w?xt:100-xt):(St=C.clientX-J.left,xt=St/J.width*100,xt=w?100-xt:xt),Xe=(m-p)/100*xt+p;let zu;return d===!0&&y[0]===y[1]?Xe>y[1]?1:0:(zu=y.indexOf([...y].sort((dp,hp)=>Math.abs(Xe-dp)-Math.abs(Xe-hp))[0]),zu)}function Mt(C){const J=nt();let St=0,xt=0,Xe=0;_?(St=C.clientY-J.top,xt=St/J.height*100,xt=w?xt:100-xt):(St=C.clientX-J.left,xt=St/J.width*100,xt=w?100-xt:xt),Xe=(m-p)/100*xt+p,G(z,Xe)}function G(C,J){return J=a(J),typeof C>"u"&&(C=z),d&&(C===0&&J>y[1]?g?n(0,y[1]=J,y):J=y[1]:C===1&&J<y[0]&&(g?n(0,y[0]=J,y):J=y[0])),y[C]!==J&&n(0,y[C]=J,y),O!==J&&(cp(),O=J),J}function wt(C){return d==="min"?0:C[0]}function ne(C){return d==="max"?0:d==="min"?100-C[0]:100-C[1]}function De(C){et&&(n(25,j=!1),D=!1,n(26,tt=!1))}function tp(C){S||(n(27,z=xd(C.target)),n(25,j=!0))}function ep(C){if(!S){const J=xd(C.target);let St=C.ctrlKey||C.metaKey||C.shiftKey?b*10:b,xt=!1;switch(C.key){case"PageDown":St*=10;case"ArrowRight":case"ArrowUp":G(J,y[J]+St),xt=!0;break;case"PageUp":St*=10;case"ArrowLeft":case"ArrowDown":G(J,y[J]-St),xt=!0;break;case"Home":G(J,p),xt=!0;break;case"End":G(J,m),xt=!0;break}xt&&(C.preventDefault(),C.stopPropagation())}}function np(C){if(!S){const J=C.target,St=ea(C);n(25,j=!0),D=!0,n(26,tt=!0),n(27,z=yt(St)),Q=O=a(y[z]),up(),C.type==="touchstart"&&!J.matches(".pipVal")&&Mt(St)}}function rp(C){C.type==="touchend"&&Uu(),n(26,tt=!1)}function ip(C){et=!1,j&&C.target!==h&&!h.contains(C.target)&&n(25,j=!1)}function ap(C){S||D&&Mt(ea(C))}function op(C){if(!S){const J=C.target;D&&((J===h||h.contains(J))&&(n(25,j=!0),!F(J)&&!J.matches(".pipVal")&&Mt(ea(C))),Uu())}D=!1,n(26,tt=!1)}function sp(C){D=!1,n(26,tt=!1)}function fp(C){S||(C.target===h||h.contains(C.target))&&(et=!0)}function up(){!S&&U("start",{activeHandle:z,value:Q,values:y.map(C=>a(C))})}function Uu(){!S&&U("stop",{activeHandle:z,startValue:Q,value:y[z],values:y.map(C=>a(C))})}function cp(){!S&&U("change",{activeHandle:z,startValue:Q,previousValue:typeof O>"u"?Q:O,value:y[z],values:y.map(C=>a(C))})}function lp(C){kr[C?"unshift":"push"](()=>{h=C,n(1,h)})}return t.$$set=C=>{"slider"in C&&n(1,h=C.slider),"range"in C&&n(2,d=C.range),"pushy"in C&&n(45,g=C.pushy),"min"in C&&n(3,p=C.min),"max"in C&&n(4,m=C.max),"step"in C&&n(5,b=C.step),"values"in C&&n(0,y=C.values),"vertical"in C&&n(6,_=C.vertical),"float"in C&&n(7,v=C.float),"reversed"in C&&n(8,w=C.reversed),"hoverable"in C&&n(9,M=C.hoverable),"disabled"in C&&n(10,S=C.disabled),"pips"in C&&n(11,T=C.pips),"pipstep"in C&&n(12,A=C.pipstep),"all"in C&&n(13,N=C.all),"first"in C&&n(14,k=C.first),"last"in C&&n(15,x=C.last),"rest"in C&&n(16,L=C.rest),"id"in C&&n(17,I=C.id),"prefix"in C&&n(18,R=C.prefix),"suffix"in C&&n(19,E=C.suffix),"formatter"in C&&n(20,P=C.formatter),"handleFormatter"in C&&n(21,H=C.handleFormatter),"ariaLabels"in C&&n(22,Z=C.ariaLabels),"precision"in C&&n(46,Y=C.precision),"springValues"in C&&n(47,B=C.springValues)},t.$$.update=()=>{if(t.$$.dirty[0]&24&&n(50,i=function(C){return C<=p?p:C>=m?m:C}),t.$$.dirty[0]&56|t.$$.dirty[1]&524288&&n(49,a=function(C){if(C<=p)return X(p);if(C>=m)return X(m);C=X(C);let J=(C-p)%b,St=C-J;return Math.abs(J)*2>=b&&(St+=J>0?b:-b),St=i(St),X(St)}),t.$$.dirty[0]&24&&n(24,r=function(C){let J=(C-p)/(m-p)*100;return isNaN(J)||J<=0?0:J>=100?100:X(J)}),t.$$.dirty[0]&29360153|t.$$.dirty[1]&458752){Array.isArray(y)||(n(0,y=[(m+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const C=mt(y.map(J=>a(J)));(y.length!==C.length||!y.every((J,St)=>X(J)===C[St]))&&n(0,y=C),$!==y.length?l(n(23,W=u7(y.map(J=>r(J)),B))):W.set(y.map(J=>r(J))),n(48,$=y.length),y.length>1&&!Array.isArray(Z)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}t.$$.dirty[0]&320&&n(29,s=_?w?"top":"bottom":w?"right":"left"),t.$$.dirty[0]&320&&n(28,f=_?w?"bottom":"top":w?"left":"right")},[y,h,d,p,m,b,_,v,w,M,S,T,A,N,k,x,L,I,R,E,P,H,Z,W,r,j,tt,z,f,s,u,X,G,wt,ne,De,tp,ep,np,rp,ip,ap,op,sp,fp,g,Y,B,$,a,i,lp]}class m7 extends We{constructor(e){super(),Ve(this,e,g7,h7,He,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function kd(t){let e,n;return{c(){e=ct("p"),n=Kt(t[2])},l(r){e=lt(r,"P",{});var i=ht(e);n=Jt(i,t[2]),i.forEach(V)},m(r,i){bt(r,e,i),ot(e,n)},p(r,i){i&4&&ke(n,r[2])},d(r){r&&V(e)}}}function p7(t){let e,n,r,i,a,s=t[2]&&kd(t);function f(c){t[14](c)}let u={min:+t[0],max:+t[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return t[6]!==void 0&&(u.values=t[6]),r=new m7({props:u}),kr.push(()=>yp(r,"values",f)),r.$on("start",t[8]),r.$on("change",t[7]),r.$on("stop",t[9]),{c(){e=ct("div"),s&&s.c(),n=Re(),Id(r.$$.fragment),this.h()},l(c){e=lt(c,"DIV",{class:!0,id:!0});var l=ht(e);s&&s.l(l),n=Be(l),Ld(r.$$.fragment,l),l.forEach(V),this.h()},h(){q(e,"class","px-[1%] py-[1%] ml-[2.1%]"),q(e,"id","slider")},m(c,l){bt(c,e,l),s&&s.m(e,null),ot(e,n),Fd(r,e,null),a=!0},p(c,[l]){c[2]?s?s.p(c,l):(s=kd(c),s.c(),s.m(e,n)):s&&(s.d(1),s=null);const h={};l&1&&(h.min=+c[0]),l&2&&(h.max=+c[1]),!i&&l&64&&(i=!0,h.values=c[6],_p(()=>i=!1)),r.$set(h)},i(c){a||(Hr(r.$$.fragment,c),a=!0)},o(c){na(r.$$.fragment,c),a=!1},d(c){c&&V(e),s&&s.d(),Od(r)}}}function b7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(_,x=>n(15,r=x)),_),s,f=Lt,u=()=>(f(),f=Fn(b,x=>n(16,s=x)),b),c,l=Lt,h=()=>(l(),l=Fn(y,x=>n(17,c=x)),y);t.$$.on_destroy.push(()=>i()),t.$$.on_destroy.push(()=>f()),t.$$.on_destroy.push(()=>l());let{min:d=0,max:g=100,id:p,description:m}=e,{change:b=ie({})}=e;u();let{stop:y=ie({})}=e;h();let{drag:_=ie({})}=e;a();let{interactions:v={change:b,stop:y,drag:_}}=e;wp("dims");let w=[d,g];[...w];function M(x){console.log("Slider.render",x),x&&Ht(Array,x)&&Yt(x.filter(L=>L===void 0))&&(n(6,w=[+x[0].min,+x[0].max]),n(0,[d,g]=w,d,n(1,g)),console.log("Slider.render.to",w)),w&&w.length>=2&&T()}function S(x,L){console.log("Slider.load",x,L),!(!sa("left")(x)||!sa("right")(x))&&(x=x??{left:d,right:g},n(6,w=[x.left??d,x.right??g]),T())}function T(){b.isActive&&le(b,s={left:w[0],right:w[1]},s),_.isActive&&le(_,r={left:w[0],right:w[1]},r)}function A(){_.isActive&&le(_,r={left:w[0],right:w[1]},r)}function N(){y.isActive&&le(y,c={left:w[0],right:w[1]},c),b.isActive&&le(b,s={left:w[0],right:w[1]},s),_.isActive&&le(_,r={left:w[0],right:w[1]},r)}function k(x){w=x,n(6,w)}return t.$$set=x=>{"min"in x&&n(0,d=x.min),"max"in x&&n(1,g=x.max),"id"in x&&n(10,p=x.id),"description"in x&&n(2,m=x.description),"change"in x&&u(n(3,b=x.change)),"stop"in x&&h(n(4,y=x.stop)),"drag"in x&&a(n(5,_=x.drag)),"interactions"in x&&n(11,v=x.interactions)},[d,g,m,b,y,_,w,T,A,N,p,v,M,S,k]}class uv extends We{constructor(e){super(),Ve(this,e,b7,p7,He,{min:0,max:1,id:10,description:2,change:3,stop:4,drag:5,interactions:11,render:12,load:13})}get min(){return this.$$.ctx[0]}set min(e){this.$$set({min:e}),K()}get max(){return this.$$.ctx[1]}set max(e){this.$$set({max:e}),K()}get id(){return this.$$.ctx[10]}set id(e){this.$$set({id:e}),K()}get description(){return this.$$.ctx[2]}set description(e){this.$$set({description:e}),K()}get change(){return this.$$.ctx[3]}set change(e){this.$$set({change:e}),K()}get stop(){return this.$$.ctx[4]}set stop(e){this.$$set({stop:e}),K()}get drag(){return this.$$.ctx[5]}set drag(e){this.$$set({drag:e}),K()}get interactions(){return this.$$.ctx[11]}set interactions(e){this.$$set({interactions:e}),K()}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}}function y7(t){let e,n;return{c(){e=ct("div"),n=ct("div"),this.h()},l(r){e=lt(r,"DIV",{id:!0});var i=ht(e);n=lt(i,"DIV",{}),ht(n).forEach(V),i.forEach(V),this.h()},h(){q(e,"id",t[0])},m(r,i){bt(r,e,i),ot(e,n),t[18](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&V(e),t[18](null)}}}function _7(t,e,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:f,yAttr:u="val",yMax:c,magic:l,xDomainMin:h=null,xDomainMax:d=null,theplot:g=null}=e,p={},{brushX:m=ie({}),interactions:b={brushX:m}}=e,y,_=null,v=[],w=[{},{}];function M(k,x){return x!="overlay"?!1:(p=k,!0)}function S(k,x){return x!="badyear"?!1:(k.forEach((L,I)=>{L.rank=I+1,L[f]=Number(L[f])}),w=k,!0)}function T(k,x){!k||k.length===0||typeof x=="object"||(S(k,x)||M(k,x)?console.debug("overlay or badyear"):(v=r7(k,{include:a}),v.forEach(L=>L[f]=Number(L[f]))),A())}function A(){n(2,h=+h),n(3,d=+d);let k=Mf({x:{type:"linear",domain:[h-1,d]}}),x=I=>(w.length-I.rank)*(.3/w.length)+.7,L={x:k,color:{domain:a,range:T0,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[Dr({ticks:$p(I=>I+h,d-h),tickRotate:-90,fontSize:10,tickFormat:I=>(I+"").slice(-2)}),Fi({fontSize:10,label:"Payout"}),Nu([0]),Cu([k.domain[0]]),kf(w,{x1:I=>I[f]-.5,x2:I=>I[f]+.5,y:x,stroke:"black",opacity:.8,strokeWidth:1}),n7(w,{x1:I=>I[f]-.5,x2:I=>I[f]+.5,y1:0,y2:x,fill:"gray",opacity:.1}),Ru(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),Z8(v,{filter:I=>I.key==a[3]&&I[f]>=h&&I[f]<=d&&+I[u]==0,x:I=>+I[f],y:0,stroke:"red",strokeWidth:1})]};a.forEach((I,R)=>{let E=(1+R)/a.length*.7;L.marks.push(kf(v,{filter:P=>P.key==I&&P[f]>=h&&P[f]<=d,x:P=>+P[f]+E-.35,y1:0,y2:u,stroke:"key",strokeWidth:4}))}),n(4,g=Do(L,_)),m.isActive&&(y=y??new Bu({iact:m,magic:l}),y.init(g))}function N(k){kr[k?"unshift":"push"](()=>{_=k,n(1,_)})}return t.$$set=k=>{"id"in k&&n(5,r=k.id),"name"in k&&n(0,i=k.name),"groupNames"in k&&n(6,a=k.groupNames),"title"in k&&n(7,s=k.title),"xAttr"in k&&n(8,f=k.xAttr),"yAttr"in k&&n(9,u=k.yAttr),"yMax"in k&&n(10,c=k.yMax),"magic"in k&&n(11,l=k.magic),"xDomainMin"in k&&n(2,h=k.xDomainMin),"xDomainMax"in k&&n(3,d=k.xDomainMax),"theplot"in k&&n(4,g=k.theplot),"brushX"in k&&n(12,m=k.brushX),"interactions"in k&&n(13,b=k.interactions)},[i,_,h,d,g,r,a,s,f,u,c,l,m,b,M,S,T,A,N]}class cv extends We{constructor(e){super(),Ve(this,e,_7,y7,He,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(e){this.$$set({id:e}),K()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),K()}get groupNames(){return this.$$.ctx[6]}set groupNames(e){this.$$set({groupNames:e}),K()}get title(){return this.$$.ctx[7]}set title(e){this.$$set({title:e}),K()}get xAttr(){return this.$$.ctx[8]}set xAttr(e){this.$$set({xAttr:e}),K()}get yAttr(){return this.$$.ctx[9]}set yAttr(e){this.$$set({yAttr:e}),K()}get yMax(){return this.$$.ctx[10]}set yMax(e){this.$$set({yMax:e}),K()}get magic(){return this.$$.ctx[11]}set magic(e){this.$$set({magic:e}),K()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(e){this.$$set({xDomainMin:e}),K()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(e){this.$$set({xDomainMax:e}),K()}get theplot(){return this.$$.ctx[4]}set theplot(e){this.$$set({theplot:e}),K()}get brushX(){return this.$$.ctx[12]}set brushX(e){this.$$set({brushX:e}),K()}get interactions(){return this.$$.ctx[13]}set interactions(e){this.$$set({interactions:e}),K()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function w7(t){let e,n;return{c(){e=ct("div"),n=ct("div"),this.h()},l(r){e=lt(r,"DIV",{id:!0});var i=ht(e);n=lt(i,"DIV",{}),ht(n).forEach(V),i.forEach(V),this.h()},h(){q(e,"id",t[0])},m(r,i){bt(r,e,i),ot(e,n),t[11](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&V(e),t[11](null)}}}function v7(t,e,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=e,{brushX:u=ie({})}=e,{interactions:c={brushX:u}}=e,l,h,d,g={},p=[];function m(v,w){return w!="overlay"?!1:(g=v,!0)}function b(v,w){!v||v.length===0||typeof w=="object"||(m(v,w)?console.debug("overlay"):p=v,y())}function y(){let v={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,height:300,fy:{label:null,tickRotate:-90,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},scheme:"Tableau10",legend:!0},marks:[Dr({ticks:36,fontSize:10}),Bm(),kf(p,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),Eo(p,{x:w=>{let M=(w.end_time-w.start_time)/2+w.start_time;return console.log("yy",w,M),M},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:10,color:"gray",text:"activity"}),Ru(g,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})]};l=Do(v,h),u.isActive&&(d=d??new Bu({iact:u,magic:f}),d.init(l))}function _(v){kr[v?"unshift":"push"](()=>{h=v,n(1,h)})}return t.$$set=v=>{"id"in v&&n(2,r=v.id),"name"in v&&n(0,i=v.name),"xDomainMin"in v&&n(3,a=v.xDomainMin),"xDomainMax"in v&&n(4,s=v.xDomainMax),"magic"in v&&n(5,f=v.magic),"brushX"in v&&n(6,u=v.brushX),"interactions"in v&&n(7,c=v.interactions)},[i,h,r,a,s,f,u,c,m,b,y,_]}class lv extends We{constructor(e){super(),Ve(this,e,v7,w7,He,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),K()}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),K()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(e){this.$$set({xDomainMin:e}),K()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(e){this.$$set({xDomainMax:e}),K()}get magic(){return this.$$.ctx[5]}set magic(e){this.$$set({magic:e}),K()}get brushX(){return this.$$.ctx[6]}set brushX(e){this.$$set({brushX:e}),K()}get interactions(){return this.$$.ctx[7]}set interactions(e){this.$$set({interactions:e}),K()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function M7(t){let e,n;return{c(){e=ct("div"),n=ct("div"),this.h()},l(r){e=lt(r,"DIV",{id:!0});var i=ht(e);n=lt(i,"DIV",{}),ht(n).forEach(V),i.forEach(V),this.h()},h(){q(e,"id",t[0])},m(r,i){bt(r,e,i),ot(e,n),t[6](n)},p(r,[i]){i&1&&q(e,"id",r[0])},i:Lt,o:Lt,d(r){r&&V(e),t[6](null)}}}function S7(t,e,n){let{name:r,id:i,interactions:a={}}=e,s,f=[];function u(h,d){!h||h.length===0||(f=h,c())}function c(){let h=Mf({color:{type:"linear",scheme:"greens"}}),d=Mf({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),g=f.map(m=>d.apply(ga(h.apply(+m.value)).l)),p={padding:0,marginLeft:150,height:300,color:h,marks:[Dr({fontSize:10,label:null}),Fi({fontSize:10,label:null}),V8(f,{x:"x",y:"y",fill:m=>+m.value,stroke:"white"}),Eo(f,{x:"x",y:"y",text:m=>m.value,fill:g,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};Do(p,s)}function l(h){kr[h?"unshift":"push"](()=>{s=h,n(1,s)})}return t.$$set=h=>{"name"in h&&n(0,r=h.name),"id"in h&&n(2,i=h.id),"interactions"in h&&n(3,a=h.interactions)},[r,s,i,a,u,c,l]}class dv extends We{constructor(e){super(),Ve(this,e,S7,M7,He,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(e){this.$$set({name:e}),K()}get id(){return this.$$.ctx[2]}set id(e){this.$$set({id:e}),K()}get interactions(){return this.$$.ctx[3]}set interactions(e){this.$$set({interactions:e}),K()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const x7=ie({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:o7}),hv=ie([]),gv=ie({});function Ad(t,e,n){const r=t.slice();return r[15]=e[n],r[17]=n,r}function T7(t){let e,n=t[15][t[2]]+"",r;return{c(){e=ct("option"),r=Kt(n),this.h()},l(i){e=lt(i,"OPTION",{});var a=ht(e);r=Jt(a,n),a.forEach(V),this.h()},h(){e.__value=t[17],e.value=e.__value},m(i,a){bt(i,e,a),ot(e,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&ke(r,n)},d(i){i&&V(e)}}}function k7(t){let e,n=t[15][t[2]]+"",r;return{c(){e=ct("option"),r=Kt(n),this.h()},l(i){e=lt(i,"OPTION",{});var a=ht(e);r=Jt(a,n),a.forEach(V),this.h()},h(){e.__value=t[17],e.value=e.__value,e.selected=!0},m(i,a){bt(i,e,a),ot(e,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&ke(r,n)},d(i){i&&V(e)}}}function Ed(t){let e;function n(a,s){return a[17]===a[1]?k7:T7}let r=n(t),i=r(t);return{c(){i.c(),e=Dt()},l(a){i.l(a),e=Dt()},m(a,s){i.m(a,s),bt(a,e,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(e.parentNode,e)))},d(a){i.d(a),a&&V(e)}}}function A7(t){let e,n,r,i,a=t[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=Ed(Ad(t,a,f));return{c(){e=ct("div"),n=ct("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){e=lt(f,"DIV",{class:!0,id:!0});var u=ht(e);n=lt(u,"SELECT",{class:!0});var c=ht(n);for(let l=0;l<s.length;l+=1)s[l].l(c);c.forEach(V),u.forEach(V),this.h()},h(){q(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),t[4]===void 0&&vp(()=>t[10].call(n)),q(e,"class","px-[1%] py-[1%]"),q(e,"id",t[0])},m(f,u){bt(f,e,u),ot(e,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);Wu(n,t[4],!0),r||(i=[kt(n,"change",t[10]),kt(n,"change",t[6])],r=!0)},p(f,[u]){if(u&38){a=f[5];let c;for(c=0;c<a.length;c+=1){const l=Ad(f,a,c);s[c]?s[c].p(l,u):(s[c]=Ed(l),s[c].c(),s[c].m(n,null))}for(;c<s.length;c+=1)s[c].d(1);s.length=a.length}u&16&&Wu(n,f[4]),u&1&&q(e,"id",f[0])},i:Lt,o:Lt,d(f){f&&V(e),Cf(s,f),r=!1,Hn(i)}}}function E7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(l,_=>n(11,r=_)),l),s;Mp(t,x7,_=>n(12,s=_)),t.$$.on_destroy.push(()=>i());let{id:f,index:u,dropdown_key:c}=e,{change:l=ie({})}=e;a();let{interactions:h={change:l}}=e,d=null,g=[];s.margin;function p(_,v){n(5,g=_??g),n(4,d=d??u),console.log("Dropdown.render",g,d,v),b()}function m(_){console.log("Dropdown.load",_),n(4,d=_.idx),p()}function b(){l.isActive&&le(l,r={...g[d],idx:d},r)}function y(){d=Sp(this),n(4,d)}return t.$$set=_=>{"id"in _&&n(0,f=_.id),"index"in _&&n(1,u=_.index),"dropdown_key"in _&&n(2,c=_.dropdown_key),"change"in _&&a(n(3,l=_.change)),"interactions"in _&&n(7,h=_.interactions)},[f,u,c,l,d,g,b,h,p,m,y]}class mv extends We{constructor(e){super(),Ve(this,e,E7,A7,He,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(e){this.$$set({id:e}),K()}get index(){return this.$$.ctx[1]}set index(e){this.$$set({index:e}),K()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(e){this.$$set({dropdown_key:e}),K()}get change(){return this.$$.ctx[3]}set change(e){this.$$set({change:e}),K()}get interactions(){return this.$$.ctx[7]}set interactions(e){this.$$set({interactions:e}),K()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function C7(t){let e,n,r,i,a,s,f,u,c,l,h,d,g,p;return{c(){e=ct("form"),n=ct("div"),r=ct("input"),i=Re(),a=ct("button"),s=Kt("Login"),f=Re(),u=ct("button"),c=Kt("Save"),l=Re(),h=ct("button"),d=Kt("Logout"),this.h()},l(m){e=lt(m,"FORM",{class:!0});var b=ht(e);n=lt(b,"DIV",{class:!0});var y=ht(n);r=lt(y,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=Be(y),a=lt(y,"BUTTON",{class:!0,type:!0});var _=ht(a);s=Jt(_,"Login"),_.forEach(V),f=Be(y),u=lt(y,"BUTTON",{class:!0,type:!0});var v=ht(u);c=Jt(v,"Save"),v.forEach(V),l=Be(y),h=lt(y,"BUTTON",{class:!0,type:!0});var w=ht(h);d=Jt(w,"Logout"),w.forEach(V),y.forEach(V),b.forEach(V),this.h()},h(){q(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),q(r,"type","text"),q(r,"placeholder","Login..."),q(r,"aria-label","username"),q(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),q(a,"type","button"),q(u,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),q(u,"type","button"),q(h,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),q(h,"type","button"),q(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),q(e,"class","w-full max-w-sm mx-auto")},m(m,b){bt(m,e,b),ot(e,n),ot(n,r),Vu(r,t[1]),ot(n,i),ot(n,a),ot(a,s),ot(n,f),ot(n,u),ot(u,c),ot(n,l),ot(n,h),ot(h,d),g||(p=[kt(r,"input",t[14]),kt(a,"click",t[2]),kt(u,"click",t[3]),kt(h,"click",t[4])],g=!0)},p(m,[b]){b&2&&r.value!==m[1]&&Vu(r,m[1])},i:Lt,o:Lt,d(m){m&&V(e),g=!1,Hn(p)}}}function Ym(t,e){console.debug("login invoked",t,e)}function N7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(s,M=>n(16,r=M)),s);t.$$.on_destroy.push(()=>i());let{status:s=ie({}),interactions:f={status:s}}=e;a();let{id:u,magic:c,client:l,exportFunc:h,importFunc:d,dataTable:g,stateTable:p}=e,m,b;const y=async()=>{console.debug("login user: ",m),b=c.exportState();const M=await l.query(d,{table:p,user:m});if(!M){alert("there is no data for this user"),le(s,r={user:m,loggedin:!0},r);return}le(s,r={user:m,loggedin:!0},r),c.importState(M.data)},_=async()=>{let M=c.exportData();await l.mutation(h,{data:M,table:g,user:m}),M=c.exportState(),await l.mutation(h,{data:M,table:p,user:m}),alert("save function executed")},v=async()=>{c.importState(b),n(1,m=null)};function w(){m=this.value,n(1,m)}return t.$$set=M=>{"status"in M&&a(n(0,s=M.status)),"interactions"in M&&n(5,f=M.interactions),"id"in M&&n(6,u=M.id),"magic"in M&&n(7,c=M.magic),"client"in M&&n(8,l=M.client),"exportFunc"in M&&n(9,h=M.exportFunc),"importFunc"in M&&n(10,d=M.importFunc),"dataTable"in M&&n(11,g=M.dataTable),"stateTable"in M&&n(12,p=M.stateTable)},[s,m,y,_,v,f,u,c,l,h,d,g,p,Ym,w]}class pv extends We{constructor(e){super(),Ve(this,e,N7,C7,He,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(e){this.$$set({status:e}),K()}get interactions(){return this.$$.ctx[5]}set interactions(e){this.$$set({interactions:e}),K()}get id(){return this.$$.ctx[6]}set id(e){this.$$set({id:e}),K()}get magic(){return this.$$.ctx[7]}set magic(e){this.$$set({magic:e}),K()}get client(){return this.$$.ctx[8]}set client(e){this.$$set({client:e}),K()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(e){this.$$set({exportFunc:e}),K()}get importFunc(){return this.$$.ctx[10]}set importFunc(e){this.$$set({importFunc:e}),K()}get dataTable(){return this.$$.ctx[11]}set dataTable(e){this.$$set({dataTable:e}),K()}get stateTable(){return this.$$.ctx[12]}set stateTable(e){this.$$set({stateTable:e}),K()}get render(){return Ym}}function D7(t,e,n){let r,i=Lt,a=()=>(i(),i=Fn(f,m=>n(8,r=m)),f);t.$$.on_destroy.push(()=>i());let{id:s,valid:f=ie({}),interactions:u={valid:f},key:c,threshold_string:l}=e;a();let h=[],d=Number(l);function g(m,b){if(console.debug("trigger alert render"),h=m??h,Yt(h)||!Ht(Array,h))return;const _=Ff(c)(h);if(Yt(_)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}Ib(_)<d?(le(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):le(f,r={valid:!0},r)}function p(m,b){Yt(m)||le(f,r=m,r)}return t.$$set=m=>{"id"in m&&n(1,s=m.id),"valid"in m&&a(n(0,f=m.valid)),"interactions"in m&&n(2,u=m.interactions),"key"in m&&n(3,c=m.key),"threshold_string"in m&&n(4,l=m.threshold_string)},[f,s,u,c,l,g,p]}class bv extends We{constructor(e){super(),Ve(this,e,D7,null,He,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(e){this.$$set({id:e}),K()}get valid(){return this.$$.ctx[0]}set valid(e){this.$$set({valid:e}),K()}get interactions(){return this.$$.ctx[2]}set interactions(e){this.$$set({interactions:e}),K()}get key(){return this.$$.ctx[3]}set key(e){this.$$set({key:e}),K()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(e){this.$$set({threshold_string:e}),K()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}class ja{constructor(e){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=e}get array(){return this._array}}const Xm=function(t,e,n,r){let i=e.map(Number),a=r.map(Number),s=new ja(i),f=new ja(a),u=s.compPos(f.array),c=f.getPos(),l=u.filter(g=>g>0).length,h=c.filter(g=>g>0).length;return(l/h).toFixed(2)},Gm=function(t,e,n,r){let i=e.map(Number),a=r.map(Number),s=new ja(i),f=new ja(a),u=s.compZero(f.array),c=f.getZero(),l=u.filter(g=>g>0).length,h=c.filter(g=>g>0).length;return(l/h).toFixed(2)},I7=function(t,e,n,r){return Xm(t,e,n,r)},L7=function(t,e,n,r){return Gm(t,e,n,r)},F7=function(t,e,n,r){let i=Number(Xm(t,e,n,r)),a=Number(Gm(t,e,n,r));return((i+a)/2).toFixed(2)};let yv=[{"true positive":I7,"true negative":L7,"average matching":F7}];const Cd="0.6.0";var Wa=$7,Va=q7,Oe=[],ce=[],O7=typeof Uint8Array<"u"?Uint8Array:Array,vs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ar=0,P7=vs.length;ar<P7;++ar)Oe[ar]=vs[ar],ce[vs.charCodeAt(ar)]=ar;ce["-".charCodeAt(0)]=62;ce["_".charCodeAt(0)]=63;function R7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function B7(t,e,n){return(e+n)*3/4-n}function $7(t){var e,n=R7(t),r=n[0],i=n[1],a=new O7(B7(t,r,i)),s=0,f=i>0?r-4:r,u;for(u=0;u<f;u+=4)e=ce[t.charCodeAt(u)]<<18|ce[t.charCodeAt(u+1)]<<12|ce[t.charCodeAt(u+2)]<<6|ce[t.charCodeAt(u+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return i===2&&(e=ce[t.charCodeAt(u)]<<2|ce[t.charCodeAt(u+1)]>>4,a[s++]=e&255),i===1&&(e=ce[t.charCodeAt(u)]<<10|ce[t.charCodeAt(u+1)]<<4|ce[t.charCodeAt(u+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function U7(t){return Oe[t>>18&63]+Oe[t>>12&63]+Oe[t>>6&63]+Oe[t&63]}function z7(t,e,n){for(var r,i=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),i.push(U7(r));return i.join("")}function q7(t){for(var e,n=t.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(z7(t,s,s+a>f?f:s+a));return r===1?(e=t[n-1],i.push(Oe[e>>2]+Oe[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Oe[e>>10]+Oe[e>>4&63]+Oe[e<<2&63]+"=")),i.join("")}const Zm=!0,Tr=BigInt("-9223372036854775808"),$u=BigInt("9223372036854775807"),Ef=BigInt("0"),j7=BigInt("8"),W7=BigInt("256");class ci{constructor(e,n){this.tableName=e,this.id=n}equals(e){return e instanceof ci?this.tableName===e.tableName&&this.id===e.id:!1}static fromJSON(e){if(typeof e.$id!="string")throw new Error(`Object ${JSON.stringify(e)} isn't a valid Id: $id isn't a string.`);const n=e.$id.split("|");if(n.length!==2)throw new Error(`Object ${JSON.stringify(e)} isn't a valid Id: Wrong number of parts.`);return new ci(n[0],n[1])}toJSON(){return{$id:`${this.tableName}|${this.id}`}}toString(){return this.id}inspect(){return`Id('${this.tableName}', '${this.id}')`}}function Km(t){return Number.isNaN(t)||!Number.isFinite(t)||Object.is(t,-0)}function V7(t){t<Ef&&(t-=Tr+Tr);let e=t.toString(16);e.length%2==1&&(e="0"+e);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of e.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),t>>=j7;return Va(n)}function H7(t){const e=Wa(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);let n=Ef,r=Ef;for(const i of e)n+=BigInt(i)*W7**r,r++;return n>$u&&(n+=Tr+Tr),n}function Y7(t){if(t<Tr||$u<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);const e=new ArrayBuffer(8);return new DataView(e).setBigInt64(0,t,!0),Va(new Uint8Array(e))}function X7(t){const e=Wa(t);if(e.byteLength!==8)throw new Error(`Received ${e.byteLength} bytes, expected 8 for $integer`);return new DataView(e.buffer).getBigInt64(0,!0)}const G7=DataView.prototype.setBigInt64?Y7:V7,Z7=DataView.prototype.getBigInt64?X7:H7,Nd=64,K7=/^_+$/,J7=/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/;function Jm(t){if(t.length===0)throw new Error("Empty field names are disallowed.");if(t.length>Nd)throw new Error(`Field name ${t} exceeds maximum field name length ${Nd}.`);if(t.startsWith("$"))throw new Error(`Field name ${t} starts with a '$', which is reserved.`);if(K7.test(t))throw new Error(`Field name ${t} can't exclusively be underscores.`);if(!J7.test(t))throw new Error(`Field name ${t} must only contain alphanumeric characters or underscores and can't start with a number.`)}function or(t){if(t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string")return t;if(t instanceof Array)return t.map(or);if(typeof t!="object")throw new Error(`Unexpected type of ${t}`);const e=Object.entries(t);if(e.length===1){const r=e[0][0];if(r==="$id"||r==="$weakRef"||r==="$strongRef")return ci.fromJSON(t);if(r==="$bytes"){if(typeof t.$bytes!="string")throw new Error(`Malformed $bytes field on ${t}`);return Wa(t.$bytes).buffer}if(r==="$integer"){if(typeof t.$integer!="string")throw new Error(`Malformed $integer field on ${t}`);return Z7(t.$integer)}if(r==="$float"){if(typeof t.$float!="string")throw new Error(`Malformed $float field on ${t}`);const i=Wa(t.$float);if(i.byteLength!==8)throw new Error(`Received ${i.byteLength} bytes, expected 8 for $float`);const s=new DataView(i.buffer).getFloat64(0,Zm);if(!Km(s))throw new Error(`Float ${s} should be encoded as a number`);return s}if(r==="$set"){if(!(t.$set instanceof Array))throw new Error(`Malformed $set field on ${t}`);return new Set(t.$set.map(or))}if(r==="$map"){if(!(t.$map instanceof Array))throw new Error(`Malformed $map field on ${t}`);const i=new Map;for(const a of t.$map){if(!(a instanceof Array)||a.length!==2)throw new Error(`Malformed pair in $map ${t}`);const s=or(a[0]),f=or(a[1]);i.set(s,f)}return i}}const n={};for(const[r,i]of Object.entries(t))Jm(r),n[r]=or(i);return n}function Ms(t){return or(t)}function Ss(t){return JSON.stringify(t,(e,n)=>n===void 0?"undefined":n)}function sr(t,e,n){if(t===void 0)throw new Error(`undefined is not a valid Convex value (present at path ${n} in original object ${Ss(e)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);if(t===null)return t;if(t instanceof ci)return t.toJSON();if(typeof t=="bigint"){if(t<Tr||$u<t)throw new Error(`BigInt ${t} does not fit into a 64-bit signed integer.`);return{$integer:G7(t)}}if(typeof t=="number")if(Km(t)){const a=new ArrayBuffer(8);return new DataView(a).setFloat64(0,t,Zm),{$float:Va(new Uint8Array(a))}}else return t;if(typeof t=="boolean"||typeof t=="string")return t;if(t instanceof ArrayBuffer)return{$bytes:Va(new Uint8Array(t))};if(t instanceof Array)return t.map((a,s)=>sr(a,e,n+`[${s}]`));if(t instanceof Set)return{$set:[...t].map((a,s)=>sr(a,e,n+`.keys()[${s}]`))};if(t instanceof Map)return{$map:[...t].map(([a,s],f)=>{const u=sr(a,e,n+`.keys()[${f}]`),c=sr(s,e,n+`.values()[${f}]`);return[u,c]})};if(typeof t!="object")throw new Error(`${t} is not a supported Convex type (present at path ${n} in original object ${Ss(e)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const r=Object.getPrototypeOf(t);if(r!==null&&r!==Object.prototype)throw new Error(`${t} is not a supported Convex type (present at path ${n} in original object ${Ss(e)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`);const i={};for(const[a,s]of Object.entries(t))Jm(a),i[a]=sr(s,e,n+`.${a}`);return i}function xs(t){return sr(t,t,"")}const Q7="color:rgb(0, 145, 255)";function Qm(t){switch(t){case"query":return"Q";case"mutation":return"M";case"action":return"A"}}function Ts(t,e,n,r){const i=Qm(e);t=="info"?console.log(`%c[CONVEX ${i}(${n})] ${r}`,Q7):console.error(`[CONVEX ${i}(${n})] ${r}`)}function Dd(t,e,n){const r=Qm(t);return new Error(`[CONVEX ${r}(${e})] ${n}`)}const ks=560,tv=typeof window<"u"&&typeof window.fetch<"u",As=tv?window.fetch:(...t)=>Up(()=>import("./index.b659f258.js"),["./index.b659f258.js","./_commonjsHelpers.668aeb87.js"],import.meta.url).then(({default:e})=>e(...t));class _v{constructor(e){this.address=`${e.address}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(e){this.auth=e}clearAuth(){this.auth=void 0}setDebug(e){this.debug=e}query(e){return async(...n)=>{const r=JSON.stringify(xs(n)),i=encodeURIComponent(r),a=`${this.address}/${Cd}/udf?path=${e}&args=${i}`,s=this.auth?{Authorization:`Bearer ${this.auth}`}:{},f=await As(a,{credentials:"include",headers:s});if(!f.ok&&f.status!=ks)throw new Error(await f.text());const u=await f.json(),c=Ms(u.value);for(const l of u.logs)Ts("info","query",e,l);if(!u.success)throw Dd("query",e,c);return c}}mutation(e){return async(...n)=>{const r=JSON.stringify({path:e,args:xs(n),tokens:[]}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await As(`${this.address}/${Cd}/udf`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=ks)throw new Error(await a.text());const s=await a.json(),f=Ms(s.value);for(const u of s.logs)Ts("info","mutation",e,u);if(!s.success)throw Dd("mutation",e,f);return f}}action(e){return async(...n)=>{const r=JSON.stringify({path:e,args:xs(n),debug:this.debug}),i={"Content-Type":"application/json"};this.auth&&(i.Authorization=`Bearer ${this.auth}`);const a=await As(`${this.address}/action`,{body:r,method:"POST",headers:i,credentials:"include"});if(!a.ok&&a.status!=ks)throw new Error(await a.text());const s=await a.json();for(const f of s.logLines??[])Ts("info","action",e,f);switch(s.status){case"success":return Ms(s.value),s.value;case"error":throw new Error(s.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(s)}`)}}}}export{bv as A,cv as B,_v as C,mv as D,Wd as E,sa as F,pv as L,sv as M,uv as S,fv as a,lv as b,dv as c,gr as d,ee as e,yv as f,to as g,Rt as h,_e as i,Ee as j,Ne as k,Ce as l,Vt as m,au as n,un as o,po as p,ff as q,gv as r,hv as s,$m as t,nc as u,yb as v,Y8 as w,Sn as x,hb as y,oa as z};
