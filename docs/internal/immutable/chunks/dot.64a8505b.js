import{S as Bf,L as r0,N as za,P as Ba,R as zr,T as Ha,U as Tc,V as Hf,W as Vf,X as i0,Y as pe,Z as na,$ as xt,a0,a1 as jf,a2 as xn,a3 as Va,a4 as f0,a5 as pr,a6 as Sc,a7 as gr}from"./index.bfd1700f.js";function he(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function _t(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function ja(n){let e,t,r;n.length!==2?(e=he,t=(o,l)=>he(n(o),l),r=(o,l)=>n(o)-l):(e=n===he||n===_t?n:o0,t=n,r=n);function i(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;t(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const d=u+c>>>1;t(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function f(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:f,right:a}}function o0(){return 0}function Cc(n){return n===null?NaN:+n}function*c0(n,e){if(e===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let r of n)(r=e(r,++t,n))!=null&&(r=+r)>=r&&(yield r)}}const u0=ja(he),l0=u0.right;ja(Cc).center;const Ga=l0;function s0(n){return n.length|0}function d0(n){return!(n>0)}function h0(n){return typeof n!="object"||"length"in n?n:Array.from(n)}function p0(n){return e=>n(...e)}function g0(...n){const e=typeof n[n.length-1]=="function"&&p0(n.pop());n=n.map(h0);const t=n.map(s0),r=n.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||t.some(d0))return a;for(;;){a.push(i.map((o,l)=>n[l][o]));let f=r;for(;++i[f]===t[f];){if(f===0)return e?a.map(e):a;i[f--]=0}}}function Ac(n,e){let t=0,r,i=0,a=0;if(e===void 0)for(let f of n)f!=null&&(f=+f)>=f&&(r=f-i,i+=r/++t,a+=r*(f-i));else{let f=-1;for(let o of n)(o=e(o,++f,n))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++t,a+=r*(o-i))}if(t>1)return a/(t-1)}function m0(n,e){const t=Ac(n,e);return t&&Math.sqrt(t)}function ze(n,e){let t,r;if(e===void 0)for(const i of n)i!=null&&(t===void 0?i>=i&&(t=r=i):(t>i&&(t=i),r<i&&(r=i)));else{let i=-1;for(let a of n)(a=e(a,++i,n))!=null&&(t===void 0?a>=a&&(t=r=a):(t>a&&(t=a),r<a&&(r=a)))}return[t,r]}class Se{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=t[i],f=e+a,o=Math.abs(e)<Math.abs(a)?e-(f-a):a-(f-e);o&&(t[r++]=o),e=f}return t[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let t=this._n,r,i,a,f=0;if(t>0){for(f=e[--t];t>0&&(r=f,i=e[--t],f=r+i,a=i-(f-r),!a););t>0&&(a<0&&e[t-1]<0||a>0&&e[t-1]>0)&&(i=a*2,r=f+i,i==r-f&&(f=r))}return f}}class Tt extends Map{constructor(e,t=Nc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ea(this,e))}has(e){return super.has(ea(this,e))}set(e,t){return super.set(Ec(this,e),t)}delete(e){return super.delete(Dc(this,e))}}class Za extends Set{constructor(e,t=Nc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(ea(this,e))}add(e){return super.add(Ec(this,e))}delete(e){return super.delete(Dc(this,e))}}function ea({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function Ec({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function Dc({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function Nc(n){return n!==null&&typeof n=="object"?n.valueOf():n}function ta(n){return n}function b0(n,...e){return Xa(n,ta,ta,e)}function $i(n,e,...t){return Xa(n,ta,e,t)}function y0(n,e,...t){return Xa(n,Array.from,e,t)}function Xa(n,e,t,r){return function i(a,f){if(f>=r.length)return t(a);const o=new Tt,l=r[f++];let u=-1;for(const c of a){const d=l(c,++u,a),s=o.get(d);s?s.push(c):o.set(d,[c])}for(const[c,d]of o)o.set(c,i(d,f));return e(o)}(n,0)}function w0(n,e){return Array.from(e,t=>n[t])}function v0(n,...e){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");n=Array.from(n);let[t]=e;if(t&&t.length!==2||e.length>1){const r=Uint32Array.from(n,(i,a)=>a);return e.length>1?(e=e.map(i=>n.map(i)),r.sort((i,a)=>{for(const f of e){const o=mr(f[i],f[a]);if(o)return o}})):(t=n.map(t),r.sort((i,a)=>mr(t[i],t[a]))),w0(n,r)}return n.sort(Lc(t))}function Lc(n=he){if(n===he)return mr;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function mr(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const M0=Math.sqrt(50),$0=Math.sqrt(10),x0=Math.sqrt(2);function br(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),f=a>=M0?10:a>=$0?5:a>=x0?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/f,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*f,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?br(n,e,t*2):[o,l,u]}function yr(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,a,f]=r?br(e,n,t):br(n,e,t);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(f<0)for(let u=0;u<o;++u)l[u]=(a-u)/-f;else for(let u=0;u<o;++u)l[u]=(a-u)*f;else if(f<0)for(let u=0;u<o;++u)l[u]=(i+u)/-f;else for(let u=0;u<o;++u)l[u]=(i+u)*f;return l}function ra(n,e,t){return e=+e,n=+n,t=+t,br(n,e,t)[2]}function ia(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?ra(e,n,t):ra(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function oe(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of n)(i=e(i,++r,n))!=null&&(t<i||t===void 0&&i>=i)&&(t=i)}return t}function T0(n,e){let t,r=-1,i=-1;if(e===void 0)for(const a of n)++i,a!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of n)(a=e(a,++i,n))!=null&&(t<a||t===void 0&&a>=a)&&(t=a,r=i);return r}function St(n,e){let t;if(e===void 0)for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);else{let r=-1;for(let i of n)(i=e(i,++r,n))!=null&&(t>i||t===void 0&&i>=i)&&(t=i)}return t}function S0(n,e){let t,r=-1,i=-1;if(e===void 0)for(const a of n)++i,a!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);else for(let a of n)(a=e(a,++i,n))!=null&&(t>a||t===void 0&&a>=a)&&(t=a,r=i);return r}function Ic(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?mr:Lc(i);r>t;){if(r-t>600){const l=r-t+1,u=e-t+1,c=Math.log(l),d=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),h=Math.max(t,Math.floor(e-u*d/l+s)),p=Math.min(r,Math.floor(e+(l-u)*d/l+s));Ic(n,e,h,p,i)}const a=n[e];let f=t,o=r;for(ot(n,t,e),i(n[r],a)>0&&ot(n,t,r);f<o;){for(ot(n,f,o),++f,--o;i(n[f],a)<0;)++f;for(;i(n[o],a)>0;)--o}i(n[t],a)===0?ot(n,t,o):(++o,ot(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function ot(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function wr(n,e,t){if(n=Float64Array.from(c0(n,t)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return St(n);if(e>=1)return oe(n);var r,i=(r-1)*e,a=Math.floor(i),f=oe(Ic(n,a).subarray(0,a+1)),o=St(n.subarray(a+1));return f+(o-f)*(i-a)}}function C0(n,e,t=Cc){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,a=Math.floor(i),f=+t(n[a],a,n),o=+t(n[a+1],a+1,n);return f+(o-f)*(i-a)}}function A0(n,e){let t=0,r=0;if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(++t,r+=i);else{let i=-1;for(let a of n)(a=e(a,++i,n))!=null&&(a=+a)>=a&&(++t,r+=a)}if(t)return r/t}function aa(n,e){return wr(n,.5,e)}function*E0(n){for(const e of n)yield*e}function kc(n){return Array.from(E0(n))}function D0(n,e){const t=new Tt;if(e===void 0)for(let a of n)a!=null&&a>=a&&t.set(a,(t.get(a)||0)+1);else{let a=-1;for(let f of n)(f=e(f,++a,n))!=null&&f>=f&&t.set(f,(t.get(f)||0)+1)}let r,i=0;for(const[a,f]of t)f>i&&(i=f,r=a);return r}function fa(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,a=new Array(i);++r<i;)a[r]=n+r*t;return a}function Qa(n,e){let t=0;if(e===void 0)for(let r of n)(r=+r)&&(t+=r);else{let r=-1;for(let i of n)(i=+e(i,++r,n))&&(t+=i)}return t}function vr(n){if(typeof n[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(n).reverse()}function N0(n){return n}var xi=1,Ti=2,oa=3,Qt=4,Gf=1e-6;function L0(n){return"translate("+n+",0)"}function I0(n){return"translate(0,"+n+")"}function k0(n){return e=>+n(e)}function R0(n,e){return e=Math.max(0,n.bandwidth()-e*2)/2,n.round()&&(e=Math.round(e)),t=>+n(t)+e}function U0(){return!this.__axis}function F0(n,e){var t=[],r=null,i=null,a=6,f=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=n===xi||n===Qt?-1:1,c=n===Qt||n===Ti?"x":"y",d=n===xi||n===oa?L0:I0;function s(h){var p=r??(e.ticks?e.ticks.apply(e,t):e.domain()),g=i??(e.tickFormat?e.tickFormat.apply(e,t):N0),m=Math.max(a,0)+o,v=e.range(),b=+v[0]+l,$=+v[v.length-1]+l,y=(e.bandwidth?R0:k0)(e.copy(),l),M=h.selection?h.selection():h,w=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,e).order(),A=x.exit(),N=x.enter().append("g").attr("class","tick"),k=x.select("line"),S=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(c+"2",u*a)),S=S.merge(N.append("text").attr("fill","currentColor").attr(c,u*m).attr("dy",n===xi?"0em":n===oa?"0.71em":"0.32em")),h!==M&&(w=w.transition(h),x=x.transition(h),k=k.transition(h),S=S.transition(h),A=A.transition(h).attr("opacity",Gf).attr("transform",function(U){return isFinite(U=y(U))?d(U+l):this.getAttribute("transform")}),N.attr("opacity",Gf).attr("transform",function(U){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(U))?F:y(U))+l)})),A.remove(),w.attr("d",n===Qt||n===Ti?f?"M"+u*f+","+b+"H"+l+"V"+$+"H"+u*f:"M"+l+","+b+"V"+$:f?"M"+b+","+u*f+"V"+l+"H"+$+"V"+u*f:"M"+b+","+l+"H"+$),x.attr("opacity",1).attr("transform",function(U){return d(y(U)+l)}),k.attr(c+"2",u*a),S.attr(c,u*m).text(g),M.filter(U0).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===Ti?"start":n===Qt?"end":"middle"),M.each(function(){this.__axis=y})}return s.scale=function(h){return arguments.length?(e=h,s):e},s.ticks=function(){return t=Array.from(arguments),s},s.tickArguments=function(h){return arguments.length?(t=h==null?[]:Array.from(h),s):t.slice()},s.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),s):r&&r.slice()},s.tickFormat=function(h){return arguments.length?(i=h,s):i},s.tickSize=function(h){return arguments.length?(a=f=+h,s):a},s.tickSizeInner=function(h){return arguments.length?(a=+h,s):a},s.tickSizeOuter=function(h){return arguments.length?(f=+h,s):f},s.tickPadding=function(h){return arguments.length?(o=+h,s):o},s.offset=function(h){return arguments.length?(l=+h,s):l},s}function P0(n){return F0(oa,n)}function yt(n){return typeof n=="string"?new Bf([[document.querySelector(n)]],[document.documentElement]):new Bf([[n]],r0)}function _0(n){let e;for(;e=n.sourceEvent;)n=e;return n}function O0(n,e){if(n=_0(n),e===void 0&&(e=n.currentTarget),e){var t=e.ownerSVGElement||e;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=n.clientX,r.y=n.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[n.clientX-i.left-e.clientLeft,n.clientY-i.top-e.clientTop]}}return[n.pageX,n.pageY]}const Rc=Math.PI/180,Uc=180/Math.PI,Mr=18,Fc=.96422,Pc=1,_c=.82521,Oc=4/29,qe=6/29,qc=3*qe*qe,q0=qe*qe*qe;function Wc(n){if(n instanceof Hn)return new Hn(n.l,n.a,n.b,n.opacity);if(n instanceof te)return Yc(n);n instanceof zr||(n=Tc(n));var e=Ei(n.r),t=Ei(n.g),r=Ei(n.b),i=Si((.2225045*e+.7168786*t+.0606169*r)/Pc),a,f;return e===t&&t===r?a=f=i:(a=Si((.4360747*e+.3850649*t+.1430804*r)/Fc),f=Si((.0139322*e+.0971045*t+.7141733*r)/_c)),new Hn(116*i-16,500*(a-i),200*(i-f),n.opacity)}function ca(n,e,t,r){return arguments.length===1?Wc(n):new Hn(n,e,t,r??1)}function Hn(n,e,t,r){this.l=+n,this.a=+e,this.b=+t,this.opacity=+r}za(Hn,ca,Ba(Ha,{brighter(n){return new Hn(this.l+Mr*(n??1),this.a,this.b,this.opacity)},darker(n){return new Hn(this.l-Mr*(n??1),this.a,this.b,this.opacity)},rgb(){var n=(this.l+16)/116,e=isNaN(this.a)?n:n+this.a/500,t=isNaN(this.b)?n:n-this.b/200;return e=Fc*Ci(e),n=Pc*Ci(n),t=_c*Ci(t),new zr(Ai(3.1338561*e-1.6168667*n-.4906146*t),Ai(-.9787684*e+1.9161415*n+.033454*t),Ai(.0719453*e-.2289914*n+1.4052427*t),this.opacity)}}));function Si(n){return n>q0?Math.pow(n,1/3):n/qc+Oc}function Ci(n){return n>qe?n*n*n:qc*(n-Oc)}function Ai(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Ei(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function W0(n){if(n instanceof te)return new te(n.h,n.c,n.l,n.opacity);if(n instanceof Hn||(n=Wc(n)),n.a===0&&n.b===0)return new te(NaN,0<n.l&&n.l<100?0:NaN,n.l,n.opacity);var e=Math.atan2(n.b,n.a)*Uc;return new te(e<0?e+360:e,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function ua(n,e,t,r){return arguments.length===1?W0(n):new te(n,e,t,r??1)}function te(n,e,t,r){this.h=+n,this.c=+e,this.l=+t,this.opacity=+r}function Yc(n){if(isNaN(n.h))return new Hn(n.l,0,0,n.opacity);var e=n.h*Rc;return new Hn(n.l,Math.cos(e)*n.c,Math.sin(e)*n.c,n.opacity)}za(te,ua,Ba(Ha,{brighter(n){return new te(this.h,this.c,this.l+Mr*(n??1),this.opacity)},darker(n){return new te(this.h,this.c,this.l-Mr*(n??1),this.opacity)},rgb(){return Yc(this).rgb()}}));var zc=-.14861,Ka=1.78277,Ja=-.29227,Br=-.90649,Ct=1.97294,Zf=Ct*Br,Xf=Ct*Ka,Qf=Ka*Ja-Br*zc;function Y0(n){if(n instanceof Te)return new Te(n.h,n.s,n.l,n.opacity);n instanceof zr||(n=Tc(n));var e=n.r/255,t=n.g/255,r=n.b/255,i=(Qf*r+Zf*e-Xf*t)/(Qf+Zf-Xf),a=r-i,f=(Ct*(t-i)-Ja*a)/Br,o=Math.sqrt(f*f+a*a)/(Ct*i*(1-i)),l=o?Math.atan2(f,a)*Uc-120:NaN;return new Te(l<0?l+360:l,o,i,n.opacity)}function Vn(n,e,t,r){return arguments.length===1?Y0(n):new Te(n,e,t,r??1)}function Te(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}za(Te,Vn,Ba(Ha,{brighter(n){return n=n==null?Hf:Math.pow(Hf,n),new Te(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Vf:Math.pow(Vf,n),new Te(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=isNaN(this.h)?0:(this.h+120)*Rc,e=+this.l,t=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(n),i=Math.sin(n);return new zr(255*(e+t*(zc*r+Ka*i)),255*(e+t*(Ja*r+Br*i)),255*(e+t*(Ct*r)),this.opacity)}}));function z0(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(a){for(i=0;i<t;++i)r[i]=n[i]*(1-a)+e[i]*a;return r}}function B0(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function H0(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),a=new Array(t),f;for(f=0;f<r;++f)i[f]=Ot(n[f],e[f]);for(;f<t;++f)a[f]=e[f];return function(o){for(f=0;f<r;++f)a[f]=i[f](o);return a}}function V0(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function j0(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=Ot(n[i],e[i]):r[i]=e[i];return function(a){for(i in t)r[i]=t[i](a);return r}}function Ot(n,e){var t=typeof e,r;return e==null||t==="boolean"?i0(e):(t==="number"?pe:t==="string"?(r=na(e))?(e=r,xt):a0:e instanceof na?xt:e instanceof Date?V0:B0(e)?z0:Array.isArray(e)?H0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?j0:pe)(n,e)}function nf(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function G0(n){return function(e,t){var r=n((e=jf(e)).h,(t=jf(t)).h),i=xn(e.s,t.s),a=xn(e.l,t.l),f=xn(e.opacity,t.opacity);return function(o){return e.h=r(o),e.s=i(o),e.l=a(o),e.opacity=f(o),e+""}}}const Z0=G0(Va);function X0(n,e){var t=xn((n=ca(n)).l,(e=ca(e)).l),r=xn(n.a,e.a),i=xn(n.b,e.b),a=xn(n.opacity,e.opacity);return function(f){return n.l=t(f),n.a=r(f),n.b=i(f),n.opacity=a(f),n+""}}function Q0(n){return function(e,t){var r=n((e=ua(e)).h,(t=ua(t)).h),i=xn(e.c,t.c),a=xn(e.l,t.l),f=xn(e.opacity,t.opacity);return function(o){return e.h=r(o),e.c=i(o),e.l=a(o),e.opacity=f(o),e+""}}}const K0=Q0(Va);function Bc(n){return function e(t){t=+t;function r(i,a){var f=n((i=Vn(i)).h,(a=Vn(a)).h),o=xn(i.s,a.s),l=xn(i.l,a.l),u=xn(i.opacity,a.opacity);return function(c){return i.h=f(c),i.s=o(c),i.l=l(Math.pow(c,t)),i.opacity=u(c),i+""}}return r.gamma=e,r}(1)}Bc(Va);var ef=Bc(xn);function tf(n,e){e===void 0&&(e=n,n=Ot);for(var t=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);t<r;)a[t]=n(i,i=e[++t]);return function(f){var o=Math.max(0,Math.min(r-1,Math.floor(f*=r)));return a[o](f-o)}}function _n(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n(r/(e-1));return t}const la=Math.PI,sa=2*la,Me=1e-6,J0=sa-Me;function Hc(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function nh(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return Hc;const t=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class eh{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Hc:nh(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,a,f){this._append`C${+e},${+t},${+r},${+i},${this._x1=+a},${this._y1=+f}`}arcTo(e,t,r,i,a){if(e=+e,t=+t,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let f=this._x1,o=this._y1,l=r-e,u=i-t,c=f-e,d=o-t,s=c*c+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(s>Me)if(!(Math.abs(d*l-u*c)>Me)||!a)this._append`L${this._x1=e},${this._y1=t}`;else{let h=r-f,p=i-o,g=l*l+u*u,m=h*h+p*p,v=Math.sqrt(g),b=Math.sqrt(s),$=a*Math.tan((la-Math.acos((g+s-m)/(2*v*b)))/2),y=$/b,M=$/v;Math.abs(y-1)>Me&&this._append`L${e+y*c},${t+y*d}`,this._append`A${a},${a},0,0,${+(d*h>c*p)},${this._x1=e+M*l},${this._y1=t+M*u}`}}arc(e,t,r,i,a,f){if(e=+e,t=+t,r=+r,f=!!f,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=e+o,c=t+l,d=1^f,s=f?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Me||Math.abs(this._y1-c)>Me)&&this._append`L${u},${c}`,r&&(s<0&&(s=s%sa+sa),s>J0?this._append`A${r},${r},0,1,${d},${e-o},${t-l}A${r},${r},0,1,${d},${this._x1=u},${this._y1=c}`:s>Me&&this._append`A${r},${r},0,${+(s>=la)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=t+r*Math.sin(a)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $e(n=3){return new eh(+n)}function th(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function $r(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function Be(n){return n=$r(Math.abs(n)),n?n[1]:NaN}function rh(n,e){return function(t,r){for(var i=t.length,a=[],f=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[f=(f+1)%n.length];return a.reverse().join(e)}}function ih(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var ah=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function At(n){if(!(e=ah.exec(n)))throw new Error("invalid format: "+n);var e;return new rf({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}At.prototype=rf.prototype;function rf(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}rf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fh(n){n:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break n;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var Vc;function oh(n,e){var t=$r(n,e);if(!t)return n+"";var r=t[0],i=t[1],a=i-(Vc=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,f=r.length;return a===f?r:a>f?r+new Array(a-f+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+$r(n,Math.max(0,e+a-1))[0]}function Kf(n,e){var t=$r(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Jf={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:th,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Kf(n*100,e),r:Kf,s:oh,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function no(n){return n}var eo=Array.prototype.map,to=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ch(n){var e=n.grouping===void 0||n.thousands===void 0?no:rh(eo.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",a=n.numerals===void 0?no:ih(eo.call(n.numerals,String)),f=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"−":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(d){d=At(d);var s=d.fill,h=d.align,p=d.sign,g=d.symbol,m=d.zero,v=d.width,b=d.comma,$=d.precision,y=d.trim,M=d.type;M==="n"?(b=!0,M="g"):Jf[M]||($===void 0&&($=12),y=!0,M="g"),(m||s==="0"&&h==="=")&&(m=!0,s="0",h="=");var w=g==="$"?t:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",x=g==="$"?r:/[%p]/.test(M)?f:"",A=Jf[M],N=/[defgprs%]/.test(M);$=$===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function k(S){var U=w,F=x,R,T,P;if(M==="c")F=A(S)+F,S="";else{S=+S;var D=S<0||1/S<0;if(S=isNaN(S)?l:A(Math.abs(S),$),y&&(S=fh(S)),D&&+S==0&&p!=="+"&&(D=!1),U=(D?p==="("?p:o:p==="-"||p==="("?"":p)+U,F=(M==="s"?to[8+Vc/3]:"")+F+(D&&p==="("?")":""),N){for(R=-1,T=S.length;++R<T;)if(P=S.charCodeAt(R),48>P||P>57){F=(P===46?i+S.slice(R+1):S.slice(R))+F,S=S.slice(0,R);break}}}b&&!m&&(S=e(S,1/0));var L=U.length+S.length+F.length,I=L<v?new Array(v-L+1).join(s):"";switch(b&&m&&(S=e(I+S,I.length?v-F.length:1/0),I=""),h){case"<":S=U+S+F+I;break;case"=":S=U+I+S+F;break;case"^":S=I.slice(0,L=I.length>>1)+U+S+F+I.slice(L);break;default:S=I+U+S+F;break}return a(S)}return k.toString=function(){return d+""},k}function c(d,s){var h=u((d=At(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(Be(s)/3)))*3,g=Math.pow(10,-p),m=to[8+p/3];return function(v){return h(g*v)+m}}return{format:u,formatPrefix:c}}var Kt,Ke,jc;uh({thousands:",",grouping:[3],currency:["$",""]});function uh(n){return Kt=ch(n),Ke=Kt.format,jc=Kt.formatPrefix,Kt}function lh(n){return Math.max(0,-Be(Math.abs(n)))}function sh(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Be(e)/3)))*3-Be(Math.abs(n)))}function dh(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Be(e)-Be(n))+1}var B=1e-6,Gc=1e-12,X=Math.PI,ln=X/2,ro=X/4,En=X*2,vn=180/X,un=X/180,tn=Math.abs,Je=Math.atan,ce=Math.atan2,G=Math.cos,Zc=Math.exp,xr=Math.log,Di=Math.pow,Y=Math.sin,Ln=Math.sign||function(n){return n>0?1:n<0?-1:0},Tn=Math.sqrt,af=Math.tan;function Xc(n){return n>1?0:n<-1?X:Math.acos(n)}function Un(n){return n>1?ln:n<-1?-ln:Math.asin(n)}function In(){}function Tr(n,e){n&&ao.hasOwnProperty(n.type)&&ao[n.type](n,e)}var io={Feature:function(n,e){Tr(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,r=-1,i=t.length;++r<i;)Tr(t[r].geometry,e)}},ao={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)n=t[r],e.point(n[0],n[1],n[2])},LineString:function(n,e){da(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)da(t[r],e,0)},Polygon:function(n,e){fo(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)fo(t[r],e)},GeometryCollection:function(n,e){for(var t=n.geometries,r=-1,i=t.length;++r<i;)Tr(t[r],e)}};function da(n,e,t){var r=-1,i=n.length-t,a;for(e.lineStart();++r<i;)a=n[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function fo(n,e){var t=-1,r=n.length;for(e.polygonStart();++t<r;)da(n[t],e,1);e.polygonEnd()}function _e(n,e){n&&io.hasOwnProperty(n.type)?io[n.type](n,e):Tr(n,e)}function ha(n){return[ce(n[1],n[0]),Un(n[2])]}function He(n){var e=n[0],t=n[1],r=G(t);return[r*G(e),r*Y(e),Y(t)]}function Jt(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Sr(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Ni(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function nr(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function pa(n){var e=Tn(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}function ga(n,e){function t(r,i){return r=n(r,i),e(r[0],r[1])}return n.invert&&e.invert&&(t.invert=function(r,i){return r=e.invert(r,i),r&&n.invert(r[0],r[1])}),t}function ma(n,e){return tn(n)>X&&(n-=Math.round(n/En)*En),[n,e]}ma.invert=ma;function Qc(n,e,t){return(n%=En)?e||t?ga(co(n),uo(e,t)):co(n):e||t?uo(e,t):ma}function oo(n){return function(e,t){return e+=n,tn(e)>X&&(e-=Math.round(e/En)*En),[e,t]}}function co(n){var e=oo(n);return e.invert=oo(-n),e}function uo(n,e){var t=G(n),r=Y(n),i=G(e),a=Y(e);function f(o,l){var u=G(l),c=G(o)*u,d=Y(o)*u,s=Y(l),h=s*t+c*r;return[ce(d*i-h*a,c*t-s*r),Un(h*i+d*a)]}return f.invert=function(o,l){var u=G(l),c=G(o)*u,d=Y(o)*u,s=Y(l),h=s*i-d*a;return[ce(d*i+s*a,c*t+h*r),Un(h*t-c*r)]},f}function hh(n){n=Qc(n[0]*un,n[1]*un,n.length>2?n[2]*un:0);function e(t){return t=n(t[0]*un,t[1]*un),t[0]*=vn,t[1]*=vn,t}return e.invert=function(t){return t=n.invert(t[0]*un,t[1]*un),t[0]*=vn,t[1]*=vn,t},e}function ph(n,e,t,r,i,a){if(t){var f=G(e),o=Y(e),l=r*t;i==null?(i=e+r*En,a=e-l/2):(i=lo(f,i),a=lo(f,a),(r>0?i<a:i>a)&&(i+=r*En));for(var u,c=i;r>0?c>a:c<a;c-=l)u=ha([f,-o*G(c),-o*Y(c)]),n.point(u[0],u[1])}}function lo(n,e){e=He(e),e[0]-=n,pa(e);var t=Xc(-e[1]);return((-e[2]<0?-t:t)+En-B)%En}function Kc(){var n=[],e;return{point:function(t,r,i){e.push([t,r,i])},lineStart:function(){n.push(e=[])},lineEnd:In,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function dr(n,e){return tn(n[0]-e[0])<B&&tn(n[1]-e[1])<B}function er(n,e,t,r){this.x=n,this.z=e,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function Jc(n,e,t,r,i){var a=[],f=[],o,l;if(n.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],v=p[g],b;if(dr(m,v)){if(!m[2]&&!v[2]){for(i.lineStart(),o=0;o<g;++o)i.point((m=p[o])[0],m[1]);i.lineEnd();return}v[0]+=2*B}a.push(b=new er(m,p,null,!0)),f.push(b.o=new er(m,null,b,!1)),a.push(b=new er(v,p,null,!1)),f.push(b.o=new er(v,null,b,!0))}}),!!a.length){for(f.sort(e),so(a),so(f),o=0,l=f.length;o<l;++o)f[o].e=t=!t;for(var u=a[0],c,d;;){for(var s=u,h=!0;s.v;)if((s=s.n)===u)return;c=s.z,i.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(o=0,l=c.length;o<l;++o)i.point((d=c[o])[0],d[1]);else r(s.x,s.n.x,1,i);s=s.n}else{if(h)for(c=s.p.z,o=c.length-1;o>=0;--o)i.point((d=c[o])[0],d[1]);else r(s.x,s.p.x,-1,i);s=s.p}s=s.o,c=s.z,h=!h}while(!s.v);i.lineEnd()}}}function so(n){if(e=n.length){for(var e,t=0,r=n[0],i;++t<e;)r.n=i=n[t],i.p=r,r=i;r.n=i=n[0],i.p=r}}function Li(n){return tn(n[0])<=X?n[0]:Ln(n[0])*((tn(n[0])+X)%En-X)}function gh(n,e){var t=Li(e),r=e[1],i=Y(r),a=[Y(t),-G(t),0],f=0,o=0,l=new Se;i===1?r=ln+B:i===-1&&(r=-ln-B);for(var u=0,c=n.length;u<c;++u)if(s=(d=n[u]).length)for(var d,s,h=d[s-1],p=Li(h),g=h[1]/2+ro,m=Y(g),v=G(g),b=0;b<s;++b,p=y,m=w,v=x,h=$){var $=d[b],y=Li($),M=$[1]/2+ro,w=Y(M),x=G(M),A=y-p,N=A>=0?1:-1,k=N*A,S=k>X,U=m*w;if(l.add(ce(U*N*Y(k),v*x+U*G(k))),f+=S?A+N*En:A,S^p>=t^y>=t){var F=Sr(He(h),He($));pa(F);var R=Sr(a,F);pa(R);var T=(S^A>=0?-1:1)*Un(R[2]);(r>T||r===T&&(F[0]||F[1]))&&(o+=S^A>=0?1:-1)}}return(f<-B||f<B&&l<-Gc)^o&1}function nu(n,e,t,r){return function(i){var a=e(i),f=Kc(),o=e(f),l=!1,u,c,d,s={point:h,lineStart:g,lineEnd:m,polygonStart:function(){s.point=v,s.lineStart=b,s.lineEnd=$,c=[],u=[]},polygonEnd:function(){s.point=h,s.lineStart=g,s.lineEnd=m,c=kc(c);var y=gh(u,r);c.length?(l||(i.polygonStart(),l=!0),Jc(c,bh,y,t,i)):y&&(l||(i.polygonStart(),l=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(y,M){n(y,M)&&i.point(y,M)}function p(y,M){a.point(y,M)}function g(){s.point=p,a.lineStart()}function m(){s.point=h,a.lineEnd()}function v(y,M){d.push([y,M]),o.point(y,M)}function b(){o.lineStart(),d=[]}function $(){v(d[0][0],d[0][1]),o.lineEnd();var y=o.clean(),M=f.result(),w,x=M.length,A,N,k;if(d.pop(),u.push(d),d=null,!!x){if(y&1){if(N=M[0],(A=N.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),w=0;w<A;++w)i.point((k=N[w])[0],k[1]);i.lineEnd()}return}x>1&&y&2&&M.push(M.pop().concat(M.shift())),c.push(M.filter(mh))}}return s}}function mh(n){return n.length>1}function bh(n,e){return((n=n.x)[0]<0?n[1]-ln-B:ln-n[1])-((e=e.x)[0]<0?e[1]-ln-B:ln-e[1])}const ho=nu(function(){return!0},yh,vh,[-X,-ln]);function yh(n){var e=NaN,t=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(a,f){var o=a>0?X:-X,l=tn(a-e);tn(l-X)<B?(n.point(e,t=(t+f)/2>0?ln:-ln),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(o,t),n.point(a,t),i=0):r!==o&&l>=X&&(tn(e-r)<B&&(e-=r*B),tn(a-o)<B&&(a-=o*B),t=wh(e,t,a,f),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(o,t),i=0),n.point(e=a,t=f),r=o},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-i}}}function wh(n,e,t,r){var i,a,f=Y(n-t);return tn(f)>B?Je((Y(e)*(a=G(r))*Y(t)-Y(r)*(i=G(e))*Y(n))/(i*a*f)):(e+r)/2}function vh(n,e,t,r){var i;if(n==null)i=t*ln,r.point(-X,i),r.point(0,i),r.point(X,i),r.point(X,0),r.point(X,-i),r.point(0,-i),r.point(-X,-i),r.point(-X,0),r.point(-X,i);else if(tn(n[0]-e[0])>B){var a=n[0]<e[0]?X:-X;i=t*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function Mh(n){var e=G(n),t=6*un,r=e>0,i=tn(e)>B;function a(c,d,s,h){ph(h,n,t,s,c,d)}function f(c,d){return G(c)*G(d)>e}function o(c){var d,s,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(m,v){var b=[m,v],$,y=f(m,v),M=r?y?0:u(m,v):y?u(m+(m<0?X:-X),v):0;if(!d&&(p=h=y)&&c.lineStart(),y!==h&&($=l(d,b),(!$||dr(d,$)||dr(b,$))&&(b[2]=1)),y!==h)g=0,y?(c.lineStart(),$=l(b,d),c.point($[0],$[1])):($=l(d,b),c.point($[0],$[1],2),c.lineEnd()),d=$;else if(i&&d&&r^y){var w;!(M&s)&&(w=l(b,d,!0))&&(g=0,r?(c.lineStart(),c.point(w[0][0],w[0][1]),c.point(w[1][0],w[1][1]),c.lineEnd()):(c.point(w[1][0],w[1][1]),c.lineEnd(),c.lineStart(),c.point(w[0][0],w[0][1],3)))}y&&(!d||!dr(d,b))&&c.point(b[0],b[1]),d=b,h=y,s=M},lineEnd:function(){h&&c.lineEnd(),d=null},clean:function(){return g|(p&&h)<<1}}}function l(c,d,s){var h=He(c),p=He(d),g=[1,0,0],m=Sr(h,p),v=Jt(m,m),b=m[0],$=v-b*b;if(!$)return!s&&c;var y=e*v/$,M=-e*b/$,w=Sr(g,m),x=nr(g,y),A=nr(m,M);Ni(x,A);var N=w,k=Jt(x,N),S=Jt(N,N),U=k*k-S*(Jt(x,x)-1);if(!(U<0)){var F=Tn(U),R=nr(N,(-k-F)/S);if(Ni(R,x),R=ha(R),!s)return R;var T=c[0],P=d[0],D=c[1],L=d[1],I;P<T&&(I=T,T=P,P=I);var q=P-T,V=tn(q-X)<B,W=V||q<B;if(!V&&L<D&&(I=D,D=L,L=I),W?V?D+L>0^R[1]<(tn(R[0]-T)<B?D:L):D<=R[1]&&R[1]<=L:q>X^(T<=R[0]&&R[0]<=P)){var Q=nr(N,(-k+F)/S);return Ni(Q,x),[R,ha(Q)]}}}function u(c,d){var s=r?n:X-n,h=0;return c<-s?h|=1:c>s&&(h|=2),d<-s?h|=4:d>s&&(h|=8),h}return nu(f,o,a,r?[0,-n]:[-X,n-X])}function $h(n,e,t,r,i,a){var f=n[0],o=n[1],l=e[0],u=e[1],c=0,d=1,s=l-f,h=u-o,p;if(p=t-f,!(!s&&p>0)){if(p/=s,s<0){if(p<c)return;p<d&&(d=p)}else if(s>0){if(p>d)return;p>c&&(c=p)}if(p=i-f,!(!s&&p<0)){if(p/=s,s<0){if(p>d)return;p>c&&(c=p)}else if(s>0){if(p<c)return;p<d&&(d=p)}if(p=r-o,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>c&&(c=p)}if(p=a-o,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<d&&(d=p)}return c>0&&(n[0]=f+c*s,n[1]=o+c*h),d<1&&(e[0]=f+d*s,e[1]=o+d*h),!0}}}}}var ht=1e9,tr=-ht;function eu(n,e,t,r){function i(u,c){return n<=u&&u<=t&&e<=c&&c<=r}function a(u,c,d,s){var h=0,p=0;if(u==null||(h=f(u,d))!==(p=f(c,d))||l(u,c)<0^d>0)do s.point(h===0||h===3?n:t,h>1?r:e);while((h=(h+d+4)%4)!==p);else s.point(c[0],c[1])}function f(u,c){return tn(u[0]-n)<B?c>0?0:3:tn(u[0]-t)<B?c>0?2:1:tn(u[1]-e)<B?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var d=f(u,1),s=f(c,1);return d!==s?d-s:d===0?c[1]-u[1]:d===1?u[0]-c[0]:d===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,d=Kc(),s,h,p,g,m,v,b,$,y,M,w,x={point:A,lineStart:U,lineEnd:F,polygonStart:k,polygonEnd:S};function A(T,P){i(T,P)&&c.point(T,P)}function N(){for(var T=0,P=0,D=h.length;P<D;++P)for(var L=h[P],I=1,q=L.length,V=L[0],W,Q,cn=V[0],an=V[1];I<q;++I)W=cn,Q=an,V=L[I],cn=V[0],an=V[1],Q<=r?an>r&&(cn-W)*(r-Q)>(an-Q)*(n-W)&&++T:an<=r&&(cn-W)*(r-Q)<(an-Q)*(n-W)&&--T;return T}function k(){c=d,s=[],h=[],w=!0}function S(){var T=N(),P=w&&T,D=(s=kc(s)).length;(P||D)&&(u.polygonStart(),P&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),D&&Jc(s,o,T,a,u),u.polygonEnd()),c=u,s=h=p=null}function U(){x.point=R,h&&h.push(p=[]),M=!0,y=!1,b=$=NaN}function F(){s&&(R(g,m),v&&y&&d.rejoin(),s.push(d.result())),x.point=A,y&&c.lineEnd()}function R(T,P){var D=i(T,P);if(h&&p.push([T,P]),M)g=T,m=P,v=D,M=!1,D&&(c.lineStart(),c.point(T,P));else if(D&&y)c.point(T,P);else{var L=[b=Math.max(tr,Math.min(ht,b)),$=Math.max(tr,Math.min(ht,$))],I=[T=Math.max(tr,Math.min(ht,T)),P=Math.max(tr,Math.min(ht,P))];$h(L,I,n,e,t,r)?(y||(c.lineStart(),c.point(L[0],L[1])),c.point(I[0],I[1]),D||c.lineEnd(),w=!1):D&&(c.lineStart(),c.point(T,P),w=!1)}b=T,$=P,y=D}return x}}const ba=n=>n;var Ii=new Se,ya=new Se,tu,ru,wa,va,de={point:In,lineStart:In,lineEnd:In,polygonStart:function(){de.lineStart=xh,de.lineEnd=Sh},polygonEnd:function(){de.lineStart=de.lineEnd=de.point=In,Ii.add(tn(ya)),ya=new Se},result:function(){var n=Ii/2;return Ii=new Se,n}};function xh(){de.point=Th}function Th(n,e){de.point=iu,tu=wa=n,ru=va=e}function iu(n,e){ya.add(va*n-wa*e),wa=n,va=e}function Sh(){iu(tu,ru)}const po=de;var Ve=1/0,Cr=Ve,Et=-Ve,Ar=Et,Ch={point:Ah,lineStart:In,lineEnd:In,polygonStart:In,polygonEnd:In,result:function(){var n=[[Ve,Cr],[Et,Ar]];return Et=Ar=-(Cr=Ve=1/0),n}};function Ah(n,e){n<Ve&&(Ve=n),n>Et&&(Et=n),e<Cr&&(Cr=e),e>Ar&&(Ar=e)}const Er=Ch;var Ma=0,$a=0,pt=0,Dr=0,Nr=0,Oe=0,xa=0,Ta=0,gt=0,au,fu,Yn,zn,Pn={point:Ce,lineStart:go,lineEnd:mo,polygonStart:function(){Pn.lineStart=Nh,Pn.lineEnd=Lh},polygonEnd:function(){Pn.point=Ce,Pn.lineStart=go,Pn.lineEnd=mo},result:function(){var n=gt?[xa/gt,Ta/gt]:Oe?[Dr/Oe,Nr/Oe]:pt?[Ma/pt,$a/pt]:[NaN,NaN];return Ma=$a=pt=Dr=Nr=Oe=xa=Ta=gt=0,n}};function Ce(n,e){Ma+=n,$a+=e,++pt}function go(){Pn.point=Eh}function Eh(n,e){Pn.point=Dh,Ce(Yn=n,zn=e)}function Dh(n,e){var t=n-Yn,r=e-zn,i=Tn(t*t+r*r);Dr+=i*(Yn+n)/2,Nr+=i*(zn+e)/2,Oe+=i,Ce(Yn=n,zn=e)}function mo(){Pn.point=Ce}function Nh(){Pn.point=Ih}function Lh(){ou(au,fu)}function Ih(n,e){Pn.point=ou,Ce(au=Yn=n,fu=zn=e)}function ou(n,e){var t=n-Yn,r=e-zn,i=Tn(t*t+r*r);Dr+=i*(Yn+n)/2,Nr+=i*(zn+e)/2,Oe+=i,i=zn*n-Yn*e,xa+=i*(Yn+n),Ta+=i*(zn+e),gt+=i*3,Ce(Yn=n,zn=e)}const bo=Pn;function cu(n){this._context=n}cu.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,e){switch(this._point){case 0:{this._context.moveTo(n,e),this._point=1;break}case 1:{this._context.lineTo(n,e);break}default:{this._context.moveTo(n+this._radius,e),this._context.arc(n,e,this._radius,0,En);break}}},result:In};var Sa=new Se,ki,uu,lu,mt,bt,Lr={point:In,lineStart:function(){Lr.point=kh},lineEnd:function(){ki&&su(uu,lu),Lr.point=In},polygonStart:function(){ki=!0},polygonEnd:function(){ki=null},result:function(){var n=+Sa;return Sa=new Se,n}};function kh(n,e){Lr.point=su,uu=mt=n,lu=bt=e}function su(n,e){mt-=n,bt-=e,Sa.add(Tn(mt*mt+bt*bt)),mt=n,bt=e}const yo=Lr;let wo,Ir,vo,Mo;class $o{constructor(e){this._append=e==null?du:Rh(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:{this._append`M${e},${t}`,this._point=1;break}case 1:{this._append`L${e},${t}`;break}default:{if(this._append`M${e},${t}`,this._radius!==vo||this._append!==Ir){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,vo=r,Ir=this._append,Mo=this._,this._=i}this._+=Mo;break}}}result(){const e=this._;return this._="",e.length?e:null}}function du(n){let e=1;this._+=n[0];for(const t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function Rh(n){const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);if(e>15)return du;if(e!==wo){const t=10**e;wo=e,Ir=function(i){let a=1;this._+=i[0];for(const f=i.length;a<f;++a)this._+=Math.round(arguments[a]*t)/t+i[a]}}return Ir}function hu(n,e){let t=3,r=4.5,i,a;function f(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),_e(o,i(a))),a.result()}return f.area=function(o){return _e(o,i(po)),po.result()},f.measure=function(o){return _e(o,i(yo)),yo.result()},f.bounds=function(o){return _e(o,i(Er)),Er.result()},f.centroid=function(o){return _e(o,i(bo)),bo.result()},f.projection=function(o){return arguments.length?(i=o==null?(n=null,ba):(n=o).stream,f):n},f.context=function(o){return arguments.length?(a=o==null?(e=null,new $o(t)):new cu(e=o),typeof r!="function"&&a.pointRadius(r),f):e},f.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),f):r},f.digits=function(o){if(!arguments.length)return t;if(o==null)t=null;else{const l=Math.floor(o);if(!(l>=0))throw new RangeError(`invalid digits: ${o}`);t=l}return e===null&&(a=new $o(t)),f},f.projection(n).digits(t).context(e)}function Ca(n){return{stream:Hr(n)}}function Hr(n){return function(e){var t=new Aa;for(var r in n)t[r]=n[r];return t.stream=e,t}}function Aa(){}Aa.prototype={constructor:Aa,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ff(n,e,t){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),_e(t,n.stream(Er)),e(Er.result()),r!=null&&n.clipExtent(r),n}function of(n,e,t){return ff(n,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],f=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+e[0][0]+(i-f*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(a-f*(r[1][1]+r[0][1]))/2;n.scale(150*f).translate([o,l])},t)}function pu(n,e,t){return of(n,[[0,0],e],t)}function gu(n,e,t){return ff(n,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),f=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];n.scale(150*a).translate([f,o])},t)}function mu(n,e,t){return ff(n,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),f=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;n.scale(150*a).translate([f,o])},t)}var xo=16,Uh=G(30*un);function To(n,e){return+e?Ph(n,e):Fh(n)}function Fh(n){return Hr({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function Ph(n,e){function t(r,i,a,f,o,l,u,c,d,s,h,p,g,m){var v=u-r,b=c-i,$=v*v+b*b;if($>4*e&&g--){var y=f+s,M=o+h,w=l+p,x=Tn(y*y+M*M+w*w),A=Un(w/=x),N=tn(tn(w)-1)<B||tn(a-d)<B?(a+d)/2:ce(M,y),k=n(N,A),S=k[0],U=k[1],F=S-r,R=U-i,T=b*F-v*R;(T*T/$>e||tn((v*F+b*R)/$-.5)>.3||f*s+o*h+l*p<Uh)&&(t(r,i,a,f,o,l,S,U,N,y/=x,M/=x,w,g,m),m.point(S,U),t(S,U,N,y,M,w,u,c,d,s,h,p,g,m))}}return function(r){var i,a,f,o,l,u,c,d,s,h,p,g,m={point:v,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),m.lineStart=M},polygonEnd:function(){r.polygonEnd(),m.lineStart=b}};function v(A,N){A=n(A,N),r.point(A[0],A[1])}function b(){d=NaN,m.point=$,r.lineStart()}function $(A,N){var k=He([A,N]),S=n(A,N);t(d,s,c,h,p,g,d=S[0],s=S[1],c=A,h=k[0],p=k[1],g=k[2],xo,r),r.point(d,s)}function y(){m.point=v,r.lineEnd()}function M(){b(),m.point=w,m.lineEnd=x}function w(A,N){$(i=A,N),a=d,f=s,o=h,l=p,u=g,m.point=$}function x(){t(d,s,c,h,p,g,a,f,i,o,l,u,xo,r),m.lineEnd=y,y()}return m}}var _h=Hr({point:function(n,e){this.stream.point(n*un,e*un)}});function Oh(n){return Hr({point:function(e,t){var r=n(e,t);return this.stream.point(r[0],r[1])}})}function qh(n,e,t,r,i){function a(f,o){return f*=r,o*=i,[e+n*f,t-n*o]}return a.invert=function(f,o){return[(f-e)/n*r,(t-o)/n*i]},a}function So(n,e,t,r,i,a){if(!a)return qh(n,e,t,r,i);var f=G(a),o=Y(a),l=f*n,u=o*n,c=f/n,d=o/n,s=(o*t-f*e)/n,h=(o*e+f*t)/n;function p(g,m){return g*=r,m*=i,[l*g-u*m+e,t-u*g-l*m]}return p.invert=function(g,m){return[r*(c*g-d*m+s),i*(h-d*g-c*m)]},p}function be(n){return bu(function(){return n})()}function bu(n){var e,t=150,r=480,i=250,a=0,f=0,o=0,l=0,u=0,c,d=0,s=1,h=1,p=null,g=ho,m=null,v,b,$,y=ba,M=.5,w,x,A,N,k;function S(T){return A(T[0]*un,T[1]*un)}function U(T){return T=A.invert(T[0],T[1]),T&&[T[0]*vn,T[1]*vn]}S.stream=function(T){return N&&k===T?N:N=_h(Oh(c)(g(w(y(k=T)))))},S.preclip=function(T){return arguments.length?(g=T,p=void 0,R()):g},S.postclip=function(T){return arguments.length?(y=T,m=v=b=$=null,R()):y},S.clipAngle=function(T){return arguments.length?(g=+T?Mh(p=T*un):(p=null,ho),R()):p*vn},S.clipExtent=function(T){return arguments.length?(y=T==null?(m=v=b=$=null,ba):eu(m=+T[0][0],v=+T[0][1],b=+T[1][0],$=+T[1][1]),R()):m==null?null:[[m,v],[b,$]]},S.scale=function(T){return arguments.length?(t=+T,F()):t},S.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],F()):[r,i]},S.center=function(T){return arguments.length?(a=T[0]%360*un,f=T[1]%360*un,F()):[a*vn,f*vn]},S.rotate=function(T){return arguments.length?(o=T[0]%360*un,l=T[1]%360*un,u=T.length>2?T[2]%360*un:0,F()):[o*vn,l*vn,u*vn]},S.angle=function(T){return arguments.length?(d=T%360*un,F()):d*vn},S.reflectX=function(T){return arguments.length?(s=T?-1:1,F()):s<0},S.reflectY=function(T){return arguments.length?(h=T?-1:1,F()):h<0},S.precision=function(T){return arguments.length?(w=To(x,M=T*T),R()):Tn(M)},S.fitExtent=function(T,P){return of(S,T,P)},S.fitSize=function(T,P){return pu(S,T,P)},S.fitWidth=function(T,P){return gu(S,T,P)},S.fitHeight=function(T,P){return mu(S,T,P)};function F(){var T=So(t,0,0,s,h,d).apply(null,e(a,f)),P=So(t,r-T[0],i-T[1],s,h,d);return c=Qc(o,l,u),x=ga(e,P),A=ga(c,x),w=To(x,M),R()}function R(){return N=k=null,S}return function(){return e=n.apply(this,arguments),S.invert=e.invert&&U,F()}}function cf(n){var e=0,t=X/3,r=bu(n),i=r(e,t);return i.parallels=function(a){return arguments.length?r(e=a[0]*un,t=a[1]*un):[e*vn,t*vn]},i}function Wh(n){var e=G(n);function t(r,i){return[r*e,Y(i)/e]}return t.invert=function(r,i){return[r/e,Un(i*e)]},t}function Yh(n,e){var t=Y(n),r=(t+Y(e))/2;if(tn(r)<B)return Wh(n);var i=1+t*(2*r-t),a=Tn(i)/r;function f(o,l){var u=Tn(i-2*r*Y(l))/r;return[u*Y(o*=r),a-u*G(o)]}return f.invert=function(o,l){var u=a-l,c=ce(o,tn(u))*Ln(u);return u*r<0&&(c-=X*Ln(o)*Ln(u)),[c/r,Un((i-(o*o+u*u)*r*r)/(2*r))]},f}function kr(){return cf(Yh).scale(155.424).center([0,33.6442])}function yu(){return kr().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function zh(n){var e=n.length;return{point:function(t,r){for(var i=-1;++i<e;)n[i].point(t,r)},sphere:function(){for(var t=-1;++t<e;)n[t].sphere()},lineStart:function(){for(var t=-1;++t<e;)n[t].lineStart()},lineEnd:function(){for(var t=-1;++t<e;)n[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<e;)n[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<e;)n[t].polygonEnd()}}}function Bh(){var n,e,t=yu(),r,i=kr().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,f=kr().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,l,u={point:function(s,h){l=[s,h]}};function c(s){var h=s[0],p=s[1];return l=null,r.point(h,p),l||(a.point(h,p),l)||(o.point(h,p),l)}c.invert=function(s){var h=t.scale(),p=t.translate(),g=(s[0]-p[0])/h,m=(s[1]-p[1])/h;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?f:t).invert(s)},c.stream=function(s){return n&&e===s?n:n=zh([t.stream(e=s),i.stream(s),f.stream(s)])},c.precision=function(s){return arguments.length?(t.precision(s),i.precision(s),f.precision(s),d()):t.precision()},c.scale=function(s){return arguments.length?(t.scale(s),i.scale(s*.35),f.scale(s),c.translate(t.translate())):t.scale()},c.translate=function(s){if(!arguments.length)return t.translate();var h=t.scale(),p=+s[0],g=+s[1];return r=t.translate(s).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(u),a=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+B,g+.12*h+B],[p-.214*h-B,g+.234*h-B]]).stream(u),o=f.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+B,g+.166*h+B],[p-.115*h-B,g+.234*h-B]]).stream(u),d()},c.fitExtent=function(s,h){return of(c,s,h)},c.fitSize=function(s,h){return pu(c,s,h)},c.fitWidth=function(s,h){return gu(c,s,h)},c.fitHeight=function(s,h){return mu(c,s,h)};function d(){return n=e=null,c}return c.scale(1070)}function wu(n){return function(e,t){var r=G(e),i=G(t),a=n(r*i);return a===1/0?[2,0]:[a*i*Y(e),a*Y(t)]}}function qt(n){return function(e,t){var r=Tn(e*e+t*t),i=n(r),a=Y(i),f=G(i);return[ce(e*a,r*f),Un(r&&t*a/r)]}}var vu=wu(function(n){return Tn(2/(1+n))});vu.invert=qt(function(n){return 2*Un(n/2)});function Hh(){return be(vu).scale(124.75).clipAngle(180-.001)}var Mu=wu(function(n){return(n=Xc(n))&&n/Y(n)});Mu.invert=qt(function(n){return n});function Vh(){return be(Mu).scale(79.4188).clipAngle(180-.001)}function Vr(n,e){return[n,xr(af((ln+e)/2))]}Vr.invert=function(n,e){return[n,2*Je(Zc(e))-ln]};function jh(){return $u(Vr).scale(961/En)}function $u(n){var e=be(n),t=e.center,r=e.scale,i=e.translate,a=e.clipExtent,f=null,o,l,u;e.scale=function(d){return arguments.length?(r(d),c()):r()},e.translate=function(d){return arguments.length?(i(d),c()):i()},e.center=function(d){return arguments.length?(t(d),c()):t()},e.clipExtent=function(d){return arguments.length?(d==null?f=o=l=u=null:(f=+d[0][0],o=+d[0][1],l=+d[1][0],u=+d[1][1]),c()):f==null?null:[[f,o],[l,u]]};function c(){var d=X*r(),s=e(hh(e.rotate()).invert([0,0]));return a(f==null?[[s[0]-d,s[1]-d],[s[0]+d,s[1]+d]]:n===Vr?[[Math.max(s[0]-d,f),o],[Math.min(s[0]+d,l),u]]:[[f,Math.max(s[1]-d,o)],[l,Math.min(s[1]+d,u)]])}return c()}function rr(n){return af((ln+n)/2)}function Gh(n,e){var t=G(n),r=n===e?Y(n):xr(t/G(e))/xr(rr(e)/rr(n)),i=t*Di(rr(n),r)/r;if(!r)return Vr;function a(f,o){i>0?o<-ln+B&&(o=-ln+B):o>ln-B&&(o=ln-B);var l=i/Di(rr(o),r);return[l*Y(r*f),i-l*G(r*f)]}return a.invert=function(f,o){var l=i-o,u=Ln(r)*Tn(f*f+l*l),c=ce(f,tn(l))*Ln(l);return l*r<0&&(c-=X*Ln(f)*Ln(l)),[c/r,2*Je(Di(i/u,1/r))-ln]},a}function Zh(){return cf(Gh).scale(109.5).parallels([30,30])}function Rr(n,e){return[n,e]}Rr.invert=Rr;function Xh(){return be(Rr).scale(152.63)}function Qh(n,e){var t=G(n),r=n===e?Y(n):(t-G(e))/(e-n),i=t/r+n;if(tn(r)<B)return Rr;function a(f,o){var l=i-o,u=r*f;return[l*Y(u),i-l*G(u)]}return a.invert=function(f,o){var l=i-o,u=ce(f,tn(l))*Ln(l);return l*r<0&&(u-=X*Ln(f)*Ln(l)),[u/r,i-Ln(r)*Tn(f*f+l*l)]},a}function Kh(){return cf(Qh).scale(131.154).center([0,13.9389])}var wt=1.340264,vt=-.081106,Mt=893e-6,$t=.003796,Ur=Tn(3)/2,Jh=12;function xu(n,e){var t=Un(Ur*Y(e)),r=t*t,i=r*r*r;return[n*G(t)/(Ur*(wt+3*vt*r+i*(7*Mt+9*$t*r))),t*(wt+vt*r+i*(Mt+$t*r))]}xu.invert=function(n,e){for(var t=e,r=t*t,i=r*r*r,a=0,f,o,l;a<Jh&&(o=t*(wt+vt*r+i*(Mt+$t*r))-e,l=wt+3*vt*r+i*(7*Mt+9*$t*r),t-=f=o/l,r=t*t,i=r*r*r,!(tn(f)<Gc));++a);return[Ur*n*(wt+3*vt*r+i*(7*Mt+9*$t*r))/G(t),Un(Y(t)/Ur)]};function n1(){return be(xu).scale(177.158)}function Tu(n,e){var t=G(e),r=G(n)*t;return[t*Y(n)/r,Y(e)/r]}Tu.invert=qt(Je);function e1(){return be(Tu).scale(144.049).clipAngle(60)}function Su(n,e){return[G(e)*Y(n),Y(e)]}Su.invert=qt(Un);function t1(){return be(Su).scale(249.5).clipAngle(90+B)}function Cu(n,e){var t=G(e),r=1+G(n)*t;return[t*Y(n)/r,Y(e)/r]}Cu.invert=qt(function(n){return 2*Je(n)});function r1(){return be(Cu).scale(250).clipAngle(142)}function Au(n,e){return[xr(af((ln+e)/2)),-n]}Au.invert=function(n,e){return[-e,2*Je(Zc(n))-ln]};function i1(){var n=$u(Au),e=n.center,t=n.rotate;return n.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},n.rotate=function(r){return arguments.length?t([r[0],r[1],r.length>2?r[2]+90:90]):(r=t(),[r[0],r[1],r[2]-90])},t([0,0,90]).scale(159.155)}function Gn(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function jr(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ea=Symbol("implicit");function uf(){var n=new Tt,e=[],t=[],r=Ea;function i(a){let f=n.get(a);if(f===void 0){if(r!==Ea)return r;n.set(a,f=e.push(a)-1)}return t[f%t.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],n=new Tt;for(const f of a)n.has(f)||n.set(f,e.push(f)-1);return i},i.range=function(a){return arguments.length?(t=Array.from(a),i):t.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return uf(e,t).unknown(r)},Gn.apply(i,arguments),i}function Gr(){var n=uf().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,a,f,o=!1,l=0,u=0,c=.5;delete n.unknown;function d(){var s=e().length,h=i<r,p=h?i:r,g=h?r:i;a=(g-p)/Math.max(1,s-l+u*2),o&&(a=Math.floor(a)),p+=(g-p-a*(s-l))*c,f=a*(1-l),o&&(p=Math.round(p),f=Math.round(f));var m=fa(s).map(function(v){return p+a*v});return t(h?m.reverse():m)}return n.domain=function(s){return arguments.length?(e(s),d()):e()},n.range=function(s){return arguments.length?([r,i]=s,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(s){return[r,i]=s,r=+r,i=+i,o=!0,d()},n.bandwidth=function(){return f},n.step=function(){return a},n.round=function(s){return arguments.length?(o=!!s,d()):o},n.padding=function(s){return arguments.length?(l=Math.min(1,u=+s),d()):l},n.paddingInner=function(s){return arguments.length?(l=Math.min(1,s),d()):l},n.paddingOuter=function(s){return arguments.length?(u=+s,d()):u},n.align=function(s){return arguments.length?(c=Math.max(0,Math.min(1,s)),d()):c},n.copy=function(){return Gr(e(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Gn.apply(d(),arguments)}function Eu(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Eu(e())},n}function a1(){return Eu(Gr.apply(null,arguments).paddingInner(1))}function f1(n){return function(){return n}}function Da(n){return+n}var Co=[0,1];function kn(n){return n}function Na(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:f1(isNaN(e)?NaN:.5)}function o1(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function c1(n,e,t){var r=n[0],i=n[1],a=e[0],f=e[1];return i<r?(r=Na(i,r),a=t(f,a)):(r=Na(r,i),a=t(a,f)),function(o){return a(r(o))}}function u1(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),a=new Array(r),f=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++f<r;)i[f]=Na(n[f],n[f+1]),a[f]=t(e[f],e[f+1]);return function(o){var l=Ga(n,o,1,r)-1;return a[l](i[l](o))}}function Wt(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Zr(){var n=Co,e=Co,t=Ot,r,i,a,f=kn,o,l,u;function c(){var s=Math.min(n.length,e.length);return f!==kn&&(f=o1(n[0],n[s-1])),o=s>2?u1:c1,l=u=null,d}function d(s){return s==null||isNaN(s=+s)?a:(l||(l=o(n.map(r),e,t)))(r(f(s)))}return d.invert=function(s){return f(i((u||(u=o(e,n.map(r),pe)))(s)))},d.domain=function(s){return arguments.length?(n=Array.from(s,Da),c()):n.slice()},d.range=function(s){return arguments.length?(e=Array.from(s),c()):e.slice()},d.rangeRound=function(s){return e=Array.from(s),t=nf,c()},d.clamp=function(s){return arguments.length?(f=s?!0:kn,c()):f!==kn},d.interpolate=function(s){return arguments.length?(t=s,c()):t},d.unknown=function(s){return arguments.length?(a=s,d):a},function(s,h){return r=s,i=h,c()}}function Du(){return Zr()(kn,kn)}function l1(n,e,t,r){var i=ia(n,e,t),a;switch(r=At(r??",f"),r.type){case"s":{var f=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(a=sh(i,f))&&(r.precision=a),jc(r,f)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=dh(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=lh(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ke(r)}function Yt(n){var e=n.domain;return n.ticks=function(t){var r=e();return yr(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return l1(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,a=r.length-1,f=r[i],o=r[a],l,u,c=10;for(o<f&&(u=f,f=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=ra(f,o,t),u===l)return r[i]=f,r[a]=o,e(r);if(u>0)f=Math.floor(f/u)*u,o=Math.ceil(o/u)*u;else if(u<0)f=Math.ceil(f*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function lf(){var n=Du();return n.copy=function(){return Wt(n,lf())},Gn.apply(n,arguments),Yt(n)}function Nu(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,Da),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return Nu(n).unknown(e)},n=arguments.length?Array.from(n,Da):[0,1],Yt(t)}function Lu(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],a=n[r],f;return a<i&&(f=t,t=r,r=f,f=i,i=a,a=f),n[t]=e.floor(i),n[r]=e.ceil(a),n}function Ao(n){return Math.log(n)}function Eo(n){return Math.exp(n)}function s1(n){return-Math.log(-n)}function d1(n){return-Math.exp(-n)}function h1(n){return isFinite(n)?+("1e"+n):n<0?0:n}function p1(n){return n===10?h1:n===Math.E?Math.exp:e=>Math.pow(n,e)}function g1(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function Do(n){return(e,t)=>-n(-e,t)}function Iu(n){const e=n(Ao,Eo),t=e.domain;let r=10,i,a;function f(){return i=g1(r),a=p1(r),t()[0]<0?(i=Do(i),a=Do(a),n(s1,d1)):n(Ao,Eo),e}return e.base=function(o){return arguments.length?(r=+o,f()):r},e.domain=function(o){return arguments.length?(t(o),f()):t()},e.ticks=o=>{const l=t();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let s=i(u),h=i(c),p,g;const m=o==null?10:+o;let v=[];if(!(r%1)&&h-s<m){if(s=Math.floor(s),h=Math.ceil(h),u>0){for(;s<=h;++s)for(p=1;p<r;++p)if(g=s<0?p/a(-s):p*a(s),!(g<u)){if(g>c)break;v.push(g)}}else for(;s<=h;++s)for(p=r-1;p>=1;--p)if(g=s>0?p/a(-s):p*a(s),!(g<u)){if(g>c)break;v.push(g)}v.length*2<m&&(v=yr(u,c,m))}else v=yr(s,h,Math.min(h-s,m)).map(a);return d?v.reverse():v},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=At(l)).precision==null&&(l.trim=!0),l=Ke(l)),o===1/0)return l;const u=Math.max(1,r*o/e.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*r<r-.5&&(d*=r),d<=u?l(c):""}},e.nice=()=>t(Lu(t(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function ku(){const n=Iu(Zr()).domain([1,10]);return n.copy=()=>Wt(n,ku()).base(n.base()),Gn.apply(n,arguments),n}function No(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function Lo(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Ru(n){var e=1,t=n(No(e),Lo(e));return t.constant=function(r){return arguments.length?n(No(e=+r),Lo(e)):e},Yt(t)}function Uu(){var n=Ru(Zr());return n.copy=function(){return Wt(n,Uu()).constant(n.constant())},Gn.apply(n,arguments)}function Io(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function m1(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function b1(n){return n<0?-n*n:n*n}function Fu(n){var e=n(kn,kn),t=1;function r(){return t===1?n(kn,kn):t===.5?n(m1,b1):n(Io(t),Io(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},Yt(e)}function Pu(){var n=Fu(Zr());return n.copy=function(){return Wt(n,Pu()).exponent(n.exponent())},Gn.apply(n,arguments),n}function _u(){var n=[],e=[],t=[],r;function i(){var f=0,o=Math.max(1,e.length);for(t=new Array(o-1);++f<o;)t[f-1]=C0(n,f/o);return a}function a(f){return f==null||isNaN(f=+f)?r:e[Ga(t,f)]}return a.invertExtent=function(f){var o=e.indexOf(f);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},a.domain=function(f){if(!arguments.length)return n.slice();n=[];for(let o of f)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(he),i()},a.range=function(f){return arguments.length?(e=Array.from(f),i()):e.slice()},a.unknown=function(f){return arguments.length?(r=f,a):r},a.quantiles=function(){return t.slice()},a.copy=function(){return _u().domain(n).range(e).unknown(r)},Gn.apply(a,arguments)}function Ou(){var n=[.5],e=[0,1],t,r=1;function i(a){return a!=null&&a<=a?e[Ga(n,a,0,r)]:t}return i.domain=function(a){return arguments.length?(n=Array.from(a),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var f=e.indexOf(a);return[n[f-1],n[f]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return Ou().domain(n).range(e).unknown(t)},Gn.apply(i,arguments)}const Ri=new Date,Ui=new Date;function dn(n,e,t,r){function i(a){return n(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(n(a=new Date(+a)),a),i.ceil=a=>(n(a=new Date(a-1)),e(a,1),n(a),a),i.round=a=>{const f=i(a),o=i.ceil(a);return a-f<o-a?f:o},i.offset=(a,f)=>(e(a=new Date(+a),f==null?1:Math.floor(f)),a),i.range=(a,f,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<f)||!(o>0))return l;let u;do l.push(u=new Date(+a)),e(a,o),n(a);while(u<a&&a<f);return l},i.filter=a=>dn(f=>{if(f>=f)for(;n(f),!a(f);)f.setTime(f-1)},(f,o)=>{if(f>=f)if(o<0)for(;++o<=0;)for(;e(f,-1),!a(f););else for(;--o>=0;)for(;e(f,1),!a(f););}),t&&(i.count=(a,f)=>(Ri.setTime(+a),Ui.setTime(+f),n(Ri),n(Ui),Math.floor(t(Ri,Ui))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?f=>r(f)%a===0:f=>i.count(0,f)%a===0):i)),i}const Fr=dn(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);Fr.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?dn(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):Fr);Fr.range;const re=1e3,Rn=re*60,ie=Rn*60,ue=ie*24,sf=ue*7,ko=ue*30,Fi=ue*365,ae=dn(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*re)},(n,e)=>(e-n)/re,n=>n.getUTCSeconds());ae.range;const Xr=dn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*re)},(n,e)=>{n.setTime(+n+e*Rn)},(n,e)=>(e-n)/Rn,n=>n.getMinutes());Xr.range;const Qr=dn(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Rn)},(n,e)=>(e-n)/Rn,n=>n.getUTCMinutes());Qr.range;const Kr=dn(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*re-n.getMinutes()*Rn)},(n,e)=>{n.setTime(+n+e*ie)},(n,e)=>(e-n)/ie,n=>n.getHours());Kr.range;const Jr=dn(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*ie)},(n,e)=>(e-n)/ie,n=>n.getUTCHours());Jr.range;const nt=dn(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Rn)/ue,n=>n.getDate()-1);nt.range;const ni=dn(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/ue,n=>n.getUTCDate()-1);ni.range;const df=dn(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/ue,n=>Math.floor(n/ue));df.range;function Ne(n){return dn(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rn)/sf)}const je=Ne(0),Dt=Ne(1),qu=Ne(2),Wu=Ne(3),Ae=Ne(4),Yu=Ne(5),zu=Ne(6);je.range;Dt.range;qu.range;Wu.range;Ae.range;Yu.range;zu.range;function Le(n){return dn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/sf)}const Ge=Le(0),Nt=Le(1),Bu=Le(2),Hu=Le(3),Ee=Le(4),Vu=Le(5),ju=Le(6);Ge.range;Nt.range;Bu.range;Hu.range;Ee.range;Vu.range;ju.range;const ei=dn(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());ei.range;const ti=dn(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());ti.range;const On=dn(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());On.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:dn(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});On.range;const qn=dn(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());qn.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:dn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});qn.range;function Gu(n,e,t,r,i,a){const f=[[ae,1,re],[ae,5,5*re],[ae,15,15*re],[ae,30,30*re],[a,1,Rn],[a,5,5*Rn],[a,15,15*Rn],[a,30,30*Rn],[i,1,ie],[i,3,3*ie],[i,6,6*ie],[i,12,12*ie],[r,1,ue],[r,2,2*ue],[t,1,sf],[e,1,ko],[e,3,3*ko],[n,1,Fi]];function o(u,c,d){const s=c<u;s&&([u,c]=[c,u]);const h=d&&typeof d.range=="function"?d:l(u,c,d),p=h?h.range(u,+c+1):[];return s?p.reverse():p}function l(u,c,d){const s=Math.abs(c-u)/d,h=ja(([,,m])=>m).right(f,s);if(h===f.length)return n.every(ia(u/Fi,c/Fi,d));if(h===0)return Fr.every(Math.max(ia(u,c,d),1));const[p,g]=f[s/f[h-1][2]<f[h][2]/s?h-1:h];return p.every(g)}return[o,l]}const[y1,w1]=Gu(qn,ti,Ge,df,Jr,Qr),[v1,M1]=Gu(On,ei,je,nt,Kr,Xr);function Pi(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function _i(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ct(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function $1(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,a=n.days,f=n.shortDays,o=n.months,l=n.shortMonths,u=ut(i),c=lt(i),d=ut(a),s=lt(a),h=ut(f),p=lt(f),g=ut(o),m=lt(o),v=ut(l),b=lt(l),$={a:D,A:L,b:I,B:q,c:null,d:Oo,e:Oo,f:H1,g:ep,G:rp,H:Y1,I:z1,j:B1,L:Zu,m:V1,M:j1,p:V,q:W,Q:Yo,s:zo,S:G1,u:Z1,U:X1,V:Q1,w:K1,W:J1,x:null,X:null,y:np,Y:tp,Z:ip,"%":Wo},y={a:Q,A:cn,b:an,B:nn,c:null,d:qo,e:qo,f:cp,g:yp,G:vp,H:ap,I:fp,j:op,L:Qu,m:up,M:lp,p:K,q:z,Q:Yo,s:zo,S:sp,u:dp,U:hp,V:pp,w:gp,W:mp,x:null,X:null,y:bp,Y:wp,Z:Mp,"%":Wo},M={a:k,A:S,b:U,B:F,c:R,d:Po,e:Po,f:_1,g:Fo,G:Uo,H:_o,I:_o,j:R1,L:P1,m:k1,M:U1,p:N,q:I1,Q:q1,s:W1,S:F1,u:A1,U:E1,V:D1,w:C1,W:N1,x:T,X:P,y:Fo,Y:Uo,Z:L1,"%":O1};$.x=w(t,$),$.X=w(r,$),$.c=w(e,$),y.x=w(t,y),y.X=w(r,y),y.c=w(e,y);function w(E,_){return function(O){var C=[],Z=-1,J=0,sn=E.length,fn,Cn,ft;for(O instanceof Date||(O=new Date(+O));++Z<sn;)E.charCodeAt(Z)===37&&(C.push(E.slice(J,Z)),(Cn=Ro[fn=E.charAt(++Z)])!=null?fn=E.charAt(++Z):Cn=fn==="e"?" ":"0",(ft=_[fn])&&(fn=ft(O,Cn)),C.push(fn),J=Z+1);return C.push(E.slice(J,Z)),C.join("")}}function x(E,_){return function(O){var C=ct(1900,void 0,1),Z=A(C,E,O+="",0),J,sn;if(Z!=O.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(_&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(J=_i(ct(C.y,0,1)),sn=J.getUTCDay(),J=sn>4||sn===0?Nt.ceil(J):Nt(J),J=ni.offset(J,(C.V-1)*7),C.y=J.getUTCFullYear(),C.m=J.getUTCMonth(),C.d=J.getUTCDate()+(C.w+6)%7):(J=Pi(ct(C.y,0,1)),sn=J.getDay(),J=sn>4||sn===0?Dt.ceil(J):Dt(J),J=nt.offset(J,(C.V-1)*7),C.y=J.getFullYear(),C.m=J.getMonth(),C.d=J.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),sn="Z"in C?_i(ct(C.y,0,1)).getUTCDay():Pi(ct(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(sn+5)%7:C.w+C.U*7-(sn+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,_i(C)):Pi(C)}}function A(E,_,O,C){for(var Z=0,J=_.length,sn=O.length,fn,Cn;Z<J;){if(C>=sn)return-1;if(fn=_.charCodeAt(Z++),fn===37){if(fn=_.charAt(Z++),Cn=M[fn in Ro?_.charAt(Z++):fn],!Cn||(C=Cn(E,O,C))<0)return-1}else if(fn!=O.charCodeAt(C++))return-1}return C}function N(E,_,O){var C=u.exec(_.slice(O));return C?(E.p=c.get(C[0].toLowerCase()),O+C[0].length):-1}function k(E,_,O){var C=h.exec(_.slice(O));return C?(E.w=p.get(C[0].toLowerCase()),O+C[0].length):-1}function S(E,_,O){var C=d.exec(_.slice(O));return C?(E.w=s.get(C[0].toLowerCase()),O+C[0].length):-1}function U(E,_,O){var C=v.exec(_.slice(O));return C?(E.m=b.get(C[0].toLowerCase()),O+C[0].length):-1}function F(E,_,O){var C=g.exec(_.slice(O));return C?(E.m=m.get(C[0].toLowerCase()),O+C[0].length):-1}function R(E,_,O){return A(E,e,_,O)}function T(E,_,O){return A(E,t,_,O)}function P(E,_,O){return A(E,r,_,O)}function D(E){return f[E.getDay()]}function L(E){return a[E.getDay()]}function I(E){return l[E.getMonth()]}function q(E){return o[E.getMonth()]}function V(E){return i[+(E.getHours()>=12)]}function W(E){return 1+~~(E.getMonth()/3)}function Q(E){return f[E.getUTCDay()]}function cn(E){return a[E.getUTCDay()]}function an(E){return l[E.getUTCMonth()]}function nn(E){return o[E.getUTCMonth()]}function K(E){return i[+(E.getUTCHours()>=12)]}function z(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var _=w(E+="",$);return _.toString=function(){return E},_},parse:function(E){var _=x(E+="",!1);return _.toString=function(){return E},_},utcFormat:function(E){var _=w(E+="",y);return _.toString=function(){return E},_},utcParse:function(E){var _=x(E+="",!0);return _.toString=function(){return E},_}}}var Ro={"-":"",_:" ",0:"0"},bn=/^\s*\d+/,x1=/^%/,T1=/[\\^$*+?|[\]().{}]/g;function en(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",a=i.length;return r+(a<t?new Array(t-a+1).join(e)+i:i)}function S1(n){return n.replace(T1,"\\$&")}function ut(n){return new RegExp("^(?:"+n.map(S1).join("|")+")","i")}function lt(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function C1(n,e,t){var r=bn.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function A1(n,e,t){var r=bn.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function E1(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function D1(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function N1(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function Uo(n,e,t){var r=bn.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function Fo(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function L1(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function I1(n,e,t){var r=bn.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function k1(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function Po(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function R1(n,e,t){var r=bn.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function _o(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function U1(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function F1(n,e,t){var r=bn.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function P1(n,e,t){var r=bn.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function _1(n,e,t){var r=bn.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function O1(n,e,t){var r=x1.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function q1(n,e,t){var r=bn.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function W1(n,e,t){var r=bn.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function Oo(n,e){return en(n.getDate(),e,2)}function Y1(n,e){return en(n.getHours(),e,2)}function z1(n,e){return en(n.getHours()%12||12,e,2)}function B1(n,e){return en(1+nt.count(On(n),n),e,3)}function Zu(n,e){return en(n.getMilliseconds(),e,3)}function H1(n,e){return Zu(n,e)+"000"}function V1(n,e){return en(n.getMonth()+1,e,2)}function j1(n,e){return en(n.getMinutes(),e,2)}function G1(n,e){return en(n.getSeconds(),e,2)}function Z1(n){var e=n.getDay();return e===0?7:e}function X1(n,e){return en(je.count(On(n)-1,n),e,2)}function Xu(n){var e=n.getDay();return e>=4||e===0?Ae(n):Ae.ceil(n)}function Q1(n,e){return n=Xu(n),en(Ae.count(On(n),n)+(On(n).getDay()===4),e,2)}function K1(n){return n.getDay()}function J1(n,e){return en(Dt.count(On(n)-1,n),e,2)}function np(n,e){return en(n.getFullYear()%100,e,2)}function ep(n,e){return n=Xu(n),en(n.getFullYear()%100,e,2)}function tp(n,e){return en(n.getFullYear()%1e4,e,4)}function rp(n,e){var t=n.getDay();return n=t>=4||t===0?Ae(n):Ae.ceil(n),en(n.getFullYear()%1e4,e,4)}function ip(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+en(e/60|0,"0",2)+en(e%60,"0",2)}function qo(n,e){return en(n.getUTCDate(),e,2)}function ap(n,e){return en(n.getUTCHours(),e,2)}function fp(n,e){return en(n.getUTCHours()%12||12,e,2)}function op(n,e){return en(1+ni.count(qn(n),n),e,3)}function Qu(n,e){return en(n.getUTCMilliseconds(),e,3)}function cp(n,e){return Qu(n,e)+"000"}function up(n,e){return en(n.getUTCMonth()+1,e,2)}function lp(n,e){return en(n.getUTCMinutes(),e,2)}function sp(n,e){return en(n.getUTCSeconds(),e,2)}function dp(n){var e=n.getUTCDay();return e===0?7:e}function hp(n,e){return en(Ge.count(qn(n)-1,n),e,2)}function Ku(n){var e=n.getUTCDay();return e>=4||e===0?Ee(n):Ee.ceil(n)}function pp(n,e){return n=Ku(n),en(Ee.count(qn(n),n)+(qn(n).getUTCDay()===4),e,2)}function gp(n){return n.getUTCDay()}function mp(n,e){return en(Nt.count(qn(n)-1,n),e,2)}function bp(n,e){return en(n.getUTCFullYear()%100,e,2)}function yp(n,e){return n=Ku(n),en(n.getUTCFullYear()%100,e,2)}function wp(n,e){return en(n.getUTCFullYear()%1e4,e,4)}function vp(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Ee(n):Ee.ceil(n),en(n.getUTCFullYear()%1e4,e,4)}function Mp(){return"+0000"}function Wo(){return"%"}function Yo(n){return+n}function zo(n){return Math.floor(+n/1e3)}var Fe,hf,Lt;$p({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $p(n){return Fe=$1(n),hf=Fe.format,Fe.parse,Lt=Fe.utcFormat,Fe.utcParse,Fe}function xp(n){return new Date(n)}function Tp(n){return n instanceof Date?+n:+new Date(+n)}function pf(n,e,t,r,i,a,f,o,l,u){var c=Du(),d=c.invert,s=c.domain,h=u(".%L"),p=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),b=u("%b %d"),$=u("%B"),y=u("%Y");function M(w){return(l(w)<w?h:o(w)<w?p:f(w)<w?g:a(w)<w?m:r(w)<w?i(w)<w?v:b:t(w)<w?$:y)(w)}return c.invert=function(w){return new Date(d(w))},c.domain=function(w){return arguments.length?s(Array.from(w,Tp)):s().map(xp)},c.ticks=function(w){var x=s();return n(x[0],x[x.length-1],w??10)},c.tickFormat=function(w,x){return x==null?M:u(x)},c.nice=function(w){var x=s();return(!w||typeof w.range!="function")&&(w=e(x[0],x[x.length-1],w??10)),w?s(Lu(x,w)):c},c.copy=function(){return Wt(c,pf(n,e,t,r,i,a,f,o,l,u))},c}function Sp(){return Gn.apply(pf(v1,M1,On,ei,je,nt,Kr,Xr,ae,hf).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cp(){return Gn.apply(pf(y1,w1,qn,ti,Ge,ni,Jr,Qr,ae,Lt).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ri(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function ii(){var n=0,e=.5,t=1,r=1,i,a,f,o,l,u=kn,c,d=!1,s;function h(g){return isNaN(g=+g)?s:(g=.5+((g=+c(g))-a)*(r*g<r*a?o:l),u(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([n,e,t]=g,i=c(n=+n),a=c(e=+e),f=c(t=+t),o=i===a?0:.5/(a-i),l=a===f?0:.5/(f-a),r=a<i?-1:1,h):[n,e,t]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(u=g,h):u};function p(g){return function(m){var v,b,$;return arguments.length?([v,b,$]=m,u=tf(g,[v,b,$]),h):[u(0),u(.5),u(1)]}}return h.range=p(Ot),h.rangeRound=p(nf),h.unknown=function(g){return arguments.length?(s=g,h):s},function(g){return c=g,i=g(n),a=g(e),f=g(t),o=i===a?0:.5/(a-i),l=a===f?0:.5/(f-a),r=a<i?-1:1,h}}function Ju(){var n=Yt(ii()(kn));return n.copy=function(){return ri(n,Ju())},jr.apply(n,arguments)}function nl(){var n=Iu(ii()).domain([.1,1,10]);return n.copy=function(){return ri(n,nl()).base(n.base())},jr.apply(n,arguments)}function el(){var n=Ru(ii());return n.copy=function(){return ri(n,el()).constant(n.constant())},jr.apply(n,arguments)}function tl(){var n=Fu(ii());return n.copy=function(){return ri(n,tl()).exponent(n.exponent())},jr.apply(n,arguments)}function H(n){for(var e=n.length/6|0,t=new Array(e),r=0;r<e;)t[r]="#"+n.slice(r*6,++r*6);return t}const Ap=H("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ep=H("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Dp=H("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Np=H("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Lp=H("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ip=H("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),kp=H("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Rp=H("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Up=H("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Fp=H("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),rn=n=>f0(n[n.length-1]);var rl=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(H);const il=rn(rl);var al=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(H);const fl=rn(al);var ol=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(H);const cl=rn(ol);var ul=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(H);const ll=rn(ul);var La=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(H);const Pr=rn(La);var sl=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(H);const dl=rn(sl);var Ia=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(H);const _r=rn(Ia);var hl=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(H);const pl=rn(hl);var gl=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(H);const ml=rn(gl);var bl=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(H);const yl=rn(bl);var wl=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(H);const vl=rn(wl);var Ml=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(H);const $l=rn(Ml);var xl=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(H);const Tl=rn(xl);var Sl=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(H);const Cl=rn(Sl);var Al=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(H);const El=rn(Al);var Dl=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(H);const Nl=rn(Dl);var Ll=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(H);const Il=rn(Ll);var kl=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(H);const Rl=rn(kl);var Ul=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(H);const Fl=rn(Ul);var Pl=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(H);const _l=rn(Pl);var Ol=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(H);const ql=rn(Ol);var Wl=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(H);const Yl=rn(Wl);var zl=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(H);const Bl=rn(zl);var Hl=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(H);const Vl=rn(Hl);var jl=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(H);const Gl=rn(jl);var Zl=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(H);const Xl=rn(Zl);var Ql=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(H);const Kl=rn(Ql);function Jl(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-n*(35.34-n*(2381.73-n*(6402.7-n*(7024.72-n*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+n*(170.73+n*(52.82-n*(131.46-n*(176.58-n*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+n*(442.36-n*(2482.43-n*(6167.24-n*(6614.94-n*2475.67)))))))+")"}const ns=ef(Vn(300,.5,0),Vn(-240,.5,1));var es=ef(Vn(-100,.75,.35),Vn(80,1.5,.8)),ts=ef(Vn(260,.75,.35),Vn(80,1.5,.8)),ir=Vn();function rs(n){(n<0||n>1)&&(n-=Math.floor(n));var e=Math.abs(n-.5);return ir.h=360*n-100,ir.s=1.5-1.5*e,ir.l=.8-.9*e,ir+""}var ar=pr(),Pp=Math.PI/3,_p=Math.PI*2/3;function is(n){var e;return n=(.5-n)*Math.PI,ar.r=255*(e=Math.sin(n))*e,ar.g=255*(e=Math.sin(n+Pp))*e,ar.b=255*(e=Math.sin(n+_p))*e,ar+""}function as(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}function ai(n){var e=n.length;return function(t){return n[Math.max(0,Math.min(e-1,Math.floor(t*e)))]}}const fs=ai(H("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var os=ai(H("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),cs=ai(H("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),us=ai(H("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const ls=Math.cos,gf=Math.min,Or=Math.sin,hn=Math.sqrt,a6=1e-12,qr=Math.PI,fi=2*qr,Op=hn(3),ss={draw(n,e){const t=hn(e+gf(e/28,.75))*.59436,r=t/2,i=r*Op;n.moveTo(0,t),n.lineTo(0,-t),n.moveTo(-i,-r),n.lineTo(i,r),n.moveTo(-i,r),n.lineTo(i,-r)}},It={draw(n,e){const t=hn(e/qr);n.moveTo(t,0),n.arc(0,0,t,0,fi)}},ds={draw(n,e){const t=hn(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},hs=hn(1/3),qp=hs*2,ps={draw(n,e){const t=hn(e/qp),r=t*hs;n.moveTo(0,-t),n.lineTo(r,0),n.lineTo(0,t),n.lineTo(-r,0),n.closePath()}},gs={draw(n,e){const t=hn(e)*.62625;n.moveTo(0,-t),n.lineTo(t,0),n.lineTo(0,t),n.lineTo(-t,0),n.closePath()}},ms={draw(n,e){const t=hn(e-gf(e/7,2))*.87559;n.moveTo(-t,0),n.lineTo(t,0),n.moveTo(0,t),n.lineTo(0,-t)}},bs={draw(n,e){const t=hn(e),r=-t/2;n.rect(r,r,t,t)}},ys={draw(n,e){const t=hn(e)*.4431;n.moveTo(t,t),n.lineTo(t,-t),n.lineTo(-t,-t),n.lineTo(-t,t),n.closePath()}},Wp=.8908130915292852,ws=Or(qr/10)/Or(7*qr/10),Yp=Or(fi/10)*ws,zp=-ls(fi/10)*ws,vs={draw(n,e){const t=hn(e*Wp),r=Yp*t,i=zp*t;n.moveTo(0,-t),n.lineTo(r,i);for(let a=1;a<5;++a){const f=fi*a/5,o=ls(f),l=Or(f);n.lineTo(l*t,-o*t),n.lineTo(o*r-l*i,l*r+o*i)}n.closePath()}},Oi=hn(3),Ms={draw(n,e){const t=-hn(e/(Oi*3));n.moveTo(0,t*2),n.lineTo(-Oi*t,-t),n.lineTo(Oi*t,-t),n.closePath()}},Bp=hn(3),$s={draw(n,e){const t=hn(e)*.6824,r=t/2,i=t*Bp/2;n.moveTo(0,-t),n.lineTo(i,r),n.lineTo(-i,r),n.closePath()}},Dn=-.5,Nn=hn(3)/2,ka=1/hn(12),Hp=(ka/2+1)*3,xs={draw(n,e){const t=hn(e/Hp),r=t/2,i=t*ka,a=r,f=t*ka+t,o=-a,l=f;n.moveTo(r,i),n.lineTo(a,f),n.lineTo(o,l),n.lineTo(Dn*r-Nn*i,Nn*r+Dn*i),n.lineTo(Dn*a-Nn*f,Nn*a+Dn*f),n.lineTo(Dn*o-Nn*l,Nn*o+Dn*l),n.lineTo(Dn*r+Nn*i,Dn*i-Nn*r),n.lineTo(Dn*a+Nn*f,Dn*f-Nn*a),n.lineTo(Dn*o+Nn*l,Dn*l-Nn*o),n.closePath()}},Ts={draw(n,e){const t=hn(e-gf(e/6,1.7))*.6189;n.moveTo(-t,-t),n.lineTo(t,t),n.moveTo(-t,t),n.lineTo(t,-t)}},Vp=[It,ds,ps,bs,vs,Ms,xs],jp=[It,ms,Ts,$s,ss,ys,gs];function ge(n){return n!=null&&!Number.isNaN(n)}function Ze(n,e){return+ge(e)-+ge(n)||he(n,e)}function Ra(n,e){return+ge(e)-+ge(n)||_t(n,e)}function mf(n){return n!=null&&`${n}`!=""}function Ss(n){return isFinite(n)?n:NaN}function oi(n){return n>0&&isFinite(n)?n:NaN}function bf(n){return n<0&&isFinite(n)?n:NaN}function Gp(n,e){if(n instanceof Date||(n=new Date(+n)),isNaN(n))return typeof e=="function"?e(n):e;const t=n.getUTCHours(),r=n.getUTCMinutes(),i=n.getUTCSeconds(),a=n.getUTCMilliseconds();return`${Zp(n.getUTCFullYear())}-${ee(n.getUTCMonth()+1,2)}-${ee(n.getUTCDate(),2)}${t||r||i||a?`T${ee(t,2)}:${ee(r,2)}${i||a?`:${ee(i,2)}${a?`.${ee(a,3)}`:""}`:""}Z`:""}`}function Zp(n){return n<0?`-${ee(-n,6)}`:n>9999?`+${ee(n,6)}`:ee(n,4)}function ee(n,e){return`${n}`.padStart(e,"0")}const Xp=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Cs(n,e){return Xp.test(n+="")?new Date(n):typeof e=="function"?e(n):e}const Qp=new Map([["second",ae],["minute",Xr],["hour",Kr],["day",nt],["week",je],["month",ei],["year",On],["monday",Dt],["tuesday",qu],["wednesday",Wu],["thursday",Ae],["friday",Yu],["saturday",zu],["sunday",je]]),Kp=new Map([["second",ae],["minute",Qr],["hour",Jr],["day",df],["week",Ge],["month",ti],["year",qn],["monday",Nt],["tuesday",Bu],["wednesday",Hu],["thursday",Ee],["friday",Vu],["saturday",ju],["sunday",Ge]]);function As(n,e){let t=`${n}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let r=1;const i=/^(?:(\d+)\s+)/.exec(t);switch(i&&(t=t.slice(i[0].length),r=+i[1]),t){case"quarter":t="month",r*=3;break;case"half":t="month",r*=6;break}let a=e.get(t);if(!a)throw new Error(`unknown interval: ${n}`);if(!(r>1))return a;if(!a.every)throw new Error(`non-periodic interval: ${t}`);return a.every(r)}function Jp(n){return As(n,Qp)}function ng(n){return As(n,Kp)}function eg(n){if(!n)return!1;const e=n.floor(new Date(Date.UTC(2e3,11,31)));return qn(e)>=e}function tg(n){if(!n)return!1;const e=n.floor(new Date(2e3,11,31));return On(e)>=e}const kt=Object.getPrototypeOf(Uint8Array),rg=Object.prototype.toString;function me(n,e,t){const r=typeof e;return r==="string"?Bo(n,ag(e),t):r==="function"?Bo(n,e,t):r==="number"||e instanceof Date||r==="boolean"?mn(n,et(e),t):typeof(e==null?void 0:e.transform)=="function"?Ho(e.transform(n),t):Ho(e,t)}function Bo(n,e,t){return mn(n,(t==null?void 0:t.prototype)instanceof kt?ig(e):e,t)}function Ho(n,e){return e===void 0?jn(n):n instanceof e?n:e.prototype instanceof kt&&!(n instanceof kt)?e.from(n,yf):e.from(n)}function ig(n){return(e,t)=>yf(n(e,t))}const hr=[null],ag=n=>e=>e[n],fg={transform:Bt},Zn={transform:n=>n},f6=()=>1,og=()=>!0,yn=n=>n==null?n:`${n}`,gn=n=>n==null?n:+n,Es=n=>n?n[0]:void 0,cg=n=>n?n[1]:void 0,et=n=>()=>n;function ug(n){const e=+`${n}`.slice(1)/100;return(t,r)=>wr(t,e,r)}function Vo(n){return n instanceof kt?n:mn(n,yf,Float64Array)}function yf(n){return n==null?NaN:Number(n)}function lg(n){return mn(n,sg)}function sg(n){return n instanceof Date&&!isNaN(n)?n:typeof n=="string"?Cs(n):n==null||isNaN(n=+n)?void 0:new Date(n)}function De(n,e){return n===void 0&&(n=e),n===null?[void 0,"none"]:si(n)?[void 0,n]:[n,void 0]}function Mn(n,e){return n===void 0&&(n=e),n===null||typeof n=="number"?[void 0,n]:[n,void 0]}function ci(n,e,t){if(n!=null)return le(n,e,t)}function le(n,e,t){const r=`${n}`.toLowerCase();if(!t.includes(r))throw new Error(`invalid ${e}: ${n}`);return r}function jn(n){return n==null||n instanceof Array||n instanceof kt?n:Array.from(n)}function mn(n,e,t=Array){return n==null?n:n instanceof t?n.map(e):t.from(n,e)}function Ua(n,e=Array){return n instanceof e?n.slice():e.from(n)}function dg({x:n,x1:e,x2:t}){return n!==void 0||e!==void 0||t!==void 0}function hg({y:n,y1:e,y2:t}){return n!==void 0||e!==void 0||t!==void 0}function o6(n){return dg(n)||hg(n)||n.interval!==void 0}function zt(n){return(n==null?void 0:n.toString)===rg}function Wr(n){return zt(n)&&(n.type!==void 0||n.domain!==void 0)}function ui(n){return zt(n)&&typeof n.transform!="function"}function Xe(n){return ui(n)&&n.value===void 0&&n.channel===void 0}function c6(n,e,t,r=Zn){return e===void 0&&t===void 0?(e=0,t=n===void 0?r:n):e===void 0?e=n===void 0?0:n:t===void 0&&(t=n===void 0?0:n),[e,t]}function wf(n,e){return n===void 0&&e===void 0?[Es,cg]:[n,e]}function u6({z:n,fill:e,stroke:t}={}){return n===void 0&&([n]=De(e)),n===void 0&&([n]=De(t)),n}function Bt(n){const e=n.length,t=new Uint32Array(e);for(let r=0;r<e;++r)t[r]=r;return t}function Ds(n,e){return mn(e,t=>n[t])}function xe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function pg(n){let e;return[{transform:()=>e,label:Ht(n)},t=>e=t]}function l6(n){return n==null?[n]:pg(n)}function Ht(n,e){return typeof n=="string"?n:n&&n.label!==void 0?n.label:e}function s6(n,e){return{transform(t){const r=n.transform(t),i=e.transform(t);return Wn(r)||Wn(i)?mn(r,(a,f)=>new Date((+r[f]+ +i[f])/2)):mn(r,(a,f)=>(+r[f]+ +i[f])/2,Float64Array)},label:n.label}}function d6(n,e){const t=Ns(e==null?void 0:e.interval,e==null?void 0:e.type);return t?mn(n,t):n}function Ns(n,e){const t=vf(n,e);return t&&(r=>ge(r)?t.floor(r):r)}function vf(n,e){if(n!=null){if(typeof n=="number"){0<n&&n<1&&Number.isInteger(1/n)&&(n=-1/n);const t=Math.abs(n);return n<0?{floor:r=>Math.floor(r*t)/t,offset:r=>(r*t+1)/t,range:(r,i)=>fa(Math.ceil(r*t),i*t).map(a=>a/t)}:{floor:r=>Math.floor(r/t)*t,offset:r=>r+t,range:(r,i)=>fa(Math.ceil(r/t),i/t).map(a=>a*t)}}if(typeof n=="string")return(e==="time"?Jp:ng)(n);if(typeof n.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof n.offset!="function")throw new Error("invalid interval; missing offset method");return n}}function Vt(n,e){if(n=vf(n,e),n&&typeof n.range!="function")throw new Error("invalid interval: missing range method");return n}function gg(n,e){if(n=Vt(n,e),n&&typeof n.ceil!="function")throw new Error("invalid interval: missing ceil method");return n}function li(n){return n===void 0||ui(n)?n:{value:n}}function mg(n){return n==null?null:{transform:e=>me(e,n,Float64Array),label:Ht(n)}}function ye(n){return n&&typeof n[Symbol.iterator]=="function"}function Ls(n){for(const e of n)if(e!=null)return typeof e!="object"||e instanceof Date}function jo(n){for(const e of n){if(e==null)continue;const t=typeof e;return t==="string"||t==="boolean"}}function Wn(n){for(const e of n)if(e!=null)return e instanceof Date}function bg(n){for(const e of n)if(e!=null)return typeof e=="string"&&isNaN(e)&&Cs(e)}function yg(n){for(const e of n)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function wg(n){for(const e of n)if(e!=null)return typeof e=="number"}function qi(n,e){let t;for(const r of n)if(r!=null){if(!e(r))return!1;t=!0}return t}function si(n){return typeof n!="string"?!1:(n=n.toLowerCase().trim(),n==="none"||n==="currentcolor"||n.startsWith("url(")&&n.endsWith(")")||n.startsWith("var(")&&n.endsWith(")")||na(n)!==null)}function vg(n){return typeof n=="number"&&(0<=n&&n<=1||isNaN(n))}function $n(n){return n==null||Rt(n)}function Rt(n){return/^\s*none\s*$/i.test(n)}function Mg(n){return/^\s*round\s*$/i.test(n)}function Is(n,e){return ci(n,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function di(n="middle"){return Is(n,"frameAnchor")}function Ut(n){if(n==null)return;const e=n[0],t=n[n.length-1];return _t(e,t)}function $g(n={},...e){let t=n;for(const r of e)for(const i in r)if(t[i]===void 0){const a=r[i];t===n?t={...t,[i]:a}:t[i]=a}return t}function xg(n){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(n,t=>{const{name:r}=t;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,t]}))}function ks(n){return ye(n)?xg(n):n}const Bn=Symbol("position"),se=Symbol("color"),hi=Symbol("radius"),pi=Symbol("length"),gi=Symbol("opacity"),mi=Symbol("symbol"),on=new Map([["x",Bn],["y",Bn],["fx",Bn],["fy",Bn],["r",hi],["color",se],["opacity",gi],["symbol",mi],["length",pi]]),Tg=Math.sqrt(3),Sg=2/Tg,Cg={draw(n,e){const t=Math.sqrt(e/Math.PI),r=t*Sg,i=r/2;n.moveTo(0,r),n.lineTo(t,i),n.lineTo(t,-i),n.lineTo(0,-r),n.lineTo(-t,-i),n.lineTo(-t,i),n.closePath()}},Mf=new Map([["asterisk",ss],["circle",It],["cross",ds],["diamond",ps],["diamond2",gs],["hexagon",Cg],["plus",ms],["square",bs],["square2",ys],["star",vs],["times",Ts],["triangle",Ms],["triangle2",$s],["wye",xs]]);function $f(n){return n&&typeof n.draw=="function"}function Ag(n){return $f(n)?!0:typeof n!="string"?!1:Mf.has(n.toLowerCase())}function xf(n){if(n==null||$f(n))return n;const e=Mf.get(`${n}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${n}`)}function Eg(n){if(n==null||$f(n))return[void 0,n];if(typeof n=="string"){const e=Mf.get(`${n}`.toLowerCase());if(e)return[void 0,e]}return[n,void 0]}function Rs({filter:n,sort:e,reverse:t,transform:r,initializer:i,...a}={},f){if(r===void 0&&(n!=null&&(r=Us(n)),e!=null&&!Xe(e)&&(r=Wi(r,Tf(e))),t&&(r=Wi(r,Fs))),f!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||Xe(e))&&{sort:e},transform:Wi(r,f)}}function jt({filter:n,sort:e,reverse:t,initializer:r,...i}={},a){return r===void 0&&(n!=null&&(r=Us(n)),e!=null&&!Xe(e)&&(r=Yi(r,Tf(e))),t&&(r=Yi(r,Fs))),{...i,...(e===null||Xe(e))&&{sort:e},initializer:Yi(r,a)}}function Wi(n,e){return n==null?e===null?void 0:e:e==null?n===null?void 0:n:function(t,r,i){return{data:t,facets:r}=n.call(this,t,r,i),e.call(this,jn(t),r,i)}}function Yi(n,e){return n==null?e===null?void 0:e:e==null?n===null?void 0:n:function(t,r,i,...a){let f,o,l,u,c,d;return{data:o=t,facets:l=r,channels:f}=n.call(this,t,r,i,...a),{data:c=o,facets:d=l,channels:u}=e.call(this,o,l,{...i,...f},...a),{data:c,facets:d,channels:{...f,...u}}}}function Dg(n,e){return(n.initializer!=null?jt:Rs)(n,e)}function Us(n){return(e,t)=>{const r=me(e,n);return{data:e,facets:t.map(i=>i.filter(a=>r[a]))}}}function Fs(n,e){return{data:n,facets:e.map(t=>t.slice().reverse())}}function Ng(n,{sort:e,...t}={}){return{...(ui(n)&&n.channel!==void 0?jt:Dg)(t,Tf(n)),sort:Xe(e)?e:null}}function Tf(n){return(typeof n=="function"&&n.length!==1?Lg:Ig)(n)}function Lg(n){return(e,t)=>{const r=(i,a)=>n(e[i],e[a]);return{data:e,facets:t.map(i=>i.slice().sort(r))}}}function Ig(n){let e,t;({channel:e,value:n,order:t}={...li(n)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),t===void 0&&(t=r?Ra:Ze),typeof t!="function")switch(`${t}`.toLowerCase()){case"ascending":t=Ze;break;case"descending":t=Ra;break;default:throw new Error(`invalid order: ${t}`)}return(i,a,f)=>{let o;if(e===void 0)o=me(i,n);else{if(f===void 0)throw new Error("channel sort requires an initializer");if(o=f[e],!o)return{};o=o.value}const l=(u,c)=>t(o[u],o[c]);return{data:i,facets:a.map(u=>u.slice().sort(l))}}}function kg(n,e,t=Rg){if(n==null)return t(n);if(typeof n.reduceIndex=="function")return n;if(typeof n.reduce=="function"&&zt(n))return Ug(n);if(typeof n=="function")return Fg(n);if(/^p\d{2}$/i.test(n))return ne(ug(n));switch(`${n}`.toLowerCase()){case"first":return _g;case"last":return Og;case"identity":return Pg;case"count":return Zo;case"distinct":return qg;case"sum":return e==null?Zo:Wg;case"proportion":return Xo(e,"data");case"proportion-facet":return Xo(e,"facet");case"deviation":return ne(m0);case"min":return ne(St);case"min-index":return ne(S0);case"max":return ne(oe);case"max-index":return ne(T0);case"mean":return Go(A0);case"median":return Go(aa);case"variance":return ne(Ac);case"mode":return ne(D0)}return t(n)}function Rg(n){throw new Error(`invalid reduce: ${n}`)}function Ug(n){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...n,reduceIndex:n.reduce.bind(n)}}function Fg(n){return{reduceIndex(e,t,r){return n(Ds(t,e),r)}}}function ne(n){return{reduceIndex(e,t){return n(e,r=>t[r])}}}function Go(n){return{reduceIndex(e,t){const r=n(e,i=>t[i]);return Wn(t)?new Date(r):r}}}const Pg={reduceIndex(n,e){return Ds(e,n)}},_g={reduceIndex(n,e){return e[n[0]]}},Og={reduceIndex(n,e){return e[n[n.length-1]]}},Zo={label:"Frequency",reduceIndex(n){return n.length}},qg={label:"Distinct",reduceIndex(n,e){const t=new Za;for(const r of n)t.add(e[r]);return t.size}},Wg=ne(Qa);function Xo(n,e){return n==null?{scope:e,label:"Frequency",reduceIndex:(t,r,i=1)=>t.length/i}:{scope:e,reduceIndex:(t,r,i=1)=>Qa(t,a=>r[a])/i}}function Ft(n,{scale:e,type:t,value:r,filter:i,hint:a},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),Ps(f,{scale:e,type:t,value:me(n,r),label:Ht(r),filter:i,hint:a})}function Yg(n,e){return Object.fromEntries(Object.entries(n).map(([t,r])=>[t,Ft(e,r,t)]))}function zg(n,e){const t=Object.fromEntries(Object.entries(n).map(([r,{scale:i,value:a}])=>{const f=i==null?null:e[i];return[r,f==null?a:mn(a,f)]}));return t.channels=n,t}function Ps(n,e){const{scale:t,value:r}=e;if(t===!0||t==="auto")switch(n){case"fill":case"stroke":case"color":e.scale=t!==!0&&qi(r,si)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=t!==!0&&qi(r,vg)?null:"opacity";break;case"symbol":t!==!0&&qi(r,Ag)?(e.scale=null,e.value=mn(r,xf)):e.scale="symbol";break;default:e.scale=on.has(n)?n:null;break}else if(t===!1)e.scale=null;else if(t!=null&&!on.has(t))throw new Error(`unknown scale: ${t}`);return e}function Bg(n,e,t,r,i){const{order:a,reverse:f,reduce:o=!0,limit:l}=i;for(const u in i){if(!on.has(u))continue;let{value:c,order:d=a,reverse:s=f,reduce:h=o,limit:p=l}=li(i[u]);const g=c==null?void 0:c.startsWith("-");if(g&&(c=c.slice(1)),d=d===void 0?g!==(c==="width"||c==="height")?Os:_s:jg(d),h==null||h===!1)continue;const m=u==="fx"||u==="fy"?Vg(e,r[u]):Hg(t,u);if(!m)throw new Error(`missing channel for scale: ${u}`);const v=m.value,[b=0,$=1/0]=ye(p)?p:p<0?[p]:[0,p];if(c==null)m.domain=()=>{let y=Array.from(new Za(v));return s&&(y=y.reverse()),(b!==0||$!==1/0)&&(y=y.slice(b,$)),y};else{const y=c==="data"?n:c==="height"?Qo(t,"y1","y2"):c==="width"?Qo(t,"x1","x2"):Fa(t,c,c==="y"?"y2":c==="x"?"x2":void 0),M=kg(h===!0?"max":h,y);m.domain=()=>{let w=y0(Bt(v),x=>M.reduceIndex(x,y),x=>v[x]);return d&&w.sort(d),s&&w.reverse(),(b!==0||$!==1/0)&&(w=w.slice(b,$)),w.map(Es)}}}}function Hg(n,e){for(const t in n){const r=n[t];if(r.scale===e)return r}}function Vg(n,e){const t=n.original;if(t===n)return e;const r=e.value,i=e.value=[];for(let a=0;a<t.length;++a){const f=r[t[a][0]];for(const o of n[a])i[o]=f}return e}function Qo(n,e,t){const r=Fa(n,e),i=Fa(n,t);return mn(i,(a,f)=>Math.abs(a-r[f]),Float64Array)}function Fa(n,e,t){let r=n[e];if(!r&&t!==void 0&&(r=n[t]),r)return r.value;throw new Error(`missing channel: ${e}`)}function jg(n){if(n==null||typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"ascending":return _s;case"descending":return Os}throw new Error(`invalid order: ${n}`)}function _s([n,e],[t,r]){return Ze(e,r)||Ze(n,t)}function Os([n,e],[t,r]){return Ra(e,r)||Ze(n,t)}function Gg(n,e){let t=n[e];if(t){for(;t.source;)t=t.source;return t.source===null?null:t}}function Sf(n={}){const{document:e=typeof window<"u"?window.document:void 0}=n;return{document:e}}function Sn(n,{document:e}){return yt(Sc(n).call(e.documentElement))}let Pa=0;function Zg(){const n=Pa;return Pa=0,n}function We(n){console.warn(n),++Pa}const qs=Math.PI,Qn=2*qs,zi=.618;function Xg({projection:n,inset:e=0,insetTop:t=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},f){if(n==null)return;if(typeof n.stream=="function")return n;let o,l,u="frame";if(zt(n)){let M;if({type:n,domain:l,inset:M,insetTop:t=M!==void 0?M:t,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:a=M!==void 0?M:a,clip:u=u,...o}=n,n==null)return}typeof n!="function"&&({type:n}=Ws(n));const{width:c,height:d,marginLeft:s,marginRight:h,marginTop:p,marginBottom:g}=f,m=c-s-h-a-r,v=d-p-g-t-i;if(n=n==null?void 0:n({width:m,height:v,clip:u,...o}),n==null)return;u=Qg(u,s,p,c-h,d-g);let b=s+a,$=p+t,y;if(l!=null){const[[M,w],[x,A]]=hu(n).bounds(l),N=Math.min(m/(x-M),v/(A-w));N>0?(b-=(N*(M+x)-m)/2,$-=(N*(w+A)-v)/2,y=Ca({point(k,S){this.stream.point(k*N+b,S*N+$)}})):We("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&$===0?Ys():Ca({point(M,w){this.stream.point(M+b,w+$)}})),{stream:M=>n.stream(y.stream(u(M)))}}function Ws(n){switch(`${n}`.toLowerCase()){case"albers-usa":return Fn(Bh,.7463,.4673);case"albers":return fr(yu,.7463,.4673);case"azimuthal-equal-area":return Fn(Hh,4,4);case"azimuthal-equidistant":return Fn(Vh,Qn,Qn);case"conic-conformal":return fr(Zh,Qn,Qn);case"conic-equal-area":return fr(kr,6.1702,2.9781);case"conic-equidistant":return fr(Kh,7.312,3.6282);case"equal-earth":return Fn(n1,5.4133,2.6347);case"equirectangular":return Fn(Xh,Qn,qs);case"gnomonic":return Fn(e1,3.4641,3.4641);case"identity":return{type:Ys};case"reflect-y":return{type:Kg};case"mercator":return Fn(jh,Qn,Qn);case"orthographic":return Fn(t1,2,2);case"stereographic":return Fn(r1,2,2);case"transverse-mercator":return Fn(i1,Qn,Qn);default:throw new Error(`unknown projection type: ${n}`)}}function Qg(n,e,t,r,i){if(n===!1||n==null||typeof n=="number")return a=>a;switch(n===!0&&(n="frame"),`${n}`.toLowerCase()){case"frame":return eu(e,t,r,i);default:throw new Error(`unknown projection clip type: ${n}`)}}function Fn(n,e,t){return{type:({width:r,height:i,rotate:a,precision:f=.15,clip:o})=>{var u,c,d;const l=n();return f!=null&&((u=l.precision)==null||u.call(l,f)),a!=null&&((c=l.rotate)==null||c.call(l,a)),typeof o=="number"&&((d=l.clipAngle)==null||d.call(l,o)),l.scale(Math.min(r/e,i/t)),l.translate([r/2,i/2]),l},aspectRatio:t/e}}function fr(n,e,t){const{type:r,aspectRatio:i}=Fn(n,e,t);return{type:a=>{const{parallels:f,domain:o,width:l,height:u}=a,c=r(a);return f!=null&&(c.parallels(f),o===void 0&&c.fitSize([l,u],{type:"Sphere"})),c},aspectRatio:i}}const Ys=et({stream:n=>n}),Kg=et(Ca({point(n,e){this.stream.point(n,-e)}}));function Jg(n,e,t,r){const i=t[n],a=t[e],f=i.length,o=t[n]=new Float64Array(f).fill(NaN),l=t[e]=new Float64Array(f).fill(NaN);let u;const c=r.stream({point(d,s){o[u]=d,l[u]=s}});for(u=0;u<f;++u)c.point(i[u],a[u])}function nm(n,e){if(typeof(n==null?void 0:n.stream)=="function")return zi;if(zt(n)&&(n=n.type),n==null)return em(e)?zi:void 0;if(typeof n!="function"){const{aspectRatio:t}=Ws(n);if(t)return t}return zi}function em(n){for(const e of n)if(e.channels.geometry)return!0;return!1}const zs=new Map([["accent",Ep],["category10",Ap],["dark2",Dp],["paired",Np],["pastel1",Lp],["pastel2",Ip],["set1",kp],["set2",Rp],["set3",Up],["tableau10",Fp]]);function tm(n){return n!=null&&zs.has(`${n}`.toLowerCase())}const Ko=new Map([...zs,["brbg",Kn(rl,il)],["prgn",Kn(al,fl)],["piyg",Kn(ol,cl)],["puor",Kn(ul,ll)],["rdbu",Kn(La,Pr)],["rdgy",Kn(sl,dl)],["rdylbu",Kn(Ia,_r)],["rdylgn",Kn(hl,pl)],["spectral",Kn(gl,ml)],["burd",Jo(La,Pr)],["buylrd",Jo(Ia,_r)],["blues",pn(Wl,Yl)],["greens",pn(zl,Bl)],["greys",pn(Hl,Vl)],["oranges",pn(Ql,Kl)],["purples",pn(jl,Gl)],["reds",pn(Zl,Xl)],["turbo",Jn(as)],["viridis",Jn(fs)],["magma",Jn(os)],["inferno",Jn(cs)],["plasma",Jn(us)],["cividis",Jn(Jl)],["cubehelix",Jn(ns)],["warm",Jn(es)],["cool",Jn(ts)],["bugn",pn(bl,yl)],["bupu",pn(wl,vl)],["gnbu",pn(Ml,$l)],["orrd",pn(xl,Tl)],["pubu",pn(Al,El)],["pubugn",pn(Sl,Cl)],["purd",pn(Dl,Nl)],["rdpu",pn(Ll,Il)],["ylgn",pn(Ul,Fl)],["ylgnbu",pn(kl,Rl)],["ylorbr",pn(Pl,_l)],["ylorrd",pn(Ol,ql)],["rainbow",nc(rs)],["sinebow",nc(is)]]);function pn(n,e){return({length:t})=>t===1?[n[3][1]]:t===2?[n[3][1],n[3][2]]:(t=Math.max(3,Math.floor(t)),t>9?_n(e,t):n[t])}function Kn(n,e){return({length:t})=>t===2?[n[3][0],n[3][2]]:(t=Math.max(3,Math.floor(t)),t>11?_n(e,t):n[t])}function Jo(n,e){return({length:t})=>t===2?[n[3][2],n[3][0]]:(t=Math.max(3,Math.floor(t)),t>11?_n(r=>e(1-r),t):n[t].slice().reverse())}function Jn(n){return({length:e})=>_n(n,Math.max(2,Math.floor(e)))}function nc(n){return({length:e})=>_n(n,Math.floor(e)+1).slice(0,-1)}function Bs(n){const e=`${n}`.toLowerCase();if(!Ko.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Ko.get(e)}function bi(n,e){const t=Bs(n),r=typeof t=="function"?t({length:e}):t;return r.length!==e?r.slice(0,e):r}function rm(n,e="greys"){const t=new Set,[r,i]=bi(e,2);for(const a of n)if(a!=null)if(a===!0)t.add(i);else if(a===!1)t.add(r);else return;return[...t]}const ec=new Map([["brbg",il],["prgn",fl],["piyg",cl],["puor",ll],["rdbu",Pr],["rdgy",dl],["rdylbu",_r],["rdylgn",pl],["spectral",ml],["burd",n=>Pr(1-n)],["buylrd",n=>_r(1-n)],["blues",Yl],["greens",Bl],["greys",Vl],["purples",Gl],["reds",Xl],["oranges",Kl],["turbo",as],["viridis",fs],["magma",os],["inferno",cs],["plasma",us],["cividis",Jl],["cubehelix",ns],["warm",es],["cool",ts],["bugn",yl],["bupu",vl],["gnbu",$l],["orrd",Tl],["pubugn",Cl],["pubu",El],["purd",Nl],["rdpu",Il],["ylgnbu",Rl],["ylgn",Fl],["ylorbr",_l],["ylorrd",ql],["rainbow",rs],["sinebow",is]]);function Cf(n){const e=`${n}`.toLowerCase();if(!ec.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return ec.get(e)}const im=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function am(n){return n!=null&&im.has(`${n}`.toLowerCase())}const Hs=n=>e=>n(1-e),Bi=[0,1],tc=new Map([["number",pe],["rgb",xt],["hsl",Z0],["hcl",K0],["lab",X0]]);function Vs(n){const e=`${n}`.toLowerCase();if(!tc.has(e))throw new Error(`unknown interpolator: ${e}`);return tc.get(e)}function Gt(n,e,t,{type:r,nice:i,clamp:a,zero:f,domain:o=Gs(n,t),unknown:l,round:u,scheme:c,interval:d,range:s=on.get(n)===hi?mm(t,o):on.get(n)===pi?bm(t,o):on.get(n)===gi?Bi:void 0,interpolate:h=on.get(n)===se?c==null&&s!==void 0?xt:Cf(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?nf:pe,reverse:p}){if(d=Vt(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),p=!!p,typeof h!="function"&&(h=Vs(h)),h.length===1?(p&&(h=Hs(h),p=!1),s===void 0&&(s=Float64Array.from(o,(g,m)=>m/(o.length-1)),s.length===2&&(s=Bi)),e.interpolate((s===Bi?et:Ef)(h))):e.interpolate(h),f){const[g,m]=ze(o);(g>0||m<0)&&(o=Ua(o),Ut(o)!==Math.sign(g)?o[o.length-1]=0:o[0]=0)}return p&&(o=vr(o)),e.domain(o).unknown(l),i&&(e.nice(fm(i,r)),o=e.domain()),s!==void 0&&e.range(s),a&&e.clamp(a),{type:r,domain:o,range:s,scale:e,interpolate:h,interval:d}}function fm(n,e){return n===!0?void 0:typeof n=="number"?n:gg(n,e)}function om(n,e,t){return Gt(n,lf(),e,t)}function cm(n,e,t){return js(n,e,{...t,exponent:.5})}function js(n,e,{exponent:t=1,...r}){return Gt(n,Pu().exponent(t),e,{...r,type:"pow"})}function um(n,e,{base:t=10,domain:r=ym(e),...i}){return Gt(n,ku().base(t),e,{...i,domain:r})}function lm(n,e,{constant:t=1,...r}){return Gt(n,Uu().constant(t),e,r)}function sm(n,e,{range:t,quantiles:r=t===void 0?5:(t=[...t]).length,n:i=r,scheme:a="rdylbu",domain:f=wm(e),unknown:o,interpolate:l,reverse:u}){return t===void 0&&(t=l!==void 0?_n(l,i):on.get(n)===se?bi(a,i):void 0),f.length>0&&(f=_u(f,t===void 0?{length:i}:t).quantiles()),Af(n,e,{domain:f,range:t,reverse:u,unknown:o})}function dm(n,e,{range:t,n:r=t===void 0?5:(t=[...t]).length,scheme:i="rdylbu",domain:a=Gs(n,e),unknown:f,interpolate:o,reverse:l}){const[u,c]=ze(a);let d;return t===void 0?(d=yr(u,c,r),d[0]<=u&&d.splice(0,1),d[d.length-1]>=c&&d.pop(),r=d.length+1,t=o!==void 0?_n(o,r):on.get(n)===se?bi(i,r):void 0):(d=_n(pe(u,c),r+1).slice(1,-1),u instanceof Date&&(d=d.map(s=>new Date(s)))),Ut(jn(a))<0&&d.reverse(),Af(n,e,{domain:d,range:t,reverse:l,unknown:f})}function Af(n,e,{domain:t=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:f=a!==void 0?_n(a,t.length+1):on.get(n)===se?bi(i,t.length+1):void 0,reverse:o}){t=jn(t);const l=Ut(t);if(!isNaN(l)&&!hm(t,l))throw new Error(`the ${n} scale has a non-monotonic domain`);return o&&(f=vr(f)),{type:"threshold",scale:Ou(l<0?vr(t):t,f===void 0?[]:f).unknown(r),domain:t,range:f}}function hm(n,e){for(let t=1,r=n.length,i=n[0];t<r;++t){const a=_t(i,i=n[t]);if(a!==0&&a!==e)return!1}return!0}function pm(){return{type:"identity",scale:Nu()}}function Pt(n,e=Ss){return n.length?[St(n,({value:t})=>t===void 0?t:St(t,e)),oe(n,({value:t})=>t===void 0?t:oe(t,e))]:[0,1]}function Gs(n,e){const t=on.get(n);return(t===hi||t===gi||t===pi?gm:Pt)(e)}function gm(n){return[0,n.length?oe(n,({value:e})=>e===void 0?e:oe(e,Ss)):1]}function mm(n,e){const t=n.find(({radius:f})=>f!==void 0);if(t!==void 0)return[0,t.radius];const r=wr(n,.5,({value:f})=>f===void 0?NaN:wr(f,.25,oi)),i=e.map(f=>3*Math.sqrt(f/r)),a=30/oe(i);return a<1?i.map(f=>f*a):i}function bm(n,e){const t=aa(n,({value:a})=>a===void 0?NaN:aa(a,Math.abs)),r=e.map(a=>12*a/t),i=60/oe(r);return i<1?r.map(a=>a*i):r}function ym(n){for(const{value:e}of n)if(e!==void 0)for(let t of e){if(t>0)return Pt(n,oi);if(t<0)return Pt(n,bf)}return[1,10]}function wm(n){const e=[];for(const{value:t}of n)if(t!==void 0)for(const r of t)e.push(r);return e}function Ef(n){return(e,t)=>r=>n(e+r*(t-e))}function yi(n,e,t,r,{type:i,nice:a,clamp:f,domain:o=Pt(r),unknown:l,pivot:u=0,scheme:c,range:d,symmetric:s=!0,interpolate:h=on.get(n)===se?c==null&&d!==void 0?xt:Cf(c!==void 0?c:"rdbu"):pe,reverse:p}){u=+u;let[g,m]=o;if(_t(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,u),m=Math.max(m,u),typeof h!="function"&&(h=Vs(h)),d!==void 0&&(h=h.length===1?Ef(h)(...d):tf(h,d)),p&&(h=Hs(h)),s){const v=t.apply(u),b=v-t.apply(g),$=t.apply(m)-v;b<$?g=t.invert(v-$):b>$&&(m=t.invert(v+b))}return e.domain([g,u,m]).unknown(l).interpolator(h),f&&e.clamp(f),a&&e.nice(a),{type:i,domain:[g,m],pivot:u,interpolate:h,scale:e}}function vm(n,e,t){return yi(n,Ju(),Tm,e,t)}function Mm(n,e,t){return Zs(n,e,{...t,exponent:.5})}function Zs(n,e,{exponent:t=1,...r}){return yi(n,tl().exponent(t=+t),Am(t),e,{...r,type:"diverging-pow"})}function $m(n,e,{base:t=10,pivot:r=1,domain:i=Pt(e,r<0?bf:oi),...a}){return yi(n,nl().base(t=+t),Sm,e,{domain:i,pivot:r,...a})}function xm(n,e,{constant:t=1,...r}){return yi(n,el().constant(t=+t),Em(t),e,r)}const Tm={apply(n){return n},invert(n){return n}},Sm={apply:Math.log,invert:Math.exp},Cm={apply(n){return Math.sign(n)*Math.sqrt(Math.abs(n))},invert(n){return Math.sign(n)*(n*n)}};function Am(n){return n===.5?Cm:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),n)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/n)}}}function Em(n){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}}function Xs(n,e,t,r){return Gt(n,e,t,r)}function Dm(n,e,t){return Xs(n,Sp(),e,t)}function Nm(n,e,t){return Xs(n,Cp(),e,t)}const Zt=Symbol("ordinal");function Qs(n,e,t,{type:r,interval:i,domain:a,range:f,reverse:o,hint:l}){return i=Vt(i,r),a===void 0&&(a=Js(t,i,n)),(r==="categorical"||r===Zt)&&(r="ordinal"),o&&(a=vr(a)),e.domain(a),f!==void 0&&(typeof f=="function"&&(f=f(a)),e.range(f)),{type:r,domain:a,range:f,scale:e,hint:l,interval:i}}function Lm(n,e,{type:t,interval:r,domain:i,range:a,scheme:f,unknown:o,...l}){r=Vt(r,t),i===void 0&&(i=Js(e,r,n));let u;if(on.get(n)===mi)u=Rm(e),a=a===void 0?Um(u):mn(a,xf);else if(on.get(n)===se&&(a===void 0&&(t==="ordinal"||t===Zt)&&(a=rm(i,f),a!==void 0&&(f=void 0)),f===void 0&&a===void 0&&(f=t==="ordinal"?"turbo":"tableau10"),f!==void 0))if(a!==void 0){const c=Cf(f),d=a[0],s=a[1]-a[0];a=({length:h})=>_n(p=>c(d+s*p),h)}else a=Bs(f);if(o===Ea)throw new Error(`implicit unknown on ${n} scale is not supported`);return Qs(n,uf().unknown(o),e,{...l,type:t,domain:i,range:a,hint:u})}function Im(n,e,{align:t=.5,padding:r=.5,...i}){return Ks(a1().align(t).padding(r),e,i,n)}function km(n,e,{align:t=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=n==="fx"||n==="fy"?0:r,...f}){return Ks(Gr().align(t).paddingInner(i).paddingOuter(a),e,f,n)}function Ks(n,e,t,r){let{round:i}=t;return i!==void 0&&n.round(i=!!i),n=Qs(r,n,e,t),n.round=i,n}function Js(n,e,t){const r=new Za;for(const{value:i,domain:a}of n){if(a!==void 0)return a();if(i!==void 0)for(const f of i)r.add(f)}if(e!==void 0){const[i,a]=ze(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&on.get(t)===Bn)throw new Error(`implicit ordinal domain of ${t} scale has more than 10,000 values`);return v0(r,Ze)}function rc(n,e){let t;for(const{hint:r}of n){const i=r==null?void 0:r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}function Rm(n){return{fill:rc(n,"fill"),stroke:rc(n,"stroke")}}function Um(n){return $n(n.fill)?jp:Vp}function _a(n,{label:e,inset:t=0,insetTop:r=t,insetRight:i=t,insetBottom:a=t,insetLeft:f=t,round:o,nice:l,clamp:u,zero:c,align:d,padding:s,projection:h,facet:{label:p=e}={},...g}={}){const m={};for(const[v,b]of n){const $=g[v],y=rd(v,b,{round:on.get(v)===Bn?o:void 0,nice:l,clamp:u,zero:c,align:d,padding:s,projection:h,...$});if(y){let{label:M=v==="fx"||v==="fy"?p:e,percent:w,transform:x,inset:A,insetTop:N=A!==void 0?A:v==="y"?r:0,insetRight:k=A!==void 0?A:v==="x"?i:0,insetBottom:S=A!==void 0?A:v==="y"?a:0,insetLeft:U=A!==void 0?A:v==="x"?f:0}=$||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");y.percent=!!w,y.label=M===void 0?Pm(b,y):M,y.transform=x,v==="x"||v==="fx"?(y.insetLeft=+U,y.insetRight=+k):(v==="y"||v==="fy")&&(y.insetTop=+N,y.insetBottom=+S),m[v]=y}}return m}function ic(n){return Object.fromEntries(Object.entries(n).filter(([,{scale:e}])=>e).map(([e,{scale:t,type:r,interval:i,label:a}])=>(t.type=r,i!=null&&(t.interval=i),a!=null&&(t.label=a),[e,t])))}function Fm(n,e){const{x:t,y:r,fx:i,fy:a}=n,f=i||a?Df(e):e;i&&ac(i,f),a&&fc(a,f);const o=i||a?nd(n,e):e;t&&ac(t,o),r&&fc(r,o)}function Pm(n=[],e){let t;for(const{label:r}of n)if(r!==void 0){if(t===void 0)t=r;else if(t!==r)return}if(t!==void 0)return!Ie(e)&&e.percent&&(t=`${t} (%)`),{inferred:!0,toString:()=>t}}function Df(n){const{marginTop:e,marginRight:t,marginBottom:r,marginLeft:i,width:a,height:f,facet:{marginTop:o,marginRight:l,marginBottom:u,marginLeft:c}}=n;return{marginTop:Math.max(e,o),marginRight:Math.max(t,l),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:a,height:f}}function nd({fx:n,fy:e},t){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:o,height:l}=Df(t);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:n?n.scale.bandwidth()+f+i:o,height:e?e.scale.bandwidth()+r+a:l,facet:{width:o,height:l}}}function ac(n,e){if(n.range===void 0){const{insetLeft:t,insetRight:r}=n,{width:i,marginLeft:a=0,marginRight:f=0}=e,o=a+t,l=i-f-r;n.range=[o,Math.max(o,l)],Ie(n)||(n.range=td(n)),n.scale.range(n.range)}ed(n)}function fc(n,e){if(n.range===void 0){const{insetTop:t,insetBottom:r}=n,{height:i,marginTop:a=0,marginBottom:f=0}=e,o=a+t,l=i-f-r;n.range=[Math.max(o,l),o],Ie(n)?n.range.reverse():n.range=td(n),n.scale.range(n.range)}ed(n)}function ed(n){n.round===void 0&&Wm(n)&&_m(n)<=30&&n.scale.round(!0)}function _m({scale:n}){const e=n.domain().length,[t,r]=n.range(),i=n.paddingInner?n.paddingInner():1,a=n.paddingOuter?n.paddingOuter():n.padding(),f=e-i,o=Math.abs(r-t)/Math.max(1,f+a*2);return(o-Math.floor(o))*f}function td(n){const e=n.scale.domain().length+ad(n);if(!(e>2))return n.range;const[t,r]=n.range;return Array.from({length:e},(i,a)=>t+a/(e-1)*(r-t))}function Om(n,e,t){return rd(n,t===void 0?void 0:[{hint:t}],{...e})}function rd(n,e=[],t={}){const r=qm(n,e,t);if(t.type===void 0&&t.domain===void 0&&t.range===void 0&&t.interval==null&&n!=="fx"&&n!=="fy"&&Ie({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Wn)?We(`Warning: some data associated with the ${n} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Pe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${n} scale to "${Pe(r)}".`):i.some(bg)?We(`Warning: some data associated with the ${n} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Pe(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${n} scale to "${Pe(r)}".`):i.some(yg)&&We(`Warning: some data associated with the ${n} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Pe(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${n} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${n} scale to "${Pe(r)}".`)}switch(t.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":t=or(e,t,Vo);break;case"identity":switch(on.get(n)){case Bn:t=or(e,t,Vo);break;case mi:t=or(e,t,Ym);break}break;case"utc":case"time":t=or(e,t,lg);break}switch(r){case"diverging":return vm(n,e,t);case"diverging-sqrt":return Mm(n,e,t);case"diverging-pow":return Zs(n,e,t);case"diverging-log":return $m(n,e,t);case"diverging-symlog":return xm(n,e,t);case"categorical":case"ordinal":case Zt:return Lm(n,e,t);case"cyclical":case"sequential":case"linear":return om(n,e,t);case"sqrt":return cm(n,e,t);case"threshold":return Af(n,e,t);case"quantile":return sm(n,e,t);case"quantize":return dm(n,e,t);case"pow":return js(n,e,t);case"log":return um(n,e,t);case"symlog":return lm(n,e,t);case"utc":return Nm(n,e,t);case"time":return Dm(n,e,t);case"point":return Im(n,e,t);case"band":return km(n,e,t);case"identity":return on.get(n)===Bn?pm():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Pe(n){return typeof n=="symbol"?n.description:n}const oc={toString:()=>"projection"};function qm(n,e,{type:t,domain:r,range:i,scheme:a,pivot:f,projection:o}){if(n==="fx"||n==="fy")return"band";(n==="x"||n==="y")&&o!=null&&(t=oc);for(const{type:u}of e)if(u!==void 0){if(t===void 0)t=u;else if(t!==u)throw new Error(`scale incompatible with channel: ${t} !== ${u}`)}if(t===oc)return;if(t!==void 0)return t;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const l=on.get(n);if(l===hi)return"sqrt";if(l===gi||l===pi)return"linear";if(l===mi)return"ordinal";if((r||i||[]).length>2)return Hi(l);if(r!==void 0){if(jo(r))return Hi(l);if(Wn(r))return"utc"}else{const u=e.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(jo))return Hi(l);if(u.some(Wn))return"utc"}if(l===se){if(f!=null||am(a))return"diverging";if(tm(a))return"categorical"}return"linear"}function Hi(n){switch(n){case Bn:return"point";case se:return Zt;default:return"ordinal"}}function id({type:n}){return n==="time"||n==="utc"}function Ie({type:n}){return n==="ordinal"||n==="point"||n==="band"||n===Zt}function ad({type:n}){return n==="threshold"}function Wm({type:n}){return n==="point"||n==="band"}function Yr(n){if(n===void 0)return!0;const e=n.domain(),t=n(e[0]);for(let r=1,i=e.length;r<i;++r)if(n(e[r])-t)return!1;return!0}function or(n,{domain:e,...t},r){for(const i of n)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...t}}function Ym(n){return mn(n,xf)}function h6(n={}){let e;for(const t in n)if(on.has(t)&&Wr(n[t])){if(e!==void 0)throw new Error("ambiguous scale definition; multiple scales found");e=fd(Om(t,n[t]))}if(e===void 0)throw new Error("invalid scale definition; no scale found");return e}function zm(n){return e=>{if(!on.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return e in n?fd(n[e]):void 0}}function fd({scale:n,type:e,domain:t,range:r,interpolate:i,interval:a,transform:f,percent:o,pivot:l}){if(e==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=n.unknown?n.unknown():void 0;return{type:e,domain:Ua(t),...r!==void 0&&{range:Ua(r)},...f!==void 0&&{transform:f},...o&&{percent:o},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...n.clamp&&{clamp:n.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...n.base&&{base:n.base()},...n.exponent&&{exponent:n.exponent()},...n.constant&&{constant:n.constant()},...n.align&&{align:n.align(),round:n.round()},...n.padding&&(n.paddingInner?{paddingInner:n.paddingInner(),paddingOuter:n.paddingOuter()}:{padding:n.padding()}),...n.bandwidth&&{bandwidth:n.bandwidth(),step:n.step()},apply:c=>n(c),...n.invert&&{invert:c=>n.invert(c)}}}function Bm(n){let e,t;return(...r)=>(((t==null?void 0:t.length)!==r.length||t.some((i,a)=>i!==r[a]))&&(t=r,e=n(...r)),e)}const Hm=Bm(n=>new Intl.NumberFormat(n));function Vm(n="en-US"){const e=Hm(n);return t=>t!=null&&!isNaN(t)?e.format(t):void 0}function od(n){return Gp(n,"Invalid Date")}function jm(n="en-US"){const e=Vm(n);return t=>(t instanceof Date?od:typeof t=="number"?e:yn)(t)}const fe=jm(),An=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Gm=0;function cc(){return`plot-clip-${++Gm}`}function Zm(n,{title:e,href:t,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:f,fill:o,fillOpacity:l,stroke:u,strokeWidth:c,strokeOpacity:d,strokeLinejoin:s,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:v,mixBlendMode:b,imageFilter:$,paintOrder:y,pointerEvents:M,shapeRendering:w},{ariaLabel:x,fill:A="currentColor",fillOpacity:N,stroke:k="none",strokeOpacity:S,strokeWidth:U,strokeLinecap:F,strokeLinejoin:R,strokeMiterlimit:T,paintOrder:P}){A===null&&(o=null,l=null),k===null&&(u=null,d=null),$n(A)?!$n(k)&&!$n(o)&&(k="none"):$n(k)&&!$n(u)&&(A="none");const[D,L]=De(o,A),[I,q]=Mn(l,N),[V,W]=De(u,k),[Q,cn]=Mn(d,S),[an,nn]=Mn(v);Rt(W)||(c===void 0&&(c=U),h===void 0&&(h=F),s===void 0&&(s=R),p===void 0&&!Mg(s)&&(p=T),!Rt(L)&&y===void 0&&(y=P));const[K,z]=Mn(c);return A!==null&&(n.fill=wn(L,"currentColor"),n.fillOpacity=st(q,1)),k!==null&&(n.stroke=wn(W,"none"),n.strokeWidth=st(z,1),n.strokeOpacity=st(cn,1),n.strokeLinejoin=wn(s,"miter"),n.strokeLinecap=wn(h,"butt"),n.strokeMiterlimit=st(p,4),n.strokeDasharray=wn(g,"none"),n.strokeDashoffset=wn(m,"0")),n.target=yn(f),n.ariaLabel=yn(x),n.ariaDescription=yn(i),n.ariaHidden=yn(a),n.opacity=st(nn,1),n.mixBlendMode=wn(b,"normal"),n.imageFilter=wn($,"none"),n.paintOrder=wn(y,"normal"),n.pointerEvents=wn(M,"auto"),n.shapeRendering=wn(w,"auto"),{title:{value:e,optional:!0},href:{value:t,optional:!0},ariaLabel:{value:r,optional:!0},fill:{value:D,scale:"auto",optional:!0},fillOpacity:{value:I,scale:"auto",optional:!0},stroke:{value:V,scale:"auto",optional:!0},strokeOpacity:{value:Q,scale:"auto",optional:!0},strokeWidth:{value:K,optional:!0},opacity:{value:an,scale:"auto",optional:!0}}}function Xm(n,e){e&&n.filter(t=>mf(e[t])).append("title").call(Km,e)}function Qm(n,e){e&&n.filter(([t])=>mf(e[t])).append("title").call(Jm,e)}function Km(n,e){e&&n.text(t=>fe(e[t]))}function Jm(n,e){e&&n.text(([t])=>fe(e[t]))}function tt(n,{target:e,tip:t},{ariaLabel:r,title:i,fill:a,fillOpacity:f,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:c,href:d}){r&&j(n,"aria-label",s=>r[s]),a&&j(n,"fill",s=>a[s]),f&&j(n,"fill-opacity",s=>f[s]),o&&j(n,"stroke",s=>o[s]),l&&j(n,"stroke-opacity",s=>l[s]),u&&j(n,"stroke-width",s=>u[s]),c&&j(n,"opacity",s=>c[s]),d&&cd(n,s=>d[s],e),t||Xm(n,i)}function p6(n,{target:e,tip:t},{ariaLabel:r,title:i,fill:a,fillOpacity:f,stroke:o,strokeOpacity:l,strokeWidth:u,opacity:c,href:d}){r&&j(n,"aria-label",([s])=>r[s]),a&&j(n,"fill",([s])=>a[s]),f&&j(n,"fill-opacity",([s])=>f[s]),o&&j(n,"stroke",([s])=>o[s]),l&&j(n,"stroke-opacity",([s])=>l[s]),u&&j(n,"stroke-width",([s])=>u[s]),c&&j(n,"opacity",([s])=>c[s]),d&&cd(n,([s])=>d[s],e),t||Qm(n,i)}function nb({ariaLabel:n,title:e,fill:t,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:f,opacity:o,href:l},{tip:u}){return[n,u?void 0:e,t,r,i,a,f,o,l].filter(c=>c!==void 0)}function eb(n,e,t){const r=b0(n,i=>e[i]);return t===void 0&&r.size>n.length>>1&&We("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*g6(n,e,t,r){const{z:i}=t,{z:a}=r,f=nb(r,t),o=[...e,...f];for(const l of a?eb(n,a,i):[n]){let u,c;n:for(const d of l){for(const s of o)if(!ge(s[d])){c&&c.push(-1);continue n}if(u===void 0){c&&(yield c),u=f.map(s=>xe(s[d])),c=[d];continue}c.push(d);for(let s=0;s<f.length;++s)if(xe(f[s][d])!==u[s]){yield c,u=f.map(p=>xe(p[d])),c=[d];continue n}}c&&(yield c)}}function tb(n){return n===!0?n="frame":n===!1&&(n=null),ci(n,"clip",["frame","sphere"])}function rb(n,e,t,r){let i;switch(e.clip){case"frame":{const{width:a,height:f,marginLeft:o,marginRight:l,marginTop:u,marginBottom:c}=t,d=cc();i=`url(#${d})`,n=Sn("svg:g",r).call(s=>s.append("svg:clipPath").attr("id",d).append("rect").attr("x",o).attr("y",u).attr("width",a-l-o).attr("height",f-u-c)).each(function(){this.appendChild(n.node()),n.node=()=>this});break}case"sphere":{const{projection:a}=r;if(!a)throw new Error('the "sphere" clip option requires a projection');const f=cc();i=`url(#${f})`,n.append("clipPath").attr("id",f).append("path").attr("d",hu(a)({type:"Sphere"}));break}}j(n,"aria-label",e.ariaLabel),j(n,"aria-description",e.ariaDescription),j(n,"aria-hidden",e.ariaHidden),j(n,"clip-path",i)}function ke(n,e,t,r){rb(n,e,t,r),j(n,"fill",e.fill),j(n,"fill-opacity",e.fillOpacity),j(n,"stroke",e.stroke),j(n,"stroke-width",e.strokeWidth),j(n,"stroke-opacity",e.strokeOpacity),j(n,"stroke-linejoin",e.strokeLinejoin),j(n,"stroke-linecap",e.strokeLinecap),j(n,"stroke-miterlimit",e.strokeMiterlimit),j(n,"stroke-dasharray",e.strokeDasharray),j(n,"stroke-dashoffset",e.strokeDashoffset),j(n,"shape-rendering",e.shapeRendering),j(n,"filter",e.imageFilter),j(n,"paint-order",e.paintOrder),j(n,"pointer-events",e.pointerEvents)}function Re(n,e){ib(n,"mix-blend-mode",e.mixBlendMode),j(n,"opacity",e.opacity)}function cd(n,e,t){n.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(gr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(gr.xlink,"href",i),t!=null&&a.setAttribute("target",t),this.parentNode.insertBefore(a,this).appendChild(this)}})}function j(n,e,t){t!=null&&n.attr(e,t)}function ib(n,e,t){t!=null&&n.style(e,t)}function Ue(n,e,{x:t,y:r},i=An,a=An){i+=e.dx,a+=e.dy,t!=null&&t.bandwidth&&(i+=t.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&n.attr("transform",`translate(${i},${a})`)}function wn(n,e){if((n=yn(n))!==e)return n}function st(n,e){if((n=gn(n))!==e)return n}const ab=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Nf(n){if(n===void 0)return"plot-d6a7b5";if(n=`${n}`,!ab.test(n))throw new Error(`invalid class name: ${n}`);return n}function Lf(n,e){if(typeof e=="string")n.property("style",e);else if(e!=null)for(const t of n)Object.assign(t.style,e)}function Xt({frameAnchor:n},{width:e,height:t,marginTop:r,marginRight:i,marginBottom:a,marginLeft:f}){return[/left$/.test(n)?f:/right$/.test(n)?e-i:(f+e-i)/2,/^top/.test(n)?r:/^bottom/.test(n)?t-a:(r+t-a)/2]}function fb(n,e,t={}){let r=.5-An,i=.5+An,a=.5+An,f=.5-An;for(const{marginTop:g,marginRight:m,marginBottom:v,marginLeft:b}of e)g>r&&(r=g),m>i&&(i=m),v>a&&(a=v),b>f&&(f=b);let{margin:o,marginTop:l=o!==void 0?o:r,marginRight:u=o!==void 0?o:i,marginBottom:c=o!==void 0?o:a,marginLeft:d=o!==void 0?o:f}=t;l=+l,u=+u,c=+c,d=+d;let{width:s=640,height:h=ob(n,e,t,{width:s,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:f})+Math.max(0,l-r+c-a)}=t;s=+s,h=+h;const p={width:s,height:h,marginTop:l,marginRight:u,marginBottom:c,marginLeft:d};if(n.fx||n.fy){let{margin:g,marginTop:m=g!==void 0?g:l,marginRight:v=g!==void 0?g:u,marginBottom:b=g!==void 0?g:c,marginLeft:$=g!==void 0?g:d}=t.facet??{};m=+m,v=+v,b=+b,$=+$,p.facet={marginTop:m,marginRight:v,marginBottom:b,marginLeft:$}}return p}function ob({x:n,y:e,fy:t,fx:r},i,{projection:a,aspectRatio:f},{width:o,marginTopDefault:l,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:d}){const s=t?t.scale.domain().length:1,h=nm(a,i);if(h){const g=r?r.scale.domain().length:1,m=(1.1*s-.1)/(1.1*g-.1)*h,v=Math.max(.1,Math.min(10,m));return Math.round((o-d-u)*v+l+c)}const p=e?Ie(e)?e.scale.domain().length:Math.max(7,17/s):1;if(f!=null){if(f=+f,!(isFinite(f)&&f>0))throw new Error(`invalid aspectRatio: ${f}`);const g=uc("y",e)/(uc("x",n)*f),m=r?r.scale.bandwidth():1,v=t?t.scale.bandwidth():1,b=m*(o-d-u)-n.insetLeft-n.insetRight;return(g*b+e.insetTop+e.insetBottom)/v+l+c}return!!(e||t)*Math.max(1,Math.min(60,p*s))*20+!!r*30+60}function uc(n,e){if(!e)throw new Error(`aspectRatio requires ${n} scale`);const{type:t,domain:r}=e;let i;switch(t){case"linear":case"utc":case"time":i=Number;break;case"pow":{const o=e.scale.exponent();i=l=>Math.pow(l,o);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${n} scale for aspectRatio: ${t}`)}const[a,f]=ze(r);return Math.abs(i(f)-i(a))}function cb(n,e){const{fx:t,fy:r}=_a(n,e),i=t==null?void 0:t.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?g0(i,a).map(([f,o],l)=>({x:f,y:o,i:l})):i?i.map((f,o)=>({x:f,i:o})):a?a.map((f,o)=>({y:f,i:o})):void 0}function ub(n,{x:e,y:t}){return e&&(e=Oa(e)),t&&(t=Oa(t)),n.filter(e&&t?r=>e.has(r.x)&&t.has(r.y):e?r=>e.has(r.x):r=>t.has(r.y)).sort(e&&t?(r,i)=>e.get(r.x)-e.get(i.x)||t.get(r.y)-t.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>t.get(r.y)-t.get(i.y))}function If(n,{fx:e,fy:t}){const r=Bt(n),i=e==null?void 0:e.value,a=t==null?void 0:t.value;return e&&t?$i(r,f=>(f.fx=i[f[0]],f.fy=a[f[0]],f),f=>i[f],f=>a[f]):e?$i(r,f=>(f.fx=i[f[0]],f),f=>i[f]):$i(r,f=>(f.fy=a[f[0]],f),f=>a[f])}function lb(n,e,{marginTop:t,marginLeft:r}){return n&&e?({x:i,y:a})=>`translate(${n(i)-r},${e(a)-t})`:n?({x:i})=>`translate(${n(i)-r},0)`:({y:i})=>`translate(0,${e(i)-t})`}function sb(n){const e=[],t=new Uint32Array(Qa(n,r=>r.length));for(const r of n){let i=0;for(const a of n)r!==a&&(t.set(a,i),i+=a.length);e.push(t.slice(0,i))}return e}const db=new Map([["top",Vi],["right",Zi],["bottom",ji],["left",Gi],["top-left",cr(Vi,Gi)],["top-right",cr(Vi,Zi)],["bottom-left",cr(ji,Gi)],["bottom-right",cr(ji,Zi)],["top-empty",gb],["right-empty",yb],["bottom-empty",mb],["left-empty",bb],["empty",wb]]);function hb(n){if(n==null)return null;const e=db.get(`${n}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${n}`)}const lc=new WeakMap;function Oa(n){let e=lc.get(n);return e||lc.set(n,e=new Tt(mn(n,(t,r)=>[t,r]))),e}function we(n,e){return Oa(n).get(e)}function pb(n,e,t){return e=xe(e),t=xe(t),n.find(r=>Object.is(xe(r.x),e)&&Object.is(xe(r.y),t))}function wi(n,e,t){var r;return(r=pb(n,e,t))==null?void 0:r.empty}function Vi(n,{y:e},{y:t}){return e?we(e,t)===0:!0}function ji(n,{y:e},{y:t}){return e?we(e,t)===e.length-1:!0}function Gi(n,{x:e},{x:t}){return e?we(e,t)===0:!0}function Zi(n,{x:e},{x:t}){return e?we(e,t)===e.length-1:!0}function gb(n,{y:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=we(e,r);if(a>0)return wi(n,t,e[a-1])}function mb(n,{y:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=we(e,r);if(a<e.length-1)return wi(n,t,e[a+1])}function bb(n,{x:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=we(e,t);if(a>0)return wi(n,e[a-1],r)}function yb(n,{x:e},{x:t,y:r,empty:i}){if(i)return!1;if(!e)return;const a=we(e,t);if(a<e.length-1)return wi(n,e[a+1],r)}function wb(n,e,{empty:t}){return t}function cr(n,e){return function(){return n.apply(null,arguments)&&e.apply(null,arguments)}}function Xi(n,{channels:{fx:e,fy:t},groups:r}){return e&&t?n.map(({x:i,y:a})=>{var f;return((f=r.get(i))==null?void 0:f.get(a))??[]}):e?n.map(({x:i})=>r.get(i)??[]):n.map(({y:i})=>r.get(i)??[])}class Xn{constructor(e,t={},r={},i){const{facet:a="auto",facetAnchor:f,fx:o,fy:l,sort:u,dx:c=0,dy:d=0,margin:s=0,marginTop:h=s,marginRight:p=s,marginBottom:g=s,marginLeft:m=s,clip:v,channels:b,tip:$,render:y}=r;if(this.data=e,this.sort=Xe(u)?u:null,this.initializer=jt(r).initializer,this.transform=this.initializer?r.transform:Rs(r).transform,a===null||a===!1?this.facet=null:(this.facet=le(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===hr&&typeof o=="string"?[o]:o,this.fy=e===hr&&typeof l=="string"?[l]:l),this.facetAnchor=hb(f),t=ks(t),b!==void 0&&(t={...vb(b),...t}),i!==void 0&&(t={...Zm(this,r,i),...t}),this.channels=Object.fromEntries(Object.entries(t).map(([M,w])=>{if(ui(w.value)){const{value:x,scale:A=w.scale}=w.value;w={...w,scale:A,value:x}}if(e===hr&&typeof w.value=="string"){const{value:x}=w;w={...w,value:[x]}}return[M,w]}).filter(([M,{value:w,optional:x}])=>{if(w!=null)return!0;if(x)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+c,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=tb(v),this.tip=Mb($),this.facet==="super"){if(o||l)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:w}=t[M];if(!(w!=="x"&&w!=="y"))throw new Error("super-faceting cannot use x or y")}}y!=null&&(this.render=ld(y,this.render))}initialize(e,t,r){let i=jn(this.data);e===void 0&&i!=null&&(e=[Bt(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=jn(i)),e!==void 0&&(e.original=a);const f=Yg(this.channels,i);return this.sort!=null&&Bg(i,e,f,t,this.sort),{data:i,facets:e,channels:f}}filter(e,t,r){for(const i in t){const{filter:a=ge}=t[i];if(a!==null){const f=r[i];e=e.filter(o=>a(f[o]))}}return e}project(e,t,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&Jg(i,a,t,r.projection)}}scale(e,t,r){const i=zg(e,t);return r.projection&&this.project(e,i,r),i}}function ud(...n){return n.plot=Xn.prototype.plot,n}function ld(n,e){if(n==null)return e===null?void 0:e;if(e==null)return n===null?void 0:n;if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(t,r,i,a,f,o){return n.call(this,t,r,i,a,f,(l,u,c,d,s)=>e.call(this,l,u,c,d,s,o))}}function vb(n){return Object.fromEntries(Object.entries(ks(n)).map(([e,t])=>(t=li(t),t.filter===void 0&&t.scale==null&&(t={...t,filter:null}),[e,t])))}function Mb(n){return n===!0?"xy":n===!1?null:ci(n,"tip",["x","y","xy"])}function sd(n,e){return(n==null?void 0:n.tip)===!0?{...n,tip:e}:n}const sc=new WeakMap;function kf(n,e,{x:t,y:r,px:i,py:a,maxRadius:f=40,channels:o,render:l,...u}={}){return f=+f,i!=null&&(t??(t=null),o={...o,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),o={...o,py:{value:a,scale:"y"}}),{x:t,y:r,channels:o,...u,render:ld(function(c,d,s,h,p,g){const m=p.ownerSVGElement,{data:v}=p.getMarkState(this);let b=sc.get(m);b||sc.set(m,b={sticky:!1,roots:[],renders:[]});let $=b.renders.push(W)-1;const{x:y,y:M,fx:w,fy:x}=d;let A=w?w(c.fx)-h.marginLeft:0,N=x?x(c.fy)-h.marginTop:0;y!=null&&y.bandwidth&&(A+=y.bandwidth()/2),M!=null&&M.bandwidth&&(N+=M.bandwidth()/2);const k=c.fi!=null;let S;if(k){let nn=b.facetStates;nn||(b.facetStates=nn=new Map),S=nn.get(this),S||nn.set(this,S=new Map)}const[U,F]=Xt(this,h),{px:R,py:T}=s,P=R?nn=>R[nn]:dd(s,U),D=T?nn=>T[nn]:hd(s,F);let L,I,q;function V(nn,K){if(k)if(q&&(q=cancelAnimationFrame(q)),nn==null)S.delete(c.fi);else{S.set(c.fi,K),q=requestAnimationFrame(()=>{q=null;for(const z of S.values())if(z<K){nn=null;break}W(nn)});return}W(nn)}function W(nn){if(L===nn)return;L=nn;const K=L==null?[]:[L];k&&(K.fx=c.fx,K.fy=c.fy,K.fi=c.fi);const z=g(K,d,s,h,p);if(I){if(k){const E=I.parentNode,_=I.getAttribute("transform"),O=z.getAttribute("transform");_?z.setAttribute("transform",_):z.removeAttribute("transform"),O?E.setAttribute("transform",O):E.removeAttribute("transform"),z.removeAttribute("aria-label"),z.removeAttribute("aria-description"),z.removeAttribute("aria-hidden")}I.replaceWith(z)}return b.roots[$]=I=z,p.dispatchValue(L==null?null:v[L]),z}function Q(nn){if(b.sticky||nn.pointerType==="mouse"&&nn.buttons===1)return;let[K,z]=O0(nn);K-=A,z-=N;let E=null,_=f*f;for(const O of c){const C=n*(P(O)-K),Z=e*(D(O)-z),J=C*C+Z*Z;J<=_&&(E=O,_=J)}V(E,_)}function cn(nn){nn.pointerType==="mouse"&&L!=null&&(b.sticky&&b.roots.some(K=>K==null?void 0:K.contains(nn.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(K=>K(null))):b.sticky=!0,nn.stopImmediatePropagation()))}function an(nn){nn.pointerType==="mouse"&&(b.sticky||V(null))}return m.addEventListener("pointerenter",Q),m.addEventListener("pointermove",Q),m.addEventListener("pointerdown",cn),m.addEventListener("pointerleave",an),W(null)},l)}}function $b(n){return kf(1,1,n)}function xb(n){return kf(1,.01,n)}function Tb(n){return kf(.01,1,n)}function dd({x1:n,x2:e,x:t=n},r){return n&&e?i=>(n[i]+e[i])/2:t?i=>t[i]:()=>r}function hd({y1:n,y2:e,y:t=n},r){return n&&e?i=>(n[i]+e[i])/2:t?i=>t[i]:()=>r}function pd(n){return Ie(n)&&n.interval===void 0?void 0:"tabular-nums"}function Sb(n,e){return n===void 0?Wn(e)?od:yn:typeof n=="function"?n:(typeof n=="string"?Wn(e)?Lt:Ke:et)(n)}function Cb(n,e){let{label:t=n.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:f=18,marginRight:o=0,marginBottom:l=16+r,marginLeft:u=0,style:c,ticks:d=(i-u-o)/64,tickFormat:s,fontVariant:h=pd(n),round:p=!0,opacity:g,className:m}=e;const v=Sf(e);m=Nf(m),g=Mn(g)[1],s===null&&(s=()=>null);const b=Sn("svg",v).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(U=>U.append("style").text(`.${m}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${m}-ramp text {
  white-space: pre;
}`)).call(Lf,c);let $=U=>U.selectAll(".tick line").attr("y1",f+l-a),y;const M=p?(U,F)=>U.rangeRound(F):(U,F)=>U.range(F),{type:w,domain:x,range:A,interpolate:N,scale:k,pivot:S}=n;if(N){const U=A===void 0?N:tf(N.length===1?Ef(N):N,A);y=M(k.copy(),_n(pe(u,i-o),Math.min(x.length+(S!==void 0),A===void 0?1/0:A.length)));const F=256,R=v.document.createElement("canvas");R.width=F,R.height=1;const T=R.getContext("2d");for(let P=0,D=F-1;P<F;++P)T.fillStyle=U(P/D),T.fillRect(P,0,1,1);b.append("image").attr("opacity",g).attr("x",u).attr("y",f).attr("width",i-u-o).attr("height",a-f-l).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(w==="threshold"){const U=x,F=s===void 0?R=>R:typeof s=="string"?Ke(s):s;y=M(lf().domain([-1,A.length-1]),[u,i-o]),b.append("g").attr("fill-opacity",g).selectAll().data(A).enter().append("rect").attr("x",(R,T)=>y(T-1)).attr("y",f).attr("width",(R,T)=>y(T)-y(T-1)).attr("height",a-f-l).attr("fill",R=>R),d=mn(U,(R,T)=>T),s=R=>F(U[R],R)}else y=M(Gr().domain(x),[u,i-o]),b.append("g").attr("fill-opacity",g).selectAll().data(x).enter().append("rect").attr("x",y).attr("y",f).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",a-f-l).attr("fill",k),$=()=>{};return b.append("g").attr("transform",`translate(0,${a-l})`).call(P0(y).ticks(Array.isArray(d)?null:d,typeof s=="string"?s:void 0).tickFormat(typeof s=="function"?s:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",wn(h,"normal")).call($).call(U=>U.select(".domain").remove()),t!==void 0&&b.append("text").attr("x",u).attr("y",f-6).attr("fill","currentColor").attr("font-weight","bold").text(t),b.node()}function dc(n,e){if(e==null)return e;const t=n(e);if(!t)throw new Error(`scale not found: ${e}`);return t}function Ab(n,{opacity:e,...t}={}){if(!Ie(n)&&!ad(n))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${n.type})`);return gd(n,t,(r,i,a,f)=>r.append("svg").attr("width",a).attr("height",f).attr("fill",i.scale).attr("fill-opacity",Mn(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Eb(n,{fill:e=(u=>(u=n.hint)==null?void 0:u.fill)()!==void 0?n.hint.fill:"none",fillOpacity:t=1,stroke:r=(c=>(c=n.hint)==null?void 0:c.stroke)()!==void 0?n.hint.stroke:$n(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:f=4.5,...o}={},l){const[d,s]=De(e),[h,p]=De(r),g=dc(l,d),m=dc(l,h),v=f*f*Math.PI;return t=Mn(t)[1],i=Mn(i)[1],a=Mn(a)[1],gd(n,o,(b,$,y,M)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",M).attr("fill",d==="color"?w=>g.scale(w):s).attr("fill-opacity",t).attr("stroke",h==="color"?w=>m.scale(w):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",w=>{const x=$e();return n.scale(w).draw(x,v),x}))}function gd(n,e={},t){let{columns:r,tickFormat:i,fontVariant:a=pd(n),swatchSize:f=15,swatchWidth:o=f,swatchHeight:l=f,marginLeft:u=0,className:c,style:d,width:s}=e;const h=Sf(e);c=Nf(c),i=Sb(i,n.domain);const p=Sn("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${c}-swatches-columns .${c}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${c}-swatches-columns .${c}-swatch::before {
  flex-shrink: 0;
}
.${c}-swatches-columns .${c}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(n.domain).enter().append("div").attr("class",`${c}-swatch`).call(t,n,o,l).call(m=>m.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(g=`.${c}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${c}-swatches-wrap .${c}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(n.domain).enter().append("span").attr("class",`${c}-swatch`).call(t,n,o,l).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`.${c}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${c}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",u?`${+u}px`:null).style("width",s===void 0?null:`${+s}px`).style("font-variant",wn(a,"normal")).call(Lf,d).node()}const qa=new Map([["symbol",Eb],["color",bd],["opacity",Nb]]);function Db(n,e,t={}){return(r,i)=>{if(!qa.has(r))throw new Error(`unknown legend type: ${r}`);if(r in n)return qa.get(r)(n[r],md(e,t[r],i),a=>n[a])}}function md({className:n,...e},{label:t,ticks:r,tickFormat:i}={},a){return $g(a,{className:n,...e},{label:t,ticks:r,tickFormat:i})}function bd(n,{legend:e=!0,...t}){if(e===!0&&(e=n.type==="ordinal"?"swatches":"ramp"),n.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return Ab(n,t);case"ramp":return Cb(n,t);default:throw new Error(`unknown legend type: ${e}`)}}function Nb({type:n,interpolate:e,...t},{legend:r=!0,color:i=pr(0,0,0),...a}){if(!e)throw new Error(`${n} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return bd({type:n,...t,interpolate:Lb(i)},{legend:r,...a})}function Lb(n){const{r:e,g:t,b:r}=pr(n)||pr(0,0,0);return i=>`rgba(${e},${t},${r},${i})`}function Ib(n,e,t){const r=[];for(const[i,a]of qa){const f=t[i];if(f!=null&&f.legend&&i in n){const o=a(n[i],md(e,n[i],f),l=>n[l]);o!=null&&r.push(o)}}return r}const yd=Math.PI/180;function wd(n,{marker:e,markerStart:t=e,markerMid:r=e,markerEnd:i=e}={}){n.markerStart=Qi(t),n.markerMid=Qi(r),n.markerEnd=Qi(i)}function Qi(n){if(n==null||n===!1)return null;if(n===!0)return pc;if(typeof n=="function")return n;switch(`${n}`.toLowerCase()){case"none":return null;case"arrow":return hc("auto");case"arrow-reverse":return hc("auto-start-reverse");case"dot":return kb;case"circle":case"circle-fill":return pc;case"circle-stroke":return Rb}throw new Error(`invalid marker: ${n}`)}function hc(n){return(e,t)=>Sn("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",n).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function kb(n,e){return Sn("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",n).attr("stroke","none").call(t=>t.append("circle").attr("r",2.5)).node()}function pc(n,e){return Sn("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",n).attr("stroke","white").attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}function Rb(n,e){return Sn("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",n).attr("stroke-width",1.5).call(t=>t.append("circle").attr("r",3)).node()}let Ub=0;function vd(n,e,{stroke:t},r){return Md(n,e,t&&(i=>t[i]),r)}function m6(n,e,{stroke:t},r){return Md(n,e,t&&(([i])=>t[i]),r)}function Md(n,{markerStart:e,markerMid:t,markerEnd:r,stroke:i},a=()=>i,f){const o=new Map;function l(u){return function(c){const d=a(c);let s=o.get(u);s||o.set(u,s=new Map);let h=s.get(d);if(!h){const p=this.parentNode.insertBefore(u(d,f),this),g=`plot-marker-${++Ub}`;p.setAttribute("id",g),s.set(d,h=`url(#${g})`)}return h}}e&&n.attr("marker-start",l(e)),t&&n.attr("marker-mid",l(t)),r&&n.attr("marker-end",l(r))}function Rf({inset:n,insetLeft:e,insetRight:t,...r}={}){return[e,t]=$d(n,e,t),{inset:n,insetLeft:e,insetRight:t,...r}}function Uf({inset:n,insetTop:e,insetBottom:t,...r}={}){return[e,t]=$d(n,e,t),{inset:n,insetTop:e,insetBottom:t,...r}}function $d(n,e,t){return n===void 0&&e===void 0&&t===void 0?An?[1,0]:[.5,.5]:[e,t]}function xd(n,{interval:e}){return n={...li(n)},n.interval=vf(n.interval===void 0?e:n.interval),n}function vi(n,e,t,r){const{[n]:i,[`${n}1`]:a,[`${n}2`]:f}=t,{value:o,interval:l}=xd(i,t);if(o==null||l==null&&!r)return t;const u=Ht(i);if(l==null){let h;const p={transform:g=>h||(h=me(g,o)),label:u};return{...t,[n]:void 0,[`${n}1`]:a===void 0?p:a,[`${n}2`]:f===void 0?p:f}}let c,d;function s(h){return d!==void 0&&h===c?d:d=mn(me(c=h,o),p=>l.floor(p))}return e({...t,[n]:void 0,[`${n}1`]:a===void 0?{transform:s,label:u}:a,[`${n}2`]:f===void 0?{transform:h=>s(h).map(p=>l.offset(p)),label:u}:f})}function Td(n,e,t){const{[n]:r}=t,{value:i,interval:a}=xd(r,t);return i==null||a==null?t:e({...t,[n]:{label:Ht(r),transform:f=>{const o=mn(me(f,i),u=>a.floor(u)),l=o.map(u=>a.offset(u));return o.map(Wn(o)?(u,c)=>u==null||isNaN(u=+u)||(c=l[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=l[c],c==null)?NaN:(+u+ +c)/2)}}})}function b6(n={}){return vi("x",Rf,n,!0)}function y6(n={}){return vi("y",Uf,n,!0)}function Fb(n={}){return vi("x",Rf,n)}function Pb(n={}){return vi("y",Uf,n)}function _b(n={}){return Td("x",Rf,n)}function Ob(n={}){return Td("y",Uf,n)}const Sd={ariaLabel:"rule",fill:null,stroke:"currentColor"};class qb extends Xn{constructor(e,t={}){const{x:r,y1:i,y2:a,inset:f=0,insetTop:o=f,insetBottom:l=f}=t;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},sd(t,"x"),Sd),this.insetTop=gn(o),this.insetBottom=gn(l),wd(this,t)}render(e,t,r,i,a){const{x:f,y:o}=t,{x:l,y1:u,y2:c}=r,{width:d,height:s,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:v,insetBottom:b}=this;return Sn("svg:g",a).call(ke,this,i).call(Ue,this,{x:l&&f},An,0).call($=>$.selectAll().data(e).enter().append("line").call(Re,this).attr("x1",l?y=>l[y]:(g+d-p)/2).attr("x2",l?y=>l[y]:(g+d-p)/2).attr("y1",u&&!Yr(o)?y=>u[y]+v:h+v).attr("y2",c&&!Yr(o)?o.bandwidth?y=>c[y]+o.bandwidth()-b:y=>c[y]-b:s-m-b).call(tt,this,r).call(vd,this,r,a)).node()}}class Wb extends Xn{constructor(e,t={}){const{x1:r,x2:i,y:a,inset:f=0,insetRight:o=f,insetLeft:l=f}=t;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},sd(t,"y"),Sd),this.insetRight=gn(o),this.insetLeft=gn(l),wd(this,t)}render(e,t,r,i,a){const{x:f,y:o}=t,{y:l,x1:u,x2:c}=r,{width:d,height:s,marginTop:h,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:v,insetRight:b}=this;return Sn("svg:g",a).call(ke,this,i,a).call(Ue,this,{y:l&&o},0,An).call($=>$.selectAll().data(e).enter().append("line").call(Re,this).attr("x1",u&&!Yr(f)?y=>u[y]+v:g+v).attr("x2",c&&!Yr(f)?f.bandwidth?y=>c[y]+f.bandwidth()-b:y=>c[y]-b:d-p-b).attr("y1",l?y=>l[y]:(h+s-m)/2).attr("y2",l?y=>l[y]:(h+s-m)/2).call(tt,this,r).call(vd,this,r,a)).node()}}function Yb(n,e){let{x:t=Zn,y:r,y1:i,y2:a,...f}=Pb(e);return[i,a]=Cd(r,i,a),new qb(n,{...f,x:t,y1:i,y2:a})}function zb(n,e){let{y:t=Zn,x:r,x1:i,x2:a,...f}=Fb(e);return[i,a]=Cd(r,i,a),new Wb(n,{...f,y:t,x1:i,x2:a})}function Cd(n,e,t){if(n==null){if(e===void 0){if(t!==void 0)return[0,t]}else if(t===void 0)return[0,e]}else{if(e===void 0)return t===void 0?[0,n]:[n,t];if(t===void 0)return[n,e]}return[e,t]}function Ff(n,...e){let t=e.length;for(let r=0,i=!0;r<t;++r)typeof e[r]!="function"&&(i&&(n=n.slice(),i=!1),n.splice(r,2,n[r]+e[r]+n[r+1]),e.splice(r,1),--r,--t);return r=>{let i=n[0];for(let a=0;a<t;++a)i+=e[a](r)+n[a+1];return i}}const Bb={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ad="­";class Pf extends Xn{constructor(e,t={}){const{x:r,y:i,text:a=ye(e)&&Ls(e)?Zn:fg,frameAnchor:f,textAnchor:o=/right$/i.test(f)?"end":/left$/i.test(f)?"start":"middle",lineAnchor:l=/^top/i.test(f)?"top":/^bottom/i.test(f)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:d,monospace:s,fontFamily:h=s?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:v,rotate:b}=t,[$,y]=Mn(b,0),[M,w]=Xb(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:mg($),optional:!0},text:{value:a,filter:mf,optional:!0}},t,Bb),this.rotate=y,this.textAnchor=wn(o,"middle"),this.lineAnchor=le(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=Ed(d),this.monospace=!!s,this.fontFamily=yn(h),this.fontSize=w,this.fontStyle=yn(g),this.fontVariant=yn(m),this.fontWeight=yn(v),this.frameAnchor=di(f),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Ld(this),this.clipLine=Id(this)}render(e,t,r,i,a){const{x:f,y:o}=t,{x:l,y:u,rotate:c,text:d,title:s,fontSize:h}=r,{rotate:p}=this,[g,m]=Xt(this,i);return Sn("svg:g",a).call(ke,this,i,a).call(Nd,this,d,i).call(Ue,this,{x:l&&f,y:u&&o}).call(v=>v.selectAll().data(e).enter().append("text").call(Re,this).call(Hb,this,d,s).attr("transform",Ff`translate(${l?b=>l[b]:g},${u?b=>u[b]:m})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(j,"font-size",h&&(b=>h[b])).call(tt,this,r)).node()}}function Ed(n){return n==null?null:le(n,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Hb(n,e,t,r){if(!t)return;const{lineAnchor:i,lineHeight:a,textOverflow:f,splitLines:o,clipLine:l}=e;n.each(function(u){const c=o(fe(t[u])??"").map(l),d=c.length,s=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!c[p])continue;const g=this.ownerDocument.createElementNS(gr.svg,"tspan");g.setAttribute("x",0),p===h-1?g.setAttribute("y",`${(s+p)*a}em`):g.setAttribute("dy",`${h*a}em`),g.textContent=c[p],this.appendChild(g),h=0}}else s&&this.setAttribute("y",`${s*a}em`),this.textContent=c[0];if(f&&!r&&c[0]!==t[u]){const h=this.ownerDocument.createElementNS(gr.svg,"title");h.textContent=t[u],this.appendChild(h)}})}function Dd(n,{x:e,y:t,...r}={}){return r.frameAnchor===void 0&&([e,t]=wf(e,t)),new Pf(n,{...r,x:e,y:t})}function Vb(n,{x:e=Zn,...t}={}){return new Pf(n,Ob({...t,x:e}))}function jb(n,{y:e=Zn,...t}={}){return new Pf(n,_b({...t,y:e}))}function Nd(n,e,t){j(n,"text-anchor",e.textAnchor),j(n,"font-family",e.fontFamily),j(n,"font-size",e.fontSize),j(n,"font-style",e.fontStyle),j(n,"font-variant",e.fontVariant===void 0?Gb(t):e.fontVariant),j(n,"font-weight",e.fontWeight)}function Gb(n){return n&&(wg(n)||Wn(n))?"tabular-nums":void 0}const Zb=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function Xb(n){return n==null||typeof n=="number"?[void 0,n]:typeof n!="string"?[n,void 0]:(n=n.trim().toLowerCase(),Zb.has(n)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(n)?[void 0,n]:[n,void 0])}function Qb(n,e,t){const r=[];let i,a=0;for(const[f,o,l]of Kb(n)){if(i===void 0&&(i=f),a>i&&t(n,i,o)>e&&(r.push(n.slice(i,a)+(n[a-1]===Ad?"-":"")),i=f),l){r.push(n.slice(i,o)),i=void 0;continue}a=o}return r}function*Kb(n){let e=0,t=0;const r=n.length;for(;t<r;){let i=1;switch(n[t]){case Ad:case"-":++t,yield[e,t,!1],e=t;break;case" ":for(yield[e,t,!1];n[++t]===" ";);e=t;break;case"\r":n[t+1]===`
`&&++i;case`
`:yield[e,t,!0],t+=i,e=t;break;default:++t;break}}yield[e,t,!0]}const gc={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function _f(n,e=0,t=n.length){let r=0;for(let i=e;i<t;i=rt(n,i))r+=gc[n[i]]??(Rd(n,i)?120:gc.e);return r}function Of(n,e=0,t=n.length){let r=0;for(let i=e;i<t;i=rt(n,i))r+=Rd(n,i)?200:100;return r}function Ld({monospace:n,lineWidth:e,textOverflow:t}){if(t!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=n?Of:_f,i=e*100;return a=>Qb(a,i,r)}function Id({monospace:n,lineWidth:e,textOverflow:t}){if(t==null||e==1/0)return a=>a;const r=n?Of:_f,i=e*100;switch(t){case"clip-start":return a=>bc(a,i,r,"");case"clip-end":return a=>mc(a,i,r,"");case"ellipsis-start":return a=>bc(a,i,r,Ye);case"ellipsis-middle":return a=>Jb(a,i,r,Ye);case"ellipsis-end":return a=>mc(a,i,r,Ye)}}const Ye="…";function Qe(n,e,t,r){const i=[];let a=0;for(let f=0,o=0,l=n.length;f<l;f=o){o=rt(n,f);const u=t(n,f,o);if(a+u>e){for(a+=r;a>e&&f>0;)o=f,f=i.pop(),a-=t(n,f,o);return[f,e-a]}a+=u,i.push(f)}return[-1,0]}function mc(n,e,t,r){n=n.trim();const i=t(r),[a]=Qe(n,e,t,i);return a<0?n:n.slice(0,a).trimEnd()+r}function Jb(n,e,t,r){n=n.trim();const i=t(n);if(i<=e)return n;const a=t(r)/2,[f,o]=Qe(n,e/2,t,a),[l]=Qe(n,i-e/2-o+a,t,-a);return l<0?r:n.slice(0,f).trimEnd()+r+n.slice(rt(n,l)).trimStart()}function bc(n,e,t,r){n=n.trim();const i=t(n);if(i<=e)return n;const a=t(r),[f]=Qe(n,i-e+a,t,-a);return f<0?r:r+n.slice(rt(n,f)).trimStart()}const Wa=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,yc=/\p{Extended_Pictographic}/uy;function rt(n,e){return e+=n2(n,e)?2:1,t2(n,e)&&(e=Wa.lastIndex),e2(n,e)?rt(n,e+1):e}function kd(n,e){return n.charCodeAt(e)<128}function n2(n,e){const t=n.charCodeAt(e);if(t>=55296&&t<56320){const r=n.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function e2(n,e){return n.charCodeAt(e)===8205}function t2(n,e){return kd(n,e)?!1:(Wa.lastIndex=e,Wa.test(n))}function Rd(n,e){return kd(n,e)?!1:(yc.lastIndex=e,yc.test(n))}const r2={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Ud=3.5,i2=Ud*5,Fd={draw(n,e,t){const r=e*t/i2;n.moveTo(0,0),n.lineTo(0,-e),n.moveTo(-r,r-e),n.lineTo(0,-e),n.lineTo(r,r-e)}},a2={draw(n,e,t){n.moveTo(-t,0),n.lineTo(0,-e),n.lineTo(t,0)}},f2=new Map([["arrow",Fd],["spike",a2]]);function o2(n){return n&&typeof n.draw=="function"}function c2(n){if(o2(n))return n;const e=f2.get(`${n}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${n}`)}class Pd extends Xn{constructor(e,t={}){const{x:r,y:i,r:a=Ud,length:f,rotate:o,shape:l=Fd,anchor:u="middle",frameAnchor:c}=t,[d,s]=Mn(f,12),[h,p]=Mn(o,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},t,r2),this.r=+a,this.length=s,this.rotate=p,this.shape=c2(l),this.anchor=le(u,"anchor",["start","middle","end"]),this.frameAnchor=di(c)}render(e,t,r,i,a){const{x:f,y:o}=t,{x:l,y:u,length:c,rotate:d}=r,{length:s,rotate:h,anchor:p,shape:g,r:m}=this,[v,b]=Xt(this,i);return Sn("svg:g",a).call(ke,this,i,a).call(Ue,this,{x:l&&f,y:u&&o}).call($=>$.selectAll().data(e).enter().append("path").call(Re,this).attr("transform",Ff`translate(${l?y=>l[y]:v},${u?y=>u[y]:b})${d?y=>` rotate(${d[y]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?y=>` translate(0,${c[y]})`:` translate(0,${s})`:c?y=>` translate(0,${c[y]/2})`:` translate(0,${s/2})`}`).attr("d",c?y=>{const M=$e();return g.draw(M,c[y],m),M}:(()=>{const y=$e();return g.draw(y,s,m),y})()).call(tt,this,r)).node()}}function u2(n,e={}){const{x:t=Zn,...r}=e;return new Pd(n,{...r,x:t})}function l2(n,e={}){const{y:t=Zn,...r}=e;return new Pd(n,{...r,y:t})}function ve(n,e){return arguments.length<2&&!ye(n)&&(e=n,n=null),e===void 0&&(e={}),[n,e]}function Mi({anchor:n}={},e){return n===void 0?e[0]:le(n,"anchor",e)}function _d(n){return Mi(n,["left","right"])}function Od(n){return Mi(n,["right","left"])}function qd(n){return Mi(n,["bottom","top"])}function Wd(n){return Mi(n,["top","bottom"])}function Yd(){const[n,e]=ve(...arguments);return Bd("y",_d(e),n,e)}function s2(){const[n,e]=ve(...arguments);return Bd("fy",Od(e),n,e)}function zd(){const[n,e]=ve(...arguments);return Hd("x",qd(e),n,e)}function d2(){const[n,e]=ve(...arguments);return Hd("fx",Wd(e),n,e)}function Bd(n,e,t,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:f=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:c,textStroke:d,textStrokeOpacity:s,textStrokeWidth:h,tickSize:p=n==="y"?6:0,tickPadding:g,tickRotate:m,x:v,margin:b,marginTop:$=b===void 0?20:b,marginRight:y=b===void 0?e==="right"?40:0:b,marginBottom:M=b===void 0?20:b,marginLeft:w=b===void 0?e==="left"?40:0:b,label:x,labelAnchor:A,labelArrow:N,labelOffset:k,...S}){return p=gn(p),g=gn(g),m=gn(m),A!==void 0&&(A=le(A,"labelAnchor",["center","top","bottom"])),N=Jd(N),ud(p&&!$n(a)?h2(n,e,t,{stroke:a,strokeOpacity:f,strokeWidth:o,tickSize:p,tickPadding:g,tickRotate:m,x:v,...S}):null,$n(l)?null:g2(n,e,t,{fill:l,fillOpacity:u,stroke:d,strokeOpacity:s,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,x:v,marginTop:$,marginRight:y,marginBottom:M,marginLeft:w,...S}),!$n(l)&&x!==null?Dd([],Zd({fill:l,fillOpacity:u,...S},function(U,F,R,T,P){const D=T[n],{marginTop:L,marginRight:I,marginBottom:q,marginLeft:V}=n==="y"&&P.inset||P,W=A??(D.bandwidth?"center":"top"),Q=k??(e==="right"?I:V)-3;return W==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=W,this.frameAnchor=`${W}-${e}`,this.rotate=0),this.dy=W==="top"?3-L:W==="bottom"?q-3:0,this.dx=e==="right"?Q:-Q,this.ariaLabel=`${n}-axis label`,{facets:[[0]],channels:{text:{value:[Kd(n,D,{anchor:e,label:x,labelAnchor:W,labelArrow:N})]}}}})):null)}function Hd(n,e,t,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:f=i,strokeWidth:o=1,fill:l=r,fillOpacity:u=i,textAnchor:c,textStroke:d,textStrokeOpacity:s,textStrokeWidth:h,tickSize:p=n==="x"?6:0,tickPadding:g,tickRotate:m,y:v,margin:b,marginTop:$=b===void 0?e==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:M=b===void 0?e==="bottom"?30:0:b,marginLeft:w=b===void 0?20:b,label:x,labelAnchor:A,labelArrow:N,labelOffset:k,...S}){return p=gn(p),g=gn(g),m=gn(m),A!==void 0&&(A=le(A,"labelAnchor",["center","left","right"])),N=Jd(N),ud(p&&!$n(a)?p2(n,e,t,{stroke:a,strokeOpacity:f,strokeWidth:o,tickSize:p,tickPadding:g,tickRotate:m,y:v,...S}):null,$n(l)?null:m2(n,e,t,{fill:l,fillOpacity:u,stroke:d,strokeOpacity:s,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:g,tickRotate:m,y:v,marginTop:$,marginRight:y,marginBottom:M,marginLeft:w,...S}),!$n(l)&&x!==null?Dd([],Zd({fill:l,fillOpacity:u,...S},function(U,F,R,T,P){const D=T[n],{marginTop:L,marginRight:I,marginBottom:q,marginLeft:V}=n==="x"&&P.inset||P,W=A??(D.bandwidth?"center":"right"),Q=k??(e==="top"?L:q)-3;return W==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${W}`,this.textAnchor=W==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-Q:Q,this.dx=W==="right"?I-3:W==="left"?3-V:0,this.ariaLabel=`${n}-axis label`,{facets:[[0]],channels:{text:{value:[Kd(n,D,{anchor:e,label:x,labelAnchor:W,labelArrow:N})]}}}})):null)}function h2(n,e,t,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:f=e+(n==="y"?"-empty":""),frameAnchor:o=e,tickSize:l,inset:u=0,insetLeft:c=u,insetRight:d=u,dx:s=0,y:h=n==="y"?void 0:null,...p}){return at(l2,n,`${n}-axis tick`,t,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:f,frameAnchor:o,y:h,...p,dx:e==="left"?+s-An+ +c:+s+An-d,anchor:"start",length:l,shape:e==="left"?x2:T2})}function p2(n,e,t,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:f=e+(n==="x"?"-empty":""),frameAnchor:o=e,tickSize:l,inset:u=0,insetTop:c=u,insetBottom:d=u,dy:s=0,x:h=n==="x"?void 0:null,...p}){return at(u2,n,`${n}-axis tick`,t,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:f,frameAnchor:o,x:h,...p,dy:e==="bottom"?+s-An-d:+s+An+ +c,anchor:"start",length:l,shape:e==="bottom"?M2:$2})}function g2(n,e,t,{facetAnchor:r=e+(n==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:f=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(f)>60?4*Math.cos(f*yd):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:c=Math.abs(f)>60?"middle":e==="left"?"end":"start",lineAnchor:d=f>60?"top":f<-60?"bottom":"middle",fontVariant:s,inset:h=0,insetLeft:p=h,insetRight:g=h,dx:m=0,y:v=n==="y"?void 0:null,...b}){return at(jb,n,`${n}-axis tick label`,t,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:d,fontVariant:s,rotate:f,y:v,...b,dx:e==="left"?+m-a-o+ +p:+m+ +a+ +o-g},function($,y,M){s===void 0&&(this.fontVariant=Qd($)),u===void 0&&(M.text=Xd($,y,l))})}function m2(n,e,t,{facetAnchor:r=e+(n==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:f=0,tickPadding:o=Math.max(3,9-a)+(Math.abs(f)>=10?4*Math.cos(f*yd):0),tickFormat:l,text:u=typeof l=="function"?l:void 0,textAnchor:c=Math.abs(f)>=10?f<0^e==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(f)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:s,inset:h=0,insetTop:p=h,insetBottom:g=h,dy:m=0,x:v=n==="x"?void 0:null,...b}){return at(Vb,n,`${n}-axis tick label`,t,{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:d,fontVariant:s,rotate:f,x:v,...b,dy:e==="bottom"?+m+ +a+ +o-g:+m-a-o+ +p},function($,y,M){s===void 0&&(this.fontVariant=Qd($)),u===void 0&&(M.text=Xd($,y,l))})}function b2(){const[n,e]=ve(...arguments);return Vd("y",_d(e),n,e)}function y2(){const[n,e]=ve(...arguments);return Vd("fy",Od(e),n,e)}function w2(){const[n,e]=ve(...arguments);return jd("x",qd(e),n,e)}function v2(){const[n,e]=ve(...arguments);return jd("fx",Wd(e),n,e)}function Vd(n,e,t,{y:r=n==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:f=e==="right"?i:null,...o}){return at(zb,n,`${n}-grid`,t,{y:r,x1:a,x2:f,...Gd(o)})}function jd(n,e,t,{x:r=n==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:f=e==="bottom"?i:null,...o}){return at(Yb,n,`${n}-grid`,t,{x:r,y1:a,y2:f,...Gd(o)})}function Gd({color:n="currentColor",opacity:e=.1,stroke:t=n,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:t,strokeOpacity:r,strokeWidth:i,...a}}function Zd({fill:n,fillOpacity:e,fontFamily:t,fontSize:r,fontStyle:i,fontWeight:a,monospace:f,pointerEvents:o,shapeRendering:l},u){return[,n]=De(n),[,e]=Mn(e),{facet:"super",x:null,y:null,fill:n,fillOpacity:e,fontFamily:t,fontSize:r,fontStyle:i,fontWeight:a,monospace:f,pointerEvents:o,shapeRendering:l,initializer:u}}function at(n,e,t,r,i,a){let f;const o=n(r,jt(i,function(l,u,c,d,s,h){const p=l==null&&(e==="fx"||e==="fy"),{[e]:g}=d;if(!g)throw new Error(`missing scale: ${e}`);let{ticks:m,tickSpacing:v,interval:b}=i;if(id(g)&&typeof m=="string"&&(b=m,m=void 0),l==null){if(ye(m))l=jn(m);else if(g.ticks)if(m!==void 0)l=g.ticks(m);else if(b=Vt(b===void 0?g.interval:b,g.type),b!==void 0){const[y,M]=ze(g.domain());l=b.range(y,b.offset(b.floor(M)))}else{const[y,M]=ze(g.range());m=(M-y)/(v===void 0?e==="x"?80:35:v),l=g.ticks(m)}else l=g.domain();e==="y"||e==="x"?u=[Bt(l)]:f[e]={scale:e,value:Zn}}a==null||a.call(this,g,m,f);const $=Object.fromEntries(Object.entries(f).map(([y,M])=>[y,{...M,value:me(l,M.value)}]));return p&&(u=h.filterFacets(l,$)),{data:l,facets:u,channels:$}}));return r==null?(f=o.channels,o.channels={}):f={},o.ariaLabel=t,o}function Xd(n,e,t){return{value:Ya(n,e,t)}}function Ya(n,e,t){return n.tickFormat?n.tickFormat(ye(e)?null:e,t):t===void 0?eg(n.interval)?Lt("%Y"):tg(n.interval)?hf("%Y"):fe:typeof t=="string"?(Wn(n.domain())?Lt:Ke)(t):et(t)}const M2={draw(n,e){n.moveTo(0,0),n.lineTo(0,e)}},$2={draw(n,e){n.moveTo(0,0),n.lineTo(0,-e)}},x2={draw(n,e){n.moveTo(0,0),n.lineTo(-e,0)}},T2={draw(n,e){n.moveTo(0,0),n.lineTo(e,0)}};function Qd(n){return n.bandwidth&&!n.interval?void 0:"tabular-nums"}function S2(n){return Math.sign(Ut(n.domain()))*Math.sign(Ut(n.range()))}function Kd(n,e,{anchor:t,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&C2(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const f=S2(e);f&&(a=/x$/.test(n)||i==="center"?/x$/.test(n)===f<0?"left":"right":f<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return t==="right"?`${r} ↑`:`↑ ${r}`;case"down":return t==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Jd(n="auto"){return $n(n)?!1:typeof n=="boolean"?n:le(n,"labelArrow",["auto","up","right","down","left"])}function C2(n){return id(n)||n.interval!=null}const A2={ariaLabel:"frame",fill:"none",stroke:"currentColor"},E2={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square"};class D2 extends Xn{constructor(e={}){const{anchor:t=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:f=r,insetLeft:o=r,rx:l,ry:u}=e;super(hr,void 0,e,t==null?A2:E2),this.anchor=ci(t,"anchor",["top","right","bottom","left"]),this.insetTop=gn(i),this.insetRight=gn(a),this.insetBottom=gn(f),this.insetLeft=gn(o),this.rx=gn(l),this.ry=gn(u)}render(e,t,r,i,a){const{marginTop:f,marginRight:o,marginBottom:l,marginLeft:u,width:c,height:d}=i,{anchor:s,insetTop:h,insetRight:p,insetBottom:g,insetLeft:m,rx:v,ry:b}=this,$=u+m,y=c-o-p,M=f+h,w=d-l-g;return Sn(s?"svg:line":"svg:rect",a).datum(0).call(ke,this,i,a).call(Re,this).call(tt,this,r).call(Ue,this,{}).call(s==="left"?x=>x.attr("x1",$).attr("x2",$).attr("y1",M).attr("y2",w):s==="right"?x=>x.attr("x1",y).attr("x2",y).attr("y1",M).attr("y2",w):s==="top"?x=>x.attr("x1",$).attr("x2",y).attr("y1",M).attr("y2",M):s==="bottom"?x=>x.attr("x1",$).attr("x2",y).attr("y1",w).attr("y2",w):x=>x.attr("x",$).attr("y",M).attr("width",y-$).attr("height",w-M).attr("rx",v).attr("ry",b)).node()}}function N2(n){return new D2(n)}const Ki={ariaLabel:"tip",fill:"white",stroke:"currentColor"},L2=new Set(["geometry","href","src","ariaLabel"]);class I2 extends Xn{constructor(e,t={}){t.tip&&(t={...t,tip:!1}),t.title===void 0&&ye(e)&&Ls(e)&&(t={...t,title:Zn});const{x:r,y:i,x1:a,x2:f,y1:o,y2:l,anchor:u,monospace:c,fontFamily:d=c?"ui-monospace, monospace":void 0,fontSize:s,fontStyle:h,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:v=20,frameAnchor:b,textAnchor:$="start",textOverflow:y,textPadding:M=8,pointerSize:w=12,pathFilter:x="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=t;super(e,{x:{value:a!=null&&f!=null?null:r,scale:"x",optional:!0},y:{value:o!=null&&l!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:f==null},y1:{value:o,scale:"y",optional:l==null},x2:{value:f,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:o==null}},t,Ki),this.anchor=Is(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=di(b),this.textAnchor=wn($,"middle"),this.textPadding=+M,this.pointerSize=+w,this.pathFilter=yn(x),this.lineHeight=+m,this.lineWidth=+v,this.textOverflow=Ed(y),this.monospace=!!c,this.fontFamily=yn(d),this.fontSize=gn(s),this.fontStyle=yn(h),this.fontVariant=yn(p),this.fontWeight=yn(g);for(const A in Ki)A in this.channels&&(this[A]=Ki[A]);this.splitLines=Ld(this),this.clipLine=Id(this)}render(e,t,r,i,a){const f=this,{x:o,y:l,fx:u,fy:c}=t,{ownerSVGElement:d,document:s}=a,{anchor:h,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:v,pointerSize:b,pathFilter:$}=this,{marginTop:y,marginLeft:M}=i,w=P2(r),{x1:x,y1:A,x2:N,y2:k,x:S=x??N,y:U=A??k}=r,F=u?u(e.fx)-M:0,R=c?c(e.fy)-y:0,[T,P]=Xt(this,i),D=dd(r,T),L=hd(r,P),I=p?Of:_f,q=I(Ye),V=u&&Ya(u),W=c&&Ya(c);function*Q(K,z){if("title"in K){const E=K.title.value[z];for(const _ of f.splitLines(fe(E)))yield{name:"",value:f.clipLine(_)};return}for(const E in K){if(E==="x1"&&"x2"in K||E==="y1"&&"y2"in K)continue;const _=K[E],O=_.value[z];if(!(!ge(O)&&_.scale==null))if(E==="x2"&&"x1"in K)yield{name:Ji(t,_,"x"),value:wc(K.x1,_,z)};else if(E==="y2"&&"y1"in K)yield{name:Ji(t,_,"y"),value:wc(K.y1,_,z)};else{const C=_.scale,Z={name:Ji(t,_,E),value:fe(O)};(C==="color"||C==="opacity")&&(Z[C]=r[E][z]),yield Z}}e.fi!=null&&u&&(yield{name:String(u.label??"fx"),value:V(e.fx)}),e.fi!=null&&c&&(yield{name:String(c.label??"fy"),value:W(e.fy)})}const cn=Sn("svg:g",a).call(ke,this,i,a).call(Nd,this).call(Ue,this,{x:S&&o,y:U&&l}).call(K=>K.selectAll().data(e).enter().append("g").attr("transform",z=>`translate(${Math.round(D(z))},${Math.round(L(z))})`).call(Re,this).call(z=>z.append("path").attr("filter",$)).call(z=>z.append("text").each(function(E){const _=yt(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const O=new Set;for(const C of Q(w,E)){const Z=C.name;Z&&O.has(Z)||(O.add(Z),an(_,C))}})));function an(K,{name:z,value:E,color:_,opacity:O}){const C=_!=null||O!=null;let Z,J=m*100;const[sn]=Qe(z,J,I,q);if(sn>=0)z=z.slice(0,sn).trimEnd()+Ye,Z=E.trim(),E="";else{(z||!E&&!C)&&(E=" "+E);const[Cn]=Qe(E,J-I(z),I,q);Cn>=0&&(E=E.slice(0,Cn).trimEnd()+Ye,Z=E.trim())}const fn=K.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");z&&fn.append("tspan").attr("font-weight","bold").text(z),E&&fn.append(()=>s.createTextNode(E)),C&&fn.append("tspan").text(" ■").attr("fill",_).attr("fill-opacity",O).style("user-select","none"),Z&&fn.append("title").text(Z)}function nn(){const{width:K,height:z}=i.facet??i;cn.selectChildren().each(function(E){let{x:_,width:O,height:C}=this.getBBox();O=Math.round(O),C=Math.round(C);let Z=h;if(Z===void 0){Z=f.previousAnchor;const fn=D(E)+F,Cn=L(E)+R,ft=fn+O+v*2<K,Wf=fn-O-v*2>0,Yf=Cn+C+b+v*2+7<z,zf=Cn-C-b-v*2>0,e0=(/-left$/.test(Z)?ft||!Wf:ft&&!Wf)?"left":"right",t0=(/^top-/.test(Z)?Yf||!zf:Yf&&!zf)?"top":"bottom";Z=f.previousAnchor=`${t0}-${e0}`}const J=this.firstChild,sn=this.lastChild;if(J.setAttribute("d",F2(Z,b,v,O,C)),_)for(const fn of sn.childNodes)fn.setAttribute("x",-_);sn.setAttribute("y",`${+R2(Z,sn.childNodes.length,g).toFixed(6)}em`),sn.setAttribute("transform",`translate(${U2(Z,b,v,O,C)})`)})}return d.isConnected?Promise.resolve().then(nn):typeof requestAnimationFrame<"u"&&requestAnimationFrame(nn),cn.node()}}function k2(n,{x:e,y:t,...r}={}){return r.frameAnchor===void 0&&([e,t]=wf(e,t)),new I2(n,{...r,x:e,y:t})}function R2(n,e,t){return/^top(?:-|$)/.test(n)?.94-t:-.29-e*t}function U2(n,e,t,r,i){switch(n){case"middle":return[-r/2,i/2];case"top-left":return[t,e+t];case"top":return[-r/2,e/2+t];case"top-right":return[-r-t,e+t];case"right":return[-e/2-r-t,i/2];case"bottom-left":return[t,-e-t];case"bottom":return[-r/2,-e/2-t];case"bottom-right":return[-r-t,-e-t];case"left":return[t+e/2,i/2]}}function F2(n,e,t,r,i){const a=r+t*2,f=i+t*2;switch(n){case"middle":return`M${-a/2},${-f/2}h${a}v${f}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${f}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${f}h${-a}v${-f}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${f}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-f/2}h${-a}v${f}h${a}v${e/2-f/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-f}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-f}h${-a}v${f}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-f}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-f/2}h${a}v${f}h${-a}v${e/2-f/2}z`}}function P2({channels:n}){const e={};for(const t in n){if(L2.has(t))continue;const r=Gg(n,t);r&&(e[t]=r)}return e}function wc(n,e,t){var r;return(r=e.hint)!=null&&r.length?`${fe(e.value[t]-n.value[t])}`:`${fe(n.value[t])}–${fe(e.value[t])}`}function Ji(n,e,t){var r;return String(((r=n[e.scale])==null?void 0:r.label)??(e==null?void 0:e.label)??t)}function _2(n={}){var P;const{facet:e,style:t,caption:r,ariaLabel:i,ariaDescription:a}=n,f=Nf(n.className),o=n.marks===void 0?[]:vc(n.marks);o.push(...H2(o));const l=z2(e,n),u=new Map;for(const D of o){const L=Mc(D,l,n);L&&u.set(D,L)}const c=new Map;l&&dt(c,[l]),dt(c,u);const d=vc(V2(o,c,n));for(const D of d){const L=Mc(D,l,n);L&&u.set(D,L)}o.unshift(...d);let s=cb(c,n);if(s!==void 0){const D=l?Xi(s,l):void 0;for(const I of o){if(I.facet===null||I.facet==="super")continue;const q=u.get(I);q!==void 0&&(q.facetsIndex=I.fx!=null||I.fy!=null?Xi(s,q):D)}const L=new Set;for(const{facetsIndex:I}of u.values())I==null||I.forEach((q,V)=>{(q==null?void 0:q.length)>0&&L.add(V)});s.forEach(0<L.size&&L.size<s.length?(I,q)=>I.empty=!L.has(q):I=>I.empty=!1);for(const I of o)if(I.facet==="exclude"){const q=u.get(I);q!==void 0&&(q.facetsIndex=sb(q.facetsIndex))}}for(const D of on.keys())Wr(n[D])&&D!=="fx"&&D!=="fy"&&c.set(D,[]);const h=new Map;for(const D of o){if(h.has(D))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:L,channels:I}=u.get(D)??{},{data:q,facets:V,channels:W}=D.initialize(L,I,n);qf(W,n),h.set(D,{data:q,facets:V,channels:W})}const p=_a(dt(c,h),n),g=ic(p),m=fb(p,o,n);Fm(p,m);const{fx:v,fy:b}=g,$=v||b?nd(p,m):m,y=v||b?J2(g,m):m,M=Sf(n),w=M.document,x=Sc("svg").call(w.documentElement);let A=x;M.ownerSVGElement=x,M.className=f,M.projection=Xg(n,$),M.filterFacets=(D,L)=>Xi(s,{channels:L,groups:If(D,L)}),M.getMarkState=D=>{const L=h.get(D),I=u.get(D);return{...L,channels:{...L.channels,...I==null?void 0:I.channels}}},M.dispatchValue=D=>{A.value!==D&&(A.value=D,A.dispatchEvent(new Event("input",{bubbles:!0})))};const N=new Set;for(const[D,L]of h)if(D.initializer!=null){const I=D.facet==="super"?y:$,q=D.initializer(L.data,L.facets,L.channels,g,I,M);if(q.data!==void 0&&(L.data=q.data),q.facets!==void 0&&(L.facets=q.facets),q.channels!==void 0){const{fx:V,fy:W,...Q}=q.channels;Y2(Q),Object.assign(L.channels,Q);for(const cn of Object.values(Q)){const{scale:an}=cn;an!=null&&on.get(an)!==Bn&&(n0(cn,n),N.add(an))}(V!=null||W!=null)&&u.set(D,!0)}}if(N.size){const D=new Map;dt(D,h,q=>N.has(q)),dt(c,h,q=>N.has(q));const L=K2(_a(D,n),p),I=ic(L);Object.assign(p,L),Object.assign(g,I)}let k,S;s!==void 0&&(k={x:v==null?void 0:v.domain(),y:b==null?void 0:b.domain()},s=ub(s,k),S=lb(v,b,m));for(const[D,L]of h)L.values=D.scale(L.channels,g,M);const{width:U,height:F}=m;yt(x).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",U).attr("height",F).attr("viewBox",`0 0 ${U} ${F}`).attr("aria-label",i).attr("aria-description",a).call(D=>D.append("style").text(`.${f} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${f} text,
.${f} tspan {
  white-space: pre;
}`)).call(Lf,t);for(const D of o){const{channels:L,values:I,facets:q}=h.get(D);if(s===void 0||D.facet==="super"){let V=null;if(q&&(V=q[0],V=D.filter(V,L,I),V.length===0))continue;const W=D.render(V,g,I,y,M);if(W==null)continue;x.appendChild(W)}else{let V;for(const W of s){if(!(((P=D.facetAnchor)==null?void 0:P.call(D,s,k,W))??!W.empty))continue;let Q=null;if(q){const an=u.has(D);if(Q=q[an?W.i:0],Q=D.filter(Q,L,I),Q.length===0)continue;an&&(Q.fx=W.x,Q.fy=W.y,Q.fi=W.i)}const cn=D.render(Q,g,I,$,M);if(cn!=null){(V??(V=yt(x).append("g"))).append(()=>cn).datum(W);for(const an of["aria-label","aria-description","aria-hidden","transform"])cn.hasAttribute(an)&&(V.attr(an,cn.getAttribute(an)),cn.removeAttribute(an))}}V==null||V.selectChildren().attr("transform",S)}}const R=Ib(p,M,n);if(r!=null||R.length>0){A=w.createElement("figure"),A.style.maxWidth="initial";for(const D of R)A.appendChild(D);if(A.appendChild(x),r!=null){const D=w.createElement("figcaption");D.appendChild(r!=null&&r.ownerDocument?r:w.createTextNode(r)),A.appendChild(D)}}A.scale=zm(p),A.legend=Db(p,M,n);const T=Zg();return T>0&&yt(x).append("text").attr("x",U).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${T.toLocaleString("en-US")} warning${T===1?"":"s"}. Please check the console.`),A}function O2({marks:n=[],...e}={}){return _2({...e,marks:[...n,this]})}Xn.prototype.plot=O2;function vc(n){return n.flat(1/0).filter(e=>e!=null).map(q2)}function q2(n){return typeof n.render=="function"?n:new W2(n)}class W2 extends Xn{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function qf(n,e){for(const t in n)n0(n[t],e);return n}function n0(n,e){const{scale:t}=n;if(t==null)return;const{type:r,percent:i,interval:a,transform:f=i?o=>o*100:Ns(a,r)}=e[t]??{};f!=null&&(n.value=mn(n.value,f))}function Y2(n){for(const e in n)Ps(e,n[e])}function dt(n,e,t=og){for(const{channels:r}of e.values())for(const i in r){const a=r[i],{scale:f}=a;if(f!=null&&t(f)){const o=n.get(f);o!==void 0?o.push(a):n.set(f,[a])}}return n}function z2(n,e){if(n==null)return;const{x:t,y:r}=n;if(t==null&&r==null)return;const i=jn(n.data);if(i==null)throw new Error("missing facet data");const a={};t!=null&&(a.fx=Ft(i,{value:t,scale:"fx"})),r!=null&&(a.fy=Ft(i,{value:r,scale:"fy"})),qf(a,e);const f=If(i,a);return{channels:a,groups:f,data:n.data}}function Mc(n,e,t){var l;if(n.facet===null||n.facet==="super")return;const{fx:r,fy:i}=n;if(r!=null||i!=null){const u=jn(n.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${n.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=Ft(u,{value:r,scale:"fx"})),i!=null&&(c.fy=Ft(u,{value:i,scale:"fy"})),qf(c,t),{channels:c,groups:If(u,c)}}if(e===void 0)return;const{channels:a,groups:f,data:o}=e;if(n.facet!=="auto"||n.data===o)return{channels:a,groups:f};o.length>0&&(f.size>1||f.size===1&&a.fx&&a.fy&&[...f][0][1].size>1)&&((l=jn(n.data))==null?void 0:l.length)===o.length&&We(`Warning: the ${n.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function B2(n,e={}){return jt({...e,x:null,y:null},(t,r,i,a,f,o)=>o.getMarkState(n))}function H2(n){const e=[];for(const t of n){const r=t.tip;if(r){const i=r==="x"?xb:r==="y"?Tb:$b;e.push(k2(t.data,i(B2(t))))}}return e}function V2(n,e,t){let{projection:r,x:i={},y:a={},fx:f={},fy:o={},axis:l,grid:u,facet:c={},facet:{axis:d=l,grid:s}=c,x:{axis:h=l,grid:p=h===null?null:u}=i,y:{axis:g=l,grid:m=g===null?null:u}=a,fx:{axis:v=d,grid:b=v===null?null:s}=f,fy:{axis:$=d,grid:y=$===null?null:s}=o}=t;(r||!Wr(i)&&!$c("x",n))&&(h=p=null),(r||!Wr(a)&&!$c("y",n))&&(g=m=null),e.has("fx")||(v=b=null),e.has("fy")||($=y=null),h===void 0&&(h=!sr(n,"x")),g===void 0&&(g=!sr(n,"y")),v===void 0&&(v=!sr(n,"fx")),$===void 0&&($=!sr(n,"fy")),h===!0&&(h="bottom"),g===!0&&(g="left"),v===!0&&(v=h==="top"||h===null?"bottom":"top"),$===!0&&($=g==="right"||g===null?"left":"right");const M=[];return lr(M,y,y2,o),ur(M,$,s2,"right","left",c,o),lr(M,b,v2,f),ur(M,v,d2,"top","bottom",c,f),lr(M,m,b2,a),ur(M,g,Yd,"left","right",t,a),lr(M,p,w2,i),ur(M,h,zd,"bottom","top",t,i),M}function ur(n,e,t,r,i,a,f){if(!e)return;const o=j2(e);f=G2(o?r:e,a,f);const{line:l}=f;(t===Yd||t===zd)&&l&&!Rt(l)&&n.push(N2(Z2(f))),n.push(t(f)),o&&n.push(t({...f,anchor:i,label:null}))}function lr(n,e,t,r){!e||Rt(e)||n.push(t(X2(e,r)))}function j2(n){return/^\s*both\s*$/i.test(n)}function G2(n,e,{line:t=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:f,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:c,ariaDescription:d,label:s=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:g}){return{anchor:n,line:t,ticks:r,tickSize:i,tickSpacing:a,tickPadding:f,tickFormat:o,tickRotate:l,fontVariant:u,ariaLabel:c,ariaDescription:d,label:s,labelAnchor:h,labelArrow:p,labelOffset:g}}function Z2(n){const{anchor:e,line:t}=n;return{anchor:e,facetAnchor:e+"-empty",stroke:t===!0?void 0:t}}function X2(n,{stroke:e=si(n)?n:void 0,ticks:t=Q2(n)?n:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:t,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function Q2(n){switch(typeof n){case"number":return!0;case"string":return!si(n)}return ye(n)||typeof(n==null?void 0:n.range)=="function"}function sr(n,e){const t=`${e}-axis `;return n.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(t)})}function $c(n,e){for(const t of e)for(const r in t.channels)if(t.channels[r].scale===n)return!0;return!1}function K2(n,e){for(const t in n){const r=n[t],i=e[t];r.label===void 0&&i&&(r.label=i.label)}return n}function J2({fx:n,fy:e},t){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:f,width:o,height:l}=Df(t),u=n&&xc(n),c=e&&xc(e);return{marginTop:e?c[0]:r,marginRight:n?o-u[1]:i,marginBottom:e?l-c[1]:a,marginLeft:n?u[0]:f,inset:{marginTop:t.marginTop,marginRight:t.marginRight,marginBottom:t.marginBottom,marginLeft:t.marginLeft},width:o,height:l}}function xc(n){const e=n.domain();let t=n(e[0]),r=n(e[e.length-1]);return r<t&&([t,r]=[r,t]),[t,r+n.bandwidth()]}const n6={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function e6(n){return n.sort===void 0&&n.reverse===void 0?Ng({channel:"-r"},n):n}class t6 extends Xn{constructor(e,t={}){const{x:r,y:i,r:a,rotate:f,symbol:o=It,frameAnchor:l}=t,[u,c]=Mn(f,0),[d,s]=Eg(o),[h,p]=Mn(a,d==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:oi,optional:!0},rotate:{value:u,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},e6(t),n6),this.r=p,this.rotate=c,this.symbol=s,this.frameAnchor=di(l);const{channels:g}=this,{symbol:m}=g;if(m){const{fill:v,stroke:b}=g;m.hint={fill:v?v.value===m.value?"color":"currentColor":this.fill,stroke:b?b.value===m.value?"color":"currentColor":this.stroke}}}render(e,t,r,i,a){const{x:f,y:o}=t,{x:l,y:u,r:c,rotate:d,symbol:s}=r,{r:h,rotate:p,symbol:g}=this,[m,v]=Xt(this,i),b=g===It,$=c?void 0:h*h*Math.PI;return bf(h)&&(e=[]),Sn("svg:g",a).call(ke,this,i,a).call(Ue,this,{x:l&&f,y:u&&o}).call(y=>y.selectAll().data(e).enter().append(b?"circle":"path").call(Re,this).call(b?M=>{M.attr("cx",l?w=>l[w]:m).attr("cy",u?w=>u[w]:v).attr("r",c?w=>c[w]:h)}:M=>{M.attr("transform",Ff`translate(${l?w=>l[w]:m},${u?w=>u[w]:v})${d?w=>` rotate(${d[w]})`:p?` rotate(${p})`:""}`).attr("d",c&&s?w=>{const x=$e();return s[w].draw(x,c[w]*c[w]*Math.PI),x}:c?w=>{const x=$e();return g.draw(x,c[w]*c[w]*Math.PI),x}:s?w=>{const x=$e();return s[w].draw(x,$),x}:(()=>{const w=$e();return g.draw(w,$),w})())}).call(tt,this,r)).node()}}function r6(n,{x:e,y:t,...r}={}){return r.frameAnchor===void 0&&([e,t]=wf(e,t)),new t6(n,{...r,x:e,y:t})}function w6(n,e){return r6(n,{...e,symbol:"circle"})}export{y6 as $,l6 as A,pg as B,Rs as C,d6 as D,me as E,f6 as F,Qa as G,St as H,Tt as I,oe as J,Bt as K,Ze as L,Xn as M,ag as N,wd as O,eh as P,$e as Q,vd as R,Vo as S,gn as T,wn as U,j as V,wf as W,g6 as X,p6 as Y,m6 as Z,b6 as _,ke as a,o6 as a0,fg as a1,Yr as a2,zd as a3,Yd as a4,Yb as a5,zb as a6,h6 as a7,Ap as a8,w6 as a9,N2 as aa,Dd as ab,ua as ac,Ue as b,Sn as c,Re as d,tt as e,Ca as f,hu as g,_2 as h,Zn as i,he as j,b0 as k,yt as l,Mn as m,bf as n,Ot as o,oi as p,O0 as q,$i as r,v0 as s,a6 as t,dg as u,sd as v,e6 as w,c6 as x,s6 as y,u6 as z};
