import{o as Q,S as oe,i as ue,s as ce,e as _,c as b,b as w,f as r,m as p,h as c,j as I,n as W,O as pe,t as T,a as j,C as fe,d as B,g as L,D as _e,P as H,E as be,Q as M,k as me,u as ve,q as ge,F as ye,R as he,l as F,T as ae,A as we}from"./index.93104ad7.js";import{v as ke,b as Y,i as xe,k as Ee,f as Ie,B as je,a as ie,m as Le}from"./index.73c1d308.js";import{a as De}from"./database.166f2fa1.js";import{m as G}from"./model_out.448f9c31.js";import{w as qe}from"./paths.44b7de33.js";function Se(s){return s&&s.execute}function le(s){return s&&s.addSourceIact}class ne{constructor(t){var n,y;let a=Q(ke),i=Q(Y);this.id=t.id,this.m=t.m,this.type=(n=this.m)==null?void 0:n.type,this.space=(y=this.m)==null?void 0:y.space,this.postprocess=t.postprocess??xe,this.source=le(t.source)?t.source:a[t.source],this.target=Se(t.target)?t.target:i[t.target],le(this.source)?this.source.addSourceIact(this):console.warn("Interaction source doesn't define addSourceIact",this.source)}trigger(t,...a){let i=this.postprocess(t);console.log("let's see iact binding: ",t),this.target.execute(i,...a)}preview(t){throw new Error("Not Implemented")}}class Ve{constructor(){this.iacts=[]}register(t){t instanceof ne?this.iacts.push(t):this.iacts.push(new ne(t))}registerInteractions(t){t.forEach(a=>this.register(a))}}function Oe(s){let t,a;return{c(){t=_("table"),a=_("tbody"),this.h()},l(i){t=b(i,"TABLE",{class:!0});var n=w(t);a=b(n,"TBODY",{id:!0}),w(a).forEach(r),n.forEach(r),this.h()},h(){p(a,"id","body"),p(t,"class","table-auto")},m(i,n){c(i,t,n),I(t,a)},p:W,i:W,o:W,d(i){i&&r(t)}}}function Pe(s,t,a){let i=[];function n(y,m){i=y??i;let k=Ee(i[0]),o="";o+="<tr>",k.forEach(v=>{o+=`<th>${v}</th>`}),o+="</tr>",i.forEach(v=>{o+="<tr>",Ie((g,d)=>{o+=`<td>${g}</td>`},v),o+="</tr>"}),document.getElementById("body").innerHTML=o}return[n]}class Te extends oe{constructor(t){super(),ue(this,t,Pe,Oe,ce,{render:0})}get render(){return this.$$.ctx[0]}}const Be=qe({region:1128,dekcap:24,freq:.23,year_start:1981,year_end:2020,back_fill_year:2001,sum_early_weight:.4,sum_late_weight:.4,vegetation_weight:.6,sum_early_first:1,sum_early_last:30,sum_late_first:1,sum_late_last:30,vegetation_first:10,vegetation_last:30,scalar_vegetation:1,exit_multiplier:.8,check_sensitivity:.1});function Ne(s){let t,a,i,n,y=Object.keys(G)+"",m,k,o,v,g,d,D=JSON.stringify(s[0],null,2)+"",q,O,x,N,P,u,f,J,S,R,z,V,h,A,E,$,U,K;pe(s[7]);let de={};return E=new Te({props:de}),s[10](E),{c(){t=_("div"),a=T("Models available"),i=j(),n=_("div"),m=T(y),k=j(),o=_("div"),v=T("Parameters currently"),g=j(),d=_("div"),q=T(D),O=j(),x=_("div"),N=T("Enter selected model"),P=j(),u=_("div"),f=_("input"),J=j(),S=_("div"),R=T("Enter param updates"),z=j(),V=_("div"),h=_("input"),A=j(),fe(E.$$.fragment),this.h()},l(e){t=b(e,"DIV",{class:!0});var l=w(t);a=B(l,"Models available"),l.forEach(r),i=L(e),n=b(e,"DIV",{class:!0});var C=w(n);m=B(C,y),C.forEach(r),k=L(e),o=b(e,"DIV",{class:!0});var X=w(o);v=B(X,"Parameters currently"),X.forEach(r),g=L(e),d=b(e,"DIV",{class:!0});var Z=w(d);q=B(Z,D),Z.forEach(r),O=L(e),x=b(e,"DIV",{class:!0});var ee=w(x);N=B(ee,"Enter selected model"),ee.forEach(r),P=L(e),u=b(e,"DIV",{class:!0});var te=w(u);f=b(te,"INPUT",{type:!0,class:!0}),te.forEach(r),J=L(e),S=b(e,"DIV",{class:!0});var se=w(S);R=B(se,"Enter param updates"),se.forEach(r),z=L(e),V=b(e,"DIV",{class:!0});var re=w(V);h=b(re,"INPUT",{type:!0,class:!0}),re.forEach(r),A=L(e),_e(E.$$.fragment,e),this.h()},h(){p(t,"class","text-2xl text-center svelte-18gbjk8"),p(n,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(o,"class","text-2xl text-center svelte-18gbjk8"),p(d,"class","px-5 py-2 bg-white border-solid border-2 border-black svelte-18gbjk8"),p(x,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(f,"type","text"),p(f,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(u,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8"),p(S,"class","text-2xl py-2 text-center svelte-18gbjk8"),p(h,"type","text"),p(h,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),p(V,"class","px-[1%] py-[1%] ml-[5.9%] svelte-18gbjk8")},m(e,l){c(e,t,l),I(t,a),c(e,i,l),c(e,n,l),I(n,m),c(e,k,l),c(e,o,l),I(o,v),c(e,g,l),c(e,d,l),I(d,q),c(e,O,l),c(e,x,l),I(x,N),c(e,P,l),c(e,u,l),I(u,f),H(f,s[2]),c(e,J,l),c(e,S,l),I(S,R),c(e,z,l),c(e,V,l),I(V,h),H(h,s[4]),c(e,A,l),be(E,e,l),$=!0,U||(K=[M(window,"resize",s[7]),M(f,"input",s[8]),M(f,"change",s[6]),M(h,"input",s[9]),M(h,"change",s[5])],U=!0)},p(e,[l]){(!$||l&1)&&D!==(D=JSON.stringify(e[0],null,2)+"")&&me(q,D),l&4&&f.value!==e[2]&&H(f,e[2]),l&16&&h.value!==e[4]&&H(h,e[4]);const C={};E.$set(C)},i(e){$||(ve(E.$$.fragment,e),$=!0)},o(e){ge(E.$$.fragment,e),$=!1},d(e){e&&r(t),e&&r(i),e&&r(n),e&&r(k),e&&r(o),e&&r(g),e&&r(d),e&&r(O),e&&r(x),e&&r(P),e&&r(u),e&&r(J),e&&r(S),e&&r(z),e&&r(V),e&&r(A),s[10](null),ye(E,e),U=!1,he(K)}}}function $e(s,t,a){let i,n,y;F(s,Y,u=>a(12,i=u)),F(s,ie,u=>a(13,n=u)),F(s,Be,u=>a(14,y=u));let m=y;console.log("local params are:",m);let k=0,o=null,v=null,g=null,d=null;ae(Y,i=new je,i),ae(ie,n=new Ve,n);let D=function(){console.log("new param raw entry is: ",d);let u=String(d),f=JSON.parse(u);console.log("new parameters received",f),a(0,m=Le(m,f)),q()},q=function(){console.log("executing model: ",G[o].query),v=i.createBackend({id:"query_under_debug",type:"query",query:G[o].query,name:"test",params:m,backend:Q(De)}),v.registerView(g),v.execute(m)};function O(){a(1,k=window.innerWidth)}function x(){o=this.value,a(2,o)}function N(){d=this.value,a(4,d)}function P(u){we[u?"unshift":"push"](()=>{g=u,a(3,g)})}return[m,k,o,g,d,D,q,O,x,N,P]}class He extends oe{constructor(t){super(),ue(this,t,$e,Ne,ce,{})}}export{He as default};
