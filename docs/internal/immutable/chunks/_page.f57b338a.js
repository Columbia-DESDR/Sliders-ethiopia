import{o as Ls,S as bt,i as yt,s as _t,K as ct,e as Q,a as Se,c as ee,b as te,f as q,g as ke,m as B,h as xe,j as G,L as ut,M as lt,N as dt,u as Ue,q as Ve,U as oe,n as Ne,A as Ar,V as Yu,W as ty,X as he,Q as Le,R as tr,t as Qe,d as et,k as vt,p as Zr,G as Nc,Y as Wu,y as ny,r as ry,Z as iy,C as f0,D as c0,E as u0,F as l0,_ as Yn,$ as oy,a0 as ay,a1 as sy,T as at,O as fy,a2 as Xu,l as ta,a3 as cy,P as na,a4 as uy,a5 as ly,w as dy}from"./index.20f2b766.js";import{_ as De,c as Gu,d as d0,e as li,g as gr,h as Xa,j as Jr,k as Kn,l as Tf,n as hy,r as h0,o as fn,p as Cf,q as py,s as gy,t as p0,u as g0,w as Me,x as my,y as by,z as m0,i as Nf,A as yy,C as ra,S as Ku,D as _y,E as Dc,F as Ic,R as Ga,G as Lc,H as b0,I as Zu,J as Ju,K as vy,L as Zn,M as Qu,N as Ri,O as wy,P as el,Q as Mt,T as Oc,U as xy,V as tl,W as Sy,X as ia,Y as oa,Z as y0,$ as Be,f as sn,a0 as pt,a1 as ky,m as My,a2 as Df,a3 as Ay,a4 as Ey,a5 as Ty,a6 as Cy,a7 as Ny,B as Dy,b as nl}from"./index.6cab10b0.js";import{w as Et}from"./paths.f0efe136.js";import{H as Iy,S as Ly}from"./Header.147031e8.js";import{m as rl}from"./model_out.448f9c31.js";const Oy={"@@functional/placeholder":!0};var Fy=De(function(t,n){return Number(t)+Number(n)});function _0(e,t,n){return function(){for(var r=[],i=0,a=e,s=0;s<t.length||i<arguments.length;){var f;s<t.length&&(!Gu(t[s])||i>=arguments.length)?f=t[s]:(f=arguments[i],i+=1),r[s]=f,Gu(f)||(a-=1),s+=1}return a<=0?n.apply(this,r):d0(a,_0(e,r,n))}}var mr=De(function(t,n){return t===1?li(n):d0(t,_0(t,[],n))});function Py(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}var $y=De(function(t,n){return n>t?n:t});function Ko(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}var By=function(){function e(t,n){this.xf=n,this.f=t}return e.prototype["@@transducer/init"]=gr.init,e.prototype["@@transducer/result"]=gr.result,e.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},e}(),Ry=De(function(t,n){return new By(t,n)}),jy=De(Xa(["fantasy-land/map","map"],Ry,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return mr(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return Jr(function(r,i){return r[i]=t(n[i]),r},{},Kn(n));default:return Ko(t,n)}}));const In=jy,qy=Number.isInteger||function(t){return t<<0===t};var zy=De(function(t,n){var r=t<0?n.length+t:t;return Tf(n)?n.charAt(r):n[r]});const v0=zy;var Uy=De(function(t,n){if(n!=null)return qy(t)?v0(t,n):n[t]});const If=Uy;var Hy=De(function(t,n){return In(If(t),n)});const Fc=Hy;var Vy=function(){function e(t,n){this.xf=n,this.f=t,this.any=!1}return e.prototype["@@transducer/init"]=gr.init,e.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},e.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=Py(this.xf["@@transducer/step"](t,!0))),t},e}(),Yy=De(function(t,n){return new Vy(t,n)}),Wy=De(Xa(["any"],Yy,function(t,n){for(var r=0;r<n.length;){if(t(n[r]))return!0;r+=1}return!1}));const Pc=Wy;var Xy=De(function(t,n){return typeof n["fantasy-land/ap"]=="function"?n["fantasy-land/ap"](t):typeof t.ap=="function"?t.ap(n):typeof t=="function"?function(r){return t(r)(n(r))}:Jr(function(r,i){return hy(r,In(i,n))},[],t)}),Gy=De(function(t,n){return t.apply(this,n)});function il(e,t){return Cf(t)?t.map(e):Kn(t).reduce(function(n,r){return n[r]=e(t[r]),n},{})}var Ky=li(function e(t){return t=il(function(n){return typeof n=="function"?n:e(n)},t),mr(h0($y,0,Fc("length",fn(t))),function(){var n=arguments;return il(function(r){return Gy(r,n)},t)})});const ol=Ky;function Lf(e){var t=Object.prototype.toString.call(e);return t==="[object Function]"||t==="[object AsyncFunction]"||t==="[object GeneratorFunction]"||t==="[object AsyncGeneratorFunction]"}var Zy=De(function(t,n){var r=mr(t,n);return mr(t,function(){return Jr(Xy,In(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Jy=li(function(t){return Zy(t.length,t)});function Qy(e){return{"@@transducer/value":e,"@@transducer/reduced":!0}}var e2=function(e){return{"@@transducer/init":gr.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,n){var r=e["@@transducer/step"](t,n);return r["@@transducer/reduced"]?Qy(r):r}}},t2=function(t){var n=e2(t);return{"@@transducer/init":gr.init,"@@transducer/result":function(r){return n["@@transducer/result"](r)},"@@transducer/step":function(r,i){return py(i)?Jr(n,r,i):Jr(n,r,[i])}}},n2=De(function(t,n){return In(t,t2(n))}),r2=De(Xa(["fantasy-land/chain","chain"],n2,function(t,n){return typeof n=="function"?function(r){return t(n(r))(r)}:gy(!1)(In(t,n))}));const w0=r2;function Os(e){var t=e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return'"'+t.replace(/"/g,'\\"')+'"'}var _i=function(t){return(t<10?"0":"")+t},i2=typeof Date.prototype.toISOString=="function"?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+_i(t.getUTCMonth()+1)+"-"+_i(t.getUTCDate())+"T"+_i(t.getUTCHours())+":"+_i(t.getUTCMinutes())+":"+_i(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function o2(e){return function(){return!e.apply(this,arguments)}}var a2=De(function(t,n){return p0(o2(t),n)});const x0=a2;function S0(e,t){var n=function(s){var f=t.concat([e]);return g0(s,f)?"<Circular>":S0(s,f)},r=function(a,s){return Ko(function(f){return Os(f)+": "+n(a[f])},s.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+Ko(n,e).join(", ")+"))";case"[object Array]":return"["+Ko(n,e).concat(r(e,x0(function(a){return/^\d+$/.test(a)},Kn(e)))).join(", ")+"]";case"[object Boolean]":return typeof e=="object"?"new Boolean("+n(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?n(NaN):Os(i2(e)))+")";case"[object Null]":return"null";case"[object Number]":return typeof e=="object"?"new Number("+n(e.valueOf())+")":1/e===-1/0?"-0":e.toString(10);case"[object String]":return typeof e=="object"?"new String("+n(e.valueOf())+")":Os(e);case"[object Undefined]":return"undefined";default:if(typeof e.toString=="function"){var i=e.toString();if(i!=="[object Object]")return i}return"{"+r(e,Kn(e)).join(", ")+"}"}}var Fs=li(function(t){return S0(t,[])}),s2=De(function(t,n){if(Cf(t)){if(Cf(n))return t.concat(n);throw new TypeError(Fs(n)+" is not an array")}if(Tf(t)){if(Tf(n))return t+n;throw new TypeError(Fs(n)+" is not a string")}if(t!=null&&Lf(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(t!=null&&Lf(t.concat))return t.concat(n);throw new TypeError(Fs(t)+' does not have a method named "concat" or "fantasy-land/concat"')});const ji=s2;var f2=li(function(t){return mr(t.length,t)});const al=f2;var c2=v0(-1);const Ps=c2;var u2=De(function(t,n){return t||n}),l2=De(function(t,n){return Lf(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:Jy(u2)(t,n)});const k0=l2;var d2=li(function(t){return mr(t.length,function(n,r){var i=Array.prototype.slice.call(arguments,0);return i[0]=r,i[1]=n,t.apply(this,i)})}),h2=De(function(t,n){if(t.length===0||Me(n))return!1;for(var r=n,i=0;i<t.length;)if(!Me(r)&&my(t[i],r))r=r[t[i]],i+=1;else return!1;return!0}),p2=De(function(t,n){return h2([t],n)});const br=p2;var g2=by(function(t,n,r){return mr(Math.max(t.length,n.length,r.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):r.apply(this,arguments)})});const Of=g2;var m2=function(){function e(t,n){this.xf=n,this.f=t,this.set=new m0}return e.prototype["@@transducer/init"]=gr.init,e.prototype["@@transducer/result"]=gr.result,e.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},e}(),b2=De(function(t,n){return new m2(t,n)}),y2=De(Xa([],b2,function(e,t){for(var n=new m0,r=[],i=0,a,s;i<t.length;)s=t[i],a=e(s),n.add(a)&&r.push(s),i+=1;return r})),_2=y2(Nf),v2=De(function(t,n){var r,i;return t.length>n.length?(r=t,i=n):(r=n,i=t),_2(yy(d2(g0)(r),i))});const w2=v2;var x2=De(function(t,n){return Jr(function(r,i){return r[i]=t(n[i],i,n),r},{},Kn(n))});const S2=x2;var k2=h0(Fy,0);const M2=k2;var A2=De(function(t,n){for(var r={},i={},a=0,s=t.length;a<s;)i[t[a]]=1,a+=1;for(var f in n)i.hasOwnProperty(f)||(r[f]=n[f]);return r});const sl=A2;var E2=De(function(t,n){for(var r={},i=0;i<t.length;)t[i]in n&&(r[t[i]]=n[t[i]]),i+=1;return r});const T2=E2;var C2=De(function(t,n){return Array.prototype.slice.call(n,0).sort(t)});const N2=C2;var D2=De(function(t,n){return ji(ra(t,n),ra(n,t))});const I2=D2;var L2=De(function(t,n){for(var r=[],i=0,a=Math.min(t.length,n.length);i<a;)r[i]=[t[i],n[i]],i+=1;return r});const O2=L2;function Tt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Qi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ka(e){let t,n,r;e.length!==2?(t=Tt,n=(f,c)=>Tt(e(f),c),r=(f,c)=>e(f)-c):(t=e===Tt||e===Qi?e:F2,n=e,r=e);function i(f,c,u=0,l=f.length){if(u<l){if(t(c,c)!==0)return l;do{const d=u+l>>>1;n(f[d],c)<0?u=d+1:l=d}while(u<l)}return u}function a(f,c,u=0,l=f.length){if(u<l){if(t(c,c)!==0)return l;do{const d=u+l>>>1;n(f[d],c)<=0?u=d+1:l=d}while(u<l)}return u}function s(f,c,u=0,l=f.length){const d=i(f,c,u,l-1);return d>u&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:s,right:a}}function F2(){return 0}function M0(e){return e===null?NaN:+e}function*P2(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const $2=Ka(Tt),B2=$2.right;Ka(M0).center;const $c=B2;function R2(e){return e.length|0}function j2(e){return!(e>0)}function q2(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function z2(e){return t=>e(...t)}function U2(...e){const t=typeof e[e.length-1]=="function"&&z2(e.pop());e=e.map(q2);const n=e.map(R2),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(j2))return a;for(;;){a.push(i.map((f,c)=>e[c][f]));let s=r;for(;++i[s]===n[s];){if(s===0)return t?a.map(t):a;i[s--]=0}}}function H2(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?i=>n+=+i||0:i=>n+=+t(i,r++,e)||0)}function A0(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let f of e)(f=t(f,++s,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function V2(e,t){const n=A0(e,t);return n&&Math.sqrt(n)}function Wn(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class yr{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,f=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);f&&(n[r++]=f),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class _r extends Map{constructor(t,n=C0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ff(this,t))}has(t){return super.has(Ff(this,t))}set(t,n){return super.set(E0(this,t),n)}delete(t){return super.delete(T0(this,t))}}class Za extends Set{constructor(t,n=C0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Ff(this,t))}add(t){return super.add(E0(this,t))}delete(t){return super.delete(T0(this,t))}}function Ff({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function E0({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function T0({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function C0(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pf(e){return e}function Bc(e,...t){return Rc(e,Pf,Pf,t)}function Oi(e,t,...n){return Rc(e,Pf,t,n)}function Y2(e,t,...n){return Rc(e,Array.from,t,n)}function Rc(e,t,n,r){return function i(a,s){if(s>=r.length)return n(a);const f=new _r,c=r[s++];let u=-1;for(const l of a){const d=c(l,++u,a),h=f.get(d);h?h.push(l):f.set(d,[l])}for(const[l,d]of f)f.set(l,i(d,s));return t(f)}(e,0)}function W2(e,t){return Array.from(t,n=>e[n])}function $f(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const s of t){const f=aa(s[i],s[a]);if(f)return f}})):(n=e.map(n),r.sort((i,a)=>aa(n[i],n[a]))),W2(e,r)}return e.sort(N0(n))}function N0(e=Tt){if(e===Tt)return aa;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function aa(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function jc(e,t,n){return(t.length!==2?$f(Oi(e,t,n),([r,i],[a,s])=>Tt(i,s)||Tt(r,a)):$f(Bc(e,n),([r,i],[a,s])=>t(i,s)||Tt(r,a))).map(([r])=>r)}const X2=Math.sqrt(50),G2=Math.sqrt(10),K2=Math.sqrt(2);function sa(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=X2?10:a>=G2?5:a>=K2?2:1;let f,c,u;return i<0?(u=Math.pow(10,-i)/s,f=Math.round(e*u),c=Math.round(t*u),f/u<e&&++f,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,f=Math.round(e/u),c=Math.round(t/u),f*u<e&&++f,c*u>t&&--c),c<f&&.5<=n&&n<2?sa(e,t,n*2):[f,c,u]}function fa(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?sa(t,e,n):sa(e,t,n);if(!(a>=i))return[];const f=a-i+1,c=new Array(f);if(r)if(s<0)for(let u=0;u<f;++u)c[u]=(a-u)/-s;else for(let u=0;u<f;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<f;++u)c[u]=(i+u)/-s;else for(let u=0;u<f;++u)c[u]=(i+u)*s;return c}function Bf(e,t,n){return t=+t,e=+e,n=+n,sa(e,t,n)[2]}function Rf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Bf(t,e,n):Bf(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function It(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Z2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function mn(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function J2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function D0(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?aa:N0(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,l=Math.log(c),d=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(n,Math.floor(t-u*d/c+h)),m=Math.min(r,Math.floor(t+(c-u)*d/c+h));D0(e,t,p,m,i)}const a=e[t];let s=n,f=r;for(vi(e,n,t),i(e[r],a)>0&&vi(e,n,r);s<f;){for(vi(e,s,f),++s,--f;i(e[s],a)<0;)++s;for(;i(e[f],a)>0;)--f}i(e[n],a)===0?vi(e,n,f):(++f,vi(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function vi(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function I0(e,t=Tt){let n,r=!1;if(t.length===1){let i;for(const a of e){const s=t(a);(r?Tt(s,i)>0:Tt(s,s)===0)&&(n=a,i=s,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function ca(e,t,n){if(e=Float64Array.from(P2(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return mn(e);if(t>=1)return It(e);var r,i=(r-1)*t,a=Math.floor(i),s=It(D0(e,a).subarray(0,a+1)),f=mn(e.subarray(a+1));return s+(f-s)*(i-a)}}function Q2(e,t,n=M0){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),f=+n(e[a+1],a+1,e);return s+(f-s)*(i-a)}}function e_(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function jf(e,t){return ca(e,.5,t)}function*t_(e){for(const t of e)yield*t}function L0(e){return Array.from(t_(e))}function n_(e,t){const n=new _r;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let s of e)(s=t(s,++a,e))!=null&&s>=s&&n.set(s,(n.get(s)||0)+1)}let r,i=0;for(const[a,s]of n)s>i&&(i=s,r=a);return r}function r_(e,t=i_){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function i_(e,t){return[e,t]}function qf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function vr(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function ua(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function o_(e){return e}var $s=1,Bs=2,zf=3,Mo=4,fl=1e-6;function a_(e){return"translate("+e+",0)"}function s_(e){return"translate(0,"+e+")"}function f_(e){return t=>+e(t)}function c_(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function u_(){return!this.__axis}function l_(e,t){var n=[],r=null,i=null,a=6,s=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===$s||e===Mo?-1:1,l=e===Mo||e===Bs?"x":"y",d=e===$s||e===zf?a_:s_;function h(p){var m=r??(t.ticks?t.ticks.apply(t,n):t.domain()),g=i??(t.tickFormat?t.tickFormat.apply(t,n):o_),b=Math.max(a,0)+f,w=t.range(),y=+w[0]+c,x=+w[w.length-1]+c,_=(t.bandwidth?c_:f_)(t.copy(),c),v=p.selection?p.selection():p,k=v.selectAll(".domain").data([null]),S=v.selectAll(".tick").data(m,t).order(),C=S.exit(),D=S.enter().append("g").attr("class","tick"),A=S.select("line"),M=S.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(D),A=A.merge(D.append("line").attr("stroke","currentColor").attr(l+"2",u*a)),M=M.merge(D.append("text").attr("fill","currentColor").attr(l,u*b).attr("dy",e===$s?"0em":e===zf?"0.71em":"0.32em")),p!==v&&(k=k.transition(p),S=S.transition(p),A=A.transition(p),M=M.transition(p),C=C.transition(p).attr("opacity",fl).attr("transform",function(I){return isFinite(I=_(I))?d(I+c):this.getAttribute("transform")}),D.attr("opacity",fl).attr("transform",function(I){var N=this.parentNode.__axis;return d((N&&isFinite(N=N(I))?N:_(I))+c)})),C.remove(),k.attr("d",e===Mo||e===Bs?s?"M"+u*s+","+y+"H"+c+"V"+x+"H"+u*s:"M"+c+","+y+"V"+x:s?"M"+y+","+u*s+"V"+c+"H"+x+"V"+u*s:"M"+y+","+c+"H"+x),S.attr("opacity",1).attr("transform",function(I){return d(_(I)+c)}),A.attr(l+"2",u*a),M.attr(l,u*b).text(g),v.filter(u_).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Bs?"start":e===Mo?"end":"middle"),v.each(function(){this.__axis=_})}return h.scale=function(p){return arguments.length?(t=p,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),h):n.slice()},h.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),h):r&&r.slice()},h.tickFormat=function(p){return arguments.length?(i=p,h):i},h.tickSize=function(p){return arguments.length?(a=s=+p,h):a},h.tickSizeInner=function(p){return arguments.length?(a=+p,h):a},h.tickSizeOuter=function(p){return arguments.length?(s=+p,h):s},h.tickPadding=function(p){return arguments.length?(f=+p,h):f},h.offset=function(p){return arguments.length?(c=+p,h):c},h}function d_(e){return l_(zf,e)}function St(e){return typeof e=="string"?new Ku([[document.querySelector(e)]],[document.documentElement]):new Ku([[e]],_y)}function h_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Uf(e,t){if(e=h_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Hf={capture:!0,passive:!1};function Vf(e){e.preventDefault(),e.stopImmediatePropagation()}function p_(e){var t=e.document.documentElement,n=St(e).on("dragstart.drag",Vf,Hf);"onselectstart"in t?n.on("selectstart.drag",Vf,Hf):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function g_(e,t){var n=e.document.documentElement,r=St(e).on("dragstart.drag",null);t&&(r.on("click.drag",Vf,Hf),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const O0=Math.PI/180,F0=180/Math.PI,la=18,P0=.96422,$0=1,B0=.82521,R0=4/29,Wr=6/29,j0=3*Wr*Wr,m_=Wr*Wr*Wr;function q0(e){if(e instanceof pn)return new pn(e.l,e.a,e.b,e.opacity);if(e instanceof Cn)return z0(e);e instanceof Ga||(e=b0(e));var t=zs(e.r),n=zs(e.g),r=zs(e.b),i=Rs((.2225045*t+.7168786*n+.0606169*r)/$0),a,s;return t===n&&n===r?a=s=i:(a=Rs((.4360747*t+.3850649*n+.1430804*r)/P0),s=Rs((.0139322*t+.0971045*n+.7141733*r)/B0)),new pn(116*i-16,500*(a-i),200*(i-s),e.opacity)}function Yf(e,t,n,r){return arguments.length===1?q0(e):new pn(e,t,n,r??1)}function pn(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Dc(pn,Yf,Ic(Lc,{brighter(e){return new pn(this.l+la*(e??1),this.a,this.b,this.opacity)},darker(e){return new pn(this.l-la*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=P0*js(t),e=$0*js(e),n=B0*js(n),new Ga(qs(3.1338561*t-1.6168667*e-.4906146*n),qs(-.9787684*t+1.9161415*e+.033454*n),qs(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Rs(e){return e>m_?Math.pow(e,1/3):e/j0+R0}function js(e){return e>Wr?e*e*e:j0*(e-R0)}function qs(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function zs(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function b_(e){if(e instanceof Cn)return new Cn(e.h,e.c,e.l,e.opacity);if(e instanceof pn||(e=q0(e)),e.a===0&&e.b===0)return new Cn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*F0;return new Cn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function da(e,t,n,r){return arguments.length===1?b_(e):new Cn(e,t,n,r??1)}function Cn(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function z0(e){if(isNaN(e.h))return new pn(e.l,0,0,e.opacity);var t=e.h*O0;return new pn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Dc(Cn,da,Ic(Lc,{brighter(e){return new Cn(this.h,this.c,this.l+la*(e??1),this.opacity)},darker(e){return new Cn(this.h,this.c,this.l-la*(e??1),this.opacity)},rgb(){return z0(this).rgb()}}));var U0=-.14861,qc=1.78277,zc=-.29227,Ja=-.90649,qi=1.97294,cl=qi*Ja,ul=qi*qc,ll=qc*zc-Ja*U0;function y_(e){if(e instanceof dr)return new dr(e.h,e.s,e.l,e.opacity);e instanceof Ga||(e=b0(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(ll*r+cl*t-ul*n)/(ll+cl-ul),a=r-i,s=(qi*(n-i)-zc*a)/Ja,f=Math.sqrt(s*s+a*a)/(qi*i*(1-i)),c=f?Math.atan2(s,a)*F0-120:NaN;return new dr(c<0?c+360:c,f,i,e.opacity)}function bn(e,t,n,r){return arguments.length===1?y_(e):new dr(e,t,n,r??1)}function dr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Dc(dr,bn,Ic(Lc,{brighter(e){return e=e==null?Zu:Math.pow(Zu,e),new dr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ju:Math.pow(Ju,e),new dr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*O0,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new Ga(255*(t+n*(U0*r+qc*i)),255*(t+n*(zc*r+Ja*i)),255*(t+n*(qi*r)),this.opacity)}}));function __(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function v_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function w_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=di(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(f){for(s=0;s<r;++s)a[s]=i[s](f);return a}}function x_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function S_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=di(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}function di(e,t){var n=typeof t,r;return t==null||n==="boolean"?vy(t):(n==="number"?Zn:n==="string"?(r=Qu(t))?(t=r,Ri):wy:t instanceof Qu?Ri:t instanceof Date?x_:v_(t)?__:Array.isArray(t)?w_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?S_:Zn)(e,t)}function Uc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function k_(e){return function(t,n){var r=e((t=el(t)).h,(n=el(n)).h),i=Mt(t.s,n.s),a=Mt(t.l,n.l),s=Mt(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const M_=k_(Oc);function A_(e,t){var n=Mt((e=Yf(e)).l,(t=Yf(t)).l),r=Mt(e.a,t.a),i=Mt(e.b,t.b),a=Mt(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function E_(e){return function(t,n){var r=e((t=da(t)).h,(n=da(n)).h),i=Mt(t.c,n.c),a=Mt(t.l,n.l),s=Mt(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=a(f),t.opacity=s(f),t+""}}}const T_=E_(Oc);function H0(e){return function t(n){n=+n;function r(i,a){var s=e((i=bn(i)).h,(a=bn(a)).h),f=Mt(i.s,a.s),c=Mt(i.l,a.l),u=Mt(i.opacity,a.opacity);return function(l){return i.h=s(l),i.s=f(l),i.l=c(Math.pow(l,n)),i.opacity=u(l),i+""}}return r.gamma=t,r}(1)}H0(Oc);var Hc=H0(Mt);function Qa(e,t){t===void 0&&(t=e,e=di);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var f=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[f](s-f)}}function en(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const Us=e=>()=>e;function C_(e,{sourceEvent:t,target:n,selection:r,mode:i,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function N_(e){e.stopImmediatePropagation()}function Hs(e){e.preventDefault(),e.stopImmediatePropagation()}var dl={name:"drag"},Vs={name:"space"},Or={name:"handle"},Fr={name:"center"};const{abs:hl,max:rt,min:ot}=Math;function pl(e){return[+e[0],+e[1]]}function gl(e){return[pl(e[0]),pl(e[1])]}var Zo={name:"x",handles:["w","e"].map(ha),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Ys={name:"y",handles:["n","s"].map(ha),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},xn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ml={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bl={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},D_={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},I_={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ha(e){return{type:e}}function L_(e){return!e.ctrlKey&&!e.button}function O_(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function F_(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ws(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function P_(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function $_(){return B_(Zo)}function B_(e){var t=O_,n=L_,r=F_,i=!0,a=xy("start","brush","end"),s=6,f;function c(b){var w=b.property("__brush",g).selectAll(".overlay").data([ha("overlay")]);w.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",xn.overlay).merge(w).each(function(){var x=Ws(this).extent;St(this).attr("x",x[0][0]).attr("y",x[0][1]).attr("width",x[1][0]-x[0][0]).attr("height",x[1][1]-x[0][1])}),b.selectAll(".selection").data([ha("selection")]).enter().append("rect").attr("class","selection").attr("cursor",xn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var y=b.selectAll(".handle").data(e.handles,function(x){return x.type});y.exit().remove(),y.enter().append("rect").attr("class",function(x){return"handle handle--"+x.type}).attr("cursor",function(x){return xn[x.type]}),b.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(r).on("touchstart.brush",h).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(b,w,y){b.tween?b.on("start.brush",function(x){l(this,arguments).beforestart().start(x)}).on("interrupt.brush end.brush",function(x){l(this,arguments).end(x)}).tween("brush",function(){var x=this,_=x.__brush,v=l(x,arguments),k=_.selection,S=e.input(typeof w=="function"?w.apply(this,arguments):w,_.extent),C=di(k,S);function D(A){_.selection=A===1&&S===null?null:C(A),u.call(x),v.brush()}return k!==null&&S!==null?D:D(1)}):b.each(function(){var x=this,_=arguments,v=x.__brush,k=e.input(typeof w=="function"?w.apply(x,_):w,v.extent),S=l(x,_).beforestart();tl(x),v.selection=k===null?null:k,u.call(x),S.start(y).brush(y).end(y)})},c.clear=function(b,w){c.move(b,null,w)};function u(){var b=St(this),w=Ws(this).selection;w?(b.selectAll(".selection").style("display",null).attr("x",w[0][0]).attr("y",w[0][1]).attr("width",w[1][0]-w[0][0]).attr("height",w[1][1]-w[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(y){return y.type[y.type.length-1]==="e"?w[1][0]-s/2:w[0][0]-s/2}).attr("y",function(y){return y.type[0]==="s"?w[1][1]-s/2:w[0][1]-s/2}).attr("width",function(y){return y.type==="n"||y.type==="s"?w[1][0]-w[0][0]+s:s}).attr("height",function(y){return y.type==="e"||y.type==="w"?w[1][1]-w[0][1]+s:s})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(b,w,y){var x=b.__brush.emitter;return x&&(!y||!x.clean)?x:new d(b,w,y)}function d(b,w,y){this.that=b,this.args=w,this.state=b.__brush,this.active=0,this.clean=y}d.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,w){return this.starting?(this.starting=!1,this.emit("start",b,w)):this.emit("brush",b),this},brush:function(b,w){return this.emit("brush",b,w),this},end:function(b,w){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,w)),this},emit:function(b,w,y){var x=St(this.that).datum();a.call(b,this.that,new C_(b,{sourceEvent:w,target:c,selection:e.output(this.state.selection),mode:y,dispatch:a}),x)}};function h(b){if(f&&!b.touches||!n.apply(this,arguments))return;var w=this,y=b.target.__data__.type,x=(i&&b.metaKey?y="overlay":y)==="selection"?dl:i&&b.altKey?Fr:Or,_=e===Ys?null:D_[y],v=e===Zo?null:I_[y],k=Ws(w),S=k.extent,C=k.selection,D=S[0][0],A,M,I=S[0][1],N,P,E=S[1][0],j,Z,re=S[1][1],J,W,H=0,X=0,K,O=_&&v&&i&&b.shiftKey,ne,ue,Y=Array.from(b.touches||[b],U=>{const pe=U.identifier;return U=Uf(U,w),U.point0=U.slice(),U.identifier=pe,U});tl(w);var se=l(w,arguments,!0).beforestart();if(y==="overlay"){C&&(K=!0);const U=[Y[0],Y[1]||Y[0]];k.selection=C=[[A=e===Ys?D:ot(U[0][0],U[1][0]),N=e===Zo?I:ot(U[0][1],U[1][1])],[j=e===Ys?E:rt(U[0][0],U[1][0]),J=e===Zo?re:rt(U[0][1],U[1][1])]],Y.length>1&&ce(b)}else A=C[0][0],N=C[0][1],j=C[1][0],J=C[1][1];M=A,P=N,Z=j,W=J;var T=St(w).attr("pointer-events","none"),z=T.selectAll(".overlay").attr("cursor",xn[y]);if(b.touches)se.moved=F,se.ended=fe;else{var V=St(b.view).on("mousemove.brush",F,!0).on("mouseup.brush",fe,!0);i&&V.on("keydown.brush",de,!0).on("keyup.brush",me,!0),p_(b.view)}u.call(w),se.start(b,x.name);function F(U){for(const pe of U.changedTouches||[U])for(const Ae of Y)Ae.identifier===pe.identifier&&(Ae.cur=Uf(pe,w));if(O&&!ne&&!ue&&Y.length===1){const pe=Y[0];hl(pe.cur[0]-pe[0])>hl(pe.cur[1]-pe[1])?ue=!0:ne=!0}for(const pe of Y)pe.cur&&(pe[0]=pe.cur[0],pe[1]=pe.cur[1]);K=!0,Hs(U),ce(U)}function ce(U){const pe=Y[0],Ae=pe.point0;var Pe;switch(H=pe[0]-Ae[0],X=pe[1]-Ae[1],x){case Vs:case dl:{_&&(H=rt(D-A,ot(E-j,H)),M=A+H,Z=j+H),v&&(X=rt(I-N,ot(re-J,X)),P=N+X,W=J+X);break}case Or:{Y[1]?(_&&(M=rt(D,ot(E,Y[0][0])),Z=rt(D,ot(E,Y[1][0])),_=1),v&&(P=rt(I,ot(re,Y[0][1])),W=rt(I,ot(re,Y[1][1])),v=1)):(_<0?(H=rt(D-A,ot(E-A,H)),M=A+H,Z=j):_>0&&(H=rt(D-j,ot(E-j,H)),M=A,Z=j+H),v<0?(X=rt(I-N,ot(re-N,X)),P=N+X,W=J):v>0&&(X=rt(I-J,ot(re-J,X)),P=N,W=J+X));break}case Fr:{_&&(M=rt(D,ot(E,A-H*_)),Z=rt(D,ot(E,j+H*_))),v&&(P=rt(I,ot(re,N-X*v)),W=rt(I,ot(re,J+X*v)));break}}Z<M&&(_*=-1,Pe=A,A=j,j=Pe,Pe=M,M=Z,Z=Pe,y in ml&&z.attr("cursor",xn[y=ml[y]])),W<P&&(v*=-1,Pe=N,N=J,J=Pe,Pe=P,P=W,W=Pe,y in bl&&z.attr("cursor",xn[y=bl[y]])),k.selection&&(C=k.selection),ne&&(M=C[0][0],Z=C[1][0]),ue&&(P=C[0][1],W=C[1][1]),(C[0][0]!==M||C[0][1]!==P||C[1][0]!==Z||C[1][1]!==W)&&(k.selection=[[M,P],[Z,W]],u.call(w),se.brush(U,x.name))}function fe(U){if(N_(U),U.touches){if(U.touches.length)return;f&&clearTimeout(f),f=setTimeout(function(){f=null},500)}else g_(U.view,K),V.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);T.attr("pointer-events","all"),z.attr("cursor",xn.overlay),k.selection&&(C=k.selection),P_(C)&&(k.selection=null,u.call(w)),se.end(U,x.name)}function de(U){switch(U.keyCode){case 16:{O=_&&v;break}case 18:{x===Or&&(_&&(j=Z-H*_,A=M+H*_),v&&(J=W-X*v,N=P+X*v),x=Fr,ce(U));break}case 32:{(x===Or||x===Fr)&&(_<0?j=Z-H:_>0&&(A=M-H),v<0?J=W-X:v>0&&(N=P-X),x=Vs,z.attr("cursor",xn.selection),ce(U));break}default:return}Hs(U)}function me(U){switch(U.keyCode){case 16:{O&&(ne=ue=O=!1,ce(U));break}case 18:{x===Fr&&(_<0?j=Z:_>0&&(A=M),v<0?J=W:v>0&&(N=P),x=Or,ce(U));break}case 32:{x===Vs&&(U.altKey?(_&&(j=Z-H*_,A=M+H*_),v&&(J=W-X*v,N=P+X*v),x=Fr):(_<0?j=Z:_>0&&(A=M),v<0?J=W:v>0&&(N=P),x=Or),z.attr("cursor",xn[y]),ce(U));break}default:return}Hs(U)}}function p(b){l(this,arguments).moved(b)}function m(b){l(this,arguments).ended(b)}function g(){var b=this.__brush||{selection:null};return b.extent=gl(t.apply(this,arguments)),b.dim=e,b}return c.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Us(gl(b)),c):t},c.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Us(!!b),c):n},c.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Us(!!b),c):r},c.handleSize=function(b){return arguments.length?(s=+b,c):s},c.keyModifiers=function(b){return arguments.length?(i=!!b,c):i},c.on=function(){var b=a.on.apply(a,arguments);return b===a?c:b},c}const Wf=Math.PI,Xf=2*Wf,ar=1e-6,R_=Xf-ar;function V0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function j_(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return V0;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Y0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?V0:j_(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,f=this._y1,c=r-t,u=i-n,l=s-t,d=f-n,h=l*l+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>ar)if(!(Math.abs(d*c-u*l)>ar)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let p=r-s,m=i-f,g=c*c+u*u,b=p*p+m*m,w=Math.sqrt(g),y=Math.sqrt(h),x=a*Math.tan((Wf-Math.acos((g+h-b)/(2*w*y)))/2),_=x/y,v=x/w;Math.abs(_-1)>ar&&this._append`L${t+_*l},${n+_*d}`,this._append`A${a},${a},0,0,${+(d*p>l*m)},${this._x1=t+v*c},${this._y1=n+v*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),u=t+f,l=n+c,d=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${l}`:(Math.abs(this._x1-u)>ar||Math.abs(this._y1-l)>ar)&&this._append`L${u},${l}`,r&&(h<0&&(h=h%Xf+Xf),h>R_?this._append`A${r},${r},0,1,${d},${t-f},${n-c}A${r},${r},0,1,${d},${this._x1=u},${this._y1=l}`:h>ar&&this._append`A${r},${r},0,${+(h>=Wf)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Un(e=3){return new Y0(+e)}function q_(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function pa(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Qr(e){return e=pa(Math.abs(e)),e?e[1]:NaN}function z_(e,t){return function(n,r){for(var i=n.length,a=[],s=0,f=e[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=e[s=(s+1)%e.length];return a.reverse().join(t)}}function U_(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var H_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zi(e){if(!(t=H_.exec(e)))throw new Error("invalid format: "+e);var t;return new Vc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zi.prototype=Vc.prototype;function Vc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function V_(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var W0;function Y_(e,t){var n=pa(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(W0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+pa(e,Math.max(0,t+a-1))[0]}function yl(e,t){var n=pa(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _l={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q_,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yl(e*100,t),r:yl,s:Y_,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vl(e){return e}var wl=Array.prototype.map,xl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function W_(e){var t=e.grouping===void 0||e.thousands===void 0?vl:z_(wl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?vl:U_(wl.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=zi(d);var h=d.fill,p=d.align,m=d.sign,g=d.symbol,b=d.zero,w=d.width,y=d.comma,x=d.precision,_=d.trim,v=d.type;v==="n"?(y=!0,v="g"):_l[v]||(x===void 0&&(x=12),_=!0,v="g"),(b||h==="0"&&p==="=")&&(b=!0,h="0",p="=");var k=g==="$"?n:g==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",S=g==="$"?r:/[%p]/.test(v)?s:"",C=_l[v],D=/[defgprs%]/.test(v);x=x===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function A(M){var I=k,N=S,P,E,j;if(v==="c")N=C(M)+N,M="";else{M=+M;var Z=M<0||1/M<0;if(M=isNaN(M)?c:C(Math.abs(M),x),_&&(M=V_(M)),Z&&+M==0&&m!=="+"&&(Z=!1),I=(Z?m==="("?m:f:m==="-"||m==="("?"":m)+I,N=(v==="s"?xl[8+W0/3]:"")+N+(Z&&m==="("?")":""),D){for(P=-1,E=M.length;++P<E;)if(j=M.charCodeAt(P),48>j||j>57){N=(j===46?i+M.slice(P+1):M.slice(P))+N,M=M.slice(0,P);break}}}y&&!b&&(M=t(M,1/0));var re=I.length+M.length+N.length,J=re<w?new Array(w-re+1).join(h):"";switch(y&&b&&(M=t(J+M,J.length?w-N.length:1/0),J=""),p){case"<":M=I+M+N+J;break;case"=":M=I+J+M+N;break;case"^":M=J.slice(0,re=J.length>>1)+I+M+N+J.slice(re);break;default:M=J+I+M+N;break}return a(M)}return A.toString=function(){return d+""},A}function l(d,h){var p=u((d=zi(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(Qr(h)/3)))*3,g=Math.pow(10,-m),b=xl[8+m/3];return function(w){return p(g*w)+b}}return{format:u,formatPrefix:l}}var Ao,hi,X0;X_({thousands:",",grouping:[3],currency:["$",""]});function X_(e){return Ao=W_(e),hi=Ao.format,X0=Ao.formatPrefix,Ao}function G_(e){return Math.max(0,-Qr(Math.abs(e)))}function K_(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Qr(t)/3)))*3-Qr(Math.abs(e)))}function Z_(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Qr(t)-Qr(e))+1}var ye=1e-6,G0=1e-12,we=Math.PI,ze=we/2,Sl=we/4,Lt=we*2,ht=180/we,qe=we/180,Ie=Math.abs,pi=Math.atan,Ln=Math.atan2,ve=Math.cos,K0=Math.exp,ga=Math.log,Xs=Math.pow,be=Math.sin,qt=Math.sign||function(e){return e>0?1:e<0?-1:0},Ct=Math.sqrt,Yc=Math.tan;function Z0(e){return e>1?0:e<-1?we:Math.acos(e)}function Yt(e){return e>1?ze:e<-1?-ze:Math.asin(e)}function zt(){}function ma(e,t){e&&Ml.hasOwnProperty(e.type)&&Ml[e.type](e,t)}var kl={Feature:function(e,t){ma(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)ma(n[r].geometry,t)}},Ml={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Gf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Gf(n[r],t,0)},Polygon:function(e,t){Al(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Al(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)ma(n[r],t)}};function Gf(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Al(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Gf(e[n],t,1);t.polygonEnd()}function sr(e,t){e&&kl.hasOwnProperty(e.type)?kl[e.type](e,t):ma(e,t)}function Kf(e){return[Ln(e[1],e[0]),Yt(e[2])]}function ei(e){var t=e[0],n=e[1],r=ve(n);return[r*ve(t),r*be(t),be(n)]}function Eo(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ba(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Gs(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function To(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Zf(e){var t=Ct(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Jf(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Qf(e,t){return Ie(e)>we&&(e-=Math.round(e/Lt)*Lt),[e,t]}Qf.invert=Qf;function J0(e,t,n){return(e%=Lt)?t||n?Jf(Tl(e),Cl(t,n)):Tl(e):t||n?Cl(t,n):Qf}function El(e){return function(t,n){return t+=e,Ie(t)>we&&(t-=Math.round(t/Lt)*Lt),[t,n]}}function Tl(e){var t=El(e);return t.invert=El(-e),t}function Cl(e,t){var n=ve(e),r=be(e),i=ve(t),a=be(t);function s(f,c){var u=ve(c),l=ve(f)*u,d=be(f)*u,h=be(c),p=h*n+l*r;return[Ln(d*i-p*a,l*n-h*r),Yt(p*i+d*a)]}return s.invert=function(f,c){var u=ve(c),l=ve(f)*u,d=be(f)*u,h=be(c),p=h*i-d*a;return[Ln(d*i+h*a,l*n+p*r),Yt(p*n-l*r)]},s}function J_(e){e=J0(e[0]*qe,e[1]*qe,e.length>2?e[2]*qe:0);function t(n){return n=e(n[0]*qe,n[1]*qe),n[0]*=ht,n[1]*=ht,n}return t.invert=function(n){return n=e.invert(n[0]*qe,n[1]*qe),n[0]*=ht,n[1]*=ht,n},t}function Q_(e,t,n,r,i,a){if(n){var s=ve(t),f=be(t),c=r*n;i==null?(i=t+r*Lt,a=t-c/2):(i=Nl(s,i),a=Nl(s,a),(r>0?i<a:i>a)&&(i+=r*Lt));for(var u,l=i;r>0?l>a:l<a;l-=c)u=Kf([s,-f*ve(l),-f*be(l)]),e.point(u[0],u[1])}}function Nl(e,t){t=ei(t),t[0]-=e,Zf(t);var n=Z0(-t[1]);return((-t[2]<0?-n:n)+Lt-ye)%Lt}function Q0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:zt,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Jo(e,t){return Ie(e[0]-t[0])<ye&&Ie(e[1]-t[1])<ye}function Co(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function e1(e,t,n,r,i){var a=[],s=[],f,c;if(e.forEach(function(m){if(!((g=m.length-1)<=0)){var g,b=m[0],w=m[g],y;if(Jo(b,w)){if(!b[2]&&!w[2]){for(i.lineStart(),f=0;f<g;++f)i.point((b=m[f])[0],b[1]);i.lineEnd();return}w[0]+=2*ye}a.push(y=new Co(b,m,null,!0)),s.push(y.o=new Co(b,null,y,!1)),a.push(y=new Co(w,m,null,!1)),s.push(y.o=new Co(w,null,y,!0))}}),!!a.length){for(s.sort(t),Dl(a),Dl(s),f=0,c=s.length;f<c;++f)s[f].e=n=!n;for(var u=a[0],l,d;;){for(var h=u,p=!0;h.v;)if((h=h.n)===u)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(f=0,c=l.length;f<c;++f)i.point((d=l[f])[0],d[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p)for(l=h.p.z,f=l.length-1;f>=0;--f)i.point((d=l[f])[0],d[1]);else r(h.x,h.p.x,-1,i);h=h.p}h=h.o,l=h.z,p=!p}while(!h.v);i.lineEnd()}}}function Dl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Ks(e){return Ie(e[0])<=we?e[0]:qt(e[0])*((Ie(e[0])+we)%Lt-we)}function ev(e,t){var n=Ks(t),r=t[1],i=be(r),a=[be(n),-ve(n),0],s=0,f=0,c=new yr;i===1?r=ze+ye:i===-1&&(r=-ze-ye);for(var u=0,l=e.length;u<l;++u)if(h=(d=e[u]).length)for(var d,h,p=d[h-1],m=Ks(p),g=p[1]/2+Sl,b=be(g),w=ve(g),y=0;y<h;++y,m=_,b=k,w=S,p=x){var x=d[y],_=Ks(x),v=x[1]/2+Sl,k=be(v),S=ve(v),C=_-m,D=C>=0?1:-1,A=D*C,M=A>we,I=b*k;if(c.add(Ln(I*D*be(A),w*S+I*ve(A))),s+=M?C+D*Lt:C,M^m>=n^_>=n){var N=ba(ei(p),ei(x));Zf(N);var P=ba(a,N);Zf(P);var E=(M^C>=0?-1:1)*Yt(P[2]);(r>E||r===E&&(N[0]||N[1]))&&(f+=M^C>=0?1:-1)}}return(s<-ye||s<ye&&c<-G0)^f&1}function t1(e,t,n,r){return function(i){var a=t(i),s=Q0(),f=t(s),c=!1,u,l,d,h={point:p,lineStart:g,lineEnd:b,polygonStart:function(){h.point=w,h.lineStart=y,h.lineEnd=x,l=[],u=[]},polygonEnd:function(){h.point=p,h.lineStart=g,h.lineEnd=b,l=L0(l);var _=ev(u,r);l.length?(c||(i.polygonStart(),c=!0),e1(l,nv,_,n,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),l=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(_,v){e(_,v)&&i.point(_,v)}function m(_,v){a.point(_,v)}function g(){h.point=m,a.lineStart()}function b(){h.point=p,a.lineEnd()}function w(_,v){d.push([_,v]),f.point(_,v)}function y(){f.lineStart(),d=[]}function x(){w(d[0][0],d[0][1]),f.lineEnd();var _=f.clean(),v=s.result(),k,S=v.length,C,D,A;if(d.pop(),u.push(d),d=null,!!S){if(_&1){if(D=v[0],(C=D.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),k=0;k<C;++k)i.point((A=D[k])[0],A[1]);i.lineEnd()}return}S>1&&_&2&&v.push(v.pop().concat(v.shift())),l.push(v.filter(tv))}}return h}}function tv(e){return e.length>1}function nv(e,t){return((e=e.x)[0]<0?e[1]-ze-ye:ze-e[1])-((t=t.x)[0]<0?t[1]-ze-ye:ze-t[1])}const Il=t1(function(){return!0},rv,ov,[-we,-ze]);function rv(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var f=a>0?we:-we,c=Ie(a-t);Ie(c-we)<ye?(e.point(t,n=(n+s)/2>0?ze:-ze),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(a,n),i=0):r!==f&&c>=we&&(Ie(t-r)<ye&&(t-=r*ye),Ie(a-f)<ye&&(a-=f*ye),n=iv(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=a,n=s),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function iv(e,t,n,r){var i,a,s=be(e-n);return Ie(s)>ye?pi((be(t)*(a=ve(r))*be(n)-be(r)*(i=ve(t))*be(e))/(i*a*s)):(t+r)/2}function ov(e,t,n,r){var i;if(e==null)i=n*ze,r.point(-we,i),r.point(0,i),r.point(we,i),r.point(we,0),r.point(we,-i),r.point(0,-i),r.point(-we,-i),r.point(-we,0),r.point(-we,i);else if(Ie(e[0]-t[0])>ye){var a=e[0]<t[0]?we:-we;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function av(e){var t=ve(e),n=6*qe,r=t>0,i=Ie(t)>ye;function a(l,d,h,p){Q_(p,e,n,h,l,d)}function s(l,d){return ve(l)*ve(d)>t}function f(l){var d,h,p,m,g;return{lineStart:function(){m=p=!1,g=1},point:function(b,w){var y=[b,w],x,_=s(b,w),v=r?_?0:u(b,w):_?u(b+(b<0?we:-we),w):0;if(!d&&(m=p=_)&&l.lineStart(),_!==p&&(x=c(d,y),(!x||Jo(d,x)||Jo(y,x))&&(y[2]=1)),_!==p)g=0,_?(l.lineStart(),x=c(y,d),l.point(x[0],x[1])):(x=c(d,y),l.point(x[0],x[1],2),l.lineEnd()),d=x;else if(i&&d&&r^_){var k;!(v&h)&&(k=c(y,d,!0))&&(g=0,r?(l.lineStart(),l.point(k[0][0],k[0][1]),l.point(k[1][0],k[1][1]),l.lineEnd()):(l.point(k[1][0],k[1][1]),l.lineEnd(),l.lineStart(),l.point(k[0][0],k[0][1],3)))}_&&(!d||!Jo(d,y))&&l.point(y[0],y[1]),d=y,p=_,h=v},lineEnd:function(){p&&l.lineEnd(),d=null},clean:function(){return g|(m&&p)<<1}}}function c(l,d,h){var p=ei(l),m=ei(d),g=[1,0,0],b=ba(p,m),w=Eo(b,b),y=b[0],x=w-y*y;if(!x)return!h&&l;var _=t*w/x,v=-t*y/x,k=ba(g,b),S=To(g,_),C=To(b,v);Gs(S,C);var D=k,A=Eo(S,D),M=Eo(D,D),I=A*A-M*(Eo(S,S)-1);if(!(I<0)){var N=Ct(I),P=To(D,(-A-N)/M);if(Gs(P,S),P=Kf(P),!h)return P;var E=l[0],j=d[0],Z=l[1],re=d[1],J;j<E&&(J=E,E=j,j=J);var W=j-E,H=Ie(W-we)<ye,X=H||W<ye;if(!H&&re<Z&&(J=Z,Z=re,re=J),X?H?Z+re>0^P[1]<(Ie(P[0]-E)<ye?Z:re):Z<=P[1]&&P[1]<=re:W>we^(E<=P[0]&&P[0]<=j)){var K=To(D,(-A+N)/M);return Gs(K,S),[P,Kf(K)]}}}function u(l,d){var h=r?e:we-e,p=0;return l<-h?p|=1:l>h&&(p|=2),d<-h?p|=4:d>h&&(p|=8),p}return t1(s,f,a,r?[0,-e]:[-we,e-we])}function sv(e,t,n,r,i,a){var s=e[0],f=e[1],c=t[0],u=t[1],l=0,d=1,h=c-s,p=u-f,m;if(m=n-s,!(!h&&m>0)){if(m/=h,h<0){if(m<l)return;m<d&&(d=m)}else if(h>0){if(m>d)return;m>l&&(l=m)}if(m=i-s,!(!h&&m<0)){if(m/=h,h<0){if(m>d)return;m>l&&(l=m)}else if(h>0){if(m<l)return;m<d&&(d=m)}if(m=r-f,!(!p&&m>0)){if(m/=p,p<0){if(m<l)return;m<d&&(d=m)}else if(p>0){if(m>d)return;m>l&&(l=m)}if(m=a-f,!(!p&&m<0)){if(m/=p,p<0){if(m>d)return;m>l&&(l=m)}else if(p>0){if(m<l)return;m<d&&(d=m)}return l>0&&(e[0]=s+l*h,e[1]=f+l*p),d<1&&(t[0]=s+d*h,t[1]=f+d*p),!0}}}}}var Ei=1e9,No=-Ei;function n1(e,t,n,r){function i(u,l){return e<=u&&u<=n&&t<=l&&l<=r}function a(u,l,d,h){var p=0,m=0;if(u==null||(p=s(u,d))!==(m=s(l,d))||c(u,l)<0^d>0)do h.point(p===0||p===3?e:n,p>1?r:t);while((p=(p+d+4)%4)!==m);else h.point(l[0],l[1])}function s(u,l){return Ie(u[0]-e)<ye?l>0?0:3:Ie(u[0]-n)<ye?l>0?2:1:Ie(u[1]-t)<ye?l>0?1:0:l>0?3:2}function f(u,l){return c(u.x,l.x)}function c(u,l){var d=s(u,1),h=s(l,1);return d!==h?d-h:d===0?l[1]-u[1]:d===1?u[0]-l[0]:d===2?u[1]-l[1]:l[0]-u[0]}return function(u){var l=u,d=Q0(),h,p,m,g,b,w,y,x,_,v,k,S={point:C,lineStart:I,lineEnd:N,polygonStart:A,polygonEnd:M};function C(E,j){i(E,j)&&l.point(E,j)}function D(){for(var E=0,j=0,Z=p.length;j<Z;++j)for(var re=p[j],J=1,W=re.length,H=re[0],X,K,O=H[0],ne=H[1];J<W;++J)X=O,K=ne,H=re[J],O=H[0],ne=H[1],K<=r?ne>r&&(O-X)*(r-K)>(ne-K)*(e-X)&&++E:ne<=r&&(O-X)*(r-K)<(ne-K)*(e-X)&&--E;return E}function A(){l=d,h=[],p=[],k=!0}function M(){var E=D(),j=k&&E,Z=(h=L0(h)).length;(j||Z)&&(u.polygonStart(),j&&(u.lineStart(),a(null,null,1,u),u.lineEnd()),Z&&e1(h,f,E,a,u),u.polygonEnd()),l=u,h=p=m=null}function I(){S.point=P,p&&p.push(m=[]),v=!0,_=!1,y=x=NaN}function N(){h&&(P(g,b),w&&_&&d.rejoin(),h.push(d.result())),S.point=C,_&&l.lineEnd()}function P(E,j){var Z=i(E,j);if(p&&m.push([E,j]),v)g=E,b=j,w=Z,v=!1,Z&&(l.lineStart(),l.point(E,j));else if(Z&&_)l.point(E,j);else{var re=[y=Math.max(No,Math.min(Ei,y)),x=Math.max(No,Math.min(Ei,x))],J=[E=Math.max(No,Math.min(Ei,E)),j=Math.max(No,Math.min(Ei,j))];sv(re,J,e,t,n,r)?(_||(l.lineStart(),l.point(re[0],re[1])),l.point(J[0],J[1]),Z||l.lineEnd(),k=!1):Z&&(l.lineStart(),l.point(E,j),k=!1)}y=E,x=j,_=Z}return S}}const ec=e=>e;var Zs=new yr,tc=new yr,r1,i1,nc,rc,qn={point:zt,lineStart:zt,lineEnd:zt,polygonStart:function(){qn.lineStart=fv,qn.lineEnd=uv},polygonEnd:function(){qn.lineStart=qn.lineEnd=qn.point=zt,Zs.add(Ie(tc)),tc=new yr},result:function(){var e=Zs/2;return Zs=new yr,e}};function fv(){qn.point=cv}function cv(e,t){qn.point=o1,r1=nc=e,i1=rc=t}function o1(e,t){tc.add(rc*e-nc*t),nc=e,rc=t}function uv(){o1(r1,i1)}const Ll=qn;var ti=1/0,ya=ti,Ui=-ti,_a=Ui,lv={point:dv,lineStart:zt,lineEnd:zt,polygonStart:zt,polygonEnd:zt,result:function(){var e=[[ti,ya],[Ui,_a]];return Ui=_a=-(ya=ti=1/0),e}};function dv(e,t){e<ti&&(ti=e),e>Ui&&(Ui=e),t<ya&&(ya=t),t>_a&&(_a=t)}const va=lv;var ic=0,oc=0,Ti=0,wa=0,xa=0,Ur=0,ac=0,sc=0,Ci=0,a1,s1,cn,un,Qt={point:wr,lineStart:Ol,lineEnd:Fl,polygonStart:function(){Qt.lineStart=gv,Qt.lineEnd=mv},polygonEnd:function(){Qt.point=wr,Qt.lineStart=Ol,Qt.lineEnd=Fl},result:function(){var e=Ci?[ac/Ci,sc/Ci]:Ur?[wa/Ur,xa/Ur]:Ti?[ic/Ti,oc/Ti]:[NaN,NaN];return ic=oc=Ti=wa=xa=Ur=ac=sc=Ci=0,e}};function wr(e,t){ic+=e,oc+=t,++Ti}function Ol(){Qt.point=hv}function hv(e,t){Qt.point=pv,wr(cn=e,un=t)}function pv(e,t){var n=e-cn,r=t-un,i=Ct(n*n+r*r);wa+=i*(cn+e)/2,xa+=i*(un+t)/2,Ur+=i,wr(cn=e,un=t)}function Fl(){Qt.point=wr}function gv(){Qt.point=bv}function mv(){f1(a1,s1)}function bv(e,t){Qt.point=f1,wr(a1=cn=e,s1=un=t)}function f1(e,t){var n=e-cn,r=t-un,i=Ct(n*n+r*r);wa+=i*(cn+e)/2,xa+=i*(un+t)/2,Ur+=i,i=un*e-cn*t,ac+=i*(cn+e),sc+=i*(un+t),Ci+=i*3,wr(cn=e,un=t)}const Pl=Qt;function c1(e){this._context=e}c1.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Lt);break}}},result:zt};var fc=new yr,Js,u1,l1,Ni,Di,Sa={point:zt,lineStart:function(){Sa.point=yv},lineEnd:function(){Js&&d1(u1,l1),Sa.point=zt},polygonStart:function(){Js=!0},polygonEnd:function(){Js=null},result:function(){var e=+fc;return fc=new yr,e}};function yv(e,t){Sa.point=d1,u1=Ni=e,l1=Di=t}function d1(e,t){Ni-=e,Di-=t,fc.add(Ct(Ni*Ni+Di*Di)),Ni=e,Di=t}const $l=Sa;let Bl,ka,Rl,jl;class ql{constructor(t){this._append=t==null?h1:_v(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Rl||this._append!==ka){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Rl=r,ka=this._append,jl=this._,this._=i}this._+=jl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function h1(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function _v(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return h1;if(t!==Bl){const n=10**t;Bl=t,ka=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return ka}function eo(e,t){let n=3,r=4.5,i,a;function s(f){return f&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),sr(f,i(a))),a.result()}return s.area=function(f){return sr(f,i(Ll)),Ll.result()},s.measure=function(f){return sr(f,i($l)),$l.result()},s.bounds=function(f){return sr(f,i(va)),va.result()},s.centroid=function(f){return sr(f,i(Pl)),Pl.result()},s.projection=function(f){return arguments.length?(i=f==null?(e=null,ec):(e=f).stream,s):e},s.context=function(f){return arguments.length?(a=f==null?(t=null,new ql(n)):new c1(t=f),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(a.pointRadius(+f),+f),s):r},s.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);n=c}return t===null&&(a=new ql(n)),s},s.projection(e).digits(n).context(t)}function Ma(e){return{stream:es(e)}}function es(e){return function(t){var n=new cc;for(var r in e)n[r]=e[r];return n.stream=t,n}}function cc(){}cc.prototype={constructor:cc,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Wc(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),sr(n,e.stream(va)),t(va.result()),r!=null&&e.clipExtent(r),e}function Xc(e,t,n){return Wc(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),f=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,c=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([f,c])},n)}function p1(e,t,n){return Xc(e,[[0,0],t],n)}function g1(e,t,n){return Wc(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,f=-a*r[0][1];e.scale(150*a).translate([s,f])},n)}function m1(e,t,n){return Wc(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],f=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,f])},n)}var zl=16,vv=ve(30*qe);function Ul(e,t){return+t?xv(e,t):wv(e)}function wv(e){return es({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function xv(e,t){function n(r,i,a,s,f,c,u,l,d,h,p,m,g,b){var w=u-r,y=l-i,x=w*w+y*y;if(x>4*t&&g--){var _=s+h,v=f+p,k=c+m,S=Ct(_*_+v*v+k*k),C=Yt(k/=S),D=Ie(Ie(k)-1)<ye||Ie(a-d)<ye?(a+d)/2:Ln(v,_),A=e(D,C),M=A[0],I=A[1],N=M-r,P=I-i,E=y*N-w*P;(E*E/x>t||Ie((w*N+y*P)/x-.5)>.3||s*h+f*p+c*m<vv)&&(n(r,i,a,s,f,c,M,I,D,_/=S,v/=S,k,g,b),b.point(M,I),n(M,I,D,_,v,k,u,l,d,h,p,m,g,b))}}return function(r){var i,a,s,f,c,u,l,d,h,p,m,g,b={point:w,lineStart:y,lineEnd:_,polygonStart:function(){r.polygonStart(),b.lineStart=v},polygonEnd:function(){r.polygonEnd(),b.lineStart=y}};function w(C,D){C=e(C,D),r.point(C[0],C[1])}function y(){d=NaN,b.point=x,r.lineStart()}function x(C,D){var A=ei([C,D]),M=e(C,D);n(d,h,l,p,m,g,d=M[0],h=M[1],l=C,p=A[0],m=A[1],g=A[2],zl,r),r.point(d,h)}function _(){b.point=w,r.lineEnd()}function v(){y(),b.point=k,b.lineEnd=S}function k(C,D){x(i=C,D),a=d,s=h,f=p,c=m,u=g,b.point=x}function S(){n(d,h,l,p,m,g,a,s,i,f,c,u,zl,r),b.lineEnd=_,_()}return b}}var Sv=es({point:function(e,t){this.stream.point(e*qe,t*qe)}});function kv(e){return es({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Mv(e,t,n,r,i){function a(s,f){return s*=r,f*=i,[t+e*s,n-e*f]}return a.invert=function(s,f){return[(s-t)/e*r,(n-f)/e*i]},a}function Hl(e,t,n,r,i,a){if(!a)return Mv(e,t,n,r,i);var s=ve(a),f=be(a),c=s*e,u=f*e,l=s/e,d=f/e,h=(f*n-s*t)/e,p=(f*t+s*n)/e;function m(g,b){return g*=r,b*=i,[c*g-u*b+t,n-u*g-c*b]}return m.invert=function(g,b){return[r*(l*g-d*b+h),i*(p-d*g-l*b)]},m}function nr(e){return b1(function(){return e})()}function b1(e){var t,n=150,r=480,i=250,a=0,s=0,f=0,c=0,u=0,l,d=0,h=1,p=1,m=null,g=Il,b=null,w,y,x,_=ec,v=.5,k,S,C,D,A;function M(E){return C(E[0]*qe,E[1]*qe)}function I(E){return E=C.invert(E[0],E[1]),E&&[E[0]*ht,E[1]*ht]}M.stream=function(E){return D&&A===E?D:D=Sv(kv(l)(g(k(_(A=E)))))},M.preclip=function(E){return arguments.length?(g=E,m=void 0,P()):g},M.postclip=function(E){return arguments.length?(_=E,b=w=y=x=null,P()):_},M.clipAngle=function(E){return arguments.length?(g=+E?av(m=E*qe):(m=null,Il),P()):m*ht},M.clipExtent=function(E){return arguments.length?(_=E==null?(b=w=y=x=null,ec):n1(b=+E[0][0],w=+E[0][1],y=+E[1][0],x=+E[1][1]),P()):b==null?null:[[b,w],[y,x]]},M.scale=function(E){return arguments.length?(n=+E,N()):n},M.translate=function(E){return arguments.length?(r=+E[0],i=+E[1],N()):[r,i]},M.center=function(E){return arguments.length?(a=E[0]%360*qe,s=E[1]%360*qe,N()):[a*ht,s*ht]},M.rotate=function(E){return arguments.length?(f=E[0]%360*qe,c=E[1]%360*qe,u=E.length>2?E[2]%360*qe:0,N()):[f*ht,c*ht,u*ht]},M.angle=function(E){return arguments.length?(d=E%360*qe,N()):d*ht},M.reflectX=function(E){return arguments.length?(h=E?-1:1,N()):h<0},M.reflectY=function(E){return arguments.length?(p=E?-1:1,N()):p<0},M.precision=function(E){return arguments.length?(k=Ul(S,v=E*E),P()):Ct(v)},M.fitExtent=function(E,j){return Xc(M,E,j)},M.fitSize=function(E,j){return p1(M,E,j)},M.fitWidth=function(E,j){return g1(M,E,j)},M.fitHeight=function(E,j){return m1(M,E,j)};function N(){var E=Hl(n,0,0,h,p,d).apply(null,t(a,s)),j=Hl(n,r-E[0],i-E[1],h,p,d);return l=J0(f,c,u),S=Jf(t,j),C=Jf(l,S),k=Ul(S,v),P()}function P(){return D=A=null,M}return function(){return t=e.apply(this,arguments),M.invert=t.invert&&I,N()}}function Gc(e){var t=0,n=we/3,r=b1(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*qe,n=a[1]*qe):[t*ht,n*ht]},i}function Av(e){var t=ve(e);function n(r,i){return[r*t,be(i)/t]}return n.invert=function(r,i){return[r/t,Yt(i*t)]},n}function Ev(e,t){var n=be(e),r=(n+be(t))/2;if(Ie(r)<ye)return Av(e);var i=1+n*(2*r-n),a=Ct(i)/r;function s(f,c){var u=Ct(i-2*r*be(c))/r;return[u*be(f*=r),a-u*ve(f)]}return s.invert=function(f,c){var u=a-c,l=Ln(f,Ie(u))*qt(u);return u*r<0&&(l-=we*qt(f)*qt(u)),[l/r,Yt((i-(f*f+u*u)*r*r)/(2*r))]},s}function Aa(){return Gc(Ev).scale(155.424).center([0,33.6442])}function y1(){return Aa().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Tv(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Cv(){var e,t,n=y1(),r,i=Aa().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=Aa().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,u={point:function(h,p){c=[h,p]}};function l(h){var p=h[0],m=h[1];return c=null,r.point(p,m),c||(a.point(p,m),c)||(f.point(p,m),c)}l.invert=function(h){var p=n.scale(),m=n.translate(),g=(h[0]-m[0])/p,b=(h[1]-m[1])/p;return(b>=.12&&b<.234&&g>=-.425&&g<-.214?i:b>=.166&&b<.234&&g>=-.214&&g<-.115?s:n).invert(h)},l.stream=function(h){return e&&t===h?e:e=Tv([n.stream(t=h),i.stream(h),s.stream(h)])},l.precision=function(h){return arguments.length?(n.precision(h),i.precision(h),s.precision(h),d()):n.precision()},l.scale=function(h){return arguments.length?(n.scale(h),i.scale(h*.35),s.scale(h),l.translate(n.translate())):n.scale()},l.translate=function(h){if(!arguments.length)return n.translate();var p=n.scale(),m=+h[0],g=+h[1];return r=n.translate(h).clipExtent([[m-.455*p,g-.238*p],[m+.455*p,g+.238*p]]).stream(u),a=i.translate([m-.307*p,g+.201*p]).clipExtent([[m-.425*p+ye,g+.12*p+ye],[m-.214*p-ye,g+.234*p-ye]]).stream(u),f=s.translate([m-.205*p,g+.212*p]).clipExtent([[m-.214*p+ye,g+.166*p+ye],[m-.115*p-ye,g+.234*p-ye]]).stream(u),d()},l.fitExtent=function(h,p){return Xc(l,h,p)},l.fitSize=function(h,p){return p1(l,h,p)},l.fitWidth=function(h,p){return g1(l,h,p)},l.fitHeight=function(h,p){return m1(l,h,p)};function d(){return e=t=null,l}return l.scale(1070)}function _1(e){return function(t,n){var r=ve(t),i=ve(n),a=e(r*i);return a===1/0?[2,0]:[a*i*be(t),a*be(n)]}}function to(e){return function(t,n){var r=Ct(t*t+n*n),i=e(r),a=be(i),s=ve(i);return[Ln(t*a,r*s),Yt(r&&n*a/r)]}}var v1=_1(function(e){return Ct(2/(1+e))});v1.invert=to(function(e){return 2*Yt(e/2)});function Nv(){return nr(v1).scale(124.75).clipAngle(180-.001)}var w1=_1(function(e){return(e=Z0(e))&&e/be(e)});w1.invert=to(function(e){return e});function Dv(){return nr(w1).scale(79.4188).clipAngle(180-.001)}function ts(e,t){return[e,ga(Yc((ze+t)/2))]}ts.invert=function(e,t){return[e,2*pi(K0(t))-ze]};function Iv(){return x1(ts).scale(961/Lt)}function x1(e){var t=nr(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,f,c,u;t.scale=function(d){return arguments.length?(r(d),l()):r()},t.translate=function(d){return arguments.length?(i(d),l()):i()},t.center=function(d){return arguments.length?(n(d),l()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=f=c=u=null:(s=+d[0][0],f=+d[0][1],c=+d[1][0],u=+d[1][1]),l()):s==null?null:[[s,f],[c,u]]};function l(){var d=we*r(),h=t(J_(t.rotate()).invert([0,0]));return a(s==null?[[h[0]-d,h[1]-d],[h[0]+d,h[1]+d]]:e===ts?[[Math.max(h[0]-d,s),f],[Math.min(h[0]+d,c),u]]:[[s,Math.max(h[1]-d,f)],[c,Math.min(h[1]+d,u)]])}return l()}function Do(e){return Yc((ze+e)/2)}function Lv(e,t){var n=ve(e),r=e===t?be(e):ga(n/ve(t))/ga(Do(t)/Do(e)),i=n*Xs(Do(e),r)/r;if(!r)return ts;function a(s,f){i>0?f<-ze+ye&&(f=-ze+ye):f>ze-ye&&(f=ze-ye);var c=i/Xs(Do(f),r);return[c*be(r*s),i-c*ve(r*s)]}return a.invert=function(s,f){var c=i-f,u=qt(r)*Ct(s*s+c*c),l=Ln(s,Ie(c))*qt(c);return c*r<0&&(l-=we*qt(s)*qt(c)),[l/r,2*pi(Xs(i/u,1/r))-ze]},a}function Ov(){return Gc(Lv).scale(109.5).parallels([30,30])}function Ea(e,t){return[e,t]}Ea.invert=Ea;function Fv(){return nr(Ea).scale(152.63)}function Pv(e,t){var n=ve(e),r=e===t?be(e):(n-ve(t))/(t-e),i=n/r+e;if(Ie(r)<ye)return Ea;function a(s,f){var c=i-f,u=r*s;return[c*be(u),i-c*ve(u)]}return a.invert=function(s,f){var c=i-f,u=Ln(s,Ie(c))*qt(c);return c*r<0&&(u-=we*qt(s)*qt(c)),[u/r,i-qt(r)*Ct(s*s+c*c)]},a}function $v(){return Gc(Pv).scale(131.154).center([0,13.9389])}var Fi=1.340264,Pi=-.081106,$i=893e-6,Bi=.003796,Ta=Ct(3)/2,Bv=12;function S1(e,t){var n=Yt(Ta*be(t)),r=n*n,i=r*r*r;return[e*ve(n)/(Ta*(Fi+3*Pi*r+i*(7*$i+9*Bi*r))),n*(Fi+Pi*r+i*($i+Bi*r))]}S1.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,f,c;a<Bv&&(f=n*(Fi+Pi*r+i*($i+Bi*r))-t,c=Fi+3*Pi*r+i*(7*$i+9*Bi*r),n-=s=f/c,r=n*n,i=r*r*r,!(Ie(s)<G0));++a);return[Ta*e*(Fi+3*Pi*r+i*(7*$i+9*Bi*r))/ve(n),Yt(be(n)/Ta)]};function Rv(){return nr(S1).scale(177.158)}function k1(e,t){var n=ve(t),r=ve(e)*n;return[n*be(e)/r,be(t)/r]}k1.invert=to(pi);function jv(){return nr(k1).scale(144.049).clipAngle(60)}function M1(e,t){return[ve(t)*be(e),be(t)]}M1.invert=to(Yt);function qv(){return nr(M1).scale(249.5).clipAngle(90+ye)}function A1(e,t){var n=ve(t),r=1+ve(e)*n;return[n*be(e)/r,be(t)/r]}A1.invert=to(function(e){return 2*pi(e)});function zv(){return nr(A1).scale(250).clipAngle(142)}function E1(e,t){return[ga(Yc((ze+t)/2)),-e]}E1.invert=function(e,t){return[-t,2*pi(K0(e))-ze]};function Uv(){var e=x1(E1),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function _n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ns(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uc=Symbol("implicit");function Kc(){var e=new _r,t=[],n=[],r=uc;function i(a){let s=e.get(a);if(s===void 0){if(r!==uc)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new _r;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Kc(t,n).unknown(r)},_n.apply(i,arguments),i}function rs(){var e=Kc().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,f=!1,c=0,u=0,l=.5;delete e.unknown;function d(){var h=t().length,p=i<r,m=p?i:r,g=p?r:i;a=(g-m)/Math.max(1,h-c+u*2),f&&(a=Math.floor(a)),m+=(g-m-a*(h-c))*l,s=a*(1-c),f&&(m=Math.round(m),s=Math.round(s));var b=qf(h).map(function(w){return m+a*w});return n(p?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,f=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(f=!!h,d()):f},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(l=Math.max(0,Math.min(1,h)),d()):l},e.copy=function(){return rs(t(),[r,i]).round(f).paddingInner(c).paddingOuter(u).align(l)},_n.apply(d(),arguments)}function T1(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return T1(t())},e}function Hv(){return T1(rs.apply(null,arguments).paddingInner(1))}function Vv(e){return function(){return e}}function lc(e){return+e}var Vl=[0,1];function Ut(e){return e}function dc(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Vv(isNaN(t)?NaN:.5)}function Yv(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Wv(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=dc(i,r),a=n(s,a)):(r=dc(r,i),a=n(a,s)),function(f){return a(r(f))}}function Xv(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=dc(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(f){var c=$c(e,f,1,r)-1;return a[c](i[c](f))}}function no(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function is(){var e=Vl,t=Vl,n=di,r,i,a,s=Ut,f,c,u;function l(){var h=Math.min(e.length,t.length);return s!==Ut&&(s=Yv(e[0],e[h-1])),f=h>2?Xv:Wv,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(c||(c=f(e.map(r),t,n)))(r(s(h)))}return d.invert=function(h){return s(i((u||(u=f(t,e.map(r),Zn)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,lc),l()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),l()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),n=Uc,l()},d.clamp=function(h){return arguments.length?(s=h?!0:Ut,l()):s!==Ut},d.interpolate=function(h){return arguments.length?(n=h,l()):n},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return r=h,i=p,l()}}function C1(){return is()(Ut,Ut)}function Gv(e,t,n,r){var i=Rf(e,t,n),a;switch(r=zi(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=K_(i,s))&&(r.precision=a),X0(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=Z_(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=G_(i))&&(r.precision=a-(r.type==="%")*2);break}}return hi(r)}function ro(e){var t=e.domain;return e.ticks=function(n){var r=t();return fa(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Gv(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],f=r[a],c,u,l=10;for(f<s&&(u=s,s=f,f=u,u=i,i=a,a=u);l-- >0;){if(u=Bf(s,f,n),u===c)return r[i]=s,r[a]=f,t(r);if(u>0)s=Math.floor(s/u)*u,f=Math.ceil(f/u)*u;else if(u<0)s=Math.ceil(s*u)/u,f=Math.floor(f*u)/u;else break;c=u}return e},e}function Zc(){var e=C1();return e.copy=function(){return no(e,Zc())},_n.apply(e,arguments),ro(e)}function N1(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,lc),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return N1(e).unknown(t)},e=arguments.length?Array.from(e,lc):[0,1],ro(n)}function D1(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Yl(e){return Math.log(e)}function Wl(e){return Math.exp(e)}function Kv(e){return-Math.log(-e)}function Zv(e){return-Math.exp(-e)}function Jv(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Qv(e){return e===10?Jv:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ew(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xl(e){return(t,n)=>-e(-t,n)}function I1(e){const t=e(Yl,Wl),n=t.domain;let r=10,i,a;function s(){return i=ew(r),a=Qv(r),n()[0]<0?(i=Xl(i),a=Xl(a),e(Kv,Zv)):e(Yl,Wl),t}return t.base=function(f){return arguments.length?(r=+f,s()):r},t.domain=function(f){return arguments.length?(n(f),s()):n()},t.ticks=f=>{const c=n();let u=c[0],l=c[c.length-1];const d=l<u;d&&([u,l]=[l,u]);let h=i(u),p=i(l),m,g;const b=f==null?10:+f;let w=[];if(!(r%1)&&p-h<b){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(m=1;m<r;++m)if(g=h<0?m/a(-h):m*a(h),!(g<u)){if(g>l)break;w.push(g)}}else for(;h<=p;++h)for(m=r-1;m>=1;--m)if(g=h>0?m/a(-h):m*a(h),!(g<u)){if(g>l)break;w.push(g)}w.length*2<b&&(w=fa(u,l,b))}else w=fa(h,p,Math.min(p-h,b)).map(a);return d?w.reverse():w},t.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=zi(c)).precision==null&&(c.trim=!0),c=hi(c)),f===1/0)return c;const u=Math.max(1,r*f/t.ticks().length);return l=>{let d=l/a(Math.round(i(l)));return d*r<r-.5&&(d*=r),d<=u?c(l):""}},t.nice=()=>n(D1(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),t}function L1(){const e=I1(is()).domain([1,10]);return e.copy=()=>no(e,L1()).base(e.base()),_n.apply(e,arguments),e}function Gl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Kl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function O1(e){var t=1,n=e(Gl(t),Kl(t));return n.constant=function(r){return arguments.length?e(Gl(t=+r),Kl(t)):t},ro(n)}function F1(){var e=O1(is());return e.copy=function(){return no(e,F1()).constant(e.constant())},_n.apply(e,arguments)}function Zl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function tw(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function nw(e){return e<0?-e*e:e*e}function P1(e){var t=e(Ut,Ut),n=1;function r(){return n===1?e(Ut,Ut):n===.5?e(tw,nw):e(Zl(n),Zl(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ro(t)}function $1(){var e=P1(is());return e.copy=function(){return no(e,$1()).exponent(e.exponent())},_n.apply(e,arguments),e}function B1(){var e=[],t=[],n=[],r;function i(){var s=0,f=Math.max(1,t.length);for(n=new Array(f-1);++s<f;)n[s-1]=Q2(e,s/f);return a}function a(s){return s==null||isNaN(s=+s)?r:t[$c(n,s)]}return a.invertExtent=function(s){var f=t.indexOf(s);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let f of s)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Tt),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return B1().domain(e).range(t).unknown(r)},_n.apply(a,arguments)}function R1(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[$c(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return R1().domain(e).range(t).unknown(n)},_n.apply(i,arguments)}const Qs=new Date,ef=new Date;function We(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),f=i.ceil(a);return a-s<f-a?s:f},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,f)=>{const c=[];if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<s)||!(f>0))return c;let u;do c.push(u=new Date(+a)),t(a,f),e(a);while(u<a&&a<s);return c},i.filter=a=>We(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,f)=>{if(s>=s)if(f<0)for(;++f<=0;)for(;t(s,-1),!a(s););else for(;--f>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Qs.setTime(+a),ef.setTime(+s),e(Qs),e(ef),Math.floor(n(Qs,ef))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ca=We(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ca.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?We(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ca);Ca.range;const Nn=1e3,Ht=Nn*60,Dn=Ht*60,On=Dn*24,Jc=On*7,Jl=On*30,tf=On*365,dn=We(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Nn)},(e,t)=>(t-e)/Nn,e=>e.getUTCSeconds());dn.range;const os=We(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nn)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getMinutes());os.range;const io=We(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ht)},(e,t)=>(t-e)/Ht,e=>e.getUTCMinutes());io.range;const as=We(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Nn-e.getMinutes()*Ht)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getHours());as.range;const oo=We(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCHours());oo.range;const Er=We(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ht)/On,e=>e.getDate()-1);Er.range;const ss=We(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/On,e=>e.getUTCDate()-1);ss.range;const fs=We(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/On,e=>Math.floor(e/On));fs.range;function Tr(e){return We(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ht)/Jc)}const ni=Tr(0),Hi=Tr(1),j1=Tr(2),q1=Tr(3),xr=Tr(4),z1=Tr(5),U1=Tr(6);ni.range;Hi.range;j1.range;q1.range;xr.range;z1.range;U1.range;function Cr(e){return We(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Jc)}const ri=Cr(0),Vi=Cr(1),H1=Cr(2),V1=Cr(3),Sr=Cr(4),Y1=Cr(5),W1=Cr(6);ri.range;Vi.range;H1.range;V1.range;Sr.range;Y1.range;W1.range;const ao=We(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ao.range;const so=We(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());so.range;const tn=We(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());tn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:We(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});tn.range;const nn=We(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());nn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:We(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});nn.range;function X1(e,t,n,r,i,a){const s=[[dn,1,Nn],[dn,5,5*Nn],[dn,15,15*Nn],[dn,30,30*Nn],[a,1,Ht],[a,5,5*Ht],[a,15,15*Ht],[a,30,30*Ht],[i,1,Dn],[i,3,3*Dn],[i,6,6*Dn],[i,12,12*Dn],[r,1,On],[r,2,2*On],[n,1,Jc],[t,1,Jl],[t,3,3*Jl],[e,1,tf]];function f(u,l,d){const h=l<u;h&&([u,l]=[l,u]);const p=d&&typeof d.range=="function"?d:c(u,l,d),m=p?p.range(u,+l+1):[];return h?m.reverse():m}function c(u,l,d){const h=Math.abs(l-u)/d,p=Ka(([,,b])=>b).right(s,h);if(p===s.length)return e.every(Rf(u/tf,l/tf,d));if(p===0)return Ca.every(Math.max(Rf(u,l,d),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[f,c]}const[rw,iw]=X1(nn,so,ri,fs,oo,io),[ow,aw]=X1(tn,ao,ni,Er,as,os);function nf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function rf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wi(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function sw(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,f=e.months,c=e.shortMonths,u=xi(i),l=Si(i),d=xi(a),h=Si(a),p=xi(s),m=Si(s),g=xi(f),b=Si(f),w=xi(c),y=Si(c),x={a:Z,A:re,b:J,B:W,c:null,d:id,e:id,f:Nw,g:jw,G:zw,H:Ew,I:Tw,j:Cw,L:G1,m:Dw,M:Iw,p:H,q:X,Q:sd,s:fd,S:Lw,u:Ow,U:Fw,V:Pw,w:$w,W:Bw,x:null,X:null,y:Rw,Y:qw,Z:Uw,"%":ad},_={a:K,A:O,b:ne,B:ue,c:null,d:od,e:od,f:Ww,g:r3,G:o3,H:Hw,I:Vw,j:Yw,L:Z1,m:Xw,M:Gw,p:Y,q:se,Q:sd,s:fd,S:Kw,u:Zw,U:Jw,V:Qw,w:e3,W:t3,x:null,X:null,y:n3,Y:i3,Z:a3,"%":ad},v={a:A,A:M,b:I,B:N,c:P,d:nd,e:nd,f:Sw,g:td,G:ed,H:rd,I:rd,j:_w,L:xw,m:yw,M:vw,p:D,q:bw,Q:Mw,s:Aw,S:ww,u:dw,U:hw,V:pw,w:lw,W:gw,x:E,X:j,y:td,Y:ed,Z:mw,"%":kw};x.x=k(n,x),x.X=k(r,x),x.c=k(t,x),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(T,z){return function(V){var F=[],ce=-1,fe=0,de=T.length,me,U,pe;for(V instanceof Date||(V=new Date(+V));++ce<de;)T.charCodeAt(ce)===37&&(F.push(T.slice(fe,ce)),(U=Ql[me=T.charAt(++ce)])!=null?me=T.charAt(++ce):U=me==="e"?" ":"0",(pe=z[me])&&(me=pe(V,U)),F.push(me),fe=ce+1);return F.push(T.slice(fe,ce)),F.join("")}}function S(T,z){return function(V){var F=wi(1900,void 0,1),ce=C(F,T,V+="",0),fe,de;if(ce!=V.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(z&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(fe=rf(wi(F.y,0,1)),de=fe.getUTCDay(),fe=de>4||de===0?Vi.ceil(fe):Vi(fe),fe=ss.offset(fe,(F.V-1)*7),F.y=fe.getUTCFullYear(),F.m=fe.getUTCMonth(),F.d=fe.getUTCDate()+(F.w+6)%7):(fe=nf(wi(F.y,0,1)),de=fe.getDay(),fe=de>4||de===0?Hi.ceil(fe):Hi(fe),fe=Er.offset(fe,(F.V-1)*7),F.y=fe.getFullYear(),F.m=fe.getMonth(),F.d=fe.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),de="Z"in F?rf(wi(F.y,0,1)).getUTCDay():nf(wi(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(de+5)%7:F.w+F.U*7-(de+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,rf(F)):nf(F)}}function C(T,z,V,F){for(var ce=0,fe=z.length,de=V.length,me,U;ce<fe;){if(F>=de)return-1;if(me=z.charCodeAt(ce++),me===37){if(me=z.charAt(ce++),U=v[me in Ql?z.charAt(ce++):me],!U||(F=U(T,V,F))<0)return-1}else if(me!=V.charCodeAt(F++))return-1}return F}function D(T,z,V){var F=u.exec(z.slice(V));return F?(T.p=l.get(F[0].toLowerCase()),V+F[0].length):-1}function A(T,z,V){var F=p.exec(z.slice(V));return F?(T.w=m.get(F[0].toLowerCase()),V+F[0].length):-1}function M(T,z,V){var F=d.exec(z.slice(V));return F?(T.w=h.get(F[0].toLowerCase()),V+F[0].length):-1}function I(T,z,V){var F=w.exec(z.slice(V));return F?(T.m=y.get(F[0].toLowerCase()),V+F[0].length):-1}function N(T,z,V){var F=g.exec(z.slice(V));return F?(T.m=b.get(F[0].toLowerCase()),V+F[0].length):-1}function P(T,z,V){return C(T,t,z,V)}function E(T,z,V){return C(T,n,z,V)}function j(T,z,V){return C(T,r,z,V)}function Z(T){return s[T.getDay()]}function re(T){return a[T.getDay()]}function J(T){return c[T.getMonth()]}function W(T){return f[T.getMonth()]}function H(T){return i[+(T.getHours()>=12)]}function X(T){return 1+~~(T.getMonth()/3)}function K(T){return s[T.getUTCDay()]}function O(T){return a[T.getUTCDay()]}function ne(T){return c[T.getUTCMonth()]}function ue(T){return f[T.getUTCMonth()]}function Y(T){return i[+(T.getUTCHours()>=12)]}function se(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var z=k(T+="",x);return z.toString=function(){return T},z},parse:function(T){var z=S(T+="",!1);return z.toString=function(){return T},z},utcFormat:function(T){var z=k(T+="",_);return z.toString=function(){return T},z},utcParse:function(T){var z=S(T+="",!0);return z.toString=function(){return T},z}}}var Ql={"-":"",_:" ",0:"0"},nt=/^\s*\d+/,fw=/^%/,cw=/[\\^$*+?|[\]().{}]/g;function Te(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function uw(e){return e.replace(cw,"\\$&")}function xi(e){return new RegExp("^(?:"+e.map(uw).join("|")+")","i")}function Si(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function lw(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function dw(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function hw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function pw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function gw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ed(e,t,n){var r=nt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function td(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function mw(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function bw(e,t,n){var r=nt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function yw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nd(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _w(e,t,n){var r=nt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function rd(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vw(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ww(e,t,n){var r=nt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xw(e,t,n){var r=nt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Sw(e,t,n){var r=nt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function kw(e,t,n){var r=fw.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Mw(e,t,n){var r=nt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Aw(e,t,n){var r=nt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function id(e,t){return Te(e.getDate(),t,2)}function Ew(e,t){return Te(e.getHours(),t,2)}function Tw(e,t){return Te(e.getHours()%12||12,t,2)}function Cw(e,t){return Te(1+Er.count(tn(e),e),t,3)}function G1(e,t){return Te(e.getMilliseconds(),t,3)}function Nw(e,t){return G1(e,t)+"000"}function Dw(e,t){return Te(e.getMonth()+1,t,2)}function Iw(e,t){return Te(e.getMinutes(),t,2)}function Lw(e,t){return Te(e.getSeconds(),t,2)}function Ow(e){var t=e.getDay();return t===0?7:t}function Fw(e,t){return Te(ni.count(tn(e)-1,e),t,2)}function K1(e){var t=e.getDay();return t>=4||t===0?xr(e):xr.ceil(e)}function Pw(e,t){return e=K1(e),Te(xr.count(tn(e),e)+(tn(e).getDay()===4),t,2)}function $w(e){return e.getDay()}function Bw(e,t){return Te(Hi.count(tn(e)-1,e),t,2)}function Rw(e,t){return Te(e.getFullYear()%100,t,2)}function jw(e,t){return e=K1(e),Te(e.getFullYear()%100,t,2)}function qw(e,t){return Te(e.getFullYear()%1e4,t,4)}function zw(e,t){var n=e.getDay();return e=n>=4||n===0?xr(e):xr.ceil(e),Te(e.getFullYear()%1e4,t,4)}function Uw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Te(t/60|0,"0",2)+Te(t%60,"0",2)}function od(e,t){return Te(e.getUTCDate(),t,2)}function Hw(e,t){return Te(e.getUTCHours(),t,2)}function Vw(e,t){return Te(e.getUTCHours()%12||12,t,2)}function Yw(e,t){return Te(1+ss.count(nn(e),e),t,3)}function Z1(e,t){return Te(e.getUTCMilliseconds(),t,3)}function Ww(e,t){return Z1(e,t)+"000"}function Xw(e,t){return Te(e.getUTCMonth()+1,t,2)}function Gw(e,t){return Te(e.getUTCMinutes(),t,2)}function Kw(e,t){return Te(e.getUTCSeconds(),t,2)}function Zw(e){var t=e.getUTCDay();return t===0?7:t}function Jw(e,t){return Te(ri.count(nn(e)-1,e),t,2)}function J1(e){var t=e.getUTCDay();return t>=4||t===0?Sr(e):Sr.ceil(e)}function Qw(e,t){return e=J1(e),Te(Sr.count(nn(e),e)+(nn(e).getUTCDay()===4),t,2)}function e3(e){return e.getUTCDay()}function t3(e,t){return Te(Vi.count(nn(e)-1,e),t,2)}function n3(e,t){return Te(e.getUTCFullYear()%100,t,2)}function r3(e,t){return e=J1(e),Te(e.getUTCFullYear()%100,t,2)}function i3(e,t){return Te(e.getUTCFullYear()%1e4,t,4)}function o3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Sr(e):Sr.ceil(e),Te(e.getUTCFullYear()%1e4,t,4)}function a3(){return"+0000"}function ad(){return"%"}function sd(e){return+e}function fd(e){return Math.floor(+e/1e3)}var Pr,Qc,fo;s3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function s3(e){return Pr=sw(e),Qc=Pr.format,Pr.parse,fo=Pr.utcFormat,Pr.utcParse,Pr}function f3(e){return new Date(e)}function c3(e){return e instanceof Date?+e:+new Date(+e)}function eu(e,t,n,r,i,a,s,f,c,u){var l=C1(),d=l.invert,h=l.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),b=u("%I %p"),w=u("%a %d"),y=u("%b %d"),x=u("%B"),_=u("%Y");function v(k){return(c(k)<k?p:f(k)<k?m:s(k)<k?g:a(k)<k?b:r(k)<k?i(k)<k?w:y:n(k)<k?x:_)(k)}return l.invert=function(k){return new Date(d(k))},l.domain=function(k){return arguments.length?h(Array.from(k,c3)):h().map(f3)},l.ticks=function(k){var S=h();return e(S[0],S[S.length-1],k??10)},l.tickFormat=function(k,S){return S==null?v:u(S)},l.nice=function(k){var S=h();return(!k||typeof k.range!="function")&&(k=t(S[0],S[S.length-1],k??10)),k?h(D1(S,k)):l},l.copy=function(){return no(l,eu(e,t,n,r,i,a,s,f,c,u))},l}function u3(){return _n.apply(eu(ow,aw,tn,ao,ni,Er,as,os,dn,Qc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function l3(){return _n.apply(eu(rw,iw,nn,so,ri,ss,oo,io,dn,fo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function us(){var e=0,t=.5,n=1,r=1,i,a,s,f,c,u=Ut,l,d=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+l(g))-a)*(r*g<r*a?f:c),u(d?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,n]=g,i=l(e=+e),a=l(t=+t),s=l(n=+n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p):[e,t,n]},p.clamp=function(g){return arguments.length?(d=!!g,p):d},p.interpolator=function(g){return arguments.length?(u=g,p):u};function m(g){return function(b){var w,y,x;return arguments.length?([w,y,x]=b,u=Qa(g,[w,y,x]),p):[u(0),u(.5),u(1)]}}return p.range=m(di),p.rangeRound=m(Uc),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return l=g,i=g(e),a=g(t),s=g(n),f=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,p}}function Q1(){var e=ro(us()(Ut));return e.copy=function(){return cs(e,Q1())},ns.apply(e,arguments)}function ep(){var e=I1(us()).domain([.1,1,10]);return e.copy=function(){return cs(e,ep()).base(e.base())},ns.apply(e,arguments)}function tp(){var e=O1(us());return e.copy=function(){return cs(e,tp()).constant(e.constant())},ns.apply(e,arguments)}function np(){var e=P1(us());return e.copy=function(){return cs(e,np()).exponent(e.exponent())},ns.apply(e,arguments)}function _e(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const rp=_e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),d3=_e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),h3=_e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),p3=_e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),g3=_e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),m3=_e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),b3=_e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),y3=_e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_3=_e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),v3=_e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Fe=e=>Sy(e[e.length-1]);var ip=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(_e);const op=Fe(ip);var ap=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(_e);const sp=Fe(ap);var fp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(_e);const cp=Fe(fp);var up=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(_e);const lp=Fe(up);var hc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(_e);const Na=Fe(hc);var dp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(_e);const hp=Fe(dp);var pc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(_e);const Da=Fe(pc);var pp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(_e);const gp=Fe(pp);var mp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(_e);const bp=Fe(mp);var yp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(_e);const _p=Fe(yp);var vp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(_e);const wp=Fe(vp);var xp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(_e);const Sp=Fe(xp);var kp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(_e);const Mp=Fe(kp);var Ap=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(_e);const Ep=Fe(Ap);var Tp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(_e);const Cp=Fe(Tp);var Np=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(_e);const Dp=Fe(Np);var Ip=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(_e);const Lp=Fe(Ip);var Op=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(_e);const Fp=Fe(Op);var Pp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(_e);const $p=Fe(Pp);var Bp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(_e);const Rp=Fe(Bp);var jp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(_e);const qp=Fe(jp);var zp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(_e);const Up=Fe(zp);var Hp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(_e);const Vp=Fe(Hp);var Yp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(_e);const Wp=Fe(Yp);var Xp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(_e);const Gp=Fe(Xp);var Kp=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(_e);const Zp=Fe(Kp);var Jp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(_e);const Qp=Fe(Jp);function eg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const tg=Hc(bn(300,.5,0),bn(-240,.5,1));var ng=Hc(bn(-100,.75,.35),bn(80,1.5,.8)),rg=Hc(bn(260,.75,.35),bn(80,1.5,.8)),Io=bn();function ig(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Io.h=360*e-100,Io.s=1.5-1.5*t,Io.l=.8-.9*t,Io+""}var Lo=ia(),w3=Math.PI/3,x3=Math.PI*2/3;function og(e){var t;return e=(.5-e)*Math.PI,Lo.r=255*(t=Math.sin(e))*t,Lo.g=255*(t=Math.sin(e+w3))*t,Lo.b=255*(t=Math.sin(e+x3))*t,Lo+""}function ag(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function ls(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const sg=ls(_e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var fg=ls(_e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),cg=ls(_e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ug=ls(_e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function $r(e){return function(){return e}}const lg=Math.cos,tu=Math.min,Ia=Math.sin,Xe=Math.sqrt,cd=1e-12,La=Math.PI,ds=2*La;function S3(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Y0(t)}function k3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dg(e){this._context=e}dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hs(e){return new dg(e)}function M3(e){return e[0]}function A3(e){return e[1]}function E3(e,t){var n=$r(!0),r=null,i=hs,a=null,s=S3(f);e=typeof e=="function"?e:e===void 0?M3:$r(e),t=typeof t=="function"?t:t===void 0?A3:$r(t);function f(c){var u,l=(c=k3(c)).length,d,h=!1,p;for(r==null&&(a=i(p=s())),u=0;u<=l;++u)!(u<l&&n(d=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,c),+t(d,u,c));if(p)return a=null,p+""||null}return f.x=function(c){return arguments.length?(e=typeof c=="function"?c:$r(+c),f):e},f.y=function(c){return arguments.length?(t=typeof c=="function"?c:$r(+c),f):t},f.defined=function(c){return arguments.length?(n=typeof c=="function"?c:$r(!!c),f):n},f.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),f):r},f}class hg{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function T3(e){return new hg(e,!0)}function C3(e){return new hg(e,!1)}const N3=Xe(3),pg={draw(e,t){const n=Xe(t+tu(t/28,.75))*.59436,r=n/2,i=r*N3;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Yi={draw(e,t){const n=Xe(t/La);e.moveTo(n,0),e.arc(0,0,n,0,ds)}},gg={draw(e,t){const n=Xe(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},mg=Xe(1/3),D3=mg*2,bg={draw(e,t){const n=Xe(t/D3),r=n*mg;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yg={draw(e,t){const n=Xe(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},_g={draw(e,t){const n=Xe(t-tu(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},vg={draw(e,t){const n=Xe(t),r=-n/2;e.rect(r,r,n,n)}},wg={draw(e,t){const n=Xe(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},I3=.8908130915292852,xg=Ia(La/10)/Ia(7*La/10),L3=Ia(ds/10)*xg,O3=-lg(ds/10)*xg,Sg={draw(e,t){const n=Xe(t*I3),r=L3*n,i=O3*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=ds*a/5,f=lg(s),c=Ia(s);e.lineTo(c*n,-f*n),e.lineTo(f*r-c*i,c*r+f*i)}e.closePath()}},of=Xe(3),kg={draw(e,t){const n=-Xe(t/(of*3));e.moveTo(0,n*2),e.lineTo(-of*n,-n),e.lineTo(of*n,-n),e.closePath()}},F3=Xe(3),Mg={draw(e,t){const n=Xe(t)*.6824,r=n/2,i=n*F3/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Bt=-.5,Rt=Xe(3)/2,gc=1/Xe(12),P3=(gc/2+1)*3,Ag={draw(e,t){const n=Xe(t/P3),r=n/2,i=n*gc,a=r,s=n*gc+n,f=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(f,c),e.lineTo(Bt*r-Rt*i,Rt*r+Bt*i),e.lineTo(Bt*a-Rt*s,Rt*a+Bt*s),e.lineTo(Bt*f-Rt*c,Rt*f+Bt*c),e.lineTo(Bt*r+Rt*i,Bt*i-Rt*r),e.lineTo(Bt*a+Rt*s,Bt*s-Rt*a),e.lineTo(Bt*f+Rt*c,Bt*c-Rt*f),e.closePath()}},Eg={draw(e,t){const n=Xe(t-tu(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},$3=[Yi,gg,bg,vg,Sg,kg,Ag],B3=[Yi,_g,Eg,Mg,pg,wg,yg];function Jn(){}function Oa(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ps(e){this._context=e}ps.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Oa(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Oa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function R3(e){return new ps(e)}function Tg(e){this._context=e}Tg.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Oa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function j3(e){return new Tg(e)}function Cg(e){this._context=e}Cg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Oa(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function q3(e){return new Cg(e)}function Ng(e,t){this._basis=new ps(e),this._beta=t}Ng.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+c*a),this._beta*t[f]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const z3=function e(t){function n(r){return t===1?new ps(r):new Ng(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Fa(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function nu(e,t){this._context=e,this._k=(1-t)/6}nu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fa(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const U3=function e(t){function n(r){return new nu(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ru(e,t){this._context=e,this._k=(1-t)/6}ru.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const H3=function e(t){function n(r){return new ru(r,t)}return n.tension=function(r){return e(+r)},n}(0);function iu(e,t){this._context=e,this._k=(1-t)/6}iu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fa(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const V3=function e(t){function n(r){return new iu(r,t)}return n.tension=function(r){return e(+r)},n}(0);function ou(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>cd){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,c=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/c,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/c}if(e._l23_a>cd){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*u+e._x1*e._l23_2a-t*e._l12_2a)/l,s=(s*u+e._y1*e._l23_2a-n*e._l12_2a)/l}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function Dg(e,t){this._context=e,this._alpha=t}Dg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:ou(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Y3=function e(t){function n(r){return t?new Dg(r,t):new nu(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Ig(e,t){this._context=e,this._alpha=t}Ig.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:ou(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const W3=function e(t){function n(r){return t?new Ig(r,t):new ru(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Lg(e,t){this._context=e,this._alpha=t}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ou(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const X3=function e(t){function n(r){return t?new Lg(r,t):new iu(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Og(e){this._context=e}Og.prototype={areaStart:Jn,areaEnd:Jn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function G3(e){return new Og(e)}function ud(e){return e<0?-1:1}function ld(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),f=(a*i+s*r)/(r+i);return(ud(a)+ud(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(f))||0}function dd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function af(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,f=(a-r)/3;e._context.bezierCurveTo(r+f,i+f*t,a-f,s-f*n,a,s)}function Pa(e){this._context=e}Pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:af(this,this._t0,dd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,af(this,dd(this,n=ld(this,e,t)),n);break;default:af(this,this._t0,n=ld(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Fg(e){this._context=new Pg(e)}(Fg.prototype=Object.create(Pa.prototype)).point=function(e,t){Pa.prototype.point.call(this,t,e)};function Pg(e){this._context=e}Pg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function K3(e){return new Pa(e)}function Z3(e){return new Fg(e)}function $g(e){this._context=e}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=hd(e),i=hd(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hd(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function J3(e){return new $g(e)}function gs(e,t){this._context=e,this._t=t}gs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Q3(e){return new gs(e,.5)}function e6(e){return new gs(e,0)}function t6(e){return new gs(e,1)}const n6=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Bg(e){return typeof e>"u"||e===null}function r6(e){return typeof e=="object"&&e!==null}function i6(e){return Array.isArray(e)?e:Bg(e)?[]:[e]}function o6(e,t){var n,r,i,a;if(t)for(a=Object.keys(t),n=0,r=a.length;n<r;n+=1)i=a[n],e[i]=t[i];return e}function a6(e,t){var n="",r;for(r=0;r<t;r+=1)n+=e;return n}function s6(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var f6=Bg,c6=r6,u6=i6,l6=a6,d6=s6,h6=o6,gt={isNothing:f6,isObject:c6,toArray:u6,repeat:l6,isNegativeZero:d6,extend:h6};function Rg(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),r+" "+n):r}function Wi(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Rg(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Wi.prototype=Object.create(Error.prototype);Wi.prototype.constructor=Wi;Wi.prototype.toString=function(t){return this.name+": "+Rg(this,t)};var Tn=Wi;function sf(e,t,n,r,i){var a="",s="",f=Math.floor(i/2)-1;return r-t>f&&(a=" ... ",t=r-f+a.length),n-r>f&&(s=" ...",n=r+f-s.length),{str:a+e.slice(t,n).replace(/\t/g,"→")+s,pos:r-t+a.length}}function ff(e,t){return gt.repeat(" ",t-e.length)+e}function p6(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],a,s=-1;a=n.exec(e.buffer);)i.push(a.index),r.push(a.index+a[0].length),e.position<=a.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var f="",c,u,l=Math.min(e.line+t.linesAfter,i.length).toString().length,d=t.maxLength-(t.indent+l+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)u=sf(e.buffer,r[s-c],i[s-c],e.position-(r[s]-r[s-c]),d),f=gt.repeat(" ",t.indent)+ff((e.line-c+1).toString(),l)+" | "+u.str+`
`+f;for(u=sf(e.buffer,r[s],i[s],e.position,d),f+=gt.repeat(" ",t.indent)+ff((e.line+1).toString(),l)+" | "+u.str+`
`,f+=gt.repeat("-",t.indent+l+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)u=sf(e.buffer,r[s+c],i[s+c],e.position-(r[s]-r[s+c]),d),f+=gt.repeat(" ",t.indent)+ff((e.line+c+1).toString(),l)+" | "+u.str+`
`;return f.replace(/\n$/,"")}var g6=p6,m6=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],b6=["scalar","sequence","mapping"];function y6(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(r){t[String(r)]=n})}),t}function _6(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(m6.indexOf(n)===-1)throw new Tn('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=y6(t.styleAliases||null),b6.indexOf(this.kind)===-1)throw new Tn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var ft=_6;function pd(e,t){var n=[];return e[t].forEach(function(r){var i=n.length;n.forEach(function(a,s){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(i=s)}),n[i]=r}),n}function v6(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function r(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(r);return e}function mc(e){return this.extend(e)}mc.prototype.extend=function(t){var n=[],r=[];if(t instanceof ft)r.push(t);else if(Array.isArray(t))r=r.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(r=r.concat(t.explicit));else throw new Tn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(a){if(!(a instanceof ft))throw new Tn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Tn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Tn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof ft))throw new Tn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(mc.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=pd(i,"implicit"),i.compiledExplicit=pd(i,"explicit"),i.compiledTypeMap=v6(i.compiledImplicit,i.compiledExplicit),i};var w6=mc,x6=new ft("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),S6=new ft("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),k6=new ft("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),M6=new w6({explicit:[x6,S6,k6]});function A6(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function E6(){return null}function T6(e){return e===null}var C6=new ft("tag:yaml.org,2002:null",{kind:"scalar",resolve:A6,construct:E6,predicate:T6,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function N6(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function D6(e){return e==="true"||e==="True"||e==="TRUE"}function I6(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var L6=new ft("tag:yaml.org,2002:bool",{kind:"scalar",resolve:N6,construct:D6,predicate:I6,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function O6(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function F6(e){return 48<=e&&e<=55}function P6(e){return 48<=e&&e<=57}function $6(e){if(e===null)return!1;var t=e.length,n=0,r=!1,i;if(!t)return!1;if(i=e[n],(i==="-"||i==="+")&&(i=e[++n]),i==="0"){if(n+1===t)return!0;if(i=e[++n],i==="b"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!O6(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<t;n++)if(i=e[n],i!=="_"){if(!F6(e.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<t;n++)if(i=e[n],i!=="_"){if(!P6(e.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function B6(e){var t=e,n=1,r;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),r=t[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),t=t.slice(1),r=t[0]),t==="0")return 0;if(r==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function R6(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!gt.isNegativeZero(e)}var j6=new ft("tag:yaml.org,2002:int",{kind:"scalar",resolve:$6,construct:B6,predicate:R6,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),q6=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function z6(e){return!(e===null||!q6.test(e)||e[e.length-1]==="_")}function U6(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var H6=/^[-+]?[0-9]+e/;function V6(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(gt.isNegativeZero(e))return"-0.0";return n=e.toString(10),H6.test(n)?n.replace("e",".e"):n}function Y6(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||gt.isNegativeZero(e))}var W6=new ft("tag:yaml.org,2002:float",{kind:"scalar",resolve:z6,construct:U6,predicate:Y6,represent:V6,defaultStyle:"lowercase"}),X6=M6.extend({implicit:[C6,L6,j6,W6]}),G6=X6,jg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),qg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function K6(e){return e===null?!1:jg.exec(e)!==null||qg.exec(e)!==null}function Z6(e){var t,n,r,i,a,s,f,c=0,u=null,l,d,h;if(t=jg.exec(e),t===null&&(t=qg.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(n,r,i));if(a=+t[4],s=+t[5],f=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(l=+t[10],d=+(t[11]||0),u=(l*60+d)*6e4,t[9]==="-"&&(u=-u)),h=new Date(Date.UTC(n,r,i,a,s,f,c)),u&&h.setTime(h.getTime()-u),h}function J6(e){return e.toISOString()}var Q6=new ft("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:K6,construct:Z6,instanceOf:Date,represent:J6});function e5(e){return e==="<<"||e===null}var t5=new ft("tag:yaml.org,2002:merge",{kind:"scalar",resolve:e5}),au=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function n5(e){if(e===null)return!1;var t,n,r=0,i=e.length,a=au;for(n=0;n<i;n++)if(t=a.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;r+=6}return r%8===0}function r5(e){var t,n,r=e.replace(/[\r\n=]/g,""),i=r.length,a=au,s=0,f=[];for(t=0;t<i;t++)t%4===0&&t&&(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)),s=s<<6|a.indexOf(r.charAt(t));return n=i%4*6,n===0?(f.push(s>>16&255),f.push(s>>8&255),f.push(s&255)):n===18?(f.push(s>>10&255),f.push(s>>2&255)):n===12&&f.push(s>>4&255),new Uint8Array(f)}function i5(e){var t="",n=0,r,i,a=e.length,s=au;for(r=0;r<a;r++)r%3===0&&r&&(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]),n=(n<<8)+e[r];return i=a%3,i===0?(t+=s[n>>18&63],t+=s[n>>12&63],t+=s[n>>6&63],t+=s[n&63]):i===2?(t+=s[n>>10&63],t+=s[n>>4&63],t+=s[n<<2&63],t+=s[64]):i===1&&(t+=s[n>>2&63],t+=s[n<<4&63],t+=s[64],t+=s[64]),t}function o5(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var a5=new ft("tag:yaml.org,2002:binary",{kind:"scalar",resolve:n5,construct:r5,predicate:o5,represent:i5}),s5=Object.prototype.hasOwnProperty,f5=Object.prototype.toString;function c5(e){if(e===null)return!0;var t=[],n,r,i,a,s,f=e;for(n=0,r=f.length;n<r;n+=1){if(i=f[n],s=!1,f5.call(i)!=="[object Object]")return!1;for(a in i)if(s5.call(i,a))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(a)===-1)t.push(a);else return!1}return!0}function u5(e){return e!==null?e:[]}var l5=new ft("tag:yaml.org,2002:omap",{kind:"sequence",resolve:c5,construct:u5}),d5=Object.prototype.toString;function h5(e){if(e===null)return!0;var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1){if(r=s[t],d5.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;a[t]=[i[0],r[i[0]]]}return!0}function p5(e){if(e===null)return[];var t,n,r,i,a,s=e;for(a=new Array(s.length),t=0,n=s.length;t<n;t+=1)r=s[t],i=Object.keys(r),a[t]=[i[0],r[i[0]]];return a}var g5=new ft("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:h5,construct:p5}),m5=Object.prototype.hasOwnProperty;function b5(e){if(e===null)return!0;var t,n=e;for(t in n)if(m5.call(n,t)&&n[t]!==null)return!1;return!0}function y5(e){return e!==null?e:{}}var _5=new ft("tag:yaml.org,2002:set",{kind:"mapping",resolve:b5,construct:y5}),v5=G6.extend({implicit:[Q6,t5],explicit:[a5,l5,g5,_5]}),Qn=Object.prototype.hasOwnProperty,$a=1,zg=2,Ug=3,Ba=4,cf=1,w5=2,gd=3,x5=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,S5=/[\x85\u2028\u2029]/,k5=/[,\[\]\{\}]/,Hg=/^(?:!|!!|![a-z\-]+!)$/i,Vg=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function md(e){return Object.prototype.toString.call(e)}function gn(e){return e===10||e===13}function hr(e){return e===9||e===32}function At(e){return e===9||e===32||e===10||e===13}function Hr(e){return e===44||e===91||e===93||e===123||e===125}function M5(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function A5(e){return e===120?2:e===117?4:e===85?8:0}function E5(e){return 48<=e&&e<=57?e-48:-1}function bd(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function T5(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var Yg=new Array(256),Wg=new Array(256);for(var Br=0;Br<256;Br++)Yg[Br]=bd(Br)?1:0,Wg[Br]=bd(Br);function C5(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||v5,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Xg(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=g6(n),new Tn(t,n)}function le(e,t){throw Xg(e,t)}function Ra(e,t){e.onWarning&&e.onWarning.call(null,Xg(e,t))}var yd={YAML:function(t,n,r){var i,a,s;t.version!==null&&le(t,"duplication of %YAML directive"),r.length!==1&&le(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&le(t,"ill-formed argument of the YAML directive"),a=parseInt(i[1],10),s=parseInt(i[2],10),a!==1&&le(t,"unacceptable YAML version of the document"),t.version=r[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Ra(t,"unsupported YAML version of the document")},TAG:function(t,n,r){var i,a;r.length!==2&&le(t,"TAG directive accepts exactly two arguments"),i=r[0],a=r[1],Hg.test(i)||le(t,"ill-formed tag handle (first argument) of the TAG directive"),Qn.call(t.tagMap,i)&&le(t,'there is a previously declared suffix for "'+i+'" tag handle'),Vg.test(a)||le(t,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{le(t,"tag prefix is malformed: "+a)}t.tagMap[i]=a}};function Xn(e,t,n,r){var i,a,s,f;if(t<n){if(f=e.input.slice(t,n),r)for(i=0,a=f.length;i<a;i+=1)s=f.charCodeAt(i),s===9||32<=s&&s<=1114111||le(e,"expected valid JSON character");else x5.test(f)&&le(e,"the stream contains non-printable characters");e.result+=f}}function _d(e,t,n,r){var i,a,s,f;for(gt.isObject(n)||le(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,f=i.length;s<f;s+=1)a=i[s],Qn.call(t,a)||(t[a]=n[a],r[a]=!0)}function Vr(e,t,n,r,i,a,s,f,c){var u,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,l=i.length;u<l;u+=1)Array.isArray(i[u])&&le(e,"nested arrays are not supported inside keys"),typeof i=="object"&&md(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&md(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(u=0,l=a.length;u<l;u+=1)_d(e,t,a[u],n);else _d(e,t,a,n);else!e.json&&!Qn.call(n,i)&&Qn.call(t,i)&&(e.line=s||e.line,e.lineStart=f||e.lineStart,e.position=c||e.position,le(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:a}):t[i]=a,delete n[i];return t}function su(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):le(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function He(e,t,n){for(var r=0,i=e.input.charCodeAt(e.position);i!==0;){for(;hr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(gn(i))for(su(e),i=e.input.charCodeAt(e.position),r++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return n!==-1&&r!==0&&e.lineIndent<n&&Ra(e,"deficient indentation"),r}function ms(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||At(n)))}function fu(e,t){t===1?e.result+=" ":t>1&&(e.result+=gt.repeat(`
`,t-1))}function N5(e,t,n){var r,i,a,s,f,c,u,l,d=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),At(p)||Hr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),At(i)||n&&Hr(i)))return!1;for(e.kind="scalar",e.result="",a=s=e.position,f=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),At(i)||n&&Hr(i))break}else if(p===35){if(r=e.input.charCodeAt(e.position-1),At(r))break}else{if(e.position===e.lineStart&&ms(e)||n&&Hr(p))break;if(gn(p))if(c=e.line,u=e.lineStart,l=e.lineIndent,He(e,!1,-1),e.lineIndent>=t){f=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=u,e.lineIndent=l;break}}f&&(Xn(e,a,s,!1),fu(e,e.line-c),a=s=e.position,f=!1),hr(p)||(s=e.position+1),p=e.input.charCodeAt(++e.position)}return Xn(e,a,s,!1),e.result?!0:(e.kind=d,e.result=h,!1)}function D5(e,t){var n,r,i;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,r=i=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(Xn(e,r,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)r=e.position,e.position++,i=e.position;else return!0;else gn(n)?(Xn(e,r,i,!0),fu(e,He(e,!1,t)),r=i=e.position):e.position===e.lineStart&&ms(e)?le(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);le(e,"unexpected end of the stream within a single quoted scalar")}function I5(e,t){var n,r,i,a,s,f;if(f=e.input.charCodeAt(e.position),f!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=r=e.position;(f=e.input.charCodeAt(e.position))!==0;){if(f===34)return Xn(e,n,e.position,!0),e.position++,!0;if(f===92){if(Xn(e,n,e.position,!0),f=e.input.charCodeAt(++e.position),gn(f))He(e,!1,t);else if(f<256&&Yg[f])e.result+=Wg[f],e.position++;else if((s=A5(f))>0){for(i=s,a=0;i>0;i--)f=e.input.charCodeAt(++e.position),(s=M5(f))>=0?a=(a<<4)+s:le(e,"expected hexadecimal character");e.result+=T5(a),e.position++}else le(e,"unknown escape sequence");n=r=e.position}else gn(f)?(Xn(e,n,r,!0),fu(e,He(e,!1,t)),n=r=e.position):e.position===e.lineStart&&ms(e)?le(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}le(e,"unexpected end of the stream within a double quoted scalar")}function L5(e,t){var n=!0,r,i,a,s=e.tag,f,c=e.anchor,u,l,d,h,p,m=Object.create(null),g,b,w,y;if(y=e.input.charCodeAt(e.position),y===91)l=93,p=!1,f=[];else if(y===123)l=125,p=!0,f={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=f),y=e.input.charCodeAt(++e.position);y!==0;){if(He(e,!0,t),y=e.input.charCodeAt(e.position),y===l)return e.position++,e.tag=s,e.anchor=c,e.kind=p?"mapping":"sequence",e.result=f,!0;n?y===44&&le(e,"expected the node content, but found ','"):le(e,"missed comma between flow collection entries"),b=g=w=null,d=h=!1,y===63&&(u=e.input.charCodeAt(e.position+1),At(u)&&(d=h=!0,e.position++,He(e,!0,t))),r=e.line,i=e.lineStart,a=e.position,ii(e,t,$a,!1,!0),b=e.tag,g=e.result,He(e,!0,t),y=e.input.charCodeAt(e.position),(h||e.line===r)&&y===58&&(d=!0,y=e.input.charCodeAt(++e.position),He(e,!0,t),ii(e,t,$a,!1,!0),w=e.result),p?Vr(e,f,m,b,g,w,r,i,a):d?f.push(Vr(e,null,m,b,g,w,r,i,a)):f.push(g),He(e,!0,t),y=e.input.charCodeAt(e.position),y===44?(n=!0,y=e.input.charCodeAt(++e.position)):n=!1}le(e,"unexpected end of the stream within a flow collection")}function O5(e,t){var n,r,i=cf,a=!1,s=!1,f=t,c=0,u=!1,l,d;if(d=e.input.charCodeAt(e.position),d===124)r=!1;else if(d===62)r=!0;else return!1;for(e.kind="scalar",e.result="";d!==0;)if(d=e.input.charCodeAt(++e.position),d===43||d===45)cf===i?i=d===43?gd:w5:le(e,"repeat of a chomping mode identifier");else if((l=E5(d))>=0)l===0?le(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?le(e,"repeat of an indentation width identifier"):(f=t+l-1,s=!0);else break;if(hr(d)){do d=e.input.charCodeAt(++e.position);while(hr(d));if(d===35)do d=e.input.charCodeAt(++e.position);while(!gn(d)&&d!==0)}for(;d!==0;){for(su(e),e.lineIndent=0,d=e.input.charCodeAt(e.position);(!s||e.lineIndent<f)&&d===32;)e.lineIndent++,d=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>f&&(f=e.lineIndent),gn(d)){c++;continue}if(e.lineIndent<f){i===gd?e.result+=gt.repeat(`
`,a?1+c:c):i===cf&&a&&(e.result+=`
`);break}for(r?hr(d)?(u=!0,e.result+=gt.repeat(`
`,a?1+c:c)):u?(u=!1,e.result+=gt.repeat(`
`,c+1)):c===0?a&&(e.result+=" "):e.result+=gt.repeat(`
`,c):e.result+=gt.repeat(`
`,a?1+c:c),a=!0,s=!0,c=0,n=e.position;!gn(d)&&d!==0;)d=e.input.charCodeAt(++e.position);Xn(e,n,e.position,!1)}return!0}function vd(e,t){var n,r=e.tag,i=e.anchor,a=[],s,f=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!At(s))));){if(f=!0,e.position++,He(e,!0,-1)&&e.lineIndent<=t){a.push(null),c=e.input.charCodeAt(e.position);continue}if(n=e.line,ii(e,t,Ug,!1,!0),a.push(e.result),He(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&c!==0)le(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return f?(e.tag=r,e.anchor=i,e.kind="sequence",e.result=a,!0):!1}function F5(e,t,n){var r,i,a,s,f,c,u=e.tag,l=e.anchor,d={},h=Object.create(null),p=null,m=null,g=null,b=!1,w=!1,y;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=d),y=e.input.charCodeAt(e.position);y!==0;){if(!b&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,le(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),a=e.line,(y===63||y===58)&&At(r))y===63?(b&&(Vr(e,d,h,p,m,null,s,f,c),p=m=g=null),w=!0,b=!0,i=!0):b?(b=!1,i=!0):le(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,y=r;else{if(s=e.line,f=e.lineStart,c=e.position,!ii(e,n,zg,!1,!0))break;if(e.line===a){for(y=e.input.charCodeAt(e.position);hr(y);)y=e.input.charCodeAt(++e.position);if(y===58)y=e.input.charCodeAt(++e.position),At(y)||le(e,"a whitespace character is expected after the key-value separator within a block mapping"),b&&(Vr(e,d,h,p,m,null,s,f,c),p=m=g=null),w=!0,b=!1,i=!1,p=e.tag,m=e.result;else if(w)le(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=l,!0}else if(w)le(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=l,!0}if((e.line===a||e.lineIndent>t)&&(b&&(s=e.line,f=e.lineStart,c=e.position),ii(e,t,Ba,!0,i)&&(b?m=e.result:g=e.result),b||(Vr(e,d,h,p,m,g,s,f,c),p=m=g=null),He(e,!0,-1),y=e.input.charCodeAt(e.position)),(e.line===a||e.lineIndent>t)&&y!==0)le(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return b&&Vr(e,d,h,p,m,null,s,f,c),w&&(e.tag=u,e.anchor=l,e.kind="mapping",e.result=d),w}function P5(e){var t,n=!1,r=!1,i,a,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&le(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(n=!0,s=e.input.charCodeAt(++e.position)):s===33?(r=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,n){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(a=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):le(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!At(s);)s===33&&(r?le(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Hg.test(i)||le(e,"named tag handle cannot contain such characters"),r=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);a=e.input.slice(t,e.position),k5.test(a)&&le(e,"tag suffix cannot contain flow indicator characters")}a&&!Vg.test(a)&&le(e,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{le(e,"tag name is malformed: "+a)}return n?e.tag=a:Qn.call(e.tagMap,i)?e.tag=e.tagMap[i]+a:i==="!"?e.tag="!"+a:i==="!!"?e.tag="tag:yaml.org,2002:"+a:le(e,'undeclared tag handle "'+i+'"'),!0}function $5(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&le(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!At(n)&&!Hr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function B5(e){var t,n,r;if(r=e.input.charCodeAt(e.position),r!==42)return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!At(r)&&!Hr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&le(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Qn.call(e.anchorMap,n)||le(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],He(e,!0,-1),!0}function ii(e,t,n,r,i){var a,s,f,c=1,u=!1,l=!1,d,h,p,m,g,b;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=s=f=Ba===n||Ug===n,r&&He(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;P5(e)||$5(e);)He(e,!0,-1)?(u=!0,f=a,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):f=!1;if(f&&(f=u||i),(c===1||Ba===n)&&($a===n||zg===n?g=t:g=t+1,b=e.position-e.lineStart,c===1?f&&(vd(e,b)||F5(e,b,g))||L5(e,g)?l=!0:(s&&O5(e,g)||D5(e,g)||I5(e,g)?l=!0:B5(e)?(l=!0,(e.tag!==null||e.anchor!==null)&&le(e,"alias node should not have any properties")):N5(e,g,$a===n)&&(l=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(l=f&&vd(e,b))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&le(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),d=0,h=e.implicitTypes.length;d<h;d+=1)if(m=e.implicitTypes[d],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Qn.call(e.typeMap[e.kind||"fallback"],e.tag))m=e.typeMap[e.kind||"fallback"][e.tag];else for(m=null,p=e.typeMap.multi[e.kind||"fallback"],d=0,h=p.length;d<h;d+=1)if(e.tag.slice(0,p[d].tag.length)===p[d].tag){m=p[d];break}m||le(e,"unknown tag !<"+e.tag+">"),e.result!==null&&m.kind!==e.kind&&le(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result,e.tag)?(e.result=m.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):le(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||l}function R5(e){var t=e.position,n,r,i,a=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(He(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(a=!0,s=e.input.charCodeAt(++e.position),n=e.position;s!==0&&!At(s);)s=e.input.charCodeAt(++e.position);for(r=e.input.slice(n,e.position),i=[],r.length<1&&le(e,"directive name must not be less than one character in length");s!==0;){for(;hr(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!gn(s));break}if(gn(s))break;for(n=e.position;s!==0&&!At(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(n,e.position))}s!==0&&su(e),Qn.call(yd,r)?yd[r](e,r,i):Ra(e,'unknown document directive "'+r+'"')}if(He(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,He(e,!0,-1)):a&&le(e,"directives end mark is expected"),ii(e,e.lineIndent-1,Ba,!1,!0),He(e,!0,-1),e.checkLineBreaks&&S5.test(e.input.slice(t,e.position))&&Ra(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&ms(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,He(e,!0,-1));return}if(e.position<e.length-1)le(e,"end of the stream or a document separator is expected");else return}function Gg(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new C5(e,t),r=e.indexOf("\0");for(r!==-1&&(n.position=r,le(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)R5(n);return n.documents}function j5(e,t,n){t!==null&&typeof t=="object"&&typeof n>"u"&&(n=t,t=null);var r=Gg(e,n);if(typeof t!="function")return r;for(var i=0,a=r.length;i<a;i+=1)t(r[i])}function q5(e,t){var n=Gg(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Tn("expected a single document in the stream, but found more")}}var z5=j5,U5=q5,H5={loadAll:z5,load:U5},V5=H5.load;function er(e){return e!=null&&!Number.isNaN(e)}function yn(e,t){return+er(t)-+er(e)||Tt(e,t)}function ja(e,t){return+er(t)-+er(e)||Qi(e,t)}function cu(e){return e!=null&&`${e}`!=""}function Kg(e){return isFinite(e)?e:NaN}function co(e){return e>0&&isFinite(e)?e:NaN}function bs(e){return e<0&&isFinite(e)?e:NaN}function Y5(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${W5(e.getUTCFullYear())}-${En(e.getUTCMonth()+1,2)}-${En(e.getUTCDate(),2)}${n||r||i||a?`T${En(n,2)}:${En(r,2)}${i||a?`:${En(i,2)}${a?`.${En(a,3)}`:""}`:""}Z`:""}`}function W5(e){return e<0?`-${En(-e,6)}`:e>9999?`+${En(e,6)}`:En(e,4)}function En(e,t){return`${e}`.padStart(t,"0")}const X5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function Zg(e,t){return X5.test(e+="")?new Date(e):typeof t=="function"?t(e):t}const Yr=1e3,cr=Yr*60,ur=cr*60,Fn=ur*24,an=Fn*7,pr=Fn*30,Rn=Fn*365,uf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Yr],["5 seconds",5*Yr],["15 seconds",15*Yr],["30 seconds",30*Yr],["minute",cr],["5 minutes",5*cr],["15 minutes",15*cr],["30 minutes",30*cr],["hour",ur],["3 hours",3*ur],["6 hours",6*ur],["12 hours",12*ur],["day",Fn],["2 days",2*Fn],["week",an],["2 weeks",2*an],["month",pr],["3 months",3*pr],["6 months",6*pr],["year",Rn],["2 years",2*Rn],["5 years",5*Rn],["10 years",10*Rn],["20 years",20*Rn],["50 years",50*Rn],["100 years",100*Rn]],uu=new Map([["second",Yr],["minute",cr],["hour",ur],["day",Fn],["monday",an],["tuesday",an],["wednesday",an],["thursday",an],["friday",an],["saturday",an],["sunday",an],["week",an],["month",pr],["year",Rn]]),Jg=new Map([["second",dn],["minute",os],["hour",as],["day",Er],["monday",Hi],["tuesday",j1],["wednesday",q1],["thursday",xr],["friday",z1],["saturday",U1],["sunday",ni],["week",ni],["month",ao],["year",tn]]),Qg=new Map([["second",dn],["minute",io],["hour",oo],["day",fs],["monday",Vi],["tuesday",H1],["wednesday",V1],["thursday",Sr],["friday",Y1],["saturday",W1],["sunday",ri],["week",ri],["month",so],["year",nn]]),uo=Symbol("intervalDuration"),ys=Symbol("intervalType");for(const[e,t]of Jg)t[uo]=uu.get(e),t[ys]="time";for(const[e,t]of Qg)t[uo]=uu.get(e),t[ys]="utc";const G5=[["year",nn,"utc"],["year",tn,"time"],["month",so,"utc"],["month",ao,"time"],["day",fs,"utc",6*pr],["day",Er,"time",6*pr],["hour",oo,"utc",3*Fn],["minute",io,"utc",6*ur],["second",dn,"utc",30*cr]];function em(e,t,n){let r=`${e}`.toLowerCase();r.endsWith("s")&&(r=r.slice(0,-1));let i=1;const a=/^(?:(\d+)\s+)/.exec(r);switch(a&&(r=r.slice(a[0].length),i=+a[1]),r){case"quarter":r="month",i*=3;break;case"half":r="month",i*=6;break}let s=t.get(r);if(!s)throw new Error(`unknown interval: ${e}`);if(i>1){if(!s.every)throw new Error(`non-periodic interval: ${r}`);s=s.every(i),s[uo]=uu.get(r)*i,s[ys]=n}return s}function tm(e){return em(e,Jg,"time")}function nm(e){return em(e,Qg,"utc")}function wd(e,t){if(!(t>1))return;const n=e[uo];if(!uf.some(([,i])=>i===n)||n%Fn===0&&Fn<n&&n<pr)return;const[r]=uf[Ka(([,i])=>Math.log(i)).center(uf,Math.log(n*t))];return(e[ys]==="time"?tm:nm)(r)}function xd(e,t,n){const r=t==="time"?Qc:fo;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=K5(n);switch(e){case"millisecond":return Rr(r(".%L"),r(":%M:%S"),i);case"second":return Rr(r(":%S"),r("%-I:%M"),i);case"minute":return Rr(r("%-I:%M"),r("%p"),i);case"hour":return Rr(r("%-I %p"),r("%b %-d"),i);case"day":return Rr(r("%-d"),r("%b"),i);case"month":return Rr(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function K5(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function Z5(e,t){const n=It(r_(e,(r,i)=>Math.abs(i-r)));if(n<1e3)return xd("millisecond","utc",t);for(const[r,i,a,s]of G5){if(n>s||r==="hour"&&!n)break;if(e.every(f=>i.floor(f)>=f))return xd(r,a,t)}}function Rr(e,t,n){return(r,i,a)=>{const s=e(r,i),f=t(r,i),c=i-ai(a);return i!==c&&a[c]!==void 0&&f===t(a[c],c)?s:n(s,f)}}const Xi=Object.getPrototypeOf(Uint8Array),J5=Object.prototype.toString,rm=Symbol("reindex");function Vt(e,t,n){const r=typeof t;return r==="string"?Sd(e,im(t),n):r==="function"?Sd(e,t,n):r==="number"||t instanceof Date||r==="boolean"?tt(e,lo(t),n):typeof(t==null?void 0:t.transform)=="function"?kd(t.transform(e),n):Q5(kd(t,n),e==null?void 0:e[rm])}function Q5(e,t){return t?du(e,t):e}function Sd(e,t,n){return tt(e,(n==null?void 0:n.prototype)instanceof Xi?e4(t):t,n)}function kd(e,t){return t===void 0?Ot(e):e instanceof t?e:t.prototype instanceof Xi&&!(e instanceof Xi)?t.from(e,lu):t.from(e)}function e4(e){return(t,n)=>lu(e(t,n))}const Qo=[null],im=e=>t=>t[e],om={transform:rr},Ft={transform:e=>e},t4=()=>1,n4=()=>!0,mt=e=>e==null?e:`${e}`,$e=e=>e==null?e:+e,am=e=>e?e[0]:void 0,r4=e=>e?e[1]:void 0,lo=e=>()=>e;function i4(e){const t=+`${e}`.slice(1)/100;return(n,r)=>ca(n,t,r)}function Hn(e){return e instanceof Xi?e:tt(e,lu,Float64Array)}function lu(e){return e==null?NaN:Number(e)}function o4(e){return tt(e,a4)}function a4(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?Zg(e):e==null||isNaN(e=+e)?void 0:new Date(e)}function kr(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:ws(e)?[void 0,e]:[e,void 0]}function st(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function sm(e,t,n){if(e!=null)return rn(e,t,n)}function rn(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function Ot(e){return e==null||e instanceof Array||e instanceof Xi?e:Array.from(e)}function tt(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function Gi(e,t=Array){return e instanceof t?e.slice():t.from(e)}function fm({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function s4({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function f4(e){return fm(e)||s4(e)||e.interval!==void 0}function Nr(e){return(e==null?void 0:e.toString)===J5}function qa(e){return Nr(e)&&(e.type!==void 0||e.domain!==void 0)}function _s(e){return Nr(e)&&typeof e.transform!="function"}function oi(e){return _s(e)&&e.value===void 0&&e.channel===void 0}function c4(e,t,n,r=Ft){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function ho(e,t){return e===void 0&&t===void 0?[am,r4]:[e,t]}function cm({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=kr(t)),e===void 0&&([e]=kr(n)),e}function rr(e){const t=e.length,n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function du(e,t){return tt(t,n=>e[n],e.constructor)}function u4(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function lr(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bc(e){let t;return[{transform:()=>t,label:po(e)},n=>t=n]}function l4(e){return e==null?[e]:bc(e)}function po(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function d4(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Wt(r)||Wt(i)?tt(r,(a,s)=>new Date((+r[s]+ +i[s])/2)):tt(r,(a,s)=>(+r[s]+ +i[s])/2,Float64Array)},label:e.label}}function h4(e,t){const n=um(t==null?void 0:t.interval,t==null?void 0:t.type);return n?tt(e,n):e}function um(e,t){const n=hu(e,t);return n&&(r=>er(r)?n.floor(r):r)}function hu(e,t){if(e!=null){if(typeof e=="number"){0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const n=Math.abs(e);return e<0?{floor:r=>Math.floor(r*n)/n,offset:r=>(r*n+1)/n,range:(r,i)=>qf(Math.ceil(r*n),i*n).map(a=>a/n)}:{floor:r=>Math.floor(r/n)*n,offset:r=>r+n,range:(r,i)=>qf(Math.ceil(r/n),i/n).map(a=>a*n)}}if(typeof e=="string")return(t==="time"?tm:nm)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function go(e,t){if(e=hu(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function p4(e,t){if(e=go(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function g4(e){return typeof(e==null?void 0:e.range)=="function"}function vs(e){return e===void 0||_s(e)?e:{value:e}}function m4(e){return e==null?null:{transform:t=>Vt(t,e,Float64Array),label:po(e)}}function Dr(e){return e&&typeof e[Symbol.iterator]=="function"}function lm(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Md(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Wt(e){for(const t of e)if(t!=null)return t instanceof Date}function b4(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&Zg(t)}function y4(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function _4(e){for(const t of e)if(t!=null)return typeof t=="number"}function lf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const v4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ws(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||v4.has(e))}function w4(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function kt(e){return e==null||Ki(e)}function Ki(e){return/^\s*none\s*$/i.test(e)}function x4(e){return/^\s*round\s*$/i.test(e)}function dm(e,t){return sm(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function xs(e="middle"){return dm(e,"frameAnchor")}function ai(e){if(e==null)return;const t=e[0],n=e[e.length-1];return Qi(t,n)}function S4(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function k4(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function hm(e){return Dr(e)?k4(e):e}const hn=Symbol("position"),Pn=Symbol("color"),mo=Symbol("radius"),bo=Symbol("length"),yo=Symbol("opacity"),Ss=Symbol("symbol"),pm=Symbol("projection"),je=new Map([["x",hn],["y",hn],["fx",hn],["fy",hn],["r",mo],["color",Pn],["opacity",yo],["symbol",Ss],["length",bo],["projection",pm]]);function M4(e){return e===hn||e===pm}function A4(e){return e===hn||e===mo||e===bo||e===yo}const E4=Math.sqrt(3),T4=2/E4,C4={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*T4,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},pu=new Map([["asterisk",pg],["circle",Yi],["cross",gg],["diamond",bg],["diamond2",yg],["hexagon",C4],["plus",_g],["square",vg],["square2",wg],["star",Sg],["times",Eg],["triangle",kg],["triangle2",Mg],["wye",Ag]]);function gu(e){return e&&typeof e.draw=="function"}function N4(e){return gu(e)?!0:typeof e!="string"?!1:pu.has(e.toLowerCase())}function mu(e){if(e==null||gu(e))return e;const t=pu.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function D4(e){if(e==null||gu(e))return[void 0,e];if(typeof e=="string"){const t=pu.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function bu({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},s){if(r===void 0&&(e!=null&&(r=gm(e)),t!=null&&!oi(t)&&(r=df(r,yu(t))),n&&(r=df(r,mm))),s!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||oi(t))&&{sort:t},transform:df(r,s)}}function si({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=gm(e)),t!=null&&!oi(t)&&(r=hf(r,yu(t))),n&&(r=hf(r,mm))),{...i,...(t===null||oi(t))&&{sort:t},initializer:hf(r,a)}}function df(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,Ot(n),r,i)}}function hf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let s,f,c,u,l,d;return{data:f=n,facets:c=r,channels:s}=e.call(this,n,r,i,...a),{data:l=f,facets:d=c,channels:u}=t.call(this,f,c,{...i,...s},...a),{data:l,facets:d,channels:{...s,...u}}}}function I4(e,t){return(e.initializer!=null?si:bu)(e,t)}function gm(e){return(t,n)=>{const r=Vt(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function mm(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function L4(e,{sort:t,...n}={}){return{...(_s(e)&&e.channel!==void 0?si:I4)(n,yu(e)),sort:oi(t)?t:null}}function yu(e){return(typeof e=="function"&&e.length!==1?O4:F4)(e)}function O4(e){return(t,n)=>{const r=(i,a)=>e(t[i],t[a]);return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function F4(e){let t,n;({channel:t,value:e,order:n}={...vs(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?ja:yn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=yn;break;case"descending":n=ja;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,s)=>{let f;if(t===void 0)f=Vt(i,e);else{if(s===void 0)throw new Error("channel sort requires an initializer");if(f=s[t],!f)return{};f=f.value}const c=(u,l)=>n(f[u],f[l]);return{data:i,facets:a.map(u=>u.slice().sort(c))}}}function P4(e,t,n=$4){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Nr(e))return B4(e);if(typeof e=="function")return R4(e);if(/^p\d{2}$/i.test(e))return An(i4(e));switch(`${e}`.toLowerCase()){case"first":return q4;case"last":return z4;case"identity":return j4;case"count":return Ed;case"distinct":return U4;case"sum":return t==null?Ed:H4;case"proportion":return Td(t,"data");case"proportion-facet":return Td(t,"facet");case"deviation":return An(V2);case"min":return An(mn);case"min-index":return An(J2);case"max":return An(It);case"max-index":return An(Z2);case"mean":return Ad(e_);case"median":return Ad(jf);case"variance":return An(A0);case"mode":return An(n_)}return n(e)}function $4(e){throw new Error(`invalid reduce: ${e}`)}function B4(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function R4(e){return{reduceIndex(t,n,r){return e(du(n,t),r)}}}function An(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Ad(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Wt(n)?new Date(r):r}}}const j4={reduceIndex(e,t){return du(t,e)}},q4={reduceIndex(e,t){return t[e[0]]}},z4={reduceIndex(e,t){return t[e[e.length-1]]}},Ed={label:"Frequency",reduceIndex(e){return e.length}},U4={label:"Distinct",reduceIndex(e,t){const n=new Za;for(const r of e)n.add(t[r]);return n.size}},H4=An(vr);function Td(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>vr(n,a=>r[a])/i}}function Zi(e,{scale:t,type:n,value:r,filter:i,hint:a,label:s=po(r)},f){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),bm(f,{scale:t,type:n,value:Vt(e,r),label:s,filter:i,hint:a})}function V4(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,Zi(t,r,n)]))}function Y4(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const s=i==null?null:t[i];return[r,s==null?a:tt(a,s)]}));return n.channels=e,n}function bm(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&lf(r,ws)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&lf(r,w4)?null:"opacity";break;case"symbol":n!==!0&&lf(r,N4)?(t.scale=null,t.value=tt(r,mu)):t.scale="symbol";break;default:t.scale=je.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!je.has(n))throw new Error(`unknown scale: ${n}`);return t}function W4(e,t,n,r,i){const{order:a,reverse:s,reduce:f=!0,limit:c}=i;for(const u in i){if(!je.has(u))continue;let{value:l,order:d=a,reverse:h=s,reduce:p=f,limit:m=c}=vs(i[u]);const g=l==null?void 0:l.startsWith("-");if(g&&(l=l.slice(1)),d=d===void 0?g!==(l==="width"||l==="height")?_m:ym:K4(d),p==null||p===!1)continue;const b=u==="fx"||u==="fy"?G4(t,r[u]):X4(n,u);if(!b)throw new Error(`missing channel for scale: ${u}`);const w=b.value,[y=0,x=1/0]=Dr(m)?m:m<0?[m]:[0,m];if(l==null)b.domain=()=>{let _=Array.from(new Za(w));return h&&(_=_.reverse()),(y!==0||x!==1/0)&&(_=_.slice(y,x)),_};else{const _=l==="data"?e:l==="height"?Cd(n,"y1","y2"):l==="width"?Cd(n,"x1","x2"):yc(n,l,l==="y"?"y2":l==="x"?"x2":void 0),v=P4(p===!0?"max":p,_);b.domain=()=>{let k=Y2(rr(w),S=>v.reduceIndex(S,_),S=>w[S]);return d&&k.sort(d),h&&k.reverse(),(y!==0||x!==1/0)&&(k=k.slice(y,x)),k.map(am)}}}}function X4(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function G4(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const s=r[n[a][0]];for(const f of e[a])i[f]=s}return t}function Cd(e,t,n){const r=yc(e,t),i=yc(e,n);return tt(i,(a,s)=>Math.abs(a-r[s]),Float64Array)}function yc(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function K4(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return ym;case"descending":return _m}throw new Error(`invalid order: ${e}`)}function ym([e,t],[n,r]){return yn(t,r)||yn(e,n)}function _m([e,t],[n,r]){return ja(t,r)||yn(e,n)}function Nd(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function Z4(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,t=e(...r)),t)}const J4=Z4(e=>new Intl.NumberFormat(e));function Q4(e="en-US"){const t=J4(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function e8(e){return Y5(e,"Invalid Date")}function t8(e="en-US"){const t=Q4(e);return n=>(n instanceof Date?e8:typeof n=="number"?t:mt)(n)}const Mr=t8();let _c=0,vc;function n8(){const e=_c;return _c=0,vc=void 0,e}function Gn(e){e!==vc&&(vc=e,console.warn(e),++_c)}const Dt=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let r8=0;function Dd(){return`plot-clip-${++r8}`}function i8(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:s,fill:f,fillOpacity:c,stroke:u,strokeWidth:l,strokeOpacity:d,strokeLinejoin:h,strokeLinecap:p,strokeMiterlimit:m,strokeDasharray:g,strokeDashoffset:b,opacity:w,mixBlendMode:y,imageFilter:x,paintOrder:_,pointerEvents:v,shapeRendering:k,channels:S},{ariaLabel:C,fill:D="currentColor",fillOpacity:A,stroke:M="none",strokeOpacity:I,strokeWidth:N,strokeLinecap:P,strokeLinejoin:E,strokeMiterlimit:j,paintOrder:Z}){D===null&&(f=null,c=null),M===null&&(u=null,d=null),kt(D)?!kt(M)&&(!kt(f)||S!=null&&S.fill)&&(M="none"):kt(M)&&(!kt(u)||S!=null&&S.stroke)&&(D="none");const[re,J]=kr(f,D),[W,H]=st(c,A),[X,K]=kr(u,M),[O,ne]=st(d,I),[ue,Y]=st(w);Ki(K)||(l===void 0&&(l=N),p===void 0&&(p=P),h===void 0&&(h=E),m===void 0&&!x4(h)&&(m=j),!Ki(J)&&_===void 0&&(_=Z));const[se,T]=st(l);return D!==null&&(e.fill=Ye(J,"currentColor"),e.fillOpacity=ki(H,1)),M!==null&&(e.stroke=Ye(K,"none"),e.strokeWidth=ki(T,1),e.strokeOpacity=ki(ne,1),e.strokeLinejoin=Ye(h,"miter"),e.strokeLinecap=Ye(p,"butt"),e.strokeMiterlimit=ki(m,4),e.strokeDasharray=Ye(g,"none"),e.strokeDashoffset=Ye(b,"0")),e.target=mt(s),e.ariaLabel=mt(C),e.ariaDescription=mt(i),e.ariaHidden=mt(a),e.opacity=ki(Y,1),e.mixBlendMode=Ye(y,"normal"),e.imageFilter=Ye(x,"none"),e.paintOrder=Ye(_,"normal"),e.pointerEvents=Ye(v,"auto"),e.shapeRendering=Ye(k,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:re,scale:"auto",optional:!0},fillOpacity:{value:W,scale:"auto",optional:!0},stroke:{value:X,scale:"auto",optional:!0},strokeOpacity:{value:O,scale:"auto",optional:!0},strokeWidth:{value:se,optional:!0},opacity:{value:ue,scale:"auto",optional:!0}}}function o8(e,t){t&&e.filter(n=>cu(t[n])).append("title").call(s8,t)}function a8(e,t){t&&e.filter(([n])=>cu(t[n])).append("title").call(f8,t)}function s8(e,t){t&&e.text(n=>Mr(t[n]))}function f8(e,t){t&&e.text(([n])=>Mr(t[n]))}function vn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:u,opacity:l,href:d}){r&&ge(e,"aria-label",h=>r[h]),a&&ge(e,"fill",h=>a[h]),s&&ge(e,"fill-opacity",h=>s[h]),f&&ge(e,"stroke",h=>f[h]),c&&ge(e,"stroke-opacity",h=>c[h]),u&&ge(e,"stroke-width",h=>u[h]),l&&ge(e,"opacity",h=>l[h]),d&&wm(e,h=>d[h],t),n||o8(e,i)}function c8(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:s,stroke:f,strokeOpacity:c,strokeWidth:u,opacity:l,href:d}){r&&ge(e,"aria-label",([h])=>r[h]),a&&ge(e,"fill",([h])=>a[h]),s&&ge(e,"fill-opacity",([h])=>s[h]),f&&ge(e,"stroke",([h])=>f[h]),c&&ge(e,"stroke-opacity",([h])=>c[h]),u&&ge(e,"stroke-width",([h])=>u[h]),l&&ge(e,"opacity",([h])=>l[h]),d&&wm(e,([h])=>d[h],t),n||a8(e,i)}function u8({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:s,opacity:f,href:c},{tip:u}){return[e,u?void 0:t,n,r,i,a,s,f,c].filter(l=>l!==void 0)}function l8(e,t,n){const r=Bc(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&Gn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*d8(e,t,n,r){const{z:i}=n,{z:a}=r,s=u8(r,n),f=[...t,...s];for(const c of a?l8(e,a,i):[e]){let u,l;e:for(const d of c){for(const h of f)if(!er(h[d])){l&&l.push(-1);continue e}if(u===void 0){l&&(yield l),u=s.map(h=>lr(h[d])),l=[d];continue}l.push(d);for(let h=0;h<s.length;++h)if(lr(s[h][d])!==u[h]){yield l,u=s.map(m=>lr(m[d])),l=[d];continue e}}l&&(yield l)}}function vm(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=rn(e,"clip",["frame","sphere"])),e}function h8(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{const{width:s,height:f,marginLeft:c,marginRight:u,marginTop:l,marginBottom:d}=n,h=Dd();i=`url(#${h})`,e=Ge("svg:g",r).call(p=>p.append("svg:clipPath").attr("id",h).append("rect").attr("x",c).attr("y",l).attr("width",s-u-c).attr("height",f-l-d)).each(function(){this.appendChild(e.node()),e.node=()=>this});break}case"sphere":{const{projection:s}=r;if(!s)throw new Error('the "sphere" clip option requires a projection');const f=Dd();i=`url(#${f})`,e.append("clipPath").attr("id",f).append("path").attr("d",eo(s)({type:"Sphere"}));break}}ge(e,"aria-label",t.ariaLabel),ge(e,"aria-description",t.ariaDescription),ge(e,"aria-hidden",t.ariaHidden),ge(e,"clip-path",i)}function Xt(e,t,n,r){h8(e,t,n,r),ge(e,"fill",t.fill),ge(e,"fill-opacity",t.fillOpacity),ge(e,"stroke",t.stroke),ge(e,"stroke-width",t.strokeWidth),ge(e,"stroke-opacity",t.strokeOpacity),ge(e,"stroke-linejoin",t.strokeLinejoin),ge(e,"stroke-linecap",t.strokeLinecap),ge(e,"stroke-miterlimit",t.strokeMiterlimit),ge(e,"stroke-dasharray",t.strokeDasharray),ge(e,"stroke-dashoffset",t.strokeDashoffset),ge(e,"shape-rendering",t.shapeRendering),ge(e,"filter",t.imageFilter),ge(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;ge(e,"pointer-events",i)}function Gt(e,t){p8(e,"mix-blend-mode",t.mixBlendMode),ge(e,"opacity",t.opacity)}function wm(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(oa.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(oa.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ge(e,t,n){n!=null&&e.attr(t,n)}function p8(e,t,n){n!=null&&e.style(t,n)}function Kt(e,t,{x:n,y:r},i=Dt,a=Dt){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function Ye(e,t){if((e=mt(e))!==t)return e}function ki(e,t){if((e=$e(e))!==t)return e}const g8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function _u(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!g8.test(e))throw new Error(`invalid class name: ${e}`);return e}function vu(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function _o({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:s}){return[/left$/.test(e)?s:/right$/.test(e)?t-i:(s+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}function wu(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:vm(n)}}function Ge(e,{document:t}){return St(y0(e).call(t.documentElement))}const xm=Math.PI,Sn=2*xm,Id=.618;function m8({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},s){if(e==null)return;if(typeof e.stream=="function")return e;let f,c,u="frame";if(Nr(e)){let v;if({type:e,domain:c,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:a=v!==void 0?v:a,clip:u=u,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Sm(e));const{width:l,height:d,marginLeft:h,marginRight:p,marginTop:m,marginBottom:g}=s,b=l-h-p-a-r,w=d-m-g-n-i;if(e=e==null?void 0:e({width:b,height:w,clip:u,...f}),e==null)return;u=b8(u,h,m,l-p,d-g);let y=h+a,x=m+n,_;if(c!=null){const[[v,k],[S,C]]=eo(e).bounds(c),D=Math.min(b/(S-v),w/(C-k));D>0?(y-=(D*(v+S)-b)/2,x-=(D*(k+C)-w)/2,_=Ma({point(A,M){this.stream.point(A*D+y,M*D+x)}})):Gn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=y===0&&x===0?km():Ma({point(v,k){this.stream.point(v+y,k+x)}})),{stream:v=>e.stream(_.stream(u(v)))}}function Sm(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Jt(Cv,.7463,.4673);case"albers":return Oo(y1,.7463,.4673);case"azimuthal-equal-area":return Jt(Nv,4,4);case"azimuthal-equidistant":return Jt(Dv,Sn,Sn);case"conic-conformal":return Oo(Ov,Sn,Sn);case"conic-equal-area":return Oo(Aa,6.1702,2.9781);case"conic-equidistant":return Oo($v,7.312,3.6282);case"equal-earth":return Jt(Rv,5.4133,2.6347);case"equirectangular":return Jt(Fv,Sn,xm);case"gnomonic":return Jt(jv,3.4641,3.4641);case"identity":return{type:km};case"reflect-y":return{type:y8};case"mercator":return Jt(Iv,Sn,Sn);case"orthographic":return Jt(qv,2,2);case"stereographic":return Jt(zv,2,2);case"transverse-mercator":return Jt(Uv,Sn,Sn);default:throw new Error(`unknown projection type: ${e}`)}}function b8(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return n1(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Jt(e,t,n){return{type:({width:r,height:i,rotate:a,precision:s=.15,clip:f})=>{var u,l,d;const c=e();return s!=null&&((u=c.precision)==null||u.call(c,s)),a!=null&&((l=c.rotate)==null||l.call(c,a)),typeof f=="number"&&((d=c.clipAngle)==null||d.call(c,f)),c.scale(Math.min(r/t,i/n)),c.translate([r/2,i/2]),c},aspectRatio:n/t}}function Oo(e,t,n){const{type:r,aspectRatio:i}=Jt(e,t,n);return{type:a=>{const{parallels:s,domain:f,width:c,height:u}=a,l=r(a);return s!=null&&(l.parallels(s),f===void 0&&l.fitSize([c,u],{type:"Sphere"})),l},aspectRatio:i}}const km=lo({stream:e=>e}),y8=lo(Ma({point(e,t){this.stream.point(e,-t)}}));function _8(e,t,n,r){const i=n[e],a=n[t],s=i.length,f=n[e]=new Float64Array(s).fill(NaN),c=n[t]=new Float64Array(s).fill(NaN);let u;const l=r.stream({point(d,h){f[u]=d,c[u]=h}});for(u=0;u<s;++u)l.point(i[u],a[u])}function v8({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Nr(e)&&(e=e.type),e!=null)}function w8(e){if(typeof(e==null?void 0:e.stream)=="function")return Id;if(Nr(e)&&(e=e.type),e!=null){if(typeof e!="function"){const{aspectRatio:t}=Sm(e);if(t)return t}return Id}}function x8(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(s,f){t.push(s),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const s of e.value)sr(s,a);return[r,i]}const Mm=new Map([["accent",d3],["category10",rp],["dark2",h3],["paired",p3],["pastel1",g3],["pastel2",m3],["set1",b3],["set2",y3],["set3",_3],["tableau10",v3]]);function S8(e){return e!=null&&Mm.has(`${e}`.toLowerCase())}const Ld=new Map([...Mm,["brbg",kn(ip,op)],["prgn",kn(ap,sp)],["piyg",kn(fp,cp)],["puor",kn(up,lp)],["rdbu",kn(hc,Na)],["rdgy",kn(dp,hp)],["rdylbu",kn(pc,Da)],["rdylgn",kn(pp,gp)],["spectral",kn(mp,bp)],["burd",Od(hc,Na)],["buylrd",Od(pc,Da)],["blues",Je(zp,Up)],["greens",Je(Hp,Vp)],["greys",Je(Yp,Wp)],["oranges",Je(Jp,Qp)],["purples",Je(Xp,Gp)],["reds",Je(Kp,Zp)],["turbo",Mn(ag)],["viridis",Mn(sg)],["magma",Mn(fg)],["inferno",Mn(cg)],["plasma",Mn(ug)],["cividis",Mn(eg)],["cubehelix",Mn(tg)],["warm",Mn(ng)],["cool",Mn(rg)],["bugn",Je(yp,_p)],["bupu",Je(vp,wp)],["gnbu",Je(xp,Sp)],["orrd",Je(kp,Mp)],["pubu",Je(Tp,Cp)],["pubugn",Je(Ap,Ep)],["purd",Je(Np,Dp)],["rdpu",Je(Ip,Lp)],["ylgn",Je(Pp,$p)],["ylgnbu",Je(Op,Fp)],["ylorbr",Je(Bp,Rp)],["ylorrd",Je(jp,qp)],["rainbow",Fd(ig)],["sinebow",Fd(og)]]);function Je(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?en(t,n):e[n])}function kn(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?en(t,n):e[n])}function Od(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?en(r=>t(1-r),n):e[n].slice().reverse())}function Mn(e){return({length:t})=>en(e,Math.max(2,Math.floor(t)))}function Fd(e){return({length:t})=>en(e,Math.floor(t)+1).slice(0,-1)}function Am(e){const t=`${e}`.toLowerCase();if(!Ld.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Ld.get(t)}function ks(e,t){const n=Am(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function k8(e,t="greys"){const n=new Set,[r,i]=ks(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const Pd=new Map([["brbg",op],["prgn",sp],["piyg",cp],["puor",lp],["rdbu",Na],["rdgy",hp],["rdylbu",Da],["rdylgn",gp],["spectral",bp],["burd",e=>Na(1-e)],["buylrd",e=>Da(1-e)],["blues",Up],["greens",Vp],["greys",Wp],["purples",Gp],["reds",Zp],["oranges",Qp],["turbo",ag],["viridis",sg],["magma",fg],["inferno",cg],["plasma",ug],["cividis",eg],["cubehelix",tg],["warm",ng],["cool",rg],["bugn",_p],["bupu",wp],["gnbu",Sp],["orrd",Mp],["pubugn",Ep],["pubu",Cp],["purd",Dp],["rdpu",Lp],["ylgnbu",Fp],["ylgn",$p],["ylorbr",Rp],["ylorrd",qp],["rainbow",ig],["sinebow",og]]);function xu(e){const t=`${e}`.toLowerCase();if(!Pd.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return Pd.get(t)}const M8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function A8(e){return e!=null&&M8.has(`${e}`.toLowerCase())}const Em=e=>t=>e(1-t),pf=[0,1],$d=new Map([["number",Zn],["rgb",Ri],["hsl",M_],["hcl",T_],["lab",A_]]);function Tm(e){const t=`${e}`.toLowerCase();if(!$d.has(t))throw new Error(`unknown interpolator: ${t}`);return $d.get(t)}function vo(e,t,n,{type:r,nice:i,clamp:a,zero:s,domain:f=Nm(e,n),unknown:c,round:u,scheme:l,interval:d,range:h=je.get(e)===mo?$8(n,f):je.get(e)===bo?B8(n,f):je.get(e)===yo?pf:void 0,interpolate:p=je.get(e)===Pn?l==null&&h!==void 0?Ri:xu(l!==void 0?l:r==="cyclical"?"rainbow":"turbo"):u?Uc:Zn,reverse:m}){if(d=go(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof p!="function"&&(p=Tm(p)),m=!!m,h!==void 0){const g=(f=Ot(f)).length,b=(h=Ot(h)).length;if(g!==b){if(p.length===1)throw new Error("invalid piecewise interpolator");p=Qa(p,h),h=void 0}}if(p.length===1?(m&&(p=Em(p),m=!1),h===void 0&&(h=Float64Array.from(f,(g,b)=>b/(f.length-1)),h.length===2&&(h=pf)),t.interpolate((h===pf?lo:ku)(p))):t.interpolate(p),s){const[g,b]=Wn(f);(g>0||b<0)&&(f=Gi(f),ai(f)!==Math.sign(g)?f[f.length-1]=0:f[0]=0)}return m&&(f=ua(f)),t.domain(f).unknown(c),i&&(t.nice(E8(i,r)),f=t.domain()),h!==void 0&&t.range(h),a&&t.clamp(a),{type:r,domain:f,range:h,scale:t,interpolate:p,interval:d}}function E8(e,t){return e===!0?void 0:typeof e=="number"?e:p4(e,t)}function T8(e,t,n){return vo(e,Zc(),t,n)}function C8(e,t,n){return Cm(e,t,{...n,exponent:.5})}function Cm(e,t,{exponent:n=1,...r}){return vo(e,$1().exponent(n),t,{...r,type:"pow"})}function N8(e,t,{base:n=10,domain:r=R8(t),...i}){return vo(e,L1().base(n),t,{...i,domain:r})}function D8(e,t,{constant:n=1,...r}){return vo(e,F1().constant(n),t,r)}function I8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:s=j8(t),unknown:f,interpolate:c,reverse:u}){return n===void 0&&(n=c!==void 0?en(c,i):je.get(e)===Pn?ks(a,i):void 0),s.length>0&&(s=B1(s,n===void 0?{length:i}:n).quantiles()),Su(e,t,{domain:s,range:n,reverse:u,unknown:f})}function L8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Nm(e,t),unknown:s,interpolate:f,reverse:c}){const[u,l]=Wn(a);let d;return n===void 0?(d=fa(u,l,r),d[0]<=u&&d.splice(0,1),d[d.length-1]>=l&&d.pop(),r=d.length+1,n=f!==void 0?en(f,r):je.get(e)===Pn?ks(i,r):void 0):(d=en(Zn(u,l),r+1).slice(1,-1),u instanceof Date&&(d=d.map(h=>new Date(h)))),ai(Ot(a))<0&&d.reverse(),Su(e,t,{domain:d,range:n,reverse:c,unknown:s})}function Su(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:s=a!==void 0?en(a,n.length+1):je.get(e)===Pn?ks(i,n.length+1):void 0,reverse:f}){n=Ot(n);const c=ai(n);if(!isNaN(c)&&!O8(n,c))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(s=ua(s)),{type:"threshold",scale:R1(c<0?ua(n):n,s===void 0?[]:s).unknown(r),domain:n,range:s}}function O8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=Qi(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function F8(e){return{type:"identity",scale:A4(je.get(e))?N1():t=>t}}function Ji(e,t=Kg){return e.length?[mn(e,({value:n})=>n===void 0?n:mn(n,t)),It(e,({value:n})=>n===void 0?n:It(n,t))]:[0,1]}function Nm(e,t){const n=je.get(e);return(n===mo||n===yo||n===bo?P8:Ji)(t)}function P8(e){return[0,e.length?It(e,({value:t})=>t===void 0?t:It(t,Kg)):1]}function $8(e,t){const n=e.find(({radius:s})=>s!==void 0);if(n!==void 0)return[0,n.radius];const r=ca(e,.5,({value:s})=>s===void 0?NaN:ca(s,.25,co)),i=t.map(s=>3*Math.sqrt(s/r)),a=30/It(i);return a<1?i.map(s=>s*a):i}function B8(e,t){const n=jf(e,({value:a})=>a===void 0?NaN:jf(a,Math.abs)),r=t.map(a=>12*a/n),i=60/It(r);return i<1?r.map(a=>a*i):r}function R8(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return Ji(e,co);if(n<0)return Ji(e,bs)}return[1,10]}function j8(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function ku(e){return(t,n)=>r=>e(t+r*(n-t))}function Ms(e,t,n,r,{type:i,nice:a,clamp:s,domain:f=Ji(r),unknown:c,pivot:u=0,scheme:l,range:d,symmetric:h=!0,interpolate:p=je.get(e)===Pn?l==null&&d!==void 0?Ri:xu(l!==void 0?l:"rdbu"):Zn,reverse:m}){u=+u,f=Ot(f);let[g,b]=f;if(f.length>2&&Gn(`Warning: the diverging ${e} scale domain contains extra elements.`),Qi(g,b)<0&&([g,b]=[b,g],m=!m),g=Math.min(g,u),b=Math.max(b,u),typeof p!="function"&&(p=Tm(p)),d!==void 0&&(p=p.length===1?ku(p)(...d):Qa(p,d)),m&&(p=Em(p)),h){const w=n.apply(u),y=w-n.apply(g),x=n.apply(b)-w;y<x?g=n.invert(w-x):y>x&&(b=n.invert(w+y))}return t.domain([g,u,b]).unknown(c).interpolator(p),s&&t.clamp(s),a&&t.nice(a),{type:i,domain:[g,b],pivot:u,interpolate:p,scale:t}}function q8(e,t,n){return Ms(e,Q1(),V8,t,n)}function z8(e,t,n){return Dm(e,t,{...n,exponent:.5})}function Dm(e,t,{exponent:n=1,...r}){return Ms(e,np().exponent(n=+n),X8(n),t,{...r,type:"diverging-pow"})}function U8(e,t,{base:n=10,pivot:r=1,domain:i=Ji(t,r<0?bs:co),...a}){return Ms(e,ep().base(n=+n),Y8,t,{domain:i,pivot:r,...a})}function H8(e,t,{constant:n=1,...r}){return Ms(e,tp().constant(n=+n),G8(n),t,r)}const V8={apply(e){return e},invert(e){return e}},Y8={apply:Math.log,invert:Math.exp},W8={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function X8(e){return e===.5?W8:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function G8(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Im(e,t,n,r){return vo(e,t,n,r)}function K8(e,t,n){return Im(e,u3(),t,n)}function Z8(e,t,n){return Im(e,l3(),t,n)}const wo=Symbol("ordinal");function Lm(e,t,n,{type:r,interval:i,domain:a,range:s,reverse:f,hint:c}){return i=go(i,r),a===void 0&&(a=Fm(n,i,e)),(r==="categorical"||r===wo)&&(r="ordinal"),f&&(a=ua(a)),a=t.domain(a).domain(),s!==void 0&&(typeof s=="function"&&(s=s(a)),t.range(s)),{type:r,domain:a,range:s,scale:t,hint:c,interval:i}}function J8(e,t,{type:n,interval:r,domain:i,range:a,scheme:s,unknown:f,...c}){r=go(r,n),i===void 0&&(i=Fm(t,r,e));let u;if(je.get(e)===Ss)u=t7(t),a=a===void 0?n7(u):tt(a,mu);else if(je.get(e)===Pn&&(a===void 0&&(n==="ordinal"||n===wo)&&(a=k8(i,s),a!==void 0&&(s=void 0)),s===void 0&&a===void 0&&(s=n==="ordinal"?"turbo":"tableau10"),s!==void 0))if(a!==void 0){const l=xu(s),d=a[0],h=a[1]-a[0];a=({length:p})=>en(m=>l(d+h*m),p)}else a=Am(s);if(f===uc)throw new Error(`implicit unknown on ${e} scale is not supported`);return Lm(e,Kc().unknown(f),t,{...c,type:n,domain:i,range:a,hint:u})}function Q8(e,t,{align:n=.5,padding:r=.5,...i}){return Om(Hv().align(n).padding(r),t,i,e)}function e7(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...s}){return Om(rs().align(n).paddingInner(i).paddingOuter(a),t,s,e)}function Om(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Lm(r,e,t,n),e.round=i,e}function Fm(e,t,n){const r=new Za;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const s of i)r.add(s)}if(t!==void 0){const[i,a]=Wn(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&je.get(n)===hn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return $f(r,yn)}function Bd(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function t7(e){return{fill:Bd(e,"fill"),stroke:Bd(e,"stroke")}}function n7(e){return kt(e.fill)?B3:$3}function wc(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:s=n,round:f,nice:c,clamp:u,zero:l,align:d,padding:h,projection:p,facet:{label:m=t}={},...g}={}){const b={};for(const[w,y]of e){const x=g[w],_=Rm(w,y,{round:je.get(w)===hn?f:void 0,nice:c,clamp:u,zero:l,align:d,padding:h,projection:p,...x});if(_){let{label:v=w==="fx"||w==="fy"?m:t,percent:k,transform:S,inset:C,insetTop:D=C!==void 0?C:w==="y"?r:0,insetRight:A=C!==void 0?C:w==="x"?i:0,insetBottom:M=C!==void 0?C:w==="y"?a:0,insetLeft:I=C!==void 0?C:w==="x"?s:0}=x||{};if(S==null)S=void 0;else if(typeof S!="function")throw new Error("invalid scale transform; not a function");_.percent=!!k,_.label=v===void 0?i7(y,_):v,_.transform=S,w==="x"||w==="fx"?(_.insetLeft=+I,_.insetRight=+A):(w==="y"||w==="fy")&&(_.insetTop=+D,_.insetBottom=+M),b[w]=_}}return b}function Rd(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:a,type:s,interval:f,label:c}=i;t[r]=qm(i),n[r]=a,a.type=s,f!=null&&(a.interval=f),c!=null&&(a.label=c)}return n}function r7(e,t){const{x:n,y:r,fx:i,fy:a}=e,s=i||a?Mu(t):t;i&&jd(i,s),a&&qd(a,s);const f=i||a?Pm(e,t):t;n&&jd(n,f),r&&qd(r,f)}function i7(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Ir(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Mu(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:s,facet:{marginTop:f,marginRight:c,marginBottom:u,marginLeft:l}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,c),marginBottom:Math.max(r,u),marginLeft:Math.max(i,l),width:a,height:s}}function Pm({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Mu(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:e?e.scale.bandwidth()+s+i:f,height:t?t.scale.bandwidth()+r+a:c,facet:{width:f,height:c}}}function jd(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:s=0}=t,f=a+n,c=i-s-r;e.range=[f,Math.max(f,c)],Ir(e)||(e.range=Bm(e)),e.scale.range(e.range)}$m(e)}function qd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:s=0}=t,f=a+n,c=i-s-r;e.range=[Math.max(f,c),f],Ir(e)?e.range.reverse():e.range=Bm(e),e.scale.range(e.range)}$m(e)}function $m(e){e.round===void 0&&f7(e)&&o7(e)<=30&&e.scale.round(!0)}function o7({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),s=t-i,f=Math.abs(r-n)/Math.max(1,s+a*2);return(f-Math.floor(f))*s}function Bm(e){const t=e.scale.domain().length+jm(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function a7(e,t,n){return Rm(e,n===void 0?void 0:[{hint:n}],{...t})}function Rm(e,t=[],n={}){const r=s7(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Ir({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Wt)?Gn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${jr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${jr(r)}".`):i.some(b4)?Gn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${jr(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${jr(r)}".`):i.some(y4)&&Gn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${jr(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${jr(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Fo(t,n,Hn);break;case"identity":switch(je.get(e)){case hn:n=Fo(t,n,Hn);break;case Ss:n=Fo(t,n,c7);break}break;case"utc":case"time":n=Fo(t,n,o4);break}switch(r){case"diverging":return q8(e,t,n);case"diverging-sqrt":return z8(e,t,n);case"diverging-pow":return Dm(e,t,n);case"diverging-log":return U8(e,t,n);case"diverging-symlog":return H8(e,t,n);case"categorical":case"ordinal":case wo:return J8(e,t,n);case"cyclical":case"sequential":case"linear":return T8(e,t,n);case"sqrt":return C8(e,t,n);case"threshold":return Su(e,t,n);case"quantile":return I8(e,t,n);case"quantize":return L8(e,t,n);case"pow":return Cm(e,t,n);case"log":return N8(e,t,n);case"symlog":return D8(e,t,n);case"utc":return Z8(e,t,n);case"time":return K8(e,t,n);case"point":return Q8(e,t,n);case"band":return e7(e,t,n);case"identity":return F8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function jr(e){return typeof e=="symbol"?e.description:e}const zd={toString:()=>"projection"};function s7(e,t,{type:n,domain:r,range:i,scheme:a,pivot:s,projection:f}){if(e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=zd);for(const{type:u}of t)if(u!==void 0){if(n===void 0)n=u;else if(n!==u)throw new Error(`scale incompatible with channel: ${n} !== ${u}`)}if(n===zd)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const c=je.get(e);if(c===mo)return"sqrt";if(c===yo||c===bo)return"linear";if(c===Ss)return"ordinal";if((r||i||[]).length>2)return gf(c);if(r!==void 0){if(Md(r))return gf(c);if(Wt(r))return"utc"}else{const u=t.map(({value:l})=>l).filter(l=>l!==void 0);if(u.some(Md))return gf(c);if(u.some(Wt))return"utc"}if(c===Pn){if(s!=null||A8(a))return"diverging";if(S8(a))return"categorical"}return"linear"}function gf(e){switch(e){case hn:return"point";case Pn:return wo;default:return"ordinal"}}function Ir({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===wo}function jm({type:e}){return e==="threshold"}function f7({type:e}){return e==="point"||e==="band"}function Vn(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Fo(e,{domain:t,...n},r){for(const i of e)i.value!==void 0&&(i.value=r(i.value));return{domain:t===void 0?t:r(t),...n}}function c7(e){return tt(e,mu)}function xc(e={}){let t;for(const n in e)if(je.has(n)&&qa(e[n])){if(t!==void 0)throw new Error("ambiguous scale definition; multiple scales found");t=qm(a7(n,e[n]))}if(t===void 0)throw new Error("invalid scale definition; no scale found");return t}function u7(e){return t=>{if(!je.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function qm({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:s,percent:f,pivot:c}){if(t==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=e.unknown?e.unknown():void 0;return{type:t,domain:Gi(n),...r!==void 0&&{range:Gi(r)},...s!==void 0&&{transform:s},...f&&{percent:f},...u!==void 0&&{unknown:u},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:l=>e(l),...e.invert&&{invert:l=>e.invert(l)}}}function l7(e,t,n={}){let r=.5-Dt,i=.5+Dt,a=.5+Dt,s=.5-Dt;for(const{marginTop:g,marginRight:b,marginBottom:w,marginLeft:y}of t)g>r&&(r=g),b>i&&(i=b),w>a&&(a=w),y>s&&(s=y);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:u=f!==void 0?f:i,marginBottom:l=f!==void 0?f:a,marginLeft:d=f!==void 0?f:s}=n;c=+c,u=+u,l=+l,d=+d;let{width:h=640,height:p=d7(e,n,{width:h,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:s})+Math.max(0,c-r+l-a)}=n;h=+h,p=+p;const m={width:h,height:p,marginTop:c,marginRight:u,marginBottom:l,marginLeft:d};if(e.fx||e.fy){let{margin:g,marginTop:b=g!==void 0?g:c,marginRight:w=g!==void 0?g:u,marginBottom:y=g!==void 0?g:l,marginLeft:x=g!==void 0?g:d}=n.facet??{};b=+b,w=+w,y=+y,x=+x,m.facet={marginTop:b,marginRight:w,marginBottom:y,marginLeft:x}}return m}function d7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:s,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:u,marginLeftDefault:l}){const d=n?n.scale.domain().length:1,h=w8(i);if(h){const m=r?r.scale.domain().length:1,g=(1.1*d-.1)/(1.1*m-.1)*h,b=Math.max(.1,Math.min(10,g));return Math.round((s-l-c)*b+f+u)}const p=t?Ir(t)?t.scale.domain().length:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const m=Ud("y",t)/(Ud("x",e)*a),g=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,w=g*(s-l-c)-e.insetLeft-e.insetRight;return(m*w+t.insetTop+t.insetBottom)/b+f+u}return!!(t||n)*Math.max(1,Math.min(60,p*d))*20+!!r*30+60}function Ud(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,s]=Wn(r);return Math.abs(i(s)-i(a))}function h7(e,t){const{fx:n,fy:r}=wc(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?U2(i,a).map(([s,f],c)=>({x:s,y:f,i:c})):i?i.map((s,f)=>({x:s,i:f})):a?a.map((s,f)=>({y:s,i:f})):void 0}function p7(e,{x:t,y:n}){return t&&(t=Sc(t)),n&&(n=Sc(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Au(e,{fx:t,fy:n}){const r=rr(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?Oi(r,s=>(s.fx=i[s[0]],s.fy=a[s[0]],s),s=>i[s],s=>a[s]):t?Oi(r,s=>(s.fx=i[s[0]],s),s=>i[s]):Oi(r,s=>(s.fy=a[s[0]],s),s=>a[s])}function g7(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function m7(e){const t=[],n=new Uint32Array(vr(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const b7=new Map([["top",mf],["right",_f],["bottom",bf],["left",yf],["top-left",Po(mf,yf)],["top-right",Po(mf,_f)],["bottom-left",Po(bf,yf)],["bottom-right",Po(bf,_f)],["top-empty",v7],["right-empty",S7],["bottom-empty",w7],["left-empty",x7],["empty",k7]]);function y7(e){if(e==null)return null;const t=b7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Hd=new WeakMap;function Sc(e){let t=Hd.get(e);return t||Hd.set(e,t=new _r(tt(e,(n,r)=>[n,r]))),t}function ir(e,t){return Sc(e).get(t)}function _7(e,t,n){return t=lr(t),n=lr(n),e.find(r=>Object.is(lr(r.x),t)&&Object.is(lr(r.y),n))}function As(e,t,n){var r;return(r=_7(e,t,n))==null?void 0:r.empty}function mf(e,{y:t},{y:n}){return t?ir(t,n)===0:!0}function bf(e,{y:t},{y:n}){return t?ir(t,n)===t.length-1:!0}function yf(e,{x:t},{x:n}){return t?ir(t,n)===0:!0}function _f(e,{x:t},{x:n}){return t?ir(t,n)===t.length-1:!0}function v7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ir(t,r);if(a>0)return As(e,n,t[a-1])}function w7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ir(t,r);if(a<t.length-1)return As(e,n,t[a+1])}function x7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ir(t,n);if(a>0)return As(e,t[a-1],r)}function S7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=ir(t,n);if(a<t.length-1)return As(e,t[a+1],r)}function k7(e,t,{empty:n}){return n}function Po(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function vf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var s;return((s=r.get(i))==null?void 0:s.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}class wt{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:s,fx:f,fy:c,sort:u,dx:l=0,dy:d=0,margin:h=0,marginTop:p=h,marginRight:m=h,marginBottom:g=h,marginLeft:b=h,clip:w=i==null?void 0:i.clip,channels:y,tip:x,render:_}=r;if(this.data=t,this.sort=oi(u)?u:null,this.initializer=si(r).initializer,this.transform=this.initializer?r.transform:bu(r).transform,a===null||a===!1?this.facet=null:(this.facet=rn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Qo&&typeof f=="string"?[f]:f,this.fy=t===Qo&&typeof c=="string"?[c]:c),this.facetAnchor=y7(s),n=hm(n),y!==void 0&&(n={...M7(y),...n}),i!==void 0&&(n={...i8(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([v,k])=>{if(_s(k.value)){const{value:S,label:C=k.label,scale:D=k.scale}=k.value;k={...k,label:C,scale:D,value:S}}if(t===Qo&&typeof k.value=="string"){const{value:S}=k;k={...k,value:[S]}}return[v,k]}).filter(([v,{value:k,optional:S}])=>{if(k!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${v}`)})),this.dx=+l,this.dy=+d,this.marginTop=+p,this.marginRight=+m,this.marginBottom=+g,this.marginLeft=+b,this.clip=vm(w),this.tip=A7(x),this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const v in this.channels){const{scale:k}=n[v];if(!(k!=="x"&&k!=="y"))throw new Error("super-faceting cannot use x or y")}}_!=null&&(this.render=Um(_,this.render))}initialize(t,n,r){let i=Ot(this.data);t===void 0&&i!=null&&(t=[rr(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=Ot(i)),t!==void 0&&(t.original=a);const s=V4(this.channels,i);return this.sort!=null&&W4(i,t,s,n,this.sort),{data:i,facets:t,channels:s}}filter(t,n,r){for(const i in n){const{filter:a=er}=n[i];if(a!==null){const s=r[i];t=t.filter(f=>a(s[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&_8(i,a,n,r.projection)}}scale(t,n,r){const i=Y4(t,n);return r.projection&&this.project(t,i,r),i}}function zm(...e){return e.plot=wt.prototype.plot,e}function Um(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,s,f){return e.call(this,n,r,i,a,s,(c,u,l,d,h)=>t.call(this,c,u,l,d,h,f))}}function M7(e){return Object.fromEntries(Object.entries(hm(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:vs(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function A7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?rn(e,"tip",["x","y","xy"]):e}function Eu(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Nr(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}const Vd=new WeakMap;function Tu(e,t,{x:n,y:r,px:i,py:a,maxRadius:s=40,channels:f,render:c,...u}={}){return s=+s,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),f={...f,py:{value:a,scale:"y"}}),{x:n,y:r,channels:f,...u,render:Um(function(l,d,h,p,m,g){m={...m,pointerSticky:!1};const b=m.ownerSVGElement,{data:w}=m.getMarkState(this);let y=Vd.get(b);y||Vd.set(b,y={sticky:!1,roots:[],renders:[]});let x=y.renders.push(K)-1;const{x:_,y:v,fx:k,fy:S}=d;let C=k?k(l.fx)-p.marginLeft:0,D=S?S(l.fy)-p.marginTop:0;_!=null&&_.bandwidth&&(C+=_.bandwidth()/2),v!=null&&v.bandwidth&&(D+=v.bandwidth()/2);const A=l.fi!=null;let M;if(A){let Y=y.facetStates;Y||(y.facetStates=Y=new Map),M=Y.get(this),M||Y.set(this,M=new Map)}const[I,N]=_o(this,p),{px:P,py:E}=h,j=P?Y=>P[Y]:Hm(h,I),Z=E?Y=>E[Y]:Vm(h,N);let re,J,W,H;function X(Y,se){if(A)if(H&&(H=cancelAnimationFrame(H)),Y==null)M.delete(l.fi);else{M.set(l.fi,se),H=requestAnimationFrame(()=>{H=null;for(const[T,z]of M)if(z<se||z===se&&T<l.fi){Y=null;break}K(Y)});return}K(Y)}function K(Y){if(re===Y&&W===y.sticky)return;re=Y,W=m.pointerSticky=y.sticky;const se=re==null?[]:[re];A&&(se.fx=l.fx,se.fy=l.fy,se.fi=l.fi);const T=g(se,d,h,p,m);if(J){if(A){const z=J.parentNode,V=J.getAttribute("transform"),F=T.getAttribute("transform");V?T.setAttribute("transform",V):T.removeAttribute("transform"),F?z.setAttribute("transform",F):z.removeAttribute("transform"),T.removeAttribute("aria-label"),T.removeAttribute("aria-description"),T.removeAttribute("aria-hidden")}J.replaceWith(T)}return y.roots[x]=J=T,re==null&&(M==null?void 0:M.size)>1||m.dispatchValue(re==null?null:w[re]),T}function O(Y){if(y.sticky||Y.pointerType==="mouse"&&Y.buttons===1)return;let[se,T]=Uf(Y);se-=C,T-=D;const z=se<p.marginLeft||se>p.width-p.marginRight?1:e,V=T<p.marginTop||T>p.height-p.marginBottom?1:t;let F=null,ce=s*s;for(const fe of l){const de=z*(j(fe)-se),me=V*(Z(fe)-T),U=de*de+me*me;U<=ce&&(F=fe,ce=U)}if(F!=null&&(e!==1||t!==1)){const fe=j(F)-se,de=Z(F)-T;ce=fe*fe+de*de}X(F,ce)}function ne(Y){Y.pointerType==="mouse"&&re!=null&&(y.sticky&&y.roots.some(se=>se==null?void 0:se.contains(Y.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(se=>se(null))):(y.sticky=!0,K(re)),Y.stopImmediatePropagation()))}function ue(Y){Y.pointerType==="mouse"&&(y.sticky||X(null))}return b.addEventListener("pointerenter",O),b.addEventListener("pointermove",O),b.addEventListener("pointerdown",ne),b.addEventListener("pointerleave",ue),K(null)},c)}}function E7(e){return Tu(1,1,e)}function T7(e){return Tu(1,.01,e)}function C7(e){return Tu(.01,1,e)}function Hm({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Vm({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Ym(e){return Ir(e)&&e.interval===void 0?void 0:"tabular-nums"}function N7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:s=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:u=0,style:l,ticks:d=(i-u-f)/64,tickFormat:h,fontVariant:p=Ym(e),round:m=!0,opacity:g,className:b}=t;const w=wu(t);b=_u(b),g=st(g)[1],h===null&&(h=()=>null);const y=Ge("svg",w).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(I=>I.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(vu,l);let x=I=>I.selectAll(".tick line").attr("y1",s+c-a),_;const v=m?(I,N)=>I.rangeRound(N):(I,N)=>I.range(N),{type:k,domain:S,range:C,interpolate:D,scale:A,pivot:M}=e;if(D){const I=C===void 0?D:Qa(D.length===1?ku(D):D,C);_=v(A.copy(),en(Zn(u,i-f),Math.min(S.length+(M!==void 0),C===void 0?1/0:C.length)));const N=256,P=w.document.createElement("canvas");P.width=N,P.height=1;const E=P.getContext("2d");for(let j=0,Z=N-1;j<N;++j)E.fillStyle=I(j/Z),E.fillRect(j,0,1,1);y.append("image").attr("opacity",g).attr("x",u).attr("y",s).attr("width",i-u-f).attr("height",a-s-c).attr("preserveAspectRatio","none").attr("xlink:href",P.toDataURL())}else if(k==="threshold"){const I=S,N=h===void 0?P=>P:typeof h=="string"?hi(h):h;_=v(Zc().domain([-1,C.length-1]),[u,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(C).enter().append("rect").attr("x",(P,E)=>_(E-1)).attr("y",s).attr("width",(P,E)=>_(E)-_(E-1)).attr("height",a-s-c).attr("fill",P=>P),d=tt(I,(P,E)=>E),h=P=>N(I[P],P)}else _=v(rs().domain(S),[u,i-f]),y.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",_).attr("y",s).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",a-s-c).attr("fill",A),x=()=>{};return y.append("g").attr("transform",`translate(0,${a-c})`).call(d_(_).ticks(Array.isArray(d)?null:d,typeof h=="string"?h:void 0).tickFormat(typeof h=="function"?h:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Ye(p,"normal")).call(x).call(I=>I.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",u).attr("y",s-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}const Wm=Math.PI/180;function Es(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=wf(n),e.markerMid=wf(r),e.markerEnd=wf(i)}function wf(e){if(e==null||e===!1)return null;if(e===!0)return Wd;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Yd("auto");case"arrow-reverse":return Yd("auto-start-reverse");case"dot":return D7;case"circle":case"circle-fill":return Wd;case"circle-stroke":return I7}throw new Error(`invalid marker: ${e}`)}function Yd(e){return(t,n)=>Ge("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function D7(e,t){return Ge("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Wd(e,t){return Ge("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function I7(e,t){return Ge("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let L7=0;function Cu(e,t,{stroke:n},r){return Xm(e,t,n&&(i=>n[i]),r)}function O7(e,t,{stroke:n},r){return Xm(e,t,n&&(([i])=>n[i]),r)}function Xm(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,s){const f=new Map;function c(u){return function(l){const d=a(l);let h=f.get(u);h||f.set(u,h=new Map);let p=h.get(d);if(!p){const m=this.parentNode.insertBefore(u(d,s),this),g=`plot-marker-${++L7}`;m.setAttribute("id",g),h.set(d,p=`url(#${g})`)}return p}}t&&e.attr("marker-start",c(t)),n&&e.attr("marker-mid",c(n)),r&&e.attr("marker-end",c(r))}function Nu({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Gm(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Du({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Gm(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Gm(e,t,n){return e===void 0&&t===void 0&&n===void 0?Dt?[1,0]:[.5,.5]:[t,n]}function Km(e,{interval:t}){return e={...vs(e)},e.interval=hu(e.interval===void 0?t:e.interval),e}function Ts(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:s}=n,{value:f,interval:c}=Km(i,n);if(f==null||c==null&&!r)return n;const u=po(i);if(c==null){let p;const m={transform:g=>p||(p=Vt(g,f)),label:u};return{...n,[e]:void 0,[`${e}1`]:a===void 0?m:a,[`${e}2`]:s===void 0?m:s}}let l,d;function h(p){return d!==void 0&&p===l?d:d=tt(Vt(l=p,f),m=>c.floor(m))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:h,label:u}:a,[`${e}2`]:s===void 0?{transform:p=>h(p).map(m=>c.offset(m)),label:u}:s})}function Zm(e,t,n){const{[e]:r}=n,{value:i,interval:a}=Km(r,n);return i==null||a==null?n:t({...n,[e]:{label:po(r),transform:s=>{const f=tt(Vt(s,i),u=>a.floor(u)),c=f.map(u=>a.offset(u));return f.map(Wt(f)?(u,l)=>u==null||isNaN(u=+u)||(l=c[l],l==null)||isNaN(l=+l)?void 0:new Date((u+l)/2):(u,l)=>u==null||(l=c[l],l==null)?NaN:(+u+ +l)/2)}}})}function F7(e={}){return Ts("x",Nu,e,!0)}function Jm(e={}){return Ts("y",Du,e,!0)}function P7(e={}){return Ts("x",Nu,e)}function $7(e={}){return Ts("y",Du,e)}function B7(e={}){return Zm("x",Nu,e)}function R7(e={}){return Zm("y",Du,e)}const Qm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class j7 extends wt{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:s=0,insetTop:f=s,insetBottom:c=s}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Eu(n,"x"),Qm),this.insetTop=$e(f),this.insetBottom=$e(c),Es(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y1:u,y2:l}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetTop:w,insetBottom:y}=this;return Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&s},Dt,0).call(x=>x.selectAll().data(t).enter().append("line").call(Gt,this).attr("x1",c?_=>c[_]:(g+d-m)/2).attr("x2",c?_=>c[_]:(g+d-m)/2).attr("y1",u&&!Vn(f)?_=>u[_]+w:p+w).attr("y2",l&&!Vn(f)?f.bandwidth?_=>l[_]+f.bandwidth()-y:_=>l[_]-y:h-b-y).call(vn,this,r).call(Cu,this,r,a)).node()}}class q7 extends wt{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:s=0,insetRight:f=s,insetLeft:c=s}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Eu(n,"y"),Qm),this.insetRight=$e(f),this.insetLeft=$e(c),Es(this,n)}render(t,n,r,i,a){const{x:s,y:f}=n,{y:c,x1:u,x2:l}=r,{width:d,height:h,marginTop:p,marginRight:m,marginLeft:g,marginBottom:b}=i,{insetLeft:w,insetRight:y}=this;return Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,{y:c&&f},0,Dt).call(x=>x.selectAll().data(t).enter().append("line").call(Gt,this).attr("x1",u&&!Vn(s)?_=>u[_]+w:g+w).attr("x2",l&&!Vn(s)?s.bandwidth?_=>l[_]+s.bandwidth()-y:_=>l[_]-y:d-m-y).attr("y1",c?_=>c[_]:(p+h-b)/2).attr("y2",c?_=>c[_]:(p+h-b)/2).call(vn,this,r).call(Cu,this,r,a)).node()}}function Iu(e,t){let{x:n=Ft,y:r,y1:i,y2:a,...s}=$7(t);return[i,a]=eb(r,i,a),new j7(e,{...s,x:n,y1:i,y2:a})}function Lu(e,t){let{y:n=Ft,x:r,x1:i,x2:a,...s}=P7(t);return[i,a]=eb(r,i,a),new q7(e,{...s,y:n,x1:i,x2:a})}function eb(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Ou(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const z7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},tb="­";class Fu extends wt{constructor(t,n={}){const{x:r,y:i,text:a=Dr(t)&&lm(t)?Ft:om,frameAnchor:s,textAnchor:f=/right$/i.test(s)?"end":/left$/i.test(s)?"start":"middle",lineAnchor:c=/^top/i.test(s)?"top":/^bottom/i.test(s)?"bottom":"middle",lineHeight:u=1,lineWidth:l=1/0,textOverflow:d,monospace:h,fontFamily:p=h?"ui-monospace, monospace":void 0,fontSize:m,fontStyle:g,fontVariant:b,fontWeight:w,rotate:y}=n,[x,_]=st(y,0),[v,k]=X7(m);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:m4(x),optional:!0},text:{value:a,filter:cu,optional:!0}},n,z7),this.rotate=_,this.textAnchor=Ye(f,"middle"),this.lineAnchor=rn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+l,this.textOverflow=nb(d),this.monospace=!!h,this.fontFamily=mt(p),this.fontSize=k,this.fontStyle=mt(g),this.fontVariant=mt(b),this.fontWeight=mt(w),this.frameAnchor=xs(s),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${l}`);this.splitLines=ib(this),this.clipLine=ob(this)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:u,rotate:l,text:d,title:h,fontSize:p}=r,{rotate:m}=this,[g,b]=_o(this,i);return Ge("svg:g",a).call(Xt,this,i,a).call(rb,this,d,i).call(Kt,this,{x:c&&s,y:u&&f}).call(w=>w.selectAll().data(t).enter().append("text").call(Gt,this).call(U7,this,d,h).attr("transform",Ou`translate(${c?y=>c[y]:g},${u?y=>u[y]:b})${l?y=>` rotate(${l[y]})`:m?` rotate(${m})`:""}`).call(ge,"font-size",p&&(y=>p[y])).call(vn,this,r)).node()}}function nb(e){return e==null?null:rn(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function U7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:s,splitLines:f,clipLine:c}=t;e.each(function(u){const l=f(Mr(n[u])??"").map(c),d=l.length,h=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let p=0;for(let m=0;m<d;++m){if(++p,!l[m])continue;const g=this.ownerDocument.createElementNS(oa.svg,"tspan");g.setAttribute("x",0),m===p-1?g.setAttribute("y",`${(h+m)*a}em`):g.setAttribute("dy",`${p*a}em`),g.textContent=l[m],this.appendChild(g),p=0}}else h&&this.setAttribute("y",`${h*a}em`),this.textContent=l[0];if(s&&!r&&l[0]!==n[u]){const p=this.ownerDocument.createElementNS(oa.svg,"title");p.textContent=n[u],this.appendChild(p)}})}function Cs(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ho(t,n)),new Fu(e,{...r,x:t,y:n})}function H7(e,{x:t=Ft,...n}={}){return new Fu(e,R7({...n,x:t}))}function V7(e,{y:t=Ft,...n}={}){return new Fu(e,B7({...n,y:t}))}function rb(e,t,n){ge(e,"text-anchor",t.textAnchor),ge(e,"font-family",t.fontFamily),ge(e,"font-size",t.fontSize),ge(e,"font-style",t.fontStyle),ge(e,"font-variant",t.fontVariant===void 0?Y7(n):t.fontVariant),ge(e,"font-weight",t.fontWeight)}function Y7(e){return e&&(_4(e)||Wt(e))?"tabular-nums":void 0}const W7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function X7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),W7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function G7(e,t,n){const r=[];let i,a=0;for(const[s,f,c]of K7(e)){if(i===void 0&&(i=s),a>i&&n(e,i,f)>t&&(r.push(e.slice(i,a)+(e[a-1]===tb?"-":"")),i=s),c){r.push(e.slice(i,f)),i=void 0;continue}a=f}return r}function*K7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case tb:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Xd={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Pu(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=gi(e,i))r+=Xd[e[i]]??(sb(e,i)?120:Xd.e);return r}function $u(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=gi(e,i))r+=sb(e,i)?200:100;return r}function ib({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?$u:Pu,i=t*100;return a=>G7(a,i,r)}function ob({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?$u:Pu,i=t*100;switch(n){case"clip-start":return a=>Kd(a,i,r,"");case"clip-end":return a=>Gd(a,i,r,"");case"ellipsis-start":return a=>Kd(a,i,r,Xr);case"ellipsis-middle":return a=>Z7(a,i,r,Xr);case"ellipsis-end":return a=>Gd(a,i,r,Xr)}}const Xr="…";function fi(e,t,n,r){const i=[];let a=0;for(let s=0,f=0,c=e.length;s<c;s=f){f=gi(e,s);const u=n(e,s,f);if(a+u>t){for(a+=r;a>t&&s>0;)f=s,s=i.pop(),a-=n(e,s,f);return[s,t-a]}a+=u,i.push(s)}return[-1,0]}function Gd(e,t,n,r){e=e.trim();const i=n(r),[a]=fi(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function Z7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[s,f]=fi(e,t/2,n,a),[c]=fi(e,i-t/2-f+a,n,-a);return c<0?r:e.slice(0,s).trimEnd()+r+e.slice(gi(e,c)).trimStart()}function Kd(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[s]=fi(e,i-t+a,n,-a);return s<0?r:r+e.slice(gi(e,s)).trimStart()}const kc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Zd=/\p{Extended_Pictographic}/uy;function gi(e,t){return t+=J7(e,t)?2:1,e9(e,t)&&(t=kc.lastIndex),Q7(e,t)?gi(e,t+1):t}function ab(e,t){return e.charCodeAt(t)<128}function J7(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function Q7(e,t){return e.charCodeAt(t)===8205}function e9(e,t){return ab(e,t)?!1:(kc.lastIndex=t,kc.test(e))}function sb(e,t){return ab(e,t)?!1:(Zd.lastIndex=t,Zd.test(e))}const t9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},fb=3.5,n9=fb*5,cb={draw(e,t,n){const r=t*n/n9;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},r9={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},i9=new Map([["arrow",cb],["spike",r9]]);function o9(e){return e&&typeof e.draw=="function"}function a9(e){if(o9(e))return e;const t=i9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}let ub=class extends wt{constructor(t,n={}){const{x:r,y:i,r:a=fb,length:s,rotate:f,shape:c=cb,anchor:u="middle",frameAnchor:l}=n,[d,h]=st(s,12),[p,m]=st(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:p,optional:!0}},n,t9),this.r=+a,this.length=h,this.rotate=m,this.shape=a9(c),this.anchor=rn(u,"anchor",["start","middle","end"]),this.frameAnchor=xs(l)}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:u,length:l,rotate:d}=r,{length:h,rotate:p,anchor:m,shape:g,r:b}=this,[w,y]=_o(this,i);return Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&s,y:u&&f}).call(x=>x.selectAll().data(t).enter().append("path").call(Gt,this).attr("transform",Ou`translate(${c?_=>c[_]:w},${u?_=>u[_]:y})${d?_=>` rotate(${d[_]})`:p?` rotate(${p})`:""}${m==="start"?"":m==="end"?l?_=>` translate(0,${l[_]})`:` translate(0,${h})`:l?_=>` translate(0,${l[_]/2})`:` translate(0,${h/2})`}`).attr("d",l?_=>{const v=Un();return g.draw(v,l[_],b),v}:(()=>{const _=Un();return g.draw(_,h,b),_})()).call(vn,this,r)).node()}};function s9(e,t={}){const{x:n=Ft,...r}=t;return new ub(e,{...r,x:n})}function f9(e,t={}){const{y:n=Ft,...r}=t;return new ub(e,{...r,y:n})}function or(e,t){return arguments.length<2&&!Dr(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Ns({anchor:e}={},t){return e===void 0?t[0]:rn(e,"anchor",t)}function lb(e){return Ns(e,["left","right"])}function db(e){return Ns(e,["right","left"])}function hb(e){return Ns(e,["bottom","top"])}function pb(e){return Ns(e,["top","bottom"])}function xo(){const[e,t]=or(...arguments);return gb("y",lb(t),e,t)}function c9(){const[e,t]=or(...arguments);return gb("fy",db(t),e,t)}function mi(){const[e,t]=or(...arguments);return mb("x",hb(t),e,t)}function u9(){const[e,t]=or(...arguments);return mb("fx",pb(t),e,t)}function gb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="y"?6:0,tickPadding:g,tickRotate:b,x:w,margin:y,marginTop:x=y===void 0?20:y,marginRight:_=y===void 0?t==="right"?40:0:y,marginBottom:v=y===void 0?20:y,marginLeft:k=y===void 0?t==="left"?40:0:y,label:S,labelAnchor:C,labelArrow:D,labelOffset:A,...M}){return m=$e(m),g=$e(g),b=$e(b),C!==void 0&&(C=rn(C,"labelAnchor",["center","top","bottom"])),D=kb(D),zm(m&&!kt(a)?l9(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,x:w,...M}):null,kt(c)?null:h9(e,t,n,{fill:c,fillOpacity:u,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:l,tickSize:m,tickPadding:g,tickRotate:b,x:w,marginTop:x,marginRight:_,marginBottom:v,marginLeft:k,...M}),!kt(c)&&S!==null?Cs([],vb({fill:c,fillOpacity:u,...M},function(I,N,P,E,j){const Z=E[e],{marginTop:re,marginRight:J,marginBottom:W,marginLeft:H}=e==="y"&&j.inset||j,X=C??(Z.bandwidth?"center":"top"),K=A??(t==="right"?J:H)-3;return X==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=X,this.frameAnchor=`${X}-${t}`,this.rotate=0),this.dy=X==="top"?3-re:X==="bottom"?W-3:0,this.dx=t==="right"?K:-K,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Sb(e,Z,{anchor:t,label:S,labelAnchor:X,labelArrow:D})]}}}})):null)}function mb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:s=i,strokeWidth:f=1,fill:c=r,fillOpacity:u=i,textAnchor:l,textStroke:d,textStrokeOpacity:h,textStrokeWidth:p,tickSize:m=e==="x"?6:0,tickPadding:g,tickRotate:b,y:w,margin:y,marginTop:x=y===void 0?t==="top"?30:0:y,marginRight:_=y===void 0?20:y,marginBottom:v=y===void 0?t==="bottom"?30:0:y,marginLeft:k=y===void 0?20:y,label:S,labelAnchor:C,labelArrow:D,labelOffset:A,...M}){return m=$e(m),g=$e(g),b=$e(b),C!==void 0&&(C=rn(C,"labelAnchor",["center","left","right"])),D=kb(D),zm(m&&!kt(a)?d9(e,t,n,{stroke:a,strokeOpacity:s,strokeWidth:f,tickSize:m,tickPadding:g,tickRotate:b,y:w,...M}):null,kt(c)?null:p9(e,t,n,{fill:c,fillOpacity:u,stroke:d,strokeOpacity:h,strokeWidth:p,textAnchor:l,tickSize:m,tickPadding:g,tickRotate:b,y:w,marginTop:x,marginRight:_,marginBottom:v,marginLeft:k,...M}),!kt(c)&&S!==null?Cs([],vb({fill:c,fillOpacity:u,...M},function(I,N,P,E,j){const Z=E[e],{marginTop:re,marginRight:J,marginBottom:W,marginLeft:H}=e==="x"&&j.inset||j,X=C??(Z.bandwidth?"center":"right"),K=A??(t==="top"?re:W)-3;return X==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${X}`,this.textAnchor=X==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-K:K,this.dx=X==="right"?J-3:X==="left"?3-H:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Sb(e,Z,{anchor:t,label:S,labelAnchor:X,labelArrow:D})]}}}})):null)}function l9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:u=0,insetLeft:l=u,insetRight:d=u,dx:h=0,y:p=e==="y"?void 0:null,...m}){return bi(f9,e,t,`${e}-axis tick`,n,{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:s,frameAnchor:f,y:p,...m,dx:t==="left"?+h-Dt+ +l:+h+Dt-d,anchor:"start",length:c,shape:t==="left"?x9:S9})}function d9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:s=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:c,inset:u=0,insetTop:l=u,insetBottom:d=u,dy:h=0,x:p=e==="x"?void 0:null,...m}){return bi(s9,e,t,`${e}-axis tick`,n,{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:s,frameAnchor:f,x:p,...m,dy:t==="bottom"?+h-Dt-d:+h+Dt+ +l,anchor:"start",length:c,shape:t==="bottom"?v9:w9})}function h9(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>60?4*Math.cos(s*Wm):0),text:c,textAnchor:u=Math.abs(s)>60?"middle":t==="left"?"end":"start",lineAnchor:l=s>60?"top":s<-60?"bottom":"middle",fontVariant:d,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,y:b=e==="y"?void 0:null,...w}){return bi(V7,e,t,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c,textAnchor:u,lineAnchor:l,fontVariant:d,rotate:s,y:b,...w,dx:t==="left"?+g-a-f+ +p:+g+ +a+ +f-m},function(y,x,_,v,k){d===void 0&&(this.fontVariant=xb(y)),c===void 0&&(k.text=wb(y,x,_,v,t))})}function p9(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:s=0,tickPadding:f=Math.max(3,9-a)+(Math.abs(s)>=10?4*Math.cos(s*Wm):0),text:c,textAnchor:u=Math.abs(s)>=10?s<0^t==="bottom"?"start":"end":"middle",lineAnchor:l=Math.abs(s)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:b=e==="x"?void 0:null,...w}){return bi(H7,e,t,`${e}-axis tick label`,n,{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:u,lineAnchor:l,fontVariant:d,rotate:s,x:b,...w,dy:t==="bottom"?+g+ +a+ +f-m:+g-a-f+ +p},function(y,x,_,v,k){d===void 0&&(this.fontVariant=xb(y)),c===void 0&&(k.text=wb(y,x,_,v,t))})}function g9(){const[e,t]=or(...arguments);return bb("y",lb(t),e,t)}function m9(){const[e,t]=or(...arguments);return bb("fy",db(t),e,t)}function b9(){const[e,t]=or(...arguments);return yb("x",hb(t),e,t)}function y9(){const[e,t]=or(...arguments);return yb("fx",pb(t),e,t)}function bb(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:s=t==="right"?i:null,...f}){return bi(Lu,e,t,`${e}-grid`,n,{y:r,x1:a,x2:s,..._b(f)})}function yb(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:s=t==="bottom"?i:null,...f}){return bi(Iu,e,t,`${e}-grid`,n,{x:r,y1:a,y2:s,..._b(f)})}function _b({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function vb({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:u,clip:l=!1},d){return[,e]=kr(e),[,t]=st(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:s,monospace:f,pointerEvents:c,shapeRendering:u,clip:l,initializer:d}}function bi(e,t,n,r,i,a,s){let f;function c(d,h,p,m,g,b){const w=d==null&&(t==="fx"||t==="fy"),{[t]:y}=m;if(!y)throw new Error(`missing scale: ${t}`);const x=y.domain();let{interval:_,ticks:v,tickFormat:k,tickSpacing:S=t==="x"?80:35}=a;if(typeof v=="string"&&Mb(y)&&(_=v,v=void 0),v===void 0&&(v=go(_,y.type)??_9(y,S)),d==null){if(Dr(v))d=Ot(v);else if(g4(v))d=xf(v,...Wn(x));else if(y.interval){let D=y.interval;if(y.ticks){const[A,M]=Wn(x),I=(M-A)/D[uo];D=wd(D,I/v)??D,d=xf(D,A,M)}else{d=x;const A=d.length;D=wd(D,A/v)??D,D!==y.interval&&(d=xf(D,...Wn(d)))}if(D===y.interval){const A=Math.round(d.length/v);A>1&&(d=d.filter((M,I)=>I%A===0))}}else y.ticks?d=y.ticks(v):d=x;if(!y.ticks&&d.length&&d!==x){const D=new Za(x);d=d.filter(A=>D.has(A)),d.length||Gn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?h=[rr(d)]:f[t]={scale:t,value:Ft}}s==null||s.call(this,y,d,v,k,f);const C=Object.fromEntries(Object.entries(f).map(([D,A])=>[D,{...A,value:Vt(d,A.value)}]));return w&&(h=b.filterFacets(d,C)),{data:d,facets:h,channels:C}}const u=si(a).initializer,l=e(i,si({...a,initializer:c},u));return i==null?(f=l.channels,l.channels={}):f={},l.ariaLabel=r,l.clip===void 0&&(l.clip=!1),l}function _9(e,t){const[n,r]=Wn(e.range());return(r-n)/t}function wb(e,t,n,r,i){return{value:Bu(e,t,n,r,i)}}function Bu(e,t,n,r,i){return typeof r=="function"?r:r===void 0&&t&&Wt(t)?Z5(t,i)??Mr:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?Mr:typeof r=="string"?(Wt(e.domain())?fo:hi)(r):lo(r)}function xf(e,t,n){return e.range(t,e.offset(e.floor(n)))}const v9={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},w9={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},x9={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},S9={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function xb(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function k9(e){return Math.sign(ai(e.domain()))*Math.sign(ai(e.range()))}function Sb(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&Mb(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const s=k9(t);s&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===s<0?"left":"right":s<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function kb(e="auto"){return kt(e)?!1:typeof e=="boolean"?e:rn(e,"labelArrow",["auto","up","right","down","left"])}function Mb(e){return Wt(e.domain())}function Jd(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function M9(e,{opacity:t,...n}={}){if(!Ir(e)&&!jm(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Ab(e,n,(r,i,a,s)=>r.append("svg").attr("width",a).attr("height",s).attr("fill",i.scale).attr("fill-opacity",st(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function A9(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(l=>(l=e.hint)==null?void 0:l.stroke)()!==void 0?e.hint.stroke:kt(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:s=4.5,...f}={},c){const[d,h]=kr(t),[p,m]=kr(r),g=Jd(c,d),b=Jd(c,p),w=s*s*Math.PI;return n=st(n)[1],i=st(i)[1],a=st(a)[1],Ab(e,f,(y,x,_,v)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",v).attr("fill",d==="color"?k=>g.scale(k):h).attr("fill-opacity",n).attr("stroke",p==="color"?k=>b.scale(k):m).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",k=>{const S=Un();return e.scale(k).draw(S,w),S}))}function Ab(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=Ym(e),swatchSize:s=15,swatchWidth:f=s,swatchHeight:c=s,marginLeft:u=0,className:l,style:d,width:h}=t;const p=wu(t);l=_u(l),i=Bu(e.scale,e.domain,void 0,i);const m=Ge("div",p).attr("class",`${l}-swatches ${l}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`.${l}-swatches-columns .${l}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${l}-swatches-columns .${l}-swatch::before {
  flex-shrink: 0;
}
.${l}-swatches-columns .${l}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,m.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${l}-swatch`).call(n,e,f,c).call(b=>b.append("div").attr("class",`${l}-swatch-label`).attr("title",i).text(i))):(g=`.${l}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${l}-swatches-wrap .${l}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,m.selectAll().data(e.domain).enter().append("span").attr("class",`${l}-swatch`).call(n,e,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),m.call(b=>b.insert("style","*").text(`.${l}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${l}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",u?`${+u}px`:null).style("width",h===void 0?null:`${+h}px`).style("font-variant",Ye(a,"normal")).call(vu,d).node()}const Mc=new Map([["symbol",A9],["color",Tb],["opacity",T9]]);function E9(e,t,n={}){return(r,i)=>{if(!Mc.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Mc.get(r)(e[r],Eb(t,n[r],i),a=>e[a])}}function Eb({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return S4(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Tb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return M9(e,n);case"ramp":return N7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function T9({type:e,interpolate:t,...n},{legend:r=!0,color:i=ia(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Tb({type:e,...n,interpolate:C9(i)},{legend:r,...a})}function C9(e){const{r:t,g:n,b:r}=ia(e)||ia(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function N9(e,t,n){const r=[];for(const[i,a]of Mc){const s=n[i];if(s!=null&&s.legend&&i in e){const f=a(e[i],Eb(t,e[i],s),c=>e[c]);f!=null&&r.push(f)}}return r}const D9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},I9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class L9 extends wt{constructor(t={}){const{anchor:n=null,inset:r=0,insetTop:i=r,insetRight:a=r,insetBottom:s=r,insetLeft:f=r,rx:c,ry:u}=t;super(Qo,void 0,t,n==null?D9:I9),this.anchor=sm(n,"anchor",["top","right","bottom","left"]),this.insetTop=$e(i),this.insetRight=$e(a),this.insetBottom=$e(s),this.insetLeft=$e(f),this.rx=$e(c),this.ry=$e(u)}render(t,n,r,i,a){const{marginTop:s,marginRight:f,marginBottom:c,marginLeft:u,width:l,height:d}=i,{anchor:h,insetTop:p,insetRight:m,insetBottom:g,insetLeft:b,rx:w,ry:y}=this,x=u+b,_=l-f-m,v=s+p,k=d-c-g;return Ge(h?"svg:line":"svg:rect",a).datum(0).call(Xt,this,i,a).call(Gt,this).call(vn,this,r).call(Kt,this,{}).call(h==="left"?S=>S.attr("x1",x).attr("x2",x).attr("y1",v).attr("y2",k):h==="right"?S=>S.attr("x1",_).attr("x2",_).attr("y1",v).attr("y2",k):h==="top"?S=>S.attr("x1",x).attr("x2",_).attr("y1",v).attr("y2",v):h==="bottom"?S=>S.attr("x1",x).attr("x2",_).attr("y1",k).attr("y2",k):S=>S.attr("x",x).attr("y",v).attr("width",_-x).attr("height",k-v).attr("rx",w).attr("ry",y)).node()}}function Cb(e){return new L9(e)}const Sf={ariaLabel:"tip",fill:"white",stroke:"currentColor"},O9=new Set(["geometry","href","src","ariaLabel","scales"]);class F9 extends wt{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Dr(t)&&lm(t)&&(n={...n,title:Ft});const{x:r,y:i,x1:a,x2:s,y1:f,y2:c,anchor:u,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:b=1,lineWidth:w=20,frameAnchor:y,format:x,textAnchor:_="start",textOverflow:v,textPadding:k=8,title:S,pointerSize:C=12,pathFilter:D="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&s!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:s==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:s,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:f==null},title:{value:S,optional:!0}},n,Sf),this.anchor=dm(u,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=xs(y),this.textAnchor=Ye(_,"middle"),this.textPadding=+k,this.pointerSize=+C,this.pathFilter=mt(D),this.lineHeight=+b,this.lineWidth=+w,this.textOverflow=nb(v),this.monospace=!!l,this.fontFamily=mt(d),this.fontSize=$e(h),this.fontStyle=mt(p),this.fontVariant=mt(m),this.fontWeight=mt(g);for(const A in Sf)A in this.channels&&(this[A]=Sf[A]);this.splitLines=ib(this),this.clipLine=ob(this),this.format={...x}}render(t,n,r,i,a){const s=this,{x:f,y:c,fx:u,fy:l}=n,{ownerSVGElement:d,document:h}=a,{anchor:p,monospace:m,lineHeight:g,lineWidth:b}=this,{textPadding:w,pointerSize:y,pathFilter:x}=this,{marginTop:_,marginLeft:v}=i,{x1:k,y1:S,x2:C,y2:D,x:A=k??C,y:M=S??D}=r,I=u?u(t.fx)-v:0,N=l?l(t.fy)-_:0,[P,E]=_o(this,i),j=Hm(r,P),Z=Vm(r,E),re=m?$u:Pu,J=re(Xr);let W,H;"title"in r?(W=r.channels,H=q9):(W=j9.call(this,r,n),H=z9);const X=Ge("svg:g",a).call(Xt,this,i,a).call(rb,this).call(Kt,this,{x:A&&f,y:M&&c}).call(ne=>ne.selectAll().data(t).enter().append("g").attr("transform",ue=>`translate(${Math.round(j(ue))},${Math.round(Z(ue))})`).call(Gt,this).call(ue=>ue.append("path").attr("filter",x)).call(ue=>ue.append("text").each(function(Y){const se=St(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const T=H.call(s,Y,t,W,n,r);if(typeof T=="string")for(const z of s.splitLines(T))K(se,{value:s.clipLine(z)});else{const z=new Set;for(const V of T){const{label:F=""}=V;F&&z.has(F)||(z.add(F),K(se,V))}}})));function K(ne,{label:ue,value:Y,color:se,opacity:T}){ue??(ue=""),Y??(Y="");const z=se!=null||T!=null;let V,F=b*100;const[ce]=fi(ue,F,re,J);if(ce>=0)ue=ue.slice(0,ce).trimEnd()+Xr,V=Y.trim(),Y="";else{(ue||!Y&&!z)&&(Y=" "+Y);const[de]=fi(Y,F-re(ue),re,J);de>=0&&(Y=Y.slice(0,de).trimEnd()+Xr,V=Y.trim())}const fe=ne.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");ue&&fe.append("tspan").attr("font-weight","bold").text(ue),Y&&fe.append(()=>h.createTextNode(Y)),z&&fe.append("tspan").text(" ■").attr("fill",se).attr("fill-opacity",T).style("user-select","none"),V&&fe.append("title").text(V)}function O(){const{width:ne,height:ue}=i.facet??i;X.selectChildren().each(function(Y){let{x:se,width:T,height:z}=this.getBBox();T=Math.round(T),z=Math.round(z);let V=p;if(V===void 0){V=s.previousAnchor;const fe=j(Y)+I,de=Z(Y)+N,me=fe+T+w*2<ne,U=fe-T-w*2>0,pe=de+z+y+w*2+7<ue,Ae=de-z-y-w*2>0,Pe=(/-left$/.test(V)?me||!U:me&&!U)?"left":"right",Oe=(/^top-/.test(V)?pe||!Ae:pe&&!Ae)?"top":"bottom";V=s.previousAnchor=`${Oe}-${Pe}`}const F=this.firstChild,ce=this.lastChild;if(F.setAttribute("d",R9(V,y,w,T,z)),se)for(const fe of ce.childNodes)fe.setAttribute("x",-se);ce.setAttribute("y",`${+$9(V,ce.childNodes.length,g).toFixed(6)}em`),ce.setAttribute("transform",`translate(${B9(V,y,w,T,z)})`)}),X.attr("visibility",null)}return t.length&&(X.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(O):typeof requestAnimationFrame<"u"&&requestAnimationFrame(O)),X.node()}}function P9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ho(t,n)),new F9(e,{...r,x:t,y:n})}function $9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function B9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function R9(e,t,n,r,i){const a=r+n*2,s=i+n*2;switch(e){case"middle":return`M${-a/2},${-s/2}h${a}v${s}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${s}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${s}h${-a}v${-s}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${s}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-s/2}h${-a}v${s}h${a}v${t/2-s/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-s}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-s}h${-a}v${s}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-s}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-s/2}h${a}v${s}h${-a}v${t/2-s/2}z`}}function j9({channels:e},t){var i,a;const n={};let r=this.format;r=Qd(r,e,"x"),r=Qd(r,e,"y"),this.format=r;for(const s in r){const f=r[s];if(!(f===null||f===!1))if(s==="fx"||s==="fy")n[s]=!0;else{const c=Nd(e,s);c&&(n[s]=c)}}for(const s in e){if(s in n||s in r||O9.has(s))continue;const f=Nd(e,s);f&&(n[s]=f)}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const s in n){const f=this.format[s];if(typeof f=="string"){const c=((i=n[s])==null?void 0:i.value)??((a=t[s])==null?void 0:a.domain())??[];this.format[s]=(Wt(c)?fo:hi)(f)}else if(f===void 0||f===!0){const c=t[s];this.format[s]=c!=null&&c.bandwidth?Bu(c,c.domain()):Mr}}return n}function Qd(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),s=e[n];return a.splice(a.findIndex(([f])=>f===n)+1,0,[r,s],[i,s]),Object.fromEntries(a)}function q9(e,t,{title:n}){return Mr(n.value[e],e)}function*z9(e,t,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:za(r,n,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const s=n[a];if(a==="x2"&&"x1"in n)yield{label:th(r,n,"x"),value:eh(this.format.x2,n.x1,s,e)};else if(a==="y2"&&"y1"in n)yield{label:th(r,n,"y"),value:eh(this.format.y2,n.y1,s,e)};else{const f=s.value[e],c=s.scale;if(!er(f)&&c==null)continue;yield{label:za(r,n,a),value:this.format[a](f,e),color:c==="color"?i[a][e]:null,opacity:c==="opacity"?i[a][e]:null}}}}function eh(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function th(e,t,n){const r=za(e,t,`${n}1`,n),i=za(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function za(e,t,n,r=n){const i=t[n],a=e[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function Ru(e={}){var J;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:s,ariaDescription:f}=e,c=_u(e.className),u=e.marks===void 0?[]:rh(e.marks);u.push(...K9(u));const l=X9(t,e),d=new Map;for(const W of u){const H=ih(W,l,e);H&&d.set(W,H)}const h=new Map;l&&Mi(h,[l],e),Mi(h,d,e);const p=rh(Z9(u,h,e));for(const W of p){const H=ih(W,l,e);H&&d.set(W,H)}u.unshift(...p);let m=h7(h,e);if(m!==void 0){const W=l?vf(m,l):void 0;for(const X of u){if(X.facet===null||X.facet==="super")continue;const K=d.get(X);K!==void 0&&(K.facetsIndex=X.fx!=null||X.fy!=null?vf(m,K):W)}const H=new Set;for(const{facetsIndex:X}of d.values())X==null||X.forEach((K,O)=>{(K==null?void 0:K.length)>0&&H.add(O)});m.forEach(0<H.size&&H.size<m.length?(X,K)=>X.empty=!H.has(K):X=>X.empty=!1);for(const X of u)if(X.facet==="exclude"){const K=d.get(X);K!==void 0&&(K.facetsIndex=m7(K.facetsIndex))}}for(const W of je.keys())qa(e[W])&&W!=="fx"&&W!=="fy"&&h.set(W,[]);const g=new Map;for(const W of u){if(g.has(W))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:H,channels:X}=d.get(W)??{},{data:K,facets:O,channels:ne}=W.initialize(H,X,e);ju(ne,e),g.set(W,{data:K,facets:O,channels:ne})}const b=wc(Mi(h,g,e),e),w=l7(b,u,e);r7(b,w);const y=Rd(b),{fx:x,fy:_}=y,v=x||_?Pm(b,w):w,k=x||_?ix(y,w):w,S=wu(e),C=S.document,D=y0("svg").call(C.documentElement);let A=D;S.ownerSVGElement=D,S.className=c,S.projection=m8(e,v),S.filterFacets=(W,H)=>vf(m,{channels:H,groups:Au(W,H)}),S.getMarkState=W=>{const H=g.get(W),X=d.get(W);return{...H,channels:{...H.channels,...X==null?void 0:X.channels}}},S.dispatchValue=W=>{A.value!==W&&(A.value=W,A.dispatchEvent(new Event("input",{bubbles:!0})))};const M=new Set;for(const[W,H]of g)if(W.initializer!=null){const X=W.facet==="super"?k:v,K=W.initializer(H.data,H.facets,H.channels,y,X,S);if(K.data!==void 0&&(H.data=K.data),K.facets!==void 0&&(H.facets=K.facets),K.channels!==void 0){const{fx:O,fy:ne,...ue}=K.channels;W9(ue),Object.assign(H.channels,ue);for(const Y of Object.values(ue)){const{scale:se}=Y;se!=null&&!M4(je.get(se))&&(Nb(Y,e),M.add(se))}(O!=null||ne!=null)&&d.set(W,!0)}}if(M.size){const W=new Map;Mi(W,g,e,O=>M.has(O)),Mi(h,g,e,O=>M.has(O));const H=rx(wc(W,e),b),{scales:X,...K}=Rd(H);Object.assign(b,H),Object.assign(y,K),Object.assign(y.scales,X)}let I,N;m!==void 0&&(I={x:x==null?void 0:x.domain(),y:_==null?void 0:_.domain()},m=p7(m,I),N=g7(x,_,w));for(const[W,H]of g)H.values=W.scale(H.channels,y,S);const{width:P,height:E}=w;St(D).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",P).attr("height",E).attr("viewBox",`0 0 ${P} ${E}`).attr("aria-label",s).attr("aria-description",f).call(W=>W.append("style").text(`.${c} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${c} text,
.${c} tspan {
  white-space: pre;
}`)).call(vu,n);for(const W of u){const{channels:H,values:X,facets:K}=g.get(W);if(m===void 0||W.facet==="super"){let O=null;if(K&&(O=K[0],O=W.filter(O,H,X),O.length===0))continue;const ne=W.render(O,y,X,k,S);if(ne==null)continue;D.appendChild(ne)}else{let O;for(const ne of m){if(!(((J=W.facetAnchor)==null?void 0:J.call(W,m,I,ne))??!ne.empty))continue;let ue=null;if(K){const se=d.has(W);if(ue=K[se?ne.i:0],ue=W.filter(ue,H,X),ue.length===0)continue;!se&&ue===K[0]&&(ue=u4(ue)),ue.fx=ne.x,ue.fy=ne.y,ue.fi=ne.i}const Y=W.render(ue,y,X,v,S);if(Y!=null){(O??(O=St(D).append("g"))).append(()=>Y).datum(ne);for(const se of["aria-label","aria-description","aria-hidden","transform"])Y.hasAttribute(se)&&(O.attr(se,Y.getAttribute(se)),Y.removeAttribute(se))}}O==null||O.selectChildren().attr("transform",N)}}const j=N9(b,S,e),{figure:Z=r!=null||i!=null||a!=null||j.length>0}=e;Z&&(A=C.createElement("figure"),A.className=`${c}-figure`,A.style.maxWidth="initial",r!=null&&A.append(nh(C,r,"h2")),i!=null&&A.append(nh(C,i,"h3")),A.append(...j,D),a!=null&&A.append(U9(C,a))),A.scale=u7(y.scales),A.legend=E9(b,S,e);const re=n8();return re>0&&St(D).append("text").attr("x",P).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${re.toLocaleString("en-US")} warning${re===1?"":"s"}. Please check the console.`),A}function nh(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function U9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function H9({marks:e=[],...t}={}){return Ru({...t,marks:[...e,this]})}wt.prototype.plot=H9;function rh(e){return e.flat(1/0).filter(t=>t!=null).map(V9)}function V9(e){return typeof e.render=="function"?e:new Y9(e)}class Y9 extends wt{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function ju(e,t){for(const n in e)Nb(e[n],t);return e}function Nb(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:s,transform:f=a?c=>c*100:um(s,i)}=t[n]??{};f!=null&&(e.value=tt(e.value,f),e.transform=!1)}function W9(e){for(const t in e)bm(t,e[t])}function Mi(e,t,n,r=n4){var i,a;for(const{channels:s}of t.values())for(const f in s){const c=s[f],{scale:u}=c;if(u!=null&&r(u))if(u==="projection"){if(!v8(n)){const l=((i=n.x)==null?void 0:i.domain)===void 0,d=((a=n.y)==null?void 0:a.domain)===void 0;if(l||d){const[h,p]=x8(c);l&&kf(e,"x",h),d&&kf(e,"y",p)}}}else kf(e,u,c)}return e}function kf(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function X9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=Ot(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Zi(i,{value:n,scale:"fx"})),r!=null&&(a.fy=Zi(i,{value:r,scale:"fy"})),ju(a,t);const s=Au(i,a);return{channels:a,groups:s,data:e.data}}function ih(e,t,n){var c;if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=Ot(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const l={};return r!=null&&(l.fx=Zi(u,{value:r,scale:"fx"})),i!=null&&(l.fy=Zi(u,{value:i,scale:"fy"})),ju(l,n),{channels:l,groups:Au(u,l)}}if(t===void 0)return;const{channels:a,groups:s,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:a,groups:s};f.length>0&&(s.size>1||s.size===1&&a.fx&&a.fy&&[...s][0][1].size>1)&&((c=Ot(e.data))==null?void 0:c.length)===f.length&&Gn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function G9(e,t={}){return si({...t,x:null,y:null},(n,r,i,a,s,f)=>f.getMarkState(e))}function K9(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i}=r;i=/^x$/i.test(i)?T7:/^y$/i.test(i)?C7:E7,r=i(G9(n,r)),r.title=null;const a=P9(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function Z9(e,t,n){let{projection:r,x:i={},y:a={},fx:s={},fy:f={},axis:c,grid:u,facet:l={},facet:{axis:d=c,grid:h}=l,x:{axis:p=c,grid:m=p===null?null:u}=i,y:{axis:g=c,grid:b=g===null?null:u}=a,fx:{axis:w=d,grid:y=w===null?null:h}=s,fy:{axis:x=d,grid:_=x===null?null:h}=f}=n;(r||!qa(i)&&!oh("x",e))&&(p=m=null),(r||!qa(a)&&!oh("y",e))&&(g=b=null),t.has("fx")||(w=y=null),t.has("fy")||(x=_=null),p===void 0&&(p=!Ro(e,"x")),g===void 0&&(g=!Ro(e,"y")),w===void 0&&(w=!Ro(e,"fx")),x===void 0&&(x=!Ro(e,"fy")),p===!0&&(p="bottom"),g===!0&&(g="left"),w===!0&&(w=p==="top"||p===null?"bottom":"top"),x===!0&&(x=g==="right"||g===null?"left":"right");const v=[];return Bo(v,_,m9,f),$o(v,x,c9,"right","left",l,f),Bo(v,y,y9,s),$o(v,w,u9,"top","bottom",l,s),Bo(v,b,g9,a),$o(v,g,xo,"left","right",n,a),Bo(v,m,b9,i),$o(v,p,mi,"bottom","top",n,i),v}function $o(e,t,n,r,i,a,s){if(!t)return;const f=J9(t);s=Q9(f?r:t,a,s);const{line:c}=s;(n===xo||n===mi)&&c&&!Ki(c)&&e.push(Cb(ex(s))),e.push(n(s)),f&&e.push(n({...s,anchor:i,label:null}))}function Bo(e,t,n,r){!t||Ki(t)||e.push(n(tx(t,r)))}function J9(e){return/^\s*both\s*$/i.test(e)}function Q9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:d,label:h=t.label,labelAnchor:p,labelArrow:m=t.labelArrow,labelOffset:g}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:s,tickFormat:f,tickRotate:c,fontVariant:u,ariaLabel:l,ariaDescription:d,label:h,labelAnchor:p,labelArrow:m,labelOffset:g}}function ex(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function tx(e,{stroke:t=ws(e)?e:void 0,ticks:n=nx(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function nx(e){switch(typeof e){case"number":return!0;case"string":return!ws(e)}return Dr(e)||typeof(e==null?void 0:e.range)=="function"}function Ro(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function oh(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function rx(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function ix({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:s,width:f,height:c}=Mu(n),u=e&&ah(e),l=t&&ah(t);return{marginTop:t?l[0]:r,marginRight:e?f-u[1]:i,marginBottom:t?c-l[1]:a,marginLeft:e?u[0]:s,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:c}}function ah(e){const t=e.domain();let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const ox=new Map([["basis",R3],["basis-closed",j3],["basis-open",q3],["bundle",z3],["bump-x",T3],["bump-y",C3],["cardinal",U3],["cardinal-closed",H3],["cardinal-open",V3],["catmull-rom",Y3],["catmull-rom-closed",W3],["catmull-rom-open",X3],["linear",hs],["linear-closed",G3],["monotone-x",K3],["monotone-y",Z3],["natural",J3],["step",Q3],["step-after",t6],["step-before",e6]]);function ax(e=hs,t){if(typeof e=="function")return e;const n=ox.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Db(e=ci,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?ci:ax(e,t)}function ci(e){return hs(e)}function sx(e={}){return fm(e)?e:{...e,x:Ft}}function fx(e,t){if(t.length===1)return{data:e,facets:t};const n=e.length,r=new Uint8Array(n);let i=0;for(const f of t)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:e,facets:t};e=Gi(e);const a=e[rm]=new Uint32Array(n+i);t=t.map(f=>Gi(f,Uint32Array));let s=n;r.fill(0);for(const f of t)for(let c=0,u=f.length;c<u;++c){const l=f[c];r[l]?(f[c]=s,e[s]=e[l],a[s]=l,++s):a[l]=l,r[l]=1}return{data:e,facets:t}}function cx(e={},t={}){arguments.length===1&&([e,t]=lx(e));const{y1:n,y:r=n,x:i,...a}=t,[s,f,c,u]=hx(r,i,"y","x",e,a);return{...s,y1:n,y:f,x1:c,x2:u,x:d4(c,u)}}function ux({x:e,x1:t,x2:n,...r}={}){return r=Eu(r,"y"),t===void 0&&n===void 0?cx({x:e,...r}):([t,n]=c4(e,t,n),{...r,x1:t,x2:n})}function lx(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const dx={length:!0};function hx(e,t=t4,n,r,{offset:i,order:a,reverse:s},f){if(t===null)throw new Error(`stack requires ${r}`);const c=cm(f),[u,l]=l4(e),[d,h]=bc(t),[p,m]=bc(t);return d.hint=p.hint=dx,i=px(i),a=bx(a,i,r),[bu(f,(g,b,w)=>{({data:g,facets:b}=fx(g,b));const y=e==null?void 0:l(h4(Vt(g,e),w==null?void 0:w[n])),x=Vt(g,t,Float64Array),_=Vt(g,c),v=a&&a(g,y,x,_),k=g.length,S=h(new Float64Array(k)),C=m(new Float64Array(k)),D=[];for(const A of b){const M=y?Array.from(Bc(A,I=>y[I]).values()):[A];if(v)for(const I of M)I.sort(v);for(const I of M){let N=0,P=0;s&&I.reverse();for(const E of I){const j=x[E];j<0?N=C[E]=(S[E]=N)+j:j>0?P=C[E]=(S[E]=P)+j:C[E]=S[E]=P}}D.push(M)}return i&&i(D,S,C,_),{data:g,facets:b}}),u,d,p]}function px(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return gx;case"center":case"silhouette":return mx;case"wiggle":return Lb}throw new Error(`unknown offset: ${e}`)}}function Ib(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function gx(e,t,n){for(const r of e)for(const i of r){const[a,s]=Ib(i,n);for(const f of i){const c=1/(s-a||1);t[f]=c*(t[f]-a),n[f]=c*(n[f]-a)}}}function mx(e,t,n){for(const r of e){for(const i of r){const[a,s]=Ib(i,n);for(const f of i){const c=(s+a)/2;t[f]-=c,n[f]-=c}}Ob(r,t,n)}Fb(e,t,n)}function Lb(e,t,n,r){for(const i of e){const a=new _r;let s=0;for(const f of i){let c=-1;const u=f.map(p=>Math.abs(n[p]-t[p])),l=f.map(p=>{c=r?r[p]:++c;const m=n[p]-t[p],g=a.has(c)?m-a.get(c):0;return a.set(c,m),g}),d=[0,...H2(l)];for(const p of f)t[p]+=s,n[p]+=s;const h=vr(u);h&&(s-=vr(u,(p,m)=>(l[m]/2+d[m])*p)/h)}Ob(i,t,n)}Fb(e,t,n)}function Ob(e,t,n){const r=mn(e,i=>mn(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function Fb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),a=i.map(f=>(mn(f,c=>t[c])+It(f,c=>n[c]))/2),s=mn(a);for(let f=0;f<r;f++){const c=s-a[f];for(const u of i[f])t[u]+=c,n[u]+=c}}function bx(e,t,n){if(e===void 0&&t===Lb)return sh(yn);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?ja:yn;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return yx(i);case"z":return _x(i);case"sum":return vx(i);case"appearance":return wx(i);case"inside-out":return sh(i)}return fh(im(e))}if(typeof e=="function")return(e.length===1?fh:xx)(e);if(Array.isArray(e))return Sx(e);throw new Error(`invalid order: ${e}`)}}function yx(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function _x(e){return(t,n,r,i)=>(a,s)=>e(i[a],i[s])}function vx(e){return Ds(e,(t,n,r,i)=>jc(rr(t),a=>vr(a,s=>r[s]),a=>i[a]))}function wx(e){return Ds(e,(t,n,r,i)=>jc(rr(t),a=>n[I0(a,s=>r[s])],a=>i[a]))}function sh(e){return Ds(e,(t,n,r,i)=>{const a=rr(t),s=jc(a,d=>n[I0(d,h=>r[h])],d=>i[d]),f=Oi(a,d=>vr(d,h=>r[h]),d=>i[d]),c=[],u=[];let l=0;for(const d of s)l<0?(l+=f.get(d),c.push(d)):(l-=f.get(d),u.push(d));return u.reverse().concat(c)})}function fh(e){return t=>{const n=Vt(t,e);return(r,i)=>yn(n[r],n[i])}}function xx(e){return t=>(n,r)=>e(t[n],t[r])}function Sx(e){return Ds(yn,()=>e)}function Ds(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const s=new _r(t(n,r,i,a).map((f,c)=>[f,c]));return(f,c)=>e(s.get(a[f]),s.get(a[c]))}}const kx={ariaLabel:"link",fill:"none",stroke:"currentColor",strokeMiterlimit:1};class Mx extends wt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,curve:f,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,kx),this.curve=Db(f,c),Es(this,n)}project(t,n,r){this.curve!==ci&&super.project(t,n,r)}render(t,n,r,i,a){const{x1:s,y1:f,x2:c=s,y2:u=f}=r,{curve:l}=this;return Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,n).call(d=>d.selectAll().data(t).enter().append("path").call(Gt,this).attr("d",l===ci&&a.projection?Ax(a.projection,s,f,c,u):h=>{const p=Un(),m=l(p);return m.lineStart(),m.point(s[h],f[h]),m.point(c[h],u[h]),m.lineEnd(),p}).call(vn,this,r).call(Cu,this,r,a)).node()}}function Ax(e,t,n,r,i){const a=eo(e);return t=Hn(t),n=Hn(n),r=Hn(r),i=Hn(i),s=>a({type:"LineString",coordinates:[[t[s],n[s]],[r[s],i[s]]]})}function Ac(e,{x:t,x1:n,x2:r,y:i,y1:a,y2:s,...f}={}){return[n,r]=ch(t,n,r),[a,s]=ch(i,a,s),new Mx(e,{...f,x1:n,x2:r,y1:a,y2:s})}function ch(e,t,n){if(e===void 0){if(t===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[t]}else{if(t===void 0)return n===void 0?[e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}class Ex extends wt{constructor(t,n,r={},i){super(t,n,r,i);const{inset:a=0,insetTop:s=a,insetRight:f=a,insetBottom:c=a,insetLeft:u=a,rx:l,ry:d}=r;this.insetTop=$e(s),this.insetRight=$e(f),this.insetBottom=$e(c),this.insetLeft=$e(u),this.rx=Ye(l,"auto"),this.ry=Ye(d,"auto")}render(t,n,r,i,a){const{rx:s,ry:f}=this;return Ge("svg:g",a).call(Xt,this,i,a).call(this._transform,this,n).call(c=>c.selectAll().data(t).enter().append("rect").call(Gt,this).attr("x",this._x(n,r,i)).attr("width",this._width(n,r,i)).attr("y",this._y(n,r,i)).attr("height",this._height(n,r,i)).call(ge,"rx",s).call(ge,"ry",f).call(vn,this,r)).node()}_x(t,{x:n},{marginLeft:r}){const{insetLeft:i}=this;return n?a=>n[a]+i:r+i}_y(t,{y:n},{marginTop:r}){const{insetTop:i}=this;return n?a=>n[a]+i:r+i}_width({x:t},{x:n},{marginRight:r,marginLeft:i,width:a}){const{insetLeft:s,insetRight:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}_height({y:t},{y:n},{marginTop:r,marginBottom:i,height:a}){const{insetTop:s,insetBottom:f}=this,c=n&&t?t.bandwidth():a-r-i;return Math.max(0,c-s-f)}}const Tx={ariaLabel:"cell"};class Cx extends Ex{constructor(t,{x:n,y:r,...i}={}){super(t,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:r,scale:"y",type:"band",optional:!0}},i,Tx)}_transform(t,n){t.call(Kt,n,{},0,0)}}function Nx(e,{x:t,y:n,...r}={}){return[t,n]=ho(t,n),new Cx(e,{...r,x:t,y:n})}const Dx={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function Pb(e){return e.sort===void 0&&e.reverse===void 0?L4({channel:"-r"},e):e}class Ix extends wt{constructor(t,n={}){const{x:r,y:i,r:a,rotate:s,symbol:f=Yi,frameAnchor:c}=n,[u,l]=st(s,0),[d,h]=D4(f),[p,m]=st(a,d==null?3:4.5);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:p,scale:"r",filter:co,optional:!0},rotate:{value:u,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},Pb(n),Dx),this.r=m,this.rotate=l,this.symbol=h,this.frameAnchor=xs(c);const{channels:g}=this,{symbol:b}=g;if(b){const{fill:w,stroke:y}=g;b.hint={fill:w?w.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:y?y.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(t,n,r,i,a){const{x:s,y:f}=n,{x:c,y:u,r:l,rotate:d,symbol:h}=r,{r:p,rotate:m,symbol:g}=this,[b,w]=_o(this,i),y=g===Yi,x=l?void 0:p*p*Math.PI;return bs(p)&&(t=[]),Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&s,y:u&&f}).call(_=>_.selectAll().data(t).enter().append(y?"circle":"path").call(Gt,this).call(y?v=>{v.attr("cx",c?k=>c[k]:b).attr("cy",u?k=>u[k]:w).attr("r",l?k=>l[k]:p)}:v=>{v.attr("transform",Ou`translate(${c?k=>c[k]:b},${u?k=>u[k]:w})${d?k=>` rotate(${d[k]})`:m?` rotate(${m})`:""}`).attr("d",l&&h?k=>{const S=Un();return h[k].draw(S,l[k]*l[k]*Math.PI),S}:l?k=>{const S=Un();return g.draw(S,l[k]*l[k]*Math.PI),S}:h?k=>{const S=Un();return h[k].draw(S,x),S}:(()=>{const k=Un();return g.draw(k,x),k})())}).call(vn,this,r)).node()}}function Lx(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=ho(t,n)),new Ix(e,{...r,x:t,y:n})}function Ox(e,t){return Lx(e,{...t,symbol:"circle"})}const Fx={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};let Px=class extends wt{constructor(t,n={}){const{x:r,y:i,z:a,curve:s,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:cm(n),optional:!0}},n,Fx),this.z=a,this.curve=Db(s,f),Es(this,n)}filter(t){return t}project(t,n,r){this.curve!==ci&&super.project(t,n,r)}render(t,n,r,i,a){const{x:s,y:f}=r,{curve:c}=this;return Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,n).call(u=>u.selectAll().data(d8(t,[s,f],this,r)).enter().append("path").call(Gt,this).call(c8,this,r).call(O7,this,r,a).attr("d",c===ci&&a.projection?$x(a.projection,s,f):E3().curve(c).defined(l=>l>=0).x(l=>s[l]).y(l=>f[l]))).node()}};function $x(e,t,n){const r=eo(e);return t=Hn(t),n=Hn(n),i=>{let a=[];const s=[a];for(const f of i)f===-1?(a=[],s.push(a)):a.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:s})}}function Bx(e,{x:t,y:n,...r}={}){return[t,n]=ho(t,n),new Px(e,{...r,x:t,y:n})}const Rx={ariaLabel:"rect"};class $b extends wt{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:s,inset:f=0,insetTop:c=f,insetRight:u=f,insetBottom:l=f,insetLeft:d=f,rx:h,ry:p}=n;super(t,{x1:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:s,scale:"y",optional:!0}},n,Rx),this.insetTop=$e(c),this.insetRight=$e(u),this.insetBottom=$e(l),this.insetLeft=$e(d),this.rx=Ye(h,"auto"),this.ry=Ye(p,"auto")}render(t,n,r,i,a){const{x:s,y:f}=n,{x1:c,y1:u,x2:l,y2:d}=r,{marginTop:h,marginRight:p,marginBottom:m,marginLeft:g,width:b,height:w}=i,{projection:y}=a,{insetTop:x,insetRight:_,insetBottom:v,insetLeft:k,rx:S,ry:C}=this;return Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,{x:c&&l&&s,y:u&&d&&f},0,0).call(D=>D.selectAll().data(t).enter().append("rect").call(Gt,this).attr("x",c&&l&&(y||!Vn(s))?A=>Math.min(c[A],l[A])+k:g+k).attr("y",u&&d&&(y||!Vn(f))?A=>Math.min(u[A],d[A])+x:h+x).attr("width",c&&l&&(y||!Vn(s))?A=>Math.max(0,Math.abs(l[A]-c[A])-k-_):b-p-g-_-k).attr("height",u&&d&&(y||!Vn(f))?A=>Math.max(0,Math.abs(u[A]-d[A])-x-v):w-h-m-x-v).call(ge,"rx",S).call(ge,"ry",C).call(vn,this,r)).node()}}function jx(e,t){return new $b(e,F7(Jm(t)))}function qu(e,t={}){return f4(t)||(t={...t,y:om,x2:Ft,interval:1}),new $b(e,ux(Jm(sx(t))))}const qx={ariaLabel:"geo",fill:"none",stroke:"currentColor",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class zx extends wt{constructor(t,n={}){const[r,i]=st(n.r,3);super(t,{geometry:{value:n.geometry,scale:"projection"},r:{value:r,scale:"r",filter:co,optional:!0}},Pb(n),qx),this.r=i}render(t,n,r,i,a){const{geometry:s,r:f}=r,c=eo(a.projection??Ux(n)),{r:u}=this;return bs(u)?t=[]:u!==void 0&&c.pointRadius(u),Ge("svg:g",a).call(Xt,this,i,a).call(Kt,this,n).call(l=>{l.selectAll().data(t).enter().append("path").call(Gt,this).attr("d",f?d=>c.pointRadius(f[d])(s[d]):d=>c(s[d])).call(vn,this,r)}).node()}}function Ux({x:e,y:t}){if(e||t)return e??(e=n=>n),t??(t=n=>n),Ma({point(n,r){this.stream.point(e(n),t(r))}})}function Hx(e,{geometry:t=Ft,...n}={}){switch(e==null?void 0:e.type){case"FeatureCollection":e=e.features;break;case"GeometryCollection":e=e.geometries;break;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":e=[e];break}return new zx(e,{geometry:t,...n})}function Vx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Yx(e,t={}){if(!e||e.length===0)return[];let n=Kn(e[0]),r=t.include?t.include:n;r=ra(t.include||n,t.exclude||[]);let i=ra(n,r);return console.log(r,i),w0(a=>r.map(s=>{let f=T2(i,a);return f[t.key||"key"]=s,f[t.value||"value"]=a[s],f}),e)}class Wx{add(t,n,r){let i=`${r.view.id}::${r.eventname}`;return Me(this[i])?this[i]={iact:r,oldVal:t,newVal:n}:this[i].newVal=n,console.log("WriteSet.add",i,this[i]),this}forEach(t){fn(this).forEach(t)}merge(t){if(Me(t))return this;t.forEach(({iact:n,oldVal:r,newVal:i})=>{this.add(r,i,n)})}}const zn=Be(Array),uh=()=>null;function Gr(e,t,n){if(Be(String,t))e[t]=n;else if(zn(t)){let[r,...i]=t;Me(e[r])&&(e[r]={}),pt(i)?Gr(e,r,n):Gr(e[r],i,n)}}function Ua(e,t,n){if(Be(String,t))Me(e[t])&&(e[t]=[]),e[t].push(n);else if(zn(t)){let[r,...i]=t;Me(e[r])&&(e[r]=pt(i)?[]:{}),pt(i)?Ua(e,r,n):Ua(e[r],i,n)}}function jn(e,t,n){if(Be(String,t))return e[t]||(Be(Function,n)?n():n);if(zn(t)){let[r,...i]=t;return Me(e[r])?Be(Function,n)?n():n:pt(i)?jn(e,r,n):jn(e[r],i,n)}}class Xx{constructor(){this.defaults={},this.dependencies={},this.view2iacts={},this.states={},this.viewData={}}add(t,n,r=uh,i){if(!t.attr)return this;let a=t.view.id,s=t.eventname;return Ua(this.dependencies,[a,s],{view:n,domainfunction:r}),Ua(this.view2iacts,n.id,t),this.setDefault(n,i),this}dependentViews(t){let n=t.eventname;return jn(this.dependencies,[t.view.id,n],[])}cmp(t,n){return this.isDependentOn(t.view,n)?1:this.isDependentOn(n.view,t)?-1:0}isDependentOn(t,n){let r=this.getAncestorIacts(t);return Pc(i=>(i.store??i)==n,r)}setDefault(t,n){return Me(n)||(this.defaults[t.id]=n),this}getDefault(t,n){return(jn(this.defaults,t.id)??uh)(n,this.getAncestorIacts(t))}getAncestorIacts(t){let n=[];return jn(this.view2iacts,t.id,[]).forEach(r=>{n.push(r),n=ji(n,this.getAncestorIacts(r.view))}),n}getStatesKey(t){let n=this.getAncestorIacts(t),r=ji([t.id],n.map(i=>[i.id,i.val()]));return console.debug("ancestorStates",r,JSON.stringify(r)),JSON.stringify(r)}saveState(t,n,r){let i=this.getStatesKey(n.view);!Me(r)&&Me(r.states[i])&&Gr(r.states,[i,n.eventname],{old:jn(this.states,[i,n.eventname]),iact:n}),console.debug("saveState",i,n.eventname,jn(this.states,[i,n.eventname]),t),Gr(this.states,[i,n.eventname],t)}restoreStates(t){sn((n,r)=>{sn(({iact:i,old:a},s)=>{console.debug("restoreState",r,i.eventname,a),Gr(this.states,[r,i.eventname],a)},n)},t.states)}getState(t,n,r=!0){let i=this.getStatesKey(t);return Me(n)?this.states[i]:jn(this.states,[i,n],()=>r?this.getDefault(t,n):void 0)}}class Gx{constructor(t){this.interactions={},this.views={},this.backends={},this.i2b={},this.dependencies=new Xx,this.transactions=[],this._isaborting=!1,this.backends=t,this._iactid=0,this._xid=0;const n=r=>i=>this.backends.createBackend({...i,type:r});this.backend=r=>this.backends.createBackend(r),this.backend.array=n("array"),this.backend.duckdb=n("duckdb"),this.backend.identity=n("identity"),this.backend.overlay=n("overlay"),this.backend.query=n("query"),this.backend.matching=n("matching")}view(t){if(this.views[t.id]=t,zn(t)){t.forEach(n=>this.view(n));return}this.interactions[t.id]=this.interactions[t.id]??{_attrs:{}},t.magic=this,sn((n,r)=>{if(!Me(this.interactions[t.id][r]))return;let i=a=>{t.load(o,event)};Object.assign(n,{start:(...a)=>this.start(n,...a),end:()=>this.end(n),abort:()=>this.abort(n),val:()=>Ls(n)??{},load:i,id:this._iactid++,view:t,eventname:r,isActive:!1}),n.get=(a,s=null)=>{if(!Me(this.interactions[t.id]._attrs[a]))return this.interactions[t.id]._attrs[a];let f={store:n,attr:a,view:t,eventname:r,load:i,default:s,id:this._iactid++,val:()=>{let c=Ls(n);return br(a)(c)?c[a]:(pt(c)||console.error("could not find attr:",Kn(Ls(n)).length),Be(Function,s)?s():s)},start:()=>this.start(f),end:()=>this.end(f),abort:()=>this.abort(f)};return this.interactions[t.id]._attrs[a]=f,f},this.interactions[t.id][r]=n},t.interactions)}render(t,n,r,i={}){return t=zn(t)?t:[t],n=zn(n)?n:[n],t.map(s=>{if(Be(ky,s))return s;let f=this.backend.identity();return this.connect(f,s),f}).forEach(s=>{n.forEach(f=>s.registerView(f,r,i))}),this}saveBackends(t){console.debug("save backends invoked on: ",t),t=zn(t)?t:[t],t.forEach(n=>{n.registerView((r,i)=>{console.debug("saveBackend",this,n,r,i),sn((a,s)=>{sn((f,c)=>{f.forEach(u=>{console.debug("saveBackend.DependencyLeaf.ViewIact",u.view.id,this.i2b[u.view.id]);let l=this.dependencies.getAncestorIacts(u.view),d=ji([n.id],l.map(h=>[h.id,h.val()]));pt(w2(Kn(this.i2b[u.view.id]),n.id))||(console.debug("saveBackend.View",n.id,u.view.id),this.dependencies.viewData[d]=r)})},a)},this.dependencies.dependencies)})})}connect(t,n,r){var s;if(zn(n)){n.forEach(f=>this.connect(t,f,r));return}let i=n,a=i.view;Me(this.i2b[a.id])&&(i.subscribe(f=>{console.log("iact.subscribe.handleEvent",a.id,i.id),this.handleEvent(f,i)}),i.store?i.store.isActive=!0:i.isActive=!0,(s=a.registerInteraction)==null||s.call(a,i),this.i2b[a.id]={}),Me(t)||Gr(this.i2b,[a.id,t.id],this.processBindings(r))}processBindings(t){if(Me(t)||pt(t))return Nf;if(Be(Function,t))return t;let n=Of(k0(Be(Array),Be(Object)),In(r=>this.processBindings(r)),Of(Be(Function),Nf,r=>()=>r))(t);return br("*",t)?r=>My(r,ol(n)(r)):ol(n)}saveIactState(t,n,r){this.dependencies.saveState(t,n,r),this.dependencies.dependentViews(n).forEach(({view:i,domainfunction:a})=>{if(a){let f=this.dependencies.getAncestorIacts(i);i.render(a(t,f))}let s=this.dependencies.getState(i);sn((f,c)=>{f=f??this.dependencies.getDefault(i,c),f&&(console.debug("saveIactState.load",i.id,c,f),i.load(f,c))},s),(Me(s)||pt(s))&&(console.debug("saveIactState.load.default",i.id),i.load(this.dependencies.getDefault(i)))})}handleEvent(t,n){if(!Me(t))if(console.log("handleEvent",this._isaborting,n.view.id,t),this._isaborting)this.dependencies.saveState(t,n,null),this.sendEventToBackends(t,n);else if(this.transactions.length==0||Ps(this.transactions).iact!=n)n.start(),this.handleEvent(t,n),n.end();else{let r=Ps(this.transactions),i=this.dependencies.getState(n.view,n.eventname,!1);r.writeSet.add(i,t,n),r.visible&&this.sendEventToBackends(t,n)}}sendEventToBackends(t,n){sn((r,i)=>{let a=r(t);this.backends[i].execute(a,n)},this.i2b[n.view.id])}snapshot(){return S2(t=>t.snapshot(),this.backends)}restoreSnapshot(t){sn((n,r)=>{Me(n)||this.backends[r].restoreSnapshot(n)},t.snapshot)}start(t,n=!0){this.transactions.push({xid:this._xid++,iact:t,visible:n,snapshot:this.snapshot(),states:{},writeSet:new Wx}),console.log("magic.start",this.transactions)}end(t){if(!Pc(a=>a.iact=t,this.transactions)){console.log("magic.end: can't find interaction",t);return}let n=this.transactions.pop();console.log("magic.end[",n.writeSet),n.writeSet.forEach(({newVal:a,iact:s})=>{this.saveIactState(a,s,n),n.visible||this.sendEventToBackends(a,s)});let r=fn(n.writeSet).map(({iact:a})=>a.id),i=w0(a=>fn(a).map(({iact:s})=>s.id),fn(n.states));if(pt(I2(r,i))||console.error("writeset != statesids",r,i),this.transactions.length>0){let a=Ps(this.transactions);a.snapshot=Df(a.snapshot,n.snapshot),a.states=Df(a.states,n.states),a.writeSet.merge(n.writeSet)}console.log("magic.end]",this.dependencies.states,this.transactions)}abort(t){try{this._isaborting=!0;let n=this.transactions.pop();console.log("magic.abort",n.states,n.writeSet),this.restoreSnapshot(n),console.log("magic.abort.restoredStates.before",Ay(this.dependencies.states)),this.dependencies.restoreStates(n),console.log("magic.abort.restoredStates.after",this.dependencies.states),N2((i,a)=>this.dependencies.cmp(i.iact,a.iact),fn(n.writeSet)).forEach(({iact:i})=>{let a=this.dependencies.getState(i.view,i.eventname);a&&i.view.load&&(console.log("magic.abort.load",a,i),i.view.load(a,i.eventname))})}finally{this._isaborting=!1}}importState(t){let n=JSON.parse(t);this.dependencies.states=n,sn((r,i)=>{let a=this.views[i];this.walkViews(a)},this.dependencies.dependencies)}walkViews(t){let n=this.dependencies.getStatesKey(t),r=this.dependencies.states[n],i=fn(r);if(i.length>1){console.error("unexpected behavior, multiple values for state");return}t.load(i[0])}exportState(){return JSON.stringify(this.dependencies.states)}exportData(){return JSON.stringify(this.dependencies.viewData)}}const Kx=e=>({}),lh=e=>({}),Zx=e=>({}),dh=e=>({}),Jx=e=>({}),hh=e=>({}),Qx=e=>({}),ph=e=>({}),eS=e=>({}),gh=e=>({}),tS=e=>({}),mh=e=>({}),nS=e=>({}),bh=e=>({}),rS=e=>({}),yh=e=>({}),iS=e=>({}),_h=e=>({}),oS=e=>({}),vh=e=>({}),aS=e=>({}),wh=e=>({}),sS=e=>({}),xh=e=>({}),fS=e=>({}),Sh=e=>({}),cS=e=>({}),kh=e=>({}),uS=e=>({}),Mh=e=>({});function lS(e){let t,n,r,i,a,s,f,c,u,l,d,h,p,m,g,b,w,y,x,_,v,k,S,C,D,A,M,I,N,P,E;const j=e[1].header,Z=ct(j,e,e[0],Mh),re=e[1].alert,J=ct(re,e,e[0],kh),W=e[1].dropdown1,H=ct(W,e,e[0],Sh),X=e[1].chart1,K=ct(X,e,e[0],xh),O=e[1].dropdown2,ne=ct(O,e,e[0],wh),ue=e[1].chart2,Y=ct(ue,e,e[0],vh),se=e[1].dropdown3,T=ct(se,e,e[0],_h),z=e[1].chart3,V=ct(z,e,e[0],yh),F=e[1].dropdown4,ce=ct(F,e,e[0],bh),fe=e[1].chart4,de=ct(fe,e,e[0],mh),me=e[1].obplot,U=ct(me,e,e[0],gh),pe=e[1].slider1,Ae=ct(pe,e,e[0],ph),Pe=e[1].slider2,Oe=ct(Pe,e,e[0],hh),Pt=e[1].slider3,Ke=ct(Pt,e,e[0],dh),on=e[1].slider4,Ze=ct(on,e,e[0],lh);return{c(){t=Q("div"),n=Q("div"),Z&&Z.c(),r=Se(),i=Q("div"),J&&J.c(),a=Se(),s=Q("div"),H&&H.c(),f=Se(),c=Q("div"),K&&K.c(),u=Se(),l=Q("div"),ne&&ne.c(),d=Se(),h=Q("div"),Y&&Y.c(),p=Se(),m=Q("div"),T&&T.c(),g=Se(),b=Q("div"),V&&V.c(),w=Se(),y=Q("div"),ce&&ce.c(),x=Se(),_=Q("div"),de&&de.c(),v=Se(),k=Q("div"),U&&U.c(),S=Se(),C=Q("div"),Ae&&Ae.c(),D=Se(),A=Q("div"),Oe&&Oe.c(),M=Se(),I=Q("div"),Ke&&Ke.c(),N=Se(),P=Q("div"),Ze&&Ze.c(),this.h()},l($){t=ee($,"DIV",{class:!0});var ie=te(t);n=ee(ie,"DIV",{class:!0});var Re=te(n);Z&&Z.l(Re),Re.forEach(q),r=ke(ie),i=ee(ie,"DIV",{class:!0});var xt=te(i);J&&J.l(xt),xt.forEach(q),a=ke(ie),s=ee(ie,"DIV",{class:!0});var Zt=te(s);H&&H.l(Zt),Zt.forEach(q),f=ke(ie),c=ee(ie,"DIV",{class:!0});var Nt=te(c);K&&K.l(Nt),Nt.forEach(q),u=ke(ie),l=ee(ie,"DIV",{class:!0});var Lr=te(l);ne&&ne.l(Lr),Lr.forEach(q),d=ke(ie),h=ee(ie,"DIV",{class:!0});var wn=te(h);Y&&Y.l(wn),wn.forEach(q),p=ke(ie),m=ee(ie,"DIV",{class:!0});var L=te(m);T&&T.l(L),L.forEach(q),g=ke(ie),b=ee(ie,"DIV",{class:!0});var ae=te(b);V&&V.l(ae),ae.forEach(q),w=ke(ie),y=ee(ie,"DIV",{class:!0});var Ee=te(y);ce&&ce.l(Ee),Ee.forEach(q),x=ke(ie),_=ee(ie,"DIV",{class:!0});var Ce=te(_);de&&de.l(Ce),Ce.forEach(q),v=ke(ie),k=ee(ie,"DIV",{class:!0});var $t=te(k);U&&U.l($t),$t.forEach(q),S=ke(ie),C=ee(ie,"DIV",{class:!0});var yi=te(C);Ae&&Ae.l(yi),yi.forEach(q),D=ke(ie),A=ee(ie,"DIV",{class:!0});var So=te(A);Oe&&Oe.l(So),So.forEach(q),M=ke(ie),I=ee(ie,"DIV",{class:!0});var ko=te(I);Ke&&Ke.l(ko),ko.forEach(q),N=ke(ie),P=ee(ie,"DIV",{class:!0});var Vu=te(P);Ze&&Ze.l(Vu),Vu.forEach(q),ie.forEach(q),this.h()},h(){B(n,"class","mx-auto"),B(i,"class",""),B(s,"class","mx-auto"),B(c,"class",""),B(l,"class","mx-auto"),B(h,"class",""),B(m,"class","mx-auto"),B(b,"class",""),B(y,"class","mx-auto"),B(_,"class",""),B(k,"class",""),B(C,"class",""),B(A,"class",""),B(I,"class",""),B(P,"class",""),B(t,"class","px-5 py-2 bg-white")},m($,ie){xe($,t,ie),G(t,n),Z&&Z.m(n,null),G(t,r),G(t,i),J&&J.m(i,null),G(t,a),G(t,s),H&&H.m(s,null),G(t,f),G(t,c),K&&K.m(c,null),G(t,u),G(t,l),ne&&ne.m(l,null),G(t,d),G(t,h),Y&&Y.m(h,null),G(t,p),G(t,m),T&&T.m(m,null),G(t,g),G(t,b),V&&V.m(b,null),G(t,w),G(t,y),ce&&ce.m(y,null),G(t,x),G(t,_),de&&de.m(_,null),G(t,v),G(t,k),U&&U.m(k,null),G(t,S),G(t,C),Ae&&Ae.m(C,null),G(t,D),G(t,A),Oe&&Oe.m(A,null),G(t,M),G(t,I),Ke&&Ke.m(I,null),G(t,N),G(t,P),Ze&&Ze.m(P,null),E=!0},p($,[ie]){Z&&Z.p&&(!E||ie&1)&&ut(Z,j,$,$[0],E?dt(j,$[0],ie,uS):lt($[0]),Mh),J&&J.p&&(!E||ie&1)&&ut(J,re,$,$[0],E?dt(re,$[0],ie,cS):lt($[0]),kh),H&&H.p&&(!E||ie&1)&&ut(H,W,$,$[0],E?dt(W,$[0],ie,fS):lt($[0]),Sh),K&&K.p&&(!E||ie&1)&&ut(K,X,$,$[0],E?dt(X,$[0],ie,sS):lt($[0]),xh),ne&&ne.p&&(!E||ie&1)&&ut(ne,O,$,$[0],E?dt(O,$[0],ie,aS):lt($[0]),wh),Y&&Y.p&&(!E||ie&1)&&ut(Y,ue,$,$[0],E?dt(ue,$[0],ie,oS):lt($[0]),vh),T&&T.p&&(!E||ie&1)&&ut(T,se,$,$[0],E?dt(se,$[0],ie,iS):lt($[0]),_h),V&&V.p&&(!E||ie&1)&&ut(V,z,$,$[0],E?dt(z,$[0],ie,rS):lt($[0]),yh),ce&&ce.p&&(!E||ie&1)&&ut(ce,F,$,$[0],E?dt(F,$[0],ie,nS):lt($[0]),bh),de&&de.p&&(!E||ie&1)&&ut(de,fe,$,$[0],E?dt(fe,$[0],ie,tS):lt($[0]),mh),U&&U.p&&(!E||ie&1)&&ut(U,me,$,$[0],E?dt(me,$[0],ie,eS):lt($[0]),gh),Ae&&Ae.p&&(!E||ie&1)&&ut(Ae,pe,$,$[0],E?dt(pe,$[0],ie,Qx):lt($[0]),ph),Oe&&Oe.p&&(!E||ie&1)&&ut(Oe,Pe,$,$[0],E?dt(Pe,$[0],ie,Jx):lt($[0]),hh),Ke&&Ke.p&&(!E||ie&1)&&ut(Ke,Pt,$,$[0],E?dt(Pt,$[0],ie,Zx):lt($[0]),dh),Ze&&Ze.p&&(!E||ie&1)&&ut(Ze,on,$,$[0],E?dt(on,$[0],ie,Kx):lt($[0]),lh)},i($){E||(Ue(Z,$),Ue(J,$),Ue(H,$),Ue(K,$),Ue(ne,$),Ue(Y,$),Ue(T,$),Ue(V,$),Ue(ce,$),Ue(de,$),Ue(U,$),Ue(Ae,$),Ue(Oe,$),Ue(Ke,$),Ue(Ze,$),E=!0)},o($){Ve(Z,$),Ve(J,$),Ve(H,$),Ve(K,$),Ve(ne,$),Ve(Y,$),Ve(T,$),Ve(V,$),Ve(ce,$),Ve(de,$),Ve(U,$),Ve(Ae,$),Ve(Oe,$),Ve(Ke,$),Ve(Ze,$),E=!1},d($){$&&q(t),Z&&Z.d($),J&&J.d($),H&&H.d($),K&&K.d($),ne&&ne.d($),Y&&Y.d($),T&&T.d($),V&&V.d($),ce&&ce.d($),de&&de.d($),U&&U.d($),Ae&&Ae.d($),Oe&&Oe.d($),Ke&&Ke.d($),Ze&&Ze.d($)}}}function dS(e,t,n){let{$$slots:r={},$$scope:i}=t;return e.$$set=a=>{"$$scope"in a&&n(0,i=a.$$scope)},[i,r]}class hS extends bt{constructor(t){super(),yt(this,t,dS,lS,_t,{})}}const Ha="_theplot_",pS={top:30,right:20,bottom:50,left:40};function Is(e,t){e.className=e.className||Ha,Me(e.width);let n=Ru(e),r=null;return n.tagName=="svg"&&n.classList.contains(e.className)?r=n:r=n.querySelector(`svg.${e.className}`),r.classList.add(Ha),e.width||r.setAttribute("width","100%"),e.height||r.setAttribute("height","100%"),t.innerHTML="",t.appendChild(n),n}class zu{constructor({iact:t,magic:n,plot:r=null}){this.x=null,this.y=null,this.defaultSelection,this.brush,this.el,this.iact=t,this.magic=n,this.plot=r,r&&this.init(r)}load(t){if(!(!this.el||!this.brush)&&this.iact.isActive){if(!t||pt(t)){this.el.call(this.brush.clear);return}const{left:n,right:r}=t;this.el.call(this.brush.move,[this.x.apply(n),this.x.apply(r)])}}brushed({selection:t}){if(this.iact.isActive)if(!t)this.iact.set(this.defaultSelection);else{const[n,r]=t;this.iact.set({left:this.x.invert(n),right:this.x.invert(r)})}}brushstart({selection:t,sourceEvent:n}){this.iact.isActive&&n&&this.magic.start(this.iact)}brushended({selection:t,sourceEvent:n}){this.iact.isActive&&(t||this.iact.set({left:this.x.domain[0],right:this.x.domain[1]}),n&&this.magic.end(this.iact))}init(t){if(!this.iact.isActive)return;if(this.plot=t,this.x=t.scale("x"),this.y=t.scale("y"),this.y.range[0]<this.y.range[1]){let r=this.y.range[0];this.y.range[0]=this.y.range[1],this.y.range[1]=r}this.defaultSelection={left:this.x.domain[0],right:this.x.domain[1]};let n=t.classList.contains(Ha)?St(t):St(t.querySelector(`.${Ha}`));this.brush=$_().extent([[this.x.range[0],this.y.range[1]],[this.x.range[1],this.y.range[0]]]).on("brush",r=>this.brushed(r)).on("start",r=>this.brushstart(r)).on("end",r=>this.brushended(r)),this.el=n.append("g").attr("class","brush").call(this.brush)}}function gS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){B(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[15](n)},p(r,[i]){i&1&&B(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[15](null)}}}function mS(e,t,n){let{id:r,name:i,magic:a,description:s,xAttr:f,yAttr:c,xDomainMin:u=null,xDomainMax:l=null,brushX:d=Et({}),interactions:h={brushX:d}}=t,p,m=null,g={},b=[],w;function y(S,C){return C==="overlay"?(g=S,!0):!1}function x(S,C){!S||S.length===0||typeof C=="object"||(y(S,C)?console.debug("overlays"):b=S,v())}let{load:_=S=>w==null?void 0:w.load(S)}=t;function v(){n(2,u=u??mn(In(If(f),b))),n(3,l=l??It(In(If(f),b)));const S=Math.max(36,Math.min(b.length,20));let C={x:{domain:[+u,+l]},height:200,marginBottom:50,color:{scheme:"Tableau10",legend:!0,style:{"font-size":10,"margin-left":"2rem"}},marks:[mi({ticks:S,fontSize:10}),xo({fontSize:10}),Iu([u]),Lu([0]),Bx(b,{x:f,y:c,marker:!0,strokeWidth:3}),qu(g,{x1:"left",x2:"right",y2:It(Fc(c,b)),fill:"key",color:"key",opacity:.2})]};m=Is(C,p),d.isActive&&(w=w??new zu({iact:d,magic:a}),w.init(m))}function k(S){Ar[S?"unshift":"push"](()=>{p=S,n(1,p)})}return e.$$set=S=>{"id"in S&&n(4,r=S.id),"name"in S&&n(0,i=S.name),"magic"in S&&n(5,a=S.magic),"description"in S&&n(6,s=S.description),"xAttr"in S&&n(7,f=S.xAttr),"yAttr"in S&&n(8,c=S.yAttr),"xDomainMin"in S&&n(2,u=S.xDomainMin),"xDomainMax"in S&&n(3,l=S.xDomainMax),"brushX"in S&&n(9,d=S.brushX),"interactions"in S&&n(10,h=S.interactions),"load"in S&&n(13,_=S.load)},[i,p,u,l,r,a,s,f,c,d,h,y,x,_,v,k]}class bS extends bt{constructor(t){super(),yt(this,t,mS,gS,_t,{id:4,name:0,magic:5,description:6,xAttr:7,yAttr:8,xDomainMin:2,xDomainMax:3,brushX:9,interactions:10,overlay:11,render:12,load:13,update:14})}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),oe()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),oe()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),oe()}get description(){return this.$$.ctx[6]}set description(t){this.$$set({description:t}),oe()}get xAttr(){return this.$$.ctx[7]}set xAttr(t){this.$$set({xAttr:t}),oe()}get yAttr(){return this.$$.ctx[8]}set yAttr(t){this.$$set({yAttr:t}),oe()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),oe()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),oe()}get brushX(){return this.$$.ctx[9]}set brushX(t){this.$$set({brushX:t}),oe()}get interactions(){return this.$$.ctx[10]}set interactions(t){this.$$set({interactions:t}),oe()}get overlay(){return this.$$.ctx[11]}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}set load(t){this.$$set({load:t}),oe()}get update(){return this.$$.ctx[14]}}function Ah(e){return Object.prototype.toString.call(e)==="[object Date]"}function Ec(e,t,n,r){if(typeof n=="number"||Ah(n)){const i=r-n,a=(n-t)/(e.dt||1/60),s=e.opts.stiffness*i,f=e.opts.damping*a,c=(s-f)*e.inv_mass,u=(a+c)*e.dt;return Math.abs(u)<e.opts.precision&&Math.abs(i)<e.opts.precision?r:(e.settled=!1,Ah(n)?new Date(n.getTime()+u):n+u)}else{if(Array.isArray(n))return n.map((i,a)=>Ec(e,t[a],n[a],r[a]));if(typeof n=="object"){const i={};for(const a in n)i[a]=Ec(e,t[a],n[a],r[a]);return i}else throw new Error(`Cannot spring ${typeof n} values`)}}function yS(e,t={}){const n=Et(e),{stiffness:r=.15,damping:i=.8,precision:a=.01}=t;let s,f,c,u=e,l=e,d=1,h=0,p=!1;function m(b,w={}){l=b;const y=c={};return e==null||w.hard||g.stiffness>=1&&g.damping>=1?(p=!0,s=Yu(),u=b,n.set(e=l),Promise.resolve()):(w.soft&&(h=1/((w.soft===!0?.5:+w.soft)*60),d=0),f||(s=Yu(),p=!1,f=ty(x=>{if(p)return p=!1,f=null,!1;d=Math.min(d+h,1);const _={inv_mass:d,opts:g,settled:!0,dt:(x-s)*60/1e3},v=Ec(_,u,e,l);return s=x,u=e,n.set(e=v),_.settled&&(f=null),!_.settled})),new Promise(x=>{f.promise.then(()=>{y===c&&x()})}))}const g={set:m,update:(b,w)=>m(b(l,e),w),subscribe:n.subscribe,stiffness:r,damping:i,precision:a};return g}function Eh(e,t,n){const r=e.slice();return r[37]=t[n],r[39]=n,r}function Th(e){let t,n,r,i,a=(e[6]==="label"||e[7]==="label")&&Ch(e);return{c(){t=Q("span"),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0,style:!0});var f=te(t);a&&a.l(f),f.forEach(q),this.h()},h(){B(t,"class","pip first"),B(t,"style",n=e[14]+": 0%;"),he(t,"selected",e[18](e[0])),he(t,"in-range",e[17](e[0]))},m(s,f){xe(s,t,f),a&&a.m(t,null),r||(i=[Le(t,"pointerdown",e[30]),Le(t,"pointerup",e[31])],r=!0)},p(s,f){s[6]==="label"||s[7]==="label"?a?a.p(s,f):(a=Ch(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 0%;")&&B(t,"style",n),f[0]&262145&&he(t,"selected",s[18](s[0])),f[0]&131073&&he(t,"in-range",s[17](s[0]))},d(s){s&&q(t),a&&a.d(),r=!1,tr(i)}}}function Ch(e){let t,n=e[12](e[16](e[0]),0,0)+"",r,i=e[10]&&Nh(e),a=e[11]&&Dh(e);return{c(){t=Q("span"),i&&i.c(),r=Qe(n),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0});var f=te(t);i&&i.l(f),r=et(f,n),a&&a.l(f),f.forEach(q),this.h()},h(){B(t,"class","pipVal")},m(s,f){xe(s,t,f),i&&i.m(t,null),G(t,r),a&&a.m(t,null)},p(s,f){s[10]?i?i.p(s,f):(i=Nh(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),f[0]&69633&&n!==(n=s[12](s[16](s[0]),0,0)+"")&&vt(r,n),s[11]?a?a.p(s,f):(a=Dh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&q(t),i&&i.d(),a&&a.d()}}}function Nh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[10]),i.forEach(q),this.h()},h(){B(t,"class","pipVal-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&1024&&vt(n,r[10])},d(r){r&&q(t)}}}function Dh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[11]),i.forEach(q),this.h()},h(){B(t,"class","pipVal-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&2048&&vt(n,r[11])},d(r){r&&q(t)}}}function Ih(e){let t,n=Array(e[20]+1),r=[];for(let i=0;i<n.length;i+=1)r[i]=$h(Eh(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Zr()},l(i){for(let a=0;a<r.length;a+=1)r[a].l(i);t=Zr()},m(i,a){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,a);xe(i,t,a)},p(i,a){if(a[0]&8314435){n=Array(i[20]+1);let s;for(s=0;s<n.length;s+=1){const f=Eh(i,n,s);r[s]?r[s].p(f,a):(r[s]=$h(f),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){Nc(r,i),i&&q(t)}}}function Lh(e){let t,n,r,i,a,s=(e[6]==="label"||e[9]==="label")&&Oh(e);function f(...c){return e[33](e[39],...c)}return{c(){t=Q("span"),s&&s.c(),n=Se(),this.h()},l(c){t=ee(c,"SPAN",{class:!0,style:!0});var u=te(t);s&&s.l(u),n=ke(u),u.forEach(q),this.h()},h(){B(t,"class","pip"),B(t,"style",r=e[14]+": "+e[15](e[19](e[39]))+"%;"),he(t,"selected",e[18](e[19](e[39]))),he(t,"in-range",e[17](e[19](e[39])))},m(c,u){xe(c,t,u),s&&s.m(t,null),G(t,n),i||(a=[Le(t,"pointerdown",e[32]),Le(t,"pointerup",f)],i=!0)},p(c,u){e=c,e[6]==="label"||e[9]==="label"?s?s.p(e,u):(s=Oh(e),s.c(),s.m(t,n)):s&&(s.d(1),s=null),u[0]&573440&&r!==(r=e[14]+": "+e[15](e[19](e[39]))+"%;")&&B(t,"style",r),u[0]&786432&&he(t,"selected",e[18](e[19](e[39]))),u[0]&655360&&he(t,"in-range",e[17](e[19](e[39])))},d(c){c&&q(t),s&&s.d(),i=!1,tr(a)}}}function Oh(e){let t,n=e[12](e[19](e[39]),e[39],e[15](e[19](e[39])))+"",r,i=e[10]&&Fh(e),a=e[11]&&Ph(e);return{c(){t=Q("span"),i&&i.c(),r=Qe(n),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0});var f=te(t);i&&i.l(f),r=et(f,n),a&&a.l(f),f.forEach(q),this.h()},h(){B(t,"class","pipVal")},m(s,f){xe(s,t,f),i&&i.m(t,null),G(t,r),a&&a.m(t,null)},p(s,f){s[10]?i?i.p(s,f):(i=Fh(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),f[0]&561152&&n!==(n=s[12](s[19](s[39]),s[39],s[15](s[19](s[39])))+"")&&vt(r,n),s[11]?a?a.p(s,f):(a=Ph(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&q(t),i&&i.d(),a&&a.d()}}}function Fh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[10]),i.forEach(q),this.h()},h(){B(t,"class","pipVal-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&1024&&vt(n,r[10])},d(r){r&&q(t)}}}function Ph(e){let t,n;return{c(){t=Q("span"),n=Qe(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[11]),i.forEach(q),this.h()},h(){B(t,"class","pipVal-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&2048&&vt(n,r[11])},d(r){r&&q(t)}}}function $h(e){let t=e[19](e[39])!==e[0]&&e[19](e[39])!==e[1],n,r=t&&Lh(e);return{c(){r&&r.c(),n=Zr()},l(i){r&&r.l(i),n=Zr()},m(i,a){r&&r.m(i,a),xe(i,n,a)},p(i,a){a[0]&524291&&(t=i[19](i[39])!==i[0]&&i[19](i[39])!==i[1]),t?r?r.p(i,a):(r=Lh(i),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(i){r&&r.d(i),i&&q(n)}}}function Bh(e){let t,n,r,i,a=(e[6]==="label"||e[8]==="label")&&Rh(e);return{c(){t=Q("span"),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0,style:!0});var f=te(t);a&&a.l(f),f.forEach(q),this.h()},h(){B(t,"class","pip last"),B(t,"style",n=e[14]+": 100%;"),he(t,"selected",e[18](e[1])),he(t,"in-range",e[17](e[1]))},m(s,f){xe(s,t,f),a&&a.m(t,null),r||(i=[Le(t,"pointerdown",e[34]),Le(t,"pointerup",e[35])],r=!0)},p(s,f){s[6]==="label"||s[8]==="label"?a?a.p(s,f):(a=Rh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null),f[0]&16384&&n!==(n=s[14]+": 100%;")&&B(t,"style",n),f[0]&262146&&he(t,"selected",s[18](s[1])),f[0]&131074&&he(t,"in-range",s[17](s[1]))},d(s){s&&q(t),a&&a.d(),r=!1,tr(i)}}}function Rh(e){let t,n=e[12](e[16](e[1]),e[20],100)+"",r,i=e[10]&&jh(e),a=e[11]&&qh(e);return{c(){t=Q("span"),i&&i.c(),r=Qe(n),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0});var f=te(t);i&&i.l(f),r=et(f,n),a&&a.l(f),f.forEach(q),this.h()},h(){B(t,"class","pipVal")},m(s,f){xe(s,t,f),i&&i.m(t,null),G(t,r),a&&a.m(t,null)},p(s,f){s[10]?i?i.p(s,f):(i=jh(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),f[0]&1118210&&n!==(n=s[12](s[16](s[1]),s[20],100)+"")&&vt(r,n),s[11]?a?a.p(s,f):(a=qh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&q(t),i&&i.d(),a&&a.d()}}}function jh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[10]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[10]),i.forEach(q),this.h()},h(){B(t,"class","pipVal-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&1024&&vt(n,r[10])},d(r){r&&q(t)}}}function qh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[11]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[11]),i.forEach(q),this.h()},h(){B(t,"class","pipVal-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&2048&&vt(n,r[11])},d(r){r&&q(t)}}}function _S(e){let t,n,r,i=(e[6]&&e[7]!==!1||e[7])&&Th(e),a=(e[6]&&e[9]!==!1||e[9])&&Ih(e),s=(e[6]&&e[8]!==!1||e[8])&&Bh(e);return{c(){t=Q("div"),i&&i.c(),n=Se(),a&&a.c(),r=Se(),s&&s.c(),this.h()},l(f){t=ee(f,"DIV",{class:!0});var c=te(t);i&&i.l(c),n=ke(c),a&&a.l(c),r=ke(c),s&&s.l(c),c.forEach(q),this.h()},h(){B(t,"class","rangePips"),he(t,"disabled",e[5]),he(t,"hoverable",e[4]),he(t,"vertical",e[2]),he(t,"reversed",e[3]),he(t,"focus",e[13])},m(f,c){xe(f,t,c),i&&i.m(t,null),G(t,n),a&&a.m(t,null),G(t,r),s&&s.m(t,null)},p(f,c){f[6]&&f[7]!==!1||f[7]?i?i.p(f,c):(i=Th(f),i.c(),i.m(t,n)):i&&(i.d(1),i=null),f[6]&&f[9]!==!1||f[9]?a?a.p(f,c):(a=Ih(f),a.c(),a.m(t,r)):a&&(a.d(1),a=null),f[6]&&f[8]!==!1||f[8]?s?s.p(f,c):(s=Bh(f),s.c(),s.m(t,null)):s&&(s.d(1),s=null),c[0]&32&&he(t,"disabled",f[5]),c[0]&16&&he(t,"hoverable",f[4]),c[0]&4&&he(t,"vertical",f[2]),c[0]&8&&he(t,"reversed",f[3]),c[0]&8192&&he(t,"focus",f[13])},i:Ne,o:Ne,d(f){f&&q(t),i&&i.d(),a&&a.d(),s&&s.d()}}}function vS(e,t,n){let r,i,a,s,f,{range:c=!1}=t,{min:u=0}=t,{max:l=100}=t,{step:d=1}=t,{values:h=[(l+u)/2]}=t,{vertical:p=!1}=t,{reversed:m=!1}=t,{hoverable:g=!0}=t,{disabled:b=!1}=t,{pipstep:w=void 0}=t,{all:y=!0}=t,{first:x=void 0}=t,{last:_=void 0}=t,{rest:v=void 0}=t,{prefix:k=""}=t,{suffix:S=""}=t,{formatter:C=(O,ne)=>O}=t,{focus:D=void 0}=t,{orientationStart:A=void 0}=t,{percentOf:M=void 0}=t,{moveHandle:I=void 0}=t,{fixFloat:N=void 0}=t,{normalisedClient:P=void 0}=t,E;function j(O){O=P(O),E={x:O.clientX,y:O.clientY}}function Z(O,ne){if(ne=P(ne),!b){const ue=Math.sqrt(Math.pow(E.x-ne.clientX,2)+Math.pow(E.y-ne.clientY,2));E&&ue<=5&&I(void 0,O)}}const re=O=>{j(O)},J=O=>{Z(a(u),O)},W=O=>{j(O)},H=(O,ne)=>{Z(a(O),ne)},X=O=>{j(O)},K=O=>{Z(a(l),O)};return e.$$set=O=>{"range"in O&&n(23,c=O.range),"min"in O&&n(0,u=O.min),"max"in O&&n(1,l=O.max),"step"in O&&n(24,d=O.step),"values"in O&&n(25,h=O.values),"vertical"in O&&n(2,p=O.vertical),"reversed"in O&&n(3,m=O.reversed),"hoverable"in O&&n(4,g=O.hoverable),"disabled"in O&&n(5,b=O.disabled),"pipstep"in O&&n(26,w=O.pipstep),"all"in O&&n(6,y=O.all),"first"in O&&n(7,x=O.first),"last"in O&&n(8,_=O.last),"rest"in O&&n(9,v=O.rest),"prefix"in O&&n(10,k=O.prefix),"suffix"in O&&n(11,S=O.suffix),"formatter"in O&&n(12,C=O.formatter),"focus"in O&&n(13,D=O.focus),"orientationStart"in O&&n(14,A=O.orientationStart),"percentOf"in O&&n(15,M=O.percentOf),"moveHandle"in O&&n(27,I=O.moveHandle),"fixFloat"in O&&n(16,N=O.fixFloat),"normalisedClient"in O&&n(28,P=O.normalisedClient)},e.$$.update=()=>{e.$$.dirty[0]&83886087&&n(29,r=w||((l-u)/d>=(p?50:100)?(l-u)/(p?10:20):1)),e.$$.dirty[0]&553648131&&n(20,i=parseInt((l-u)/(d*r),10)),e.$$.dirty[0]&553713665&&n(19,a=function(O){return N(u+O*d*r)}),e.$$.dirty[0]&33619968&&n(18,s=function(O){return h.some(ne=>N(ne)===N(O))}),e.$$.dirty[0]&41943040&&n(17,f=function(O){if(c==="min")return h[0]>O;if(c==="max")return h[0]<O;if(c)return h[0]<O&&h[1]>O})},[u,l,p,m,g,b,y,x,_,v,k,S,C,D,A,M,N,f,s,a,i,j,Z,c,d,h,w,I,P,r,re,J,W,H,X,K]}class wS extends bt{constructor(t){super(),yt(this,t,vS,_S,_t,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function zh(e,t,n){const r=e.slice();return r[65]=t[n],r[67]=n,r}function Uh(e){let t,n=e[21](e[65],e[67],e[24](e[65]))+"",r,i=e[18]&&Hh(e),a=e[19]&&Vh(e);return{c(){t=Q("span"),i&&i.c(),r=Qe(n),a&&a.c(),this.h()},l(s){t=ee(s,"SPAN",{class:!0});var f=te(t);i&&i.l(f),r=et(f,n),a&&a.l(f),f.forEach(q),this.h()},h(){B(t,"class","rangeFloat")},m(s,f){xe(s,t,f),i&&i.m(t,null),G(t,r),a&&a.m(t,null)},p(s,f){s[18]?i?i.p(s,f):(i=Hh(s),i.c(),i.m(t,r)):i&&(i.d(1),i=null),f[0]&18874369&&n!==(n=s[21](s[65],s[67],s[24](s[65]))+"")&&vt(r,n),s[19]?a?a.p(s,f):(a=Vh(s),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(s){s&&q(t),i&&i.d(),a&&a.d()}}}function Hh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[18]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[18]),i.forEach(q),this.h()},h(){B(t,"class","rangeFloat-prefix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&262144&&vt(n,r[18])},d(r){r&&q(t)}}}function Vh(e){let t,n;return{c(){t=Q("span"),n=Qe(e[19]),this.h()},l(r){t=ee(r,"SPAN",{class:!0});var i=te(t);n=et(i,e[19]),i.forEach(q),this.h()},h(){B(t,"class","rangeFloat-suffix")},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i[0]&524288&&vt(n,r[19])},d(r){r&&q(t)}}}function Yh(e){let t,n,r,i,a,s,f,c,u,l,d,h,p,m=e[7]&&Uh(e);return{c(){t=Q("span"),n=Q("span"),r=Se(),m&&m.c(),this.h()},l(g){t=ee(g,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var b=te(t);n=ee(b,"SPAN",{class:!0}),te(n).forEach(q),r=ke(b),m&&m.l(b),b.forEach(q),this.h()},h(){B(n,"class","rangeNub"),B(t,"role","slider"),B(t,"class","rangeHandle"),B(t,"data-handle",e[67]),B(t,"style",i=e[29]+": "+e[30][e[67]]+"%; z-index: "+(e[27]===e[67]?3:2)+";"),B(t,"aria-label",a=e[22][e[67]]),B(t,"aria-valuemin",s=e[2]===!0&&e[67]===1?e[0][0]:e[3]),B(t,"aria-valuemax",f=e[2]===!0&&e[67]===0?e[0][1]:e[4]),B(t,"aria-valuenow",c=e[65]),B(t,"aria-valuetext",u=""+(e[18]+e[21](e[65],e[67],e[24](e[65]))+e[19])),B(t,"aria-orientation",l=e[6]?"vertical":"horizontal"),B(t,"aria-disabled",e[10]),B(t,"disabled",e[10]),B(t,"tabindex",d=e[10]?-1:0),he(t,"active",e[25]&&e[27]===e[67]),he(t,"press",e[26]&&e[27]===e[67])},m(g,b){xe(g,t,b),G(t,n),G(t,r),m&&m.m(t,null),h||(p=[Le(t,"blur",e[35]),Le(t,"focus",e[36]),Le(t,"keydown",e[37])],h=!0)},p(g,b){g[7]?m?m.p(g,b):(m=Uh(g),m.c(),m.m(t,null)):m&&(m.d(1),m=null),b[0]&1744830464&&i!==(i=g[29]+": "+g[30][g[67]]+"%; z-index: "+(g[27]===g[67]?3:2)+";")&&B(t,"style",i),b[0]&4194304&&a!==(a=g[22][g[67]])&&B(t,"aria-label",a),b[0]&13&&s!==(s=g[2]===!0&&g[67]===1?g[0][0]:g[3])&&B(t,"aria-valuemin",s),b[0]&21&&f!==(f=g[2]===!0&&g[67]===0?g[0][1]:g[4])&&B(t,"aria-valuemax",f),b[0]&1&&c!==(c=g[65])&&B(t,"aria-valuenow",c),b[0]&19660801&&u!==(u=""+(g[18]+g[21](g[65],g[67],g[24](g[65]))+g[19]))&&B(t,"aria-valuetext",u),b[0]&64&&l!==(l=g[6]?"vertical":"horizontal")&&B(t,"aria-orientation",l),b[0]&1024&&B(t,"aria-disabled",g[10]),b[0]&1024&&B(t,"disabled",g[10]),b[0]&1024&&d!==(d=g[10]?-1:0)&&B(t,"tabindex",d),b[0]&167772160&&he(t,"active",g[25]&&g[27]===g[67]),b[0]&201326592&&he(t,"press",g[26]&&g[27]===g[67])},d(g){g&&q(t),m&&m.d(),h=!1,tr(p)}}}function Wh(e){let t,n;return{c(){t=Q("span"),this.h()},l(r){t=ee(r,"SPAN",{class:!0,style:!0}),te(t).forEach(q),this.h()},h(){B(t,"class","rangeBar"),B(t,"style",n=e[29]+": "+e[33](e[30])+"%; "+e[28]+": "+e[34](e[30])+"%;")},m(r,i){xe(r,t,i)},p(r,i){i[0]&1879048192&&n!==(n=r[29]+": "+r[33](r[30])+"%; "+r[28]+": "+r[34](r[30])+"%;")&&B(t,"style",n)},d(r){r&&q(t)}}}function Xh(e){let t,n;return t=new wS({props:{values:e[0],min:e[3],max:e[4],step:e[5],range:e[2],vertical:e[6],reversed:e[8],orientationStart:e[29],hoverable:e[9],disabled:e[10],all:e[13],first:e[14],last:e[15],rest:e[16],pipstep:e[12],prefix:e[18],suffix:e[19],formatter:e[20],focus:e[25],percentOf:e[24],moveHandle:e[32],fixFloat:e[31],normalisedClient:ea}}),{c(){f0(t.$$.fragment)},l(r){c0(t.$$.fragment,r)},m(r,i){u0(t,r,i),n=!0},p(r,i){const a={};i[0]&1&&(a.values=r[0]),i[0]&8&&(a.min=r[3]),i[0]&16&&(a.max=r[4]),i[0]&32&&(a.step=r[5]),i[0]&4&&(a.range=r[2]),i[0]&64&&(a.vertical=r[6]),i[0]&256&&(a.reversed=r[8]),i[0]&536870912&&(a.orientationStart=r[29]),i[0]&512&&(a.hoverable=r[9]),i[0]&1024&&(a.disabled=r[10]),i[0]&8192&&(a.all=r[13]),i[0]&16384&&(a.first=r[14]),i[0]&32768&&(a.last=r[15]),i[0]&65536&&(a.rest=r[16]),i[0]&4096&&(a.pipstep=r[12]),i[0]&262144&&(a.prefix=r[18]),i[0]&524288&&(a.suffix=r[19]),i[0]&1048576&&(a.formatter=r[20]),i[0]&33554432&&(a.focus=r[25]),i[0]&16777216&&(a.percentOf=r[24]),t.$set(a)},i(r){n||(Ue(t.$$.fragment,r),n=!0)},o(r){Ve(t.$$.fragment,r),n=!1},d(r){l0(t,r)}}}function xS(e){let t,n,r,i,a,s,f=e[0],c=[];for(let d=0;d<f.length;d+=1)c[d]=Yh(zh(e,f,d));let u=e[2]&&Wh(e),l=e[11]&&Xh(e);return{c(){t=Q("div");for(let d=0;d<c.length;d+=1)c[d].c();n=Se(),u&&u.c(),r=Se(),l&&l.c(),this.h()},l(d){t=ee(d,"DIV",{id:!0,class:!0});var h=te(t);for(let p=0;p<c.length;p+=1)c[p].l(h);n=ke(h),u&&u.l(h),r=ke(h),l&&l.l(h),h.forEach(q),this.h()},h(){B(t,"id",e[17]),B(t,"class","rangeSlider"),he(t,"range",e[2]),he(t,"disabled",e[10]),he(t,"hoverable",e[9]),he(t,"vertical",e[6]),he(t,"reversed",e[8]),he(t,"focus",e[25]),he(t,"min",e[2]==="min"),he(t,"max",e[2]==="max"),he(t,"pips",e[11]),he(t,"pip-labels",e[13]==="label"||e[14]==="label"||e[15]==="label"||e[16]==="label")},m(d,h){xe(d,t,h);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(t,null);G(t,n),u&&u.m(t,null),G(t,r),l&&l.m(t,null),e[51](t),i=!0,a||(s=[Le(window,"mousedown",e[40]),Le(window,"touchstart",e[40]),Le(window,"mousemove",e[41]),Le(window,"touchmove",e[41]),Le(window,"mouseup",e[42]),Le(window,"touchend",e[43]),Le(window,"keydown",e[44]),Le(t,"mousedown",e[38]),Le(t,"mouseup",e[39]),Le(t,"touchstart",Wu(e[38])),Le(t,"touchend",Wu(e[39]))],a=!0)},p(d,h){if(h[0]&1869350109|h[1]&112){f=d[0];let p;for(p=0;p<f.length;p+=1){const m=zh(d,f,p);c[p]?c[p].p(m,h):(c[p]=Yh(m),c[p].c(),c[p].m(t,n))}for(;p<c.length;p+=1)c[p].d(1);c.length=f.length}d[2]?u?u.p(d,h):(u=Wh(d),u.c(),u.m(t,r)):u&&(u.d(1),u=null),d[11]?l?(l.p(d,h),h[0]&2048&&Ue(l,1)):(l=Xh(d),l.c(),Ue(l,1),l.m(t,null)):l&&(ny(),Ve(l,1,1,()=>{l=null}),ry()),(!i||h[0]&131072)&&B(t,"id",d[17]),(!i||h[0]&4)&&he(t,"range",d[2]),(!i||h[0]&1024)&&he(t,"disabled",d[10]),(!i||h[0]&512)&&he(t,"hoverable",d[9]),(!i||h[0]&64)&&he(t,"vertical",d[6]),(!i||h[0]&256)&&he(t,"reversed",d[8]),(!i||h[0]&33554432)&&he(t,"focus",d[25]),(!i||h[0]&4)&&he(t,"min",d[2]==="min"),(!i||h[0]&4)&&he(t,"max",d[2]==="max"),(!i||h[0]&2048)&&he(t,"pips",d[11]),(!i||h[0]&122880)&&he(t,"pip-labels",d[13]==="label"||d[14]==="label"||d[15]==="label"||d[16]==="label")},i(d){i||(Ue(l),i=!0)},o(d){Ve(l),i=!1},d(d){d&&q(t),Nc(c,d),u&&u.d(),l&&l.d(),e[51](null),a=!1,tr(s)}}}function Gh(e){if(!e)return-1;for(var t=0;e=e.previousElementSibling;)t++;return t}function ea(e){return e.type.includes("touch")?e.touches[0]||e.changedTouches[0]:e}function SS(e,t,n){let r,i,a,s,f,c,u=Ne,l=()=>(u(),u=Yn(z,L=>n(30,c=L)),z);e.$$.on_destroy.push(()=>u());let{slider:d=void 0}=t,{range:h=!1}=t,{pushy:p=!1}=t,{min:m=0}=t,{max:g=100}=t,{step:b=1}=t,{values:w=[(g+m)/2]}=t,{vertical:y=!1}=t,{float:x=!1}=t,{reversed:_=!1}=t,{hoverable:v=!0}=t,{disabled:k=!1}=t,{pips:S=!1}=t,{pipstep:C=void 0}=t,{all:D=void 0}=t,{first:A=void 0}=t,{last:M=void 0}=t,{rest:I=void 0}=t,{id:N=void 0}=t,{prefix:P=""}=t,{suffix:E=""}=t,{formatter:j=(L,ae,Ee)=>L}=t,{handleFormatter:Z=j}=t,{ariaLabels:re=[]}=t,{precision:J=2}=t,{springValues:W={stiffness:.15,damping:.4}}=t;const H=iy();let X=0,K=!1,O=!1,ne=!1,ue=!1,Y=w.length-1,se,T,z;const V=L=>parseFloat((+L).toFixed(J));function F(L){const ae=d.querySelectorAll(".handle"),Ee=Array.prototype.includes.call(ae,L),Ce=Array.prototype.some.call(ae,$t=>$t.contains(L));return Ee||Ce}function ce(L){return h==="min"||h==="max"?L.slice(0,1):h?L.slice(0,2):L}function fe(){return d.getBoundingClientRect()}function de(L){const ae=fe();let Ee=0,Ce=0,$t=0;y?(Ee=L.clientY-ae.top,Ce=Ee/ae.height*100,Ce=_?Ce:100-Ce):(Ee=L.clientX-ae.left,Ce=Ee/ae.width*100,Ce=_?100-Ce:Ce),$t=(g-m)/100*Ce+m;let yi;return h===!0&&w[0]===w[1]?$t>w[1]?1:0:(yi=w.indexOf([...w].sort((So,ko)=>Math.abs($t-So)-Math.abs($t-ko))[0]),yi)}function me(L){const ae=fe();let Ee=0,Ce=0,$t=0;y?(Ee=L.clientY-ae.top,Ce=Ee/ae.height*100,Ce=_?Ce:100-Ce):(Ee=L.clientX-ae.left,Ce=Ee/ae.width*100,Ce=_?100-Ce:Ce),$t=(g-m)/100*Ce+m,U(Y,$t)}function U(L,ae){return ae=a(ae),typeof L>"u"&&(L=Y),h&&(L===0&&ae>w[1]?p?n(0,w[1]=ae,w):ae=w[1]:L===1&&ae<w[0]&&(p?n(0,w[0]=ae,w):ae=w[0])),w[L]!==ae&&n(0,w[L]=ae,w),T!==ae&&(Lr(),T=ae),ae}function pe(L){return h==="min"?0:L[0]}function Ae(L){return h==="max"?0:h==="min"?100-L[0]:100-L[1]}function Pe(L){ue&&(n(25,K=!1),O=!1,n(26,ne=!1))}function Oe(L){k||(n(27,Y=Gh(L.target)),n(25,K=!0))}function Pt(L){if(!k){const ae=Gh(L.target);let Ee=L.ctrlKey||L.metaKey||L.shiftKey?b*10:b,Ce=!1;switch(L.key){case"PageDown":Ee*=10;case"ArrowRight":case"ArrowUp":U(ae,w[ae]+Ee),Ce=!0;break;case"PageUp":Ee*=10;case"ArrowLeft":case"ArrowDown":U(ae,w[ae]-Ee),Ce=!0;break;case"Home":U(ae,m),Ce=!0;break;case"End":U(ae,g),Ce=!0;break}Ce&&(L.preventDefault(),L.stopPropagation())}}function Ke(L){if(!k){const ae=L.target,Ee=ea(L);n(25,K=!0),O=!0,n(26,ne=!0),n(27,Y=de(Ee)),se=T=a(w[Y]),Zt(),L.type==="touchstart"&&!ae.matches(".pipVal")&&me(Ee)}}function on(L){L.type==="touchend"&&Nt(),n(26,ne=!1)}function Ze(L){ue=!1,K&&L.target!==d&&!d.contains(L.target)&&n(25,K=!1)}function $(L){k||O&&me(ea(L))}function ie(L){if(!k){const ae=L.target;O&&((ae===d||d.contains(ae))&&(n(25,K=!0),!F(ae)&&!ae.matches(".pipVal")&&me(ea(L))),Nt())}O=!1,n(26,ne=!1)}function Re(L){O=!1,n(26,ne=!1)}function xt(L){k||(L.target===d||d.contains(L.target))&&(ue=!0)}function Zt(){!k&&H("start",{activeHandle:Y,value:se,values:w.map(L=>a(L))})}function Nt(){!k&&H("stop",{activeHandle:Y,startValue:se,value:w[Y],values:w.map(L=>a(L))})}function Lr(){!k&&H("change",{activeHandle:Y,startValue:se,previousValue:typeof T>"u"?se:T,value:w[Y],values:w.map(L=>a(L))})}function wn(L){Ar[L?"unshift":"push"](()=>{d=L,n(1,d)})}return e.$$set=L=>{"slider"in L&&n(1,d=L.slider),"range"in L&&n(2,h=L.range),"pushy"in L&&n(45,p=L.pushy),"min"in L&&n(3,m=L.min),"max"in L&&n(4,g=L.max),"step"in L&&n(5,b=L.step),"values"in L&&n(0,w=L.values),"vertical"in L&&n(6,y=L.vertical),"float"in L&&n(7,x=L.float),"reversed"in L&&n(8,_=L.reversed),"hoverable"in L&&n(9,v=L.hoverable),"disabled"in L&&n(10,k=L.disabled),"pips"in L&&n(11,S=L.pips),"pipstep"in L&&n(12,C=L.pipstep),"all"in L&&n(13,D=L.all),"first"in L&&n(14,A=L.first),"last"in L&&n(15,M=L.last),"rest"in L&&n(16,I=L.rest),"id"in L&&n(17,N=L.id),"prefix"in L&&n(18,P=L.prefix),"suffix"in L&&n(19,E=L.suffix),"formatter"in L&&n(20,j=L.formatter),"handleFormatter"in L&&n(21,Z=L.handleFormatter),"ariaLabels"in L&&n(22,re=L.ariaLabels),"precision"in L&&n(46,J=L.precision),"springValues"in L&&n(47,W=L.springValues)},e.$$.update=()=>{if(e.$$.dirty[0]&24&&n(50,i=function(L){return L<=m?m:L>=g?g:L}),e.$$.dirty[0]&56|e.$$.dirty[1]&524288&&n(49,a=function(L){if(L<=m)return V(m);if(L>=g)return V(g);L=V(L);let ae=(L-m)%b,Ee=L-ae;return Math.abs(ae)*2>=b&&(Ee+=ae>0?b:-b),Ee=i(Ee),V(Ee)}),e.$$.dirty[0]&24&&n(24,r=function(L){let ae=(L-m)/(g-m)*100;return isNaN(ae)||ae<=0?0:ae>=100?100:V(ae)}),e.$$.dirty[0]&29360153|e.$$.dirty[1]&458752){Array.isArray(w)||(n(0,w=[(g+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const L=ce(w.map(ae=>a(ae)));(w.length!==L.length||!w.every((ae,Ee)=>V(ae)===L[Ee]))&&n(0,w=L),X!==w.length?l(n(23,z=yS(w.map(ae=>r(ae)),W))):z.set(w.map(ae=>r(ae))),n(48,X=w.length),w.length>1&&!Array.isArray(re)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}e.$$.dirty[0]&320&&n(29,s=y?_?"top":"bottom":_?"right":"left"),e.$$.dirty[0]&320&&n(28,f=y?_?"bottom":"top":_?"left":"right")},[w,d,h,m,g,b,y,x,_,v,k,S,C,D,A,M,I,N,P,E,j,Z,re,z,r,K,ne,Y,f,s,c,V,U,pe,Ae,Pe,Oe,Pt,Ke,on,Ze,$,ie,Re,xt,p,J,W,X,a,i,wn]}class kS extends bt{constructor(t){super(),yt(this,t,SS,xS,_t,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function Kh(e){let t,n;return{c(){t=Q("p"),n=Qe(e[2])},l(r){t=ee(r,"P",{});var i=te(t);n=et(i,e[2]),i.forEach(q)},m(r,i){xe(r,t,i),G(t,n)},p(r,i){i&4&&vt(n,r[2])},d(r){r&&q(t)}}}function MS(e){let t,n,r,i,a,s=e[2]&&Kh(e);function f(u){e[14](u)}let c={min:+e[0],max:+e[1],pips:!0,range:!0,float:!0,first:"label",last:"label",springValues:!0,id:"slider"};return e[6]!==void 0&&(c.values=e[6]),r=new kS({props:c}),Ar.push(()=>oy(r,"values",f)),r.$on("start",e[8]),r.$on("change",e[7]),r.$on("stop",e[9]),{c(){t=Q("div"),s&&s.c(),n=Se(),f0(r.$$.fragment),this.h()},l(u){t=ee(u,"DIV",{class:!0,id:!0});var l=te(t);s&&s.l(l),n=ke(l),c0(r.$$.fragment,l),l.forEach(q),this.h()},h(){B(t,"class","px-[1%] py-[1%] ml-[2.1%]"),B(t,"id","slider")},m(u,l){xe(u,t,l),s&&s.m(t,null),G(t,n),u0(r,t,null),a=!0},p(u,[l]){u[2]?s?s.p(u,l):(s=Kh(u),s.c(),s.m(t,n)):s&&(s.d(1),s=null);const d={};l&1&&(d.min=+u[0]),l&2&&(d.max=+u[1]),!i&&l&64&&(i=!0,d.values=u[6],ay(()=>i=!1)),r.$set(d)},i(u){a||(Ue(r.$$.fragment,u),a=!0)},o(u){Ve(r.$$.fragment,u),a=!1},d(u){u&&q(t),s&&s.d(),l0(r)}}}function AS(e,t,n){let r,i=Ne,a=()=>(i(),i=Yn(y,M=>n(15,r=M)),y),s,f=Ne,c=()=>(f(),f=Yn(b,M=>n(16,s=M)),b),u,l=Ne,d=()=>(l(),l=Yn(w,M=>n(17,u=M)),w);e.$$.on_destroy.push(()=>i()),e.$$.on_destroy.push(()=>f()),e.$$.on_destroy.push(()=>l());let{min:h=0,max:p=100,id:m,description:g}=t,{change:b=Et({})}=t;c();let{stop:w=Et({})}=t;d();let{drag:y=Et({})}=t;a();let{interactions:x={change:b,stop:w,drag:y}}=t;sy("dims");let _=[h,p];[..._];function v(M){console.log("Slider.render",M),M&&Be(Array,M)&&pt(M.filter(I=>I===void 0))&&(n(6,_=[+M[0].min,+M[0].max]),n(0,[h,p]=_,h,n(1,p)),console.log("Slider.render.to",_)),_&&_.length>=2&&S()}function k(M,I){console.log("Slider.load",M,I),!(!br("left")(M)||!br("right")(M))&&(M=M??{left:h,right:p},n(6,_=[M.left??h,M.right??p]),S())}function S(){b.isActive&&at(b,s={left:_[0],right:_[1]},s),y.isActive&&at(y,r={left:_[0],right:_[1]},r)}function C(){y.isActive&&at(y,r={left:_[0],right:_[1]},r)}function D(){w.isActive&&at(w,u={left:_[0],right:_[1]},u),b.isActive&&at(b,s={left:_[0],right:_[1]},s),y.isActive&&at(y,r={left:_[0],right:_[1]},r)}function A(M){_=M,n(6,_)}return e.$$set=M=>{"min"in M&&n(0,h=M.min),"max"in M&&n(1,p=M.max),"id"in M&&n(10,m=M.id),"description"in M&&n(2,g=M.description),"change"in M&&c(n(3,b=M.change)),"stop"in M&&d(n(4,w=M.stop)),"drag"in M&&a(n(5,y=M.drag)),"interactions"in M&&n(11,x=M.interactions)},[h,p,g,b,w,y,_,S,C,D,m,x,v,k,A]}class ES extends bt{constructor(t){super(),yt(this,t,AS,MS,_t,{min:0,max:1,id:10,description:2,change:3,stop:4,drag:5,interactions:11,render:12,load:13})}get min(){return this.$$.ctx[0]}set min(t){this.$$set({min:t}),oe()}get max(){return this.$$.ctx[1]}set max(t){this.$$set({max:t}),oe()}get id(){return this.$$.ctx[10]}set id(t){this.$$set({id:t}),oe()}get description(){return this.$$.ctx[2]}set description(t){this.$$set({description:t}),oe()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),oe()}get stop(){return this.$$.ctx[4]}set stop(t){this.$$set({stop:t}),oe()}get drag(){return this.$$.ctx[5]}set drag(t){this.$$set({drag:t}),oe()}get interactions(){return this.$$.ctx[11]}set interactions(t){this.$$set({interactions:t}),oe()}get render(){return this.$$.ctx[12]}get load(){return this.$$.ctx[13]}}function TS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){B(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[18](n)},p(r,[i]){i&1&&B(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[18](null)}}}function CS(e,t,n){let{id:r,name:i,groupNames:a=[],title:s="",xAttr:f,yAttr:c="val",yMax:u,magic:l,xDomainMin:d=null,xDomainMax:h=null,theplot:p=null}=t,m={},{brushX:g=Et({}),interactions:b={brushX:g}}=t,w,y=null,x=[],_=[{},{}];function v(A,M){return M!="overlay"?!1:(m=A,!0)}function k(A,M){return M!="badyear"?!1:(A.forEach((I,N)=>{I.rank=N+1,I[f]=Number(I[f])}),_=A,!0)}function S(A,M){!A||A.length===0||typeof M=="object"||(k(A,M)||v(A,M)?console.debug("overlay or badyear"):(x=Yx(A,{include:a}),x.forEach(I=>I[f]=Number(I[f]))),C())}function C(){n(2,d=+d),n(3,h=+h);let A=xc({x:{type:"linear",domain:[d-1,h]}}),M=N=>(_.length-N.rank)*(.3/_.length)+.7,I={x:A,color:{domain:a,range:rp,legend:!0,style:{"font-size":10,"margin-left":"2em"}},height:200,marginBottom:50,marks:[mi({ticks:Ey(N=>N+d,h-d),tickRotate:-90,fontSize:10,tickFormat:N=>(N+"").slice(-2)}),xo({fontSize:10,label:"Payout"}),Lu([0]),Iu([A.domain[0]]),Ac(_,{x1:N=>N[f]-.5,x2:N=>N[f]+.5,y:M,stroke:"black",opacity:.8,strokeWidth:1}),jx(_,{x1:N=>N[f]-.5,x2:N=>N[f]+.5,y1:0,y2:M,fill:"gray",opacity:.1}),qu(m,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2}),Ox(x,{filter:N=>N.key==a[3]&&N[f]>=d&&N[f]<=h&&+N[c]==0,x:N=>+N[f],y:0,stroke:"red",strokeWidth:1})]};a.forEach((N,P)=>{let E=(1+P)/a.length*.7;I.marks.push(Ac(x,{filter:j=>j.key==N&&j[f]>=d&&j[f]<=h,x:j=>+j[f]+E-.35,y1:0,y2:c,stroke:"key",strokeWidth:4}))}),n(4,p=Is(I,y)),g.isActive&&(w=w??new zu({iact:g,magic:l}),w.init(p))}function D(A){Ar[A?"unshift":"push"](()=>{y=A,n(1,y)})}return e.$$set=A=>{"id"in A&&n(5,r=A.id),"name"in A&&n(0,i=A.name),"groupNames"in A&&n(6,a=A.groupNames),"title"in A&&n(7,s=A.title),"xAttr"in A&&n(8,f=A.xAttr),"yAttr"in A&&n(9,c=A.yAttr),"yMax"in A&&n(10,u=A.yMax),"magic"in A&&n(11,l=A.magic),"xDomainMin"in A&&n(2,d=A.xDomainMin),"xDomainMax"in A&&n(3,h=A.xDomainMax),"theplot"in A&&n(4,p=A.theplot),"brushX"in A&&n(12,g=A.brushX),"interactions"in A&&n(13,b=A.interactions)},[i,y,d,h,p,r,a,s,f,c,u,l,g,b,v,k,S,C,D]}class NS extends bt{constructor(t){super(),yt(this,t,CS,TS,_t,{id:5,name:0,groupNames:6,title:7,xAttr:8,yAttr:9,yMax:10,magic:11,xDomainMin:2,xDomainMax:3,theplot:4,brushX:12,interactions:13,overlay:14,badyear:15,render:16,update:17})}get id(){return this.$$.ctx[5]}set id(t){this.$$set({id:t}),oe()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),oe()}get groupNames(){return this.$$.ctx[6]}set groupNames(t){this.$$set({groupNames:t}),oe()}get title(){return this.$$.ctx[7]}set title(t){this.$$set({title:t}),oe()}get xAttr(){return this.$$.ctx[8]}set xAttr(t){this.$$set({xAttr:t}),oe()}get yAttr(){return this.$$.ctx[9]}set yAttr(t){this.$$set({yAttr:t}),oe()}get yMax(){return this.$$.ctx[10]}set yMax(t){this.$$set({yMax:t}),oe()}get magic(){return this.$$.ctx[11]}set magic(t){this.$$set({magic:t}),oe()}get xDomainMin(){return this.$$.ctx[2]}set xDomainMin(t){this.$$set({xDomainMin:t}),oe()}get xDomainMax(){return this.$$.ctx[3]}set xDomainMax(t){this.$$set({xDomainMax:t}),oe()}get theplot(){return this.$$.ctx[4]}set theplot(t){this.$$set({theplot:t}),oe()}get brushX(){return this.$$.ctx[12]}set brushX(t){this.$$set({brushX:t}),oe()}get interactions(){return this.$$.ctx[13]}set interactions(t){this.$$set({interactions:t}),oe()}get overlay(){return this.$$.ctx[14]}get badyear(){return this.$$.ctx[15]}get render(){return this.$$.ctx[16]}get update(){return this.$$.ctx[17]}}function DS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){B(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[11](n)},p(r,[i]){i&1&&B(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[11](null)}}}function IS(e,t,n){let{id:r,name:i,xDomainMin:a,xDomainMax:s,magic:f}=t,{brushX:c=Et({})}=t,{interactions:u={brushX:c}}=t,l,d,h,p={},m=[];function g(x,_){return _!="overlay"?!1:(p=x,!0)}function b(x,_){!x||x.length===0||typeof _=="object"||(g(x,_)?console.debug("overlay"):m=x,w())}function w(){let x={x:{domain:[+a,+s],type:"linear"},y:{axis:null},marginBottom:50,height:300,fy:{label:null,tickRotate:-90,labelAnchor:"center"},color:{style:{"font-size":10,"margin-left":"2rem"},scheme:"Tableau10",legend:!0},marks:[mi({ticks:36,fontSize:10}),Cb(),Ac(m,{x1:"start_time",x2:"end_time",y:"activity",strokeWidth:3,fy:"crop"}),Cs(m,{x:_=>{let v=(_.end_time-_.start_time)/2+_.start_time;return console.log("yy",_,v),v},y:"activity",dy:3,lineAnchor:"top",fy:"crop",fontSize:10,color:"gray",text:"activity"}),qu(p,{x1:"left",x2:"right",y2:1,fill:"key",color:"key",opacity:.2})]};l=Is(x,d),c.isActive&&(h=h??new zu({iact:c,magic:f}),h.init(l))}function y(x){Ar[x?"unshift":"push"](()=>{d=x,n(1,d)})}return e.$$set=x=>{"id"in x&&n(2,r=x.id),"name"in x&&n(0,i=x.name),"xDomainMin"in x&&n(3,a=x.xDomainMin),"xDomainMax"in x&&n(4,s=x.xDomainMax),"magic"in x&&n(5,f=x.magic),"brushX"in x&&n(6,c=x.brushX),"interactions"in x&&n(7,u=x.interactions)},[i,d,r,a,s,f,c,u,g,b,w,y]}class LS extends bt{constructor(t){super(),yt(this,t,IS,DS,_t,{id:2,name:0,xDomainMin:3,xDomainMax:4,magic:5,brushX:6,interactions:7,overlay:8,render:9,update:10})}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),oe()}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),oe()}get xDomainMin(){return this.$$.ctx[3]}set xDomainMin(t){this.$$set({xDomainMin:t}),oe()}get xDomainMax(){return this.$$.ctx[4]}set xDomainMax(t){this.$$set({xDomainMax:t}),oe()}get magic(){return this.$$.ctx[5]}set magic(t){this.$$set({magic:t}),oe()}get brushX(){return this.$$.ctx[6]}set brushX(t){this.$$set({brushX:t}),oe()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),oe()}get overlay(){return this.$$.ctx[8]}get render(){return this.$$.ctx[9]}get update(){return this.$$.ctx[10]}}function OS(e){let t,n;return{c(){t=Q("div"),n=Q("div"),this.h()},l(r){t=ee(r,"DIV",{id:!0});var i=te(t);n=ee(i,"DIV",{}),te(n).forEach(q),i.forEach(q),this.h()},h(){B(t,"id",e[0])},m(r,i){xe(r,t,i),G(t,n),e[6](n)},p(r,[i]){i&1&&B(t,"id",r[0])},i:Ne,o:Ne,d(r){r&&q(t),e[6](null)}}}function FS(e,t,n){let{name:r,id:i,interactions:a={}}=t,s,f=[];function c(d,h){!d||d.length===0||(f=d,u())}function u(){let d=xc({color:{type:"linear",scheme:"greens"}}),h=xc({color:{type:"quantile",range:["#fff","#000"],domain:[0,60,100]}}),p=f.map(g=>h.apply(da(d.apply(+g.value)).l)),m={padding:0,marginLeft:150,height:300,color:d,marks:[mi({fontSize:10,label:null}),xo({fontSize:10,label:null}),Nx(f,{x:"x",y:"y",fill:g=>+g.value,stroke:"white"}),Cs(f,{x:"x",y:"y",text:g=>g.value,fill:p,fontSize:10,fontWeight:"bold",textAnchor:"middle"})]};Is(m,s)}function l(d){Ar[d?"unshift":"push"](()=>{s=d,n(1,s)})}return e.$$set=d=>{"name"in d&&n(0,r=d.name),"id"in d&&n(2,i=d.id),"interactions"in d&&n(3,a=d.interactions)},[r,s,i,a,c,u,l]}class PS extends bt{constructor(t){super(),yt(this,t,FS,OS,_t,{name:0,id:2,interactions:3,render:4,update:5})}get name(){return this.$$.ctx[0]}set name(t){this.$$set({name:t}),oe()}get id(){return this.$$.ctx[2]}set id(t){this.$$set({id:t}),oe()}get interactions(){return this.$$.ctx[3]}set interactions(t){this.$$set({interactions:t}),oe()}get render(){return this.$$.ctx[4]}get update(){return this.$$.ctx[5]}}const $S=Et({w:window.innerWidth*.8,h:window.innerHeight*.8,margin:pS}),Zh=Et([]),Jh=Et({});function Qh(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function BS(e){let t,n=e[15][e[2]]+"",r;return{c(){t=Q("option"),r=Qe(n),this.h()},l(i){t=ee(i,"OPTION",{});var a=te(t);r=et(a,n),a.forEach(q),this.h()},h(){t.__value=e[17],t.value=t.__value},m(i,a){xe(i,t,a),G(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&vt(r,n)},d(i){i&&q(t)}}}function RS(e){let t,n=e[15][e[2]]+"",r;return{c(){t=Q("option"),r=Qe(n),this.h()},l(i){t=ee(i,"OPTION",{});var a=te(t);r=et(a,n),a.forEach(q),this.h()},h(){t.__value=e[17],t.value=t.__value,t.selected=!0},m(i,a){xe(i,t,a),G(t,r)},p(i,a){a&36&&n!==(n=i[15][i[2]]+"")&&vt(r,n)},d(i){i&&q(t)}}}function e0(e){let t;function n(a,s){return a[17]===a[1]?RS:BS}let r=n(e),i=r(e);return{c(){i.c(),t=Zr()},l(a){i.l(a),t=Zr()},m(a,s){i.m(a,s),xe(a,t,s)},p(a,s){r===(r=n(a))&&i?i.p(a,s):(i.d(1),i=r(a),i&&(i.c(),i.m(t.parentNode,t)))},d(a){i.d(a),a&&q(t)}}}function jS(e){let t,n,r,i,a=e[5],s=[];for(let f=0;f<a.length;f+=1)s[f]=e0(Qh(e,a,f));return{c(){t=Q("div"),n=Q("select");for(let f=0;f<s.length;f+=1)s[f].c();this.h()},l(f){t=ee(f,"DIV",{class:!0,id:!0});var c=te(t);n=ee(c,"SELECT",{class:!0});var u=te(n);for(let l=0;l<s.length;l+=1)s[l].l(u);u.forEach(q),c.forEach(q),this.h()},h(){B(n,"class","form-select appearance-none block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),e[4]===void 0&&fy(()=>e[10].call(n)),B(t,"class","px-[1%] py-[1%]"),B(t,"id",e[0])},m(f,c){xe(f,t,c),G(t,n);for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(n,null);Xu(n,e[4],!0),r||(i=[Le(n,"change",e[10]),Le(n,"change",e[6])],r=!0)},p(f,[c]){if(c&38){a=f[5];let u;for(u=0;u<a.length;u+=1){const l=Qh(f,a,u);s[u]?s[u].p(l,c):(s[u]=e0(l),s[u].c(),s[u].m(n,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=a.length}c&16&&Xu(n,f[4]),c&1&&B(t,"id",f[0])},i:Ne,o:Ne,d(f){f&&q(t),Nc(s,f),r=!1,tr(i)}}}function qS(e,t,n){let r,i=Ne,a=()=>(i(),i=Yn(l,y=>n(11,r=y)),l),s;ta(e,$S,y=>n(12,s=y)),e.$$.on_destroy.push(()=>i());let{id:f,index:c,dropdown_key:u}=t,{change:l=Et({})}=t;a();let{interactions:d={change:l}}=t,h=null,p=[];s.margin;function m(y,x){n(5,p=y??p),n(4,h=h??c),console.log("Dropdown.render",p,h,x),b()}function g(y){console.log("Dropdown.load",y),n(4,h=y.idx),m()}function b(){l.isActive&&at(l,r={...p[h],idx:h},r)}function w(){h=cy(this),n(4,h)}return e.$$set=y=>{"id"in y&&n(0,f=y.id),"index"in y&&n(1,c=y.index),"dropdown_key"in y&&n(2,u=y.dropdown_key),"change"in y&&a(n(3,l=y.change)),"interactions"in y&&n(7,d=y.interactions)},[f,c,u,l,h,p,b,d,m,g,w]}class zS extends bt{constructor(t){super(),yt(this,t,qS,jS,_t,{id:0,index:1,dropdown_key:2,change:3,interactions:7,render:8,load:9})}get id(){return this.$$.ctx[0]}set id(t){this.$$set({id:t}),oe()}get index(){return this.$$.ctx[1]}set index(t){this.$$set({index:t}),oe()}get dropdown_key(){return this.$$.ctx[2]}set dropdown_key(t){this.$$set({dropdown_key:t}),oe()}get change(){return this.$$.ctx[3]}set change(t){this.$$set({change:t}),oe()}get interactions(){return this.$$.ctx[7]}set interactions(t){this.$$set({interactions:t}),oe()}get render(){return this.$$.ctx[8]}get load(){return this.$$.ctx[9]}}function US(e){let t,n,r,i,a,s,f,c,u,l,d,h,p,m;return{c(){t=Q("form"),n=Q("div"),r=Q("input"),i=Se(),a=Q("button"),s=Qe("Login"),f=Se(),c=Q("button"),u=Qe("Save"),l=Se(),d=Q("button"),h=Qe("Logout"),this.h()},l(g){t=ee(g,"FORM",{class:!0});var b=te(t);n=ee(b,"DIV",{class:!0});var w=te(n);r=ee(w,"INPUT",{class:!0,type:!0,placeholder:!0,"aria-label":!0}),i=ke(w),a=ee(w,"BUTTON",{class:!0,type:!0});var y=te(a);s=et(y,"Login"),y.forEach(q),f=ke(w),c=ee(w,"BUTTON",{class:!0,type:!0});var x=te(c);u=et(x,"Save"),x.forEach(q),l=ke(w),d=ee(w,"BUTTON",{class:!0,type:!0});var _=te(d);h=et(_,"Logout"),_.forEach(q),w.forEach(q),b.forEach(q),this.h()},h(){B(r,"class","appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"),B(r,"type","text"),B(r,"placeholder","Login..."),B(r,"aria-label","username"),B(a,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-700 border-slate-500 hover:border-slate-700 text-sm border-4 text-white py-1 px-2 rounded"),B(a,"type","button"),B(c,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),B(c,"type","button"),B(d,"class","flex-shrink-0 bg-slate-500 hover:bg-slate-900 border-slate-500 hover:border-slate-900 text-sm border-4 text-white py-1 px-2 rounded"),B(d,"type","button"),B(n,"class","flex items-center border-b border-slate-500 py-2 space-x-4"),B(t,"class","w-full max-w-sm mx-auto")},m(g,b){xe(g,t,b),G(t,n),G(n,r),na(r,e[1]),G(n,i),G(n,a),G(a,s),G(n,f),G(n,c),G(c,u),G(n,l),G(n,d),G(d,h),p||(m=[Le(r,"input",e[14]),Le(a,"click",e[2]),Le(c,"click",e[3]),Le(d,"click",e[4])],p=!0)},p(g,[b]){b&2&&r.value!==g[1]&&na(r,g[1])},i:Ne,o:Ne,d(g){g&&q(t),p=!1,tr(m)}}}function Bb(e,t){console.debug("login invoked",e,t)}function HS(e,t,n){let r,i=Ne,a=()=>(i(),i=Yn(s,v=>n(16,r=v)),s);e.$$.on_destroy.push(()=>i());let{status:s=Et({}),interactions:f={status:s}}=t;a();let{id:c,magic:u,client:l,exportFunc:d,importFunc:h,dataTable:p,stateTable:m}=t,g,b;const w=async()=>{console.debug("login user: ",g),b=u.exportState();const v=await l.query(h,{table:m,user:g});if(!v){alert("there is no data for this user"),at(s,r={user:g,loggedin:!0},r);return}at(s,r={user:g,loggedin:!0},r),u.importState(v.data)},y=async()=>{let v=u.exportData();await l.mutation(d,{data:v,table:p,user:g}),v=u.exportState(),await l.mutation(d,{data:v,table:m,user:g}),alert("save function executed")},x=async()=>{u.importState(b),n(1,g=null)};function _(){g=this.value,n(1,g)}return e.$$set=v=>{"status"in v&&a(n(0,s=v.status)),"interactions"in v&&n(5,f=v.interactions),"id"in v&&n(6,c=v.id),"magic"in v&&n(7,u=v.magic),"client"in v&&n(8,l=v.client),"exportFunc"in v&&n(9,d=v.exportFunc),"importFunc"in v&&n(10,h=v.importFunc),"dataTable"in v&&n(11,p=v.dataTable),"stateTable"in v&&n(12,m=v.stateTable)},[s,g,w,y,x,f,c,u,l,d,h,p,m,Bb,_]}class VS extends bt{constructor(t){super(),yt(this,t,HS,US,_t,{status:0,interactions:5,id:6,magic:7,client:8,exportFunc:9,importFunc:10,dataTable:11,stateTable:12,render:13})}get status(){return this.$$.ctx[0]}set status(t){this.$$set({status:t}),oe()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),oe()}get id(){return this.$$.ctx[6]}set id(t){this.$$set({id:t}),oe()}get magic(){return this.$$.ctx[7]}set magic(t){this.$$set({magic:t}),oe()}get client(){return this.$$.ctx[8]}set client(t){this.$$set({client:t}),oe()}get exportFunc(){return this.$$.ctx[9]}set exportFunc(t){this.$$set({exportFunc:t}),oe()}get importFunc(){return this.$$.ctx[10]}set importFunc(t){this.$$set({importFunc:t}),oe()}get dataTable(){return this.$$.ctx[11]}set dataTable(t){this.$$set({dataTable:t}),oe()}get stateTable(){return this.$$.ctx[12]}set stateTable(t){this.$$set({stateTable:t}),oe()}get render(){return Bb}}function YS(e){let t,n,r,i;return{c(){t=Q("form"),n=Q("input"),this.h()},l(a){t=ee(a,"FORM",{class:!0});var s=te(t);n=ee(s,"INPUT",{type:!0,class:!0,placeholder:!0}),s.forEach(q),this.h()},h(){B(n,"type","text"),B(n,"class","block w-full px-5 py-1.5 text-base font-normal text-gray-700 bg-white bg-clip-padding bg-no-repeat border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"),B(n,"placeholder",e[0]),B(t,"class","px-[1%] py-[1%] ml-[5.9%]")},m(a,s){xe(a,t,s),G(t,n),na(n,e[2]),r||(i=[Le(n,"input",e[8]),Le(n,"change",e[3])],r=!0)},p(a,[s]){s&1&&B(n,"placeholder",a[0]),s&4&&n.value!==a[2]&&na(n,a[2])},i:Ne,o:Ne,d(a){a&&q(t),r=!1,tr(i)}}}function WS(e,t,n){let r,i=Ne,a=()=>(i(),i=Yn(c,g=>n(9,r=g)),c);e.$$.on_destroy.push(()=>i());let s=null,{placeholder:f="textbox"}=t,{change:c=Et({})}=t;a();let{id:u}=t,{interactions:l={change:c}}=t;function d(){c.isActive&&at(c,r={text:s},r)}function h(g){g&&R.is(Array,g)&&g.length&&n(0,f=String(g[0]))}function p(g,b){n(2,s=g),d()}function m(){s=this.value,n(2,s)}return e.$$set=g=>{"placeholder"in g&&n(0,f=g.placeholder),"change"in g&&a(n(1,c=g.change)),"id"in g&&n(4,u=g.id),"interactions"in g&&n(5,l=g.interactions)},[f,c,s,d,u,l,h,p,m]}class XS extends bt{constructor(t){super(),yt(this,t,WS,YS,_t,{placeholder:0,change:1,id:4,interactions:5,render:6,load:7})}get placeholder(){return this.$$.ctx[0]}set placeholder(t){this.$$set({placeholder:t}),oe()}get change(){return this.$$.ctx[1]}set change(t){this.$$set({change:t}),oe()}get id(){return this.$$.ctx[4]}set id(t){this.$$set({id:t}),oe()}get interactions(){return this.$$.ctx[5]}set interactions(t){this.$$set({interactions:t}),oe()}get render(){return this.$$.ctx[6]}get load(){return this.$$.ctx[7]}}function GS(e,t,n){let r,i=Ne,a=()=>(i(),i=Yn(f,g=>n(8,r=g)),f);e.$$.on_destroy.push(()=>i());let{id:s,valid:f=Et({}),interactions:c={valid:f},key:u,threshold_string:l}=t;a();let d=[],h=Number(l);function p(g,b){if(console.debug("trigger alert render"),d=g??d,pt(d)||!Be(Array,d))return;const y=Fc(u)(d);if(pt(y)){alert("warning, alert tried to find data for a key that returns an empty list, alert will not be used");return}M2(y)<h?(at(f,r={valid:!1},r),alert("warning, slider selection has too low variance in rainfall,invalid results")):at(f,r={valid:!0},r)}function m(g,b){pt(g)||at(f,r=g,r)}return e.$$set=g=>{"id"in g&&n(1,s=g.id),"valid"in g&&a(n(0,f=g.valid)),"interactions"in g&&n(2,c=g.interactions),"key"in g&&n(3,u=g.key),"threshold_string"in g&&n(4,l=g.threshold_string)},[f,s,c,u,l,p,m]}class KS extends bt{constructor(t){super(),yt(this,t,GS,null,_t,{id:1,valid:0,interactions:2,key:3,threshold_string:4,render:5,load:6})}get id(){return this.$$.ctx[1]}set id(t){this.$$set({id:t}),oe()}get valid(){return this.$$.ctx[0]}set valid(t){this.$$set({valid:t}),oe()}get interactions(){return this.$$.ctx[2]}set interactions(t){this.$$set({interactions:t}),oe()}get key(){return this.$$.ctx[3]}set key(t){this.$$set({key:t}),oe()}get threshold_string(){return this.$$.ctx[4]}set threshold_string(t){this.$$set({threshold_string:t}),oe()}get render(){return this.$$.ctx[5]}get load(){return this.$$.ctx[6]}}var Rb={exports:{}},ZS=Rb.exports={};ZS.forEach=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n]);if(r)return r}};var jb=Rb.exports,JS=function(e){var t=e.stateHandler.getState;function n(s){var f=t(s);return f&&!!f.isDetectable}function r(s){t(s).isDetectable=!0}function i(s){return!!t(s).busy}function a(s,f){t(s).busy=!!f}return{isDetectable:n,markAsDetectable:r,isBusy:i,markBusy:a}},QS=function(e){var t={};function n(s){var f=e.get(s);return f===void 0?[]:t[f]||[]}function r(s,f){var c=e.get(s);t[c]||(t[c]=[]),t[c].push(f)}function i(s,f){for(var c=n(s),u=0,l=c.length;u<l;++u)if(c[u]===f){c.splice(u,1);break}}function a(s){var f=n(s);f&&(f.length=0)}return{get:n,add:r,removeListener:i,removeAllListeners:a}},ek=function(){var e=1;function t(){return e++}return{generate:t}},tk=function(e){var t=e.idGenerator,n=e.stateHandler.getState;function r(a){var s=n(a);return s&&s.id!==void 0?s.id:null}function i(a){var s=n(a);if(!s)throw new Error("setId required the element to have a resize detection state.");var f=t.generate();return s.id=f,f}return{get:r,set:i}},nk=function(e){function t(){}var n={log:t,warn:t,error:t};if(!e&&window.console){var r=function(i,a){i[a]=function(){var f=console[a];if(f.apply)f.apply(console,arguments);else for(var c=0;c<arguments.length;c++)f(arguments[c])}};r(n,"log"),r(n,"warn"),r(n,"error")}return n},qb={exports:{}},zb=qb.exports={};zb.isIE=function(e){function t(){var r=navigator.userAgent.toLowerCase();return r.indexOf("msie")!==-1||r.indexOf("trident")!==-1||r.indexOf(" edge/")!==-1}if(!t())return!1;if(!e)return!0;var n=function(){var r,i=3,a=document.createElement("div"),s=a.getElementsByTagName("i");do a.innerHTML="<!--[if gt IE "+ ++i+"]><i></i><![endif]-->";while(s[0]);return i>4?i:r}();return e===n};zb.isLegacyOpera=function(){return!!window.opera};var Ub=qb.exports,Hb={exports:{}},rk=Hb.exports={};rk.getOption=ik;function ik(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}var ok=Hb.exports,t0=ok,ak=function(t){t=t||{};var n=t.reporter,r=t0.getOption(t,"async",!0),i=t0.getOption(t,"auto",!0);i&&!r&&(n&&n.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var a=n0(),s,f=!1;function c(m,g){!f&&i&&r&&a.size()===0&&d(),a.add(m,g)}function u(){for(f=!0;a.size();){var m=a;a=n0(),m.process()}f=!1}function l(m){f||(m===void 0&&(m=r),s&&(h(s),s=null),m?d():u())}function d(){s=p(u)}function h(m){var g=clearTimeout;return g(m)}function p(m){var g=function(b){return setTimeout(b,0)};return g(m)}return{add:c,force:l}};function n0(){var e={},t=0,n=0,r=0;function i(f,c){c||(c=f,f=0),f>n?n=f:f<r&&(r=f),e[f]||(e[f]=[]),e[f].push(c),t++}function a(){for(var f=r;f<=n;f++)for(var c=e[f],u=0;u<c.length;u++){var l=c[u];l()}}function s(){return t}return{add:i,process:a,size:s}}var Uu="_erd";function sk(e){return e[Uu]={},Vb(e)}function Vb(e){return e[Uu]}function fk(e){delete e[Uu]}var ck={initState:sk,getState:Vb,cleanState:fk},Ai=Ub,uk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;if(!t)throw new Error("Missing required dependency: reporter.");function i(u,l){function d(){l(u)}if(Ai.isIE(8))r(u).object={proxy:d},u.attachEvent("onresize",d);else{var h=f(u);if(!h)throw new Error("Element is not detectable by this strategy.");h.contentDocument.defaultView.addEventListener("resize",d)}}function a(u){var l=e.important?" !important; ":"; ";return(u.join(l)+l).trim()}function s(u,l,d){d||(d=l,l=u,u=null),u=u||{},u.debug;function h(p,m){var g=a(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),b=!1,w=window.getComputedStyle(p),y=p.offsetWidth,x=p.offsetHeight;r(p).startSize={width:y,height:x};function _(){function v(){if(w.position==="static"){p.style.setProperty("position","relative",u.important?"important":"");var C=function(D,A,M,I){function N(E){return E.replace(/[^-\d\.]/g,"")}var P=M[I];P!=="auto"&&N(P)!=="0"&&(D.warn("An element that is positioned static has style."+I+"="+P+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+I+" will be set to 0. Element: ",A),A.style.setProperty(I,"0",u.important?"important":""))};C(t,p,w,"top"),C(t,p,w,"right"),C(t,p,w,"bottom"),C(t,p,w,"left")}}function k(){b||v();function C(A,M){if(!A.contentDocument){var I=r(A);I.checkForObjectDocumentTimeoutId&&window.clearTimeout(I.checkForObjectDocumentTimeoutId),I.checkForObjectDocumentTimeoutId=setTimeout(function(){I.checkForObjectDocumentTimeoutId=0,C(A,M)},100);return}M(A.contentDocument)}var D=this;C(D,function(M){m(p)})}w.position!==""&&(v(),b=!0);var S=document.createElement("object");S.style.cssText=g,S.tabIndex=-1,S.type="text/html",S.setAttribute("aria-hidden","true"),S.onload=k,Ai.isIE()||(S.data="about:blank"),r(p)&&(p.appendChild(S),r(p).object=S,Ai.isIE()&&(S.data="about:blank"))}n?n.add(_):_()}Ai.isIE(8)?d(l):h(l,d)}function f(u){return r(u).object}function c(u){if(r(u)){var l=f(u);l&&(Ai.isIE(8)?u.detachEvent("onresize",l.proxy):u.removeChild(l),r(u).checkForObjectDocumentTimeoutId&&window.clearTimeout(r(u).checkForObjectDocumentTimeoutId),delete r(u).object)}}return{makeDetectable:s,addListener:i,uninstall:c}},lk=jb.forEach,dk=function(e){e=e||{};var t=e.reporter,n=e.batchProcessor,r=e.stateHandler.getState;e.stateHandler.hasState;var i=e.idHandler;if(!n)throw new Error("Missing required dependency: batchProcessor");if(!t)throw new Error("Missing required dependency: reporter.");var a=l(),s="erd_scroll_detection_scrollbar_style",f="erd_scroll_detection_container";function c(_){d(_,s,f)}c(window.document);function u(_){var v=e.important?" !important; ":"; ";return(_.join(v)+v).trim()}function l(){var _=500,v=500,k=document.createElement("div");k.style.cssText=u(["position: absolute","width: "+_*2+"px","height: "+v*2+"px","visibility: hidden","margin: 0","padding: 0"]);var S=document.createElement("div");S.style.cssText=u(["position: absolute","width: "+_+"px","height: "+v+"px","overflow: scroll","visibility: none","top: "+-_*3+"px","left: "+-v*3+"px","visibility: hidden","margin: 0","padding: 0"]),S.appendChild(k),document.body.insertBefore(S,document.body.firstChild);var C=_-S.clientWidth,D=v-S.clientHeight;return document.body.removeChild(S),{width:C,height:D}}function d(_,v,k){function S(M,I){I=I||function(P){_.head.appendChild(P)};var N=_.createElement("style");return N.innerHTML=M,N.id=v,I(N),N}if(!_.getElementById(v)){var C=k+"_animation",D=k+"_animation_active",A=`/* Created by the element-resize-detector library. */
`;A+="."+k+" > div::-webkit-scrollbar { "+u(["display: none"])+` }

`,A+="."+D+" { "+u(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+C,"animation-name: "+C])+` }
`,A+="@-webkit-keyframes "+C+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,A+="@keyframes "+C+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",S(A)}}function h(_){_.className+=" "+f+"_animation_active"}function p(_,v,k){if(_.addEventListener)_.addEventListener(v,k);else if(_.attachEvent)_.attachEvent("on"+v,k);else return t.error("[scroll] Don't know how to add event listeners.")}function m(_,v,k){if(_.removeEventListener)_.removeEventListener(v,k);else if(_.detachEvent)_.detachEvent("on"+v,k);else return t.error("[scroll] Don't know how to remove event listeners.")}function g(_){return r(_).container.childNodes[0].childNodes[0].childNodes[0]}function b(_){return r(_).container.childNodes[0].childNodes[0].childNodes[1]}function w(_,v){var k=r(_).listeners;if(!k.push)throw new Error("Cannot add listener to an element that is not detectable.");r(_).listeners.push(v)}function y(_,v,k){k||(k=v,v=_,_=null),_=_||{};function S(){if(_.debug){var T=Array.prototype.slice.call(arguments);if(T.unshift(i.get(v),"Scroll: "),t.log.apply)t.log.apply(null,T);else for(var z=0;z<T.length;z++)t.log(T[z])}}function C(T){function z(V){var F=V.getRootNode&&V.getRootNode().contains(V);return V===V.ownerDocument.body||V.ownerDocument.body.contains(V)||F}return!z(T)||window.getComputedStyle(T)===null}function D(T){var z=r(T).container.childNodes[0],V=window.getComputedStyle(z);return!V.width||V.width.indexOf("px")===-1}function A(){var T=window.getComputedStyle(v),z={};return z.position=T.position,z.width=v.offsetWidth,z.height=v.offsetHeight,z.top=T.top,z.right=T.right,z.bottom=T.bottom,z.left=T.left,z.widthCSS=T.width,z.heightCSS=T.height,z}function M(){var T=A();r(v).startSize={width:T.width,height:T.height},S("Element start size",r(v).startSize)}function I(){r(v).listeners=[]}function N(){if(S("storeStyle invoked."),!r(v)){S("Aborting because element has been uninstalled");return}var T=A();r(v).style=T}function P(T,z,V){r(T).lastWidth=z,r(T).lastHeight=V}function E(T){return g(T).childNodes[0]}function j(){return 2*a.width+1}function Z(){return 2*a.height+1}function re(T){return T+10+j()}function J(T){return T+10+Z()}function W(T){return T*2+j()}function H(T){return T*2+Z()}function X(T,z,V){var F=g(T),ce=b(T),fe=re(z),de=J(V),me=W(z),U=H(V);F.scrollLeft=fe,F.scrollTop=de,ce.scrollLeft=me,ce.scrollTop=U}function K(){var T=r(v).container;if(!T){T=document.createElement("div"),T.className=f,T.style.cssText=u(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),r(v).container=T,h(T),v.appendChild(T);var z=function(){r(v).onRendered&&r(v).onRendered()};p(T,"animationstart",z),r(v).onAnimationStart=z}return T}function O(){function T(){var Re=r(v).style;if(Re.position==="static"){v.style.setProperty("position","relative",_.important?"important":"");var xt=function(Zt,Nt,Lr,wn){function L(Ee){return Ee.replace(/[^-\d\.]/g,"")}var ae=Lr[wn];ae!=="auto"&&L(ae)!=="0"&&(Zt.warn("An element that is positioned static has style."+wn+"="+ae+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+wn+" will be set to 0. Element: ",Nt),Nt.style[wn]=0)};xt(t,v,Re,"top"),xt(t,v,Re,"right"),xt(t,v,Re,"bottom"),xt(t,v,Re,"left")}}function z(Re,xt,Zt,Nt){return Re=Re?Re+"px":"0",xt=xt?xt+"px":"0",Zt=Zt?Zt+"px":"0",Nt=Nt?Nt+"px":"0",["left: "+Re,"top: "+xt,"right: "+Nt,"bottom: "+Zt]}if(S("Injecting elements"),!r(v)){S("Aborting because element has been uninstalled");return}T();var V=r(v).container;V||(V=K());var F=a.width,ce=a.height,fe=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),de=u(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(z(-(1+F),-(1+ce),-ce,-F))),me=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),U=u(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),pe=u(["position: absolute","left: 0","top: 0"]),Ae=u(["position: absolute","width: 200%","height: 200%"]),Pe=document.createElement("div"),Oe=document.createElement("div"),Pt=document.createElement("div"),Ke=document.createElement("div"),on=document.createElement("div"),Ze=document.createElement("div");Pe.dir="ltr",Pe.style.cssText=fe,Pe.className=f,Oe.className=f,Oe.style.cssText=de,Pt.style.cssText=me,Ke.style.cssText=pe,on.style.cssText=U,Ze.style.cssText=Ae,Pt.appendChild(Ke),on.appendChild(Ze),Oe.appendChild(Pt),Oe.appendChild(on),Pe.appendChild(Oe),V.appendChild(Pe);function $(){var Re=r(v);Re&&Re.onExpand?Re.onExpand():S("Aborting expand scroll handler: element has been uninstalled")}function ie(){var Re=r(v);Re&&Re.onShrink?Re.onShrink():S("Aborting shrink scroll handler: element has been uninstalled")}p(Pt,"scroll",$),p(on,"scroll",ie),r(v).onExpandScroll=$,r(v).onShrinkScroll=ie}function ne(){function T(me,U,pe){var Ae=E(me),Pe=re(U),Oe=J(pe);Ae.style.setProperty("width",Pe+"px",_.important?"important":""),Ae.style.setProperty("height",Oe+"px",_.important?"important":"")}function z(me){var U=v.offsetWidth,pe=v.offsetHeight,Ae=U!==r(v).lastWidth||pe!==r(v).lastHeight;S("Storing current size",U,pe),P(v,U,pe),n.add(0,function(){if(Ae){if(!r(v)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}if(_.debug){var Oe=v.offsetWidth,Pt=v.offsetHeight;(Oe!==U||Pt!==pe)&&t.warn(i.get(v),"Scroll: Size changed before updating detector elements.")}T(v,U,pe)}}),n.add(1,function(){if(!r(v)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}X(v,U,pe)}),Ae&&me&&n.add(2,function(){if(!r(v)){S("Aborting because element has been uninstalled");return}if(!V()){S("Aborting because element container has not been initialized");return}me()})}function V(){return!!r(v).container}function F(){function me(){return r(v).lastNotifiedWidth===void 0}S("notifyListenersIfNeeded invoked");var U=r(v);if(me()&&U.lastWidth===U.startSize.width&&U.lastHeight===U.startSize.height)return S("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(U.lastWidth===U.lastNotifiedWidth&&U.lastHeight===U.lastNotifiedHeight)return S("Not notifying: Size already notified");S("Current size not notified, notifying..."),U.lastNotifiedWidth=U.lastWidth,U.lastNotifiedHeight=U.lastHeight,lk(r(v).listeners,function(pe){pe(v)})}function ce(){if(S("startanimation triggered."),D(v)){S("Ignoring since element is still unrendered...");return}S("Element rendered.");var me=g(v),U=b(v);(me.scrollLeft===0||me.scrollTop===0||U.scrollLeft===0||U.scrollTop===0)&&(S("Scrollbars out of sync. Updating detector elements..."),z(F))}function fe(){if(S("Scroll detected."),D(v)){S("Scroll event fired while unrendered. Ignoring...");return}z(F)}if(S("registerListenersAndPositionElements invoked."),!r(v)){S("Aborting because element has been uninstalled");return}r(v).onRendered=ce,r(v).onExpand=fe,r(v).onShrink=fe;var de=r(v).style;T(v,de.width,de.height)}function ue(){if(S("finalizeDomMutation invoked."),!r(v)){S("Aborting because element has been uninstalled");return}var T=r(v).style;P(v,T.width,T.height),X(v,T.width,T.height)}function Y(){k(v)}function se(){S("Installing..."),I(),M(),n.add(0,N),n.add(1,O),n.add(2,ne),n.add(3,ue),n.add(4,Y)}S("Making detectable..."),C(v)?(S("Element is detached"),K(),S("Waiting until element is attached..."),r(v).onRendered=function(){S("Element is now attached"),se()}):se()}function x(_){var v=r(_);v&&(v.onExpandScroll&&m(g(_),"scroll",v.onExpandScroll),v.onShrinkScroll&&m(b(_),"scroll",v.onShrinkScroll),v.onAnimationStart&&m(v.container,"animationstart",v.onAnimationStart),v.container&&_.removeChild(v.container))}return{makeDetectable:y,addListener:w,uninstall:x,initDocument:c}},Ii=jb.forEach,hk=JS,pk=QS,gk=ek,mk=tk,bk=nk,r0=Ub,yk=ak,$n=ck,_k=uk,vk=dk;function i0(e){return Array.isArray(e)||e.length!==void 0}function o0(e){if(Array.isArray(e))return e;var t=[];return Ii(e,function(n){t.push(n)}),t}function a0(e){return e&&e.nodeType===1}var wk=function(e){e=e||{};var t;if(e.idHandler)t={get:function(y){return e.idHandler.get(y,!0)},set:e.idHandler.set};else{var n=gk(),r=mk({idGenerator:n,stateHandler:$n});t=r}var i=e.reporter;if(!i){var a=i===!1;i=bk(a)}var s=Bn(e,"batchProcessor",yk({reporter:i})),f={};f.callOnAdd=!!Bn(e,"callOnAdd",!0),f.debug=!!Bn(e,"debug",!1);var c=pk(t),u=hk({stateHandler:$n}),l,d=Bn(e,"strategy","object"),h=Bn(e,"important",!1),p={reporter:i,batchProcessor:s,stateHandler:$n,idHandler:t,important:h};if(d==="scroll"&&(r0.isLegacyOpera()?(i.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),d="object"):r0.isIE(9)&&(i.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),d="object")),d==="scroll")l=vk(p);else if(d==="object")l=_k(p);else throw new Error("Invalid strategy name: "+d);var m={};function g(y,x,_){function v(M){var I=c.get(M);Ii(I,function(P){P(M)})}function k(M,I,N){c.add(I,N),M&&N(I)}if(_||(_=x,x=y,y={}),!x)throw new Error("At least one element required.");if(!_)throw new Error("Listener required.");if(a0(x))x=[x];else if(i0(x))x=o0(x);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var S=0,C=Bn(y,"callOnAdd",f.callOnAdd),D=Bn(y,"onReady",function(){}),A=Bn(y,"debug",f.debug);Ii(x,function(I){$n.getState(I)||($n.initState(I),t.set(I));var N=t.get(I);if(A&&i.log("Attaching listener to element",N,I),!u.isDetectable(I)){if(A&&i.log(N,"Not detectable."),u.isBusy(I)){A&&i.log(N,"System busy making it detectable"),k(C,I,_),m[N]=m[N]||[],m[N].push(function(){S++,S===x.length&&D()});return}return A&&i.log(N,"Making detectable..."),u.markBusy(I,!0),l.makeDetectable({debug:A,important:h},I,function(E){if(A&&i.log(N,"onElementDetectable"),$n.getState(E)){u.markAsDetectable(E),u.markBusy(E,!1),l.addListener(E,v),k(C,E,_);var j=$n.getState(E);if(j&&j.startSize){var Z=E.offsetWidth,re=E.offsetHeight;(j.startSize.width!==Z||j.startSize.height!==re)&&v(E)}m[N]&&Ii(m[N],function(J){J()})}else A&&i.log(N,"Element uninstalled before being detectable.");delete m[N],S++,S===x.length&&D()})}A&&i.log(N,"Already detecable, adding listener."),k(C,I,_),S++}),S===x.length&&D()}function b(y){if(!y)return i.error("At least one element is required.");if(a0(y))y=[y];else if(i0(y))y=o0(y);else return i.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");Ii(y,function(x){c.removeAllListeners(x),l.uninstall(x),$n.cleanState(x)})}function w(y){l.initDocument&&l.initDocument(y)}return{listenTo:g,removeListener:c.removeListener,removeAllListeners:c.removeAllListeners,uninstall:b,initDocument:w}};function Bn(e,t,n){var r=e[t];return r==null&&n!==void 0?n:r}const xk=Vx(wk);xk({strategy:"scroll"});function Sk(e,t,n){let r,i;ta(e,Zh,f=>n(2,r=f)),ta(e,Jh,f=>n(3,i=f));let a=[];function s(f,c){a=f??a,console.log("in query update.... ",f,c),at(Jh,i[c]=a,i);let u={Sep:{start:24,end:27},Oct:{start:27,end:30},Nov:{start:30,end:33}};c=="defaults_q"&&at(Zh,r=a.map(l=>({chirps_early:{start:l.chirps_early_first,end:l.chirps_early_last},chirps_late:{start:l.chirps_late_first,end:l.chirps_late_last},vegetation:u[l.evi_month]})),r)}return[s]}class kk extends bt{constructor(t){super(),yt(this,t,Sk,null,_t,{render:0})}get render(){return this.$$.ctx[0]}}function Mk(e){let t,n;return{c(){t=Q("div"),n=uy("svg"),this.h()},l(r){t=ee(r,"DIV",{class:!0});var i=te(t);n=ly(i,"svg",{id:!0,viewBox:!0,width:!0,height:!0});var a=te(n);a.forEach(q),i.forEach(q),this.h()},h(){B(n,"id","svgcontainer"),B(n,"viewBox","372 130 30 30"),B(n,"width","100%"),B(n,"height","100%"),B(t,"class","w-5/5 h-5/5")},m(r,i){xe(r,t,i),G(t,n),e[4](t)},p:Ne,i:Ne,o:Ne,d(r){r&&q(t),e[4](null)}}}function Ak(e,t,n){let{spec:r}=t,{theplot:i=null}=t,a,s=[],f;function c(l,d){if(!l||l.length==0)return;d=="overlay"||(s=l??s),console.log("map data to plot: ",s);let h={projection:"equirectangular",color:{type:"quantile",n:9,scheme:"blues"},marks:[Hx(s,{strokeOpacity:.5,strokeWidth:.01,precision:.01,fill:m=>m.properties.OBJECTID})]};n(1,i=Ru(h)),f=i.children[1];let p=document.getElementById("svgcontainer");p.innerHTML="",p.append(f)}function u(l){Ar[l?"unshift":"push"](()=>{a=l,n(0,a)})}return e.$$set=l=>{"spec"in l&&n(2,r=l.spec),"theplot"in l&&n(1,i=l.theplot)},[a,i,r,c,u]}let Ek=class extends bt{constructor(t){super(),yt(this,t,Ak,Mk,_t,{spec:2,theplot:1,render:3})}get spec(){return this.$$.ctx[2]}set spec(t){this.$$set({spec:t}),oe()}get theplot(){return this.$$.ctx[1]}set theplot(t){this.$$set({theplot:t}),oe()}get render(){return this.$$.ctx[3]}};const Tk=Object.freeze(Object.defineProperty({__proto__:null,Alert:KS,BarGrouped:NS,Container:hS,CropCal:LS,DropDown:zS,Header:Iy,Line:bS,Login:VS,Map:Ek,MatchingTable:PS,MatchingTableBackend:Ty,OverlayBackend:Cy,QueryBackend:Ny,QueryUpdate:kk,Slider:ES,Spinner:Ly,Textbox:XS},Symbol.toStringTag,{value:"Module"}));let Ck=Df(Tk,n6);function jo(e,t){if(!e)throw new Error(t)}function Nk(e){let t=e.replaceAll(/\$\w+/g,n=>`o['${n.substring(1)}']`);return new Function("o",`return ${t}`)}const Yb=Of(k0(Be(Array),Be(Object)),In(e=>Yb(e)),Nk);let Mf={};class Dk{constructor(t,n){this.magic=t,this.config=n,this.backends={},this.interactions={},this.views={},this.viewIdToViews,this.deferred=[],this._deferredMode=!1;const r=a=>s=>{let f=this.magic.backend[a](s);return f.type=a,f};["overlay","duckdb","array","identity"].forEach(a=>this[a]=r(a)),this.root=document.createElement("div"),document.body.appendChild(this.root),this.loadBackends(n.backends??[]),this.loadViews(n.views??[]),this._deferredMode=!0,this.deferred.forEach(a=>a())}defer(t,n){if(this._deferredMode)throw new Error(n);this.deferred.push(t.bind(this))}async init(){for(let t of fn(this.backends))t.type=="duckdb"&&await t.init();await this.loadDependencies(this.config.dependencies??[]);for(let t of fn(this.backends))switch(t.type){case"array":t.execute();break;case"query":await t.execute();break;case"matching":await t.execute();break}sn((t,n)=>{var r;(r=this.views[n])==null||r.load(t())},this.magic.dependencies.defaults);for(let t of fn(this.backends))t.save&&this.magic.saveBackends(t)}newName(t="name"){return Mf[t]=Mf[t]??0,`${t}${Mf[t]++}`}loadBackends(t){let n=al(this.createBackend.bind(this));return p0(r=>r.type=="duckdb",t).forEach(n),x0(r=>r.type=="duckdb",t).forEach(n),this}createBackend(t){let n=t.name??(t.type?this.newName(t.type):this.newName("backend"));if(this.backends[n])throw new Error(`Backend ${n} already exists`);let r=null;if(t.type)r=this[t.type](t);else if(t.query)r=this.query(t);else if(t.matching)r=this.matching(t);else{if(t.backend)return this.backends[t.backend];if(t.interaction){r=this.identity();let i=this.interactions[t.interaction];Me(i)&&this.defer(()=>this.createBackend(t),`Interaction ${t.interaction} not found`),r&&i&&this.magic.connect(r,i)}else if(t.array)r=this.array({...t,data:t.array});else throw new Error("Can't initialize backend config:",t)}return jo(!Me(r),`Backend is null ${r.type}`),jo(!Me(r.type),`New Backend must have type attr ${JSON.stringify(t)}`),r.save=t.save,this.backends[n]=r,r}matching({name:t,ignore_cols:n,default_func:r,backend:i,matching:a,defaults:s={}}){i=Be(String,i)?this.backends[i]:i,t=t??this.newName("matching");let f=this.magic.backend.matching({id:t,backend:i,default_func:r,matching:a,ignore_cols:n,defaults:s});return f.type="matching",f}query({name:t,query:n,defaults:r={},db:i="duckdb"}){i=Be(String,i)?this.backends[i]:i,t=t??this.newName("query");let a=this.magic.backend.query({id:t,backend:i,query:n,name:t,defaults:r});return a.type="query",a}loadViews(t){t=t??[];let n=t.map(r=>{let i=this.canonicalizeData(r.data),a=this.makeView(r);return this.views[r.name]=a,this.magic.view(a),a.backends=ji(a.backends??[],i??[]),a.backends.forEach(s=>{this.magic.render(s,a)}),a});O2(t,n).forEach(([r,i])=>{(r.interactions??[]).forEach(s=>{this.connectInteractions(i,s)})})}connectInteractions(t,{to:n,name:r,type:i,defaults:a}){let s=t.interactions[i];if(Me(s))throw new Error(`Interaction ${i} not found in View ${t.id}`);if(this.interactions[r]=s,Me(a)||this.magic.dependencies.setDefault(t,()=>a),Me(n)||pt(n)){this.magic.connect(null,s,null);return}(Be(Array,n)?n:[n]).forEach(c=>{c=Be(String,c)?{backend:c}:c;let u=this.backends[c.backend],l=Yb(sl(["opts","backend","view"],c));if(Me(u)){let d=c.view;if(/\w+\.\d+/.test(d)){let[h,p]=d.split(".");u=this.views[h].backends[parseInt(p)],jo(!Me(u),`Backend not found ${d}`)}else{let h=this.views[d];Me(h)&&this.defer(()=>this.connectInteractions(t,{to:c,name:r,type:i,defaults:a}),`Interaction references nonexistent backend ${c.backend} and view ${d}`),u=this.identity(),this.magic.render(u,h)}}this.magic.connect(u,s,l)})}makeView(t){let n=t.type,r=sl(["data","interactions"],t);r.id=r.id??r.name??this.newName(n);let i=null;t.selector?i=document.querySelector(t.selector):(i=document.createElement("div"),this.root.appendChild(i)),console.log("new View",n,r);let a=new Ck[n]({target:i,props:r});return a.el=i,a}canonicalizeData(t){if(Be(String,t)){let n=this.backends[t];return jo(!Me(n),`Backend named ${t} not found`),[n]}return t=Be(Array,t)?t:[t],Pc(br(Oy,t[0]),["query","matching","backend","interaction"])||(t=[{array:t}]),t.map(al(this.createBackend.bind(this)))}async loadDependencies(t){(t??[]).forEach(({source:n,attr:r,target:i})=>{let a=null;if(a=this.interactions[n],Me(a)&&/\w+\.\w+/.test(n)){let[f,c]=n.split(".");a=this.views[f].interactions[c]}if(Me(a))throw new Error(`Interaction not found ${n}`);(Be(Array,i)?i:[i]).forEach(async f=>{f=Be(String,f)?{view:f}:f;let c=f.view,u=this.views[c];if(Me(u))throw new Error("View not found: ",c);let l;if(br("function")(f.defaults)){let d=await this.backends[f.defaults.backend].execute();l=new Function("e","a",f.defaults.function).bind(d)}else l=f.defaults?()=>f.defaults:null;this.magic.dependencies.add(a.get(r),u,null,l)})})}}class Va{constructor(t){this.compPos=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this._array[i]>0&&n[i]>0);r.push(a)}return r},this.isNegative=function(n){return n===0||n===null},this.compZero=function(n){for(var r=[],i=0;i<this._array.length;i++){let a=+(this.isNegative(this._array[i])&&this.isNegative(n[i]));r.push(a)}return r},this.getPos=function(){for(var n=[],r=0;r<this._array.length;r++)+(this._array[r]>0),n.push(+(this._array[r]>0));return n},this.getZero=function(){for(var n=[],r=0;r<this._array.length;r++)+this.isNegative(this._array[r]),n.push(+(this._array[r]===0));return n},this._array=t}get array(){return this._array}}const Wb=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new Va(i),f=new Va(a),c=s.compPos(f.array),u=f.getPos(),l=c.filter(p=>p>0).length,d=u.filter(p=>p>0).length;return(l/d).toFixed(2)},Xb=function(e,t,n,r){let i=t.map(Number),a=r.map(Number),s=new Va(i),f=new Va(a),c=s.compZero(f.array),u=f.getZero(),l=c.filter(p=>p>0).length,d=u.filter(p=>p>0).length;return(l/d).toFixed(2)},Ik=function(e,t,n,r){return Wb(e,t,n,r)},Lk=function(e,t,n,r){return Xb(e,t,n,r)},Ok=function(e,t,n,r){let i=Number(Wb(e,t,n,r)),a=Number(Xb(e,t,n,r));return((i+a)/2).toFixed(2)};let Fk=[{"true positive":Ik,"true negative":Lk,"average matching":Ok}];const Pk=`backends:
- type: duckdb
  name: duckdb
  sources:
  - parquet: "admin_raw.parquet"
    name: "admin_raw"
  - parquet: "chirps_raw.parquet"
    name: "chirps_raw"
  - parquet: "evi_raw.parquet"
    name: "evi_raw"
  - parquet: "crop_cal_raw.parquet"
    name: crop_cal_raw
  - parquet: "badyear_raw.parquet"
    name: badyear_raw
- type: query
  name: climatology
  # query doesn't have source/sources -- assumes all data is loaded already
  db: duckdb
  query: "" # if query name is in model out, will pull query from there, replacing this text 
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1981
    year_end: 2020
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    vegetation_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    vegetation_first: 10
    vegetation_last: 30
    scalar_vegetation: 1
    exit_multiplier: 0.8
  save: true 
- type: query
  name: crop_cal
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1981
    year_end: 2020
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    vegetation_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    vegetation_first: 10
    vegetation_last: 30
    scalar_vegetation: 1
    exit_multiplier: 0.8
  save: true
- type: query
  name: payout_combined 
  db: duckdb
  query: ""
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1981
    year_end: 2020
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    vegetation_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    vegetation_first: 10
    vegetation_last: 30
    scalar_vegetation: 1
    exit_multiplier: 0.8
  save: true 
- type: query
  name: badyear 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1981
    year_end: 2020
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    vegetation_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    vegetation_first: 10
    vegetation_last: 30
    scalar_vegetation: 1
    exit_multiplier: 0.8
  save: true 
- type: query
  name: matching 
  db: duckdb
  query: "" 
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1981
    year_end: 2020
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    vegetation_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    vegetation_first: 10
    vegetation_last: 30
    scalar_vegetation: 1
    exit_multiplier: 0.8
  save: true 
- type: matching
  name: mtb 
  ignore_cols:
    - year
    - gid
    - value
  default_func: "true positive" 
  backend: matching
  #TODO: how to integrate functions into yaml 
  matching: ""
  defaults:
    region: 1128
    dekcap: 24
    freq: 0.23
    year_start: 1981
    year_end: 2020
    back_fill_year: 2001
    sum_early_weight: 0.4
    sum_late_weight: 0.4 
    vegetation_weight: 0.6
    sum_early_first: 1
    sum_early_last: 30
    sum_late_first: 1
    sum_late_last: 30
    vegetation_first: 10
    vegetation_last: 30
    scalar_vegetation: 1
    exit_multiplier: 0.8 
  save: true
- type: query
  name: default_q 
  db: duckdb
  query: "SELECT gid, chirps_early_first, chirps_early_last, chirps_late_first, chirps_late_last, evi_month FROM admin_raw ORDER BY gid"
- type: overlay
  name: overlay
views:
- type: Login
  name: Login
  selector: "#login"
  dataTable: Ethiopia_Data
  stateTable: Ethiopia_State
- type: Line
  name: climatology_chart
  selector: "#chart-1"
  xAttr: dekad 
  yAttr: average_value
  data:
  - backend: climatology
  - backend: overlay
    target: overlay
- type: CropCal 
  name: crop_calendar 
  selector: "#chart-2"
  xDomainMin: 1
  xDomainMax: 36
  data:
  - backend: crop_cal 
  - backend: overlay
    target: overlay
- type: BarGrouped   
  name: payout_combined
  selector: "#chart-3"
  xAttr: year
  yAttr: value
  yMax: 1
  xDomainMin: 1981 
  xDomainMax: 2021
  groupNames:
    - sum_early
    - sum_late
    - vegetation
    - combined_payout
  data:
  - backend: payout_combined
  - backend: badyear
  - backend: overlay
    target: overlay
- type: MatchingTable    
  name: matching_table  
  selector: "#chart-4"
  data:
  - backend: mtb  
- type: DropDown
  name: Village_Dropdown
  selector: "#dropdown-1"
  interactions:
    - type: change
      name: ddc
      defaults:
        region: 1128
      to:
        - backend: climatology
          region: $gid
        - backend: mtb
          region: $gid
        - backend: crop_cal
          region: $gid
        - backend: payout_combined 
          region: $gid

  index: 0
  dropdown_key: village
  data: 
  - query: "SELECT gid, village FROM admin_raw ORDER BY gid"
- type: DropDown
  name: Matching_Dropdown
  selector: "#dropdown-2"
  interactions:
    - type: change
      name: ddc-matching
      to:
        - backend: mtb
          func_elected: $value
  index: 0
  dropdown_key: value
  data: 
  - query: "SELECT * FROM (VALUES (0,'true positive'),(1,'true negative'),(2,'average matching')) MATCHING_OPTIONS(idx, value);"
- type: Slider
  name: PlantEarly
  selector: "#slider-1"
  min: 1
  max: 36
  description: "CHIRPS sum early"
  interactions:
  - type: change
    to: 
    - backend: payout_combined 
      sum_early_first: $left
      sum_early_last: $right
    - backend: mtb 
      sum_early_first: $left
      sum_early_last: $right
    - backend: overlay
      sum_early:
        left: $left
        right: $right
- type: Slider
  name: PlantLate
  selector: "#slider-2"
  min: 1
  max: 36
  description: "CHIRPS sum late"
  interactions:
  - type: change
    to: 
    - backend: payout_combined
      sum_late_first: $left
      sum_late_last: $right
    - backend: mtb 
      sum_late_first: $left
      sum_late_last: $right
    - backend: overlay
      sum_late:
        left: $left
        right: $right
- type: Slider
  name: Vegetation
  selector: "#slider-3"
  min: 1
  max: 36
  description: "Vegetation"
  interactions:
  - type: change
    to:
    - backend: payout_combined 
      vegetation_first: $left
      vegetation_last: $right
    - backend: mtb 
      vegetation_first: $left
      vegetation_last: $right
    - backend: overlay
      vegetation:
        left: $left
        right: $right
- type: Alert
  name: Alert
  selector: "#alert"
  threshold_string: "1.0"
  key: "combined_payout"
  data:
    - backend: payout_combined
  interactions:
  - type: valid
dependencies: 
- source: ddc
  attr: "gid"
  target:
    - view: Vegetation
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this; 
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        const month_to_dekad = {
          Sep: { start: 24, end: 27 },
          Oct: { start: 27, end: 30 },
          Nov: { start: 30, end: 33 },
          };
        return {left: month_to_dekad[row.evi_month].start,  right: month_to_dekad[row.evi_month].end}
        ;"
    - view: PlantEarly 
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this; 
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_early_first,  right: row.chirps_early_last}
        ;"
    - view: PlantLate 
      defaults:
        backend: default_q
        function: "
        console.debug('args received into default', e, a);
        if(!a) return;
        let data = this; 
        console.debug('fetching gid ', a[0].store.val()['gid']);
        let row = data.filter((r) => r.gid === a[0].store.val()['gid'])[0];
        return {left: row.chirps_late_first,  right: row.chirps_late_last}
        ;"
`,qo="1.6.3";var ln=[],jt=[],$k=Uint8Array,Af="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var qr=0,Bk=Af.length;qr<Bk;++qr)ln[qr]=Af[qr],jt[Af.charCodeAt(qr)]=qr;jt["-".charCodeAt(0)]=62;jt["_".charCodeAt(0)]=63;function Rk(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function jk(e,t,n){return(t+n)*3/4-n}function Ya(e){var t,n=Rk(e),r=n[0],i=n[1],a=new $k(jk(e,r,i)),s=0,f=i>0?r-4:r,c;for(c=0;c<f;c+=4)t=jt[e.charCodeAt(c)]<<18|jt[e.charCodeAt(c+1)]<<12|jt[e.charCodeAt(c+2)]<<6|jt[e.charCodeAt(c+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=t&255;return i===2&&(t=jt[e.charCodeAt(c)]<<2|jt[e.charCodeAt(c+1)]>>4,a[s++]=t&255),i===1&&(t=jt[e.charCodeAt(c)]<<10|jt[e.charCodeAt(c+1)]<<4|jt[e.charCodeAt(c+2)]>>2,a[s++]=t>>8&255,a[s++]=t&255),a}function qk(e){return ln[e>>18&63]+ln[e>>12&63]+ln[e>>6&63]+ln[e&63]}function zk(e,t,n){for(var r,i=[],a=t;a<n;a+=3)r=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(e[a+2]&255),i.push(qk(r));return i.join("")}function Wa(e){for(var t,n=e.length,r=n%3,i=[],a=16383,s=0,f=n-r;s<f;s+=a)i.push(zk(e,s,s+a>f?f:s+a));return r===1?(t=e[n-1],i.push(ln[t>>2]+ln[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],i.push(ln[t>>10]+ln[t>>4&63]+ln[t<<2&63]+"=")),i.join("")}function zo(e){if(e===void 0)return{};if(!Gb(e))throw new Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function Uk(e){if(typeof e>"u")throw new Error("Client created with undefined deployment address. If you used an environment variable, check that it's set.");if(typeof e!="string")throw new Error(`Invalid deployment address: found ${e}".`);if(!(e.startsWith("http:")||e.startsWith("https:")))throw new Error(`Invalid deployment address: Must start with "https://" or "http://". Found "${e}".`);if(!(e.indexOf("127.0.0.1")!==-1||e.indexOf("localhost")!==-1)&&!e.endsWith(".convex.cloud"))throw new Error(`Invalid deployment address: Must end with ".convex.cloud". Found "${e}".`)}function Gb(e){var i;const t=typeof e=="object",n=Object.getPrototypeOf(e),r=n===null||n===Object.prototype||((i=n==null?void 0:n.constructor)==null?void 0:i.name)==="Object";return t&&r}const Kb=!0,ui=BigInt("-9223372036854775808"),Hu=BigInt("9223372036854775807"),Tc=BigInt("0"),Hk=BigInt("8"),Vk=BigInt("256");function Zb(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}function Yk(e){e<Tc&&(e-=ui+ui);let t=e.toString(16);t.length%2===1&&(t="0"+t);const n=new Uint8Array(new ArrayBuffer(8));let r=0;for(const i of t.match(/.{2}/g).reverse())n.set([parseInt(i,16)],r++),e>>=Hk;return Wa(n)}function Wk(e){const t=Ya(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let n=Tc,r=Tc;for(const i of t)n+=BigInt(i)*Vk**r,r++;return n>Hu&&(n+=ui+ui),n}function Xk(e){if(e<ui||Hu<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);const t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),Wa(new Uint8Array(t))}function Gk(e){const t=Ya(e);if(t.byteLength!==8)throw new Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}const Kk=DataView.prototype.setBigInt64?Xk:Yk,Zk=DataView.prototype.getBigInt64?Gk:Wk,s0=1024;function Cc(e){if(e.length===0)throw new Error("Empty field names are disallowed.");if(e.length>s0)throw new Error(`Field name ${e} exceeds maximum field name length ${s0}.`);if(e.startsWith("$"))throw new Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){const n=e.charCodeAt(t);if(n<32||n>=127)throw new Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function zr(e,t){if(e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string")return e;if(Array.isArray(e))return e.map(i=>zr(i,t));if(typeof e!="object")throw new Error(`Unexpected type of ${e}`);const n=Object.entries(e);if(n.length===1){const i=n[0][0];if(i==="$bytes"){if(typeof e.$bytes!="string")throw new Error(`Malformed $bytes field on ${e}`);return Ya(e.$bytes).buffer}if(i==="$integer"){if(typeof e.$integer!="string")throw new Error(`Malformed $integer field on ${e}`);return Zk(e.$integer)}if(i==="$float"){if(typeof e.$float!="string")throw new Error(`Malformed $float field on ${e}`);const a=Ya(e.$float);if(a.byteLength!==8)throw new Error(`Received ${a.byteLength} bytes, expected 8 for $float`);const f=new DataView(a.buffer).getFloat64(0,Kb);if(!Zb(f))throw new Error(`Float ${f} should be encoded as a number`);return f}if(i==="$set"){if(!Array.isArray(e.$set))throw new Error(`Malformed $set field on ${e}`);if(!t)throw new Error(`Received a Set which is no longer supported as a Convex type, with values: ${e.$set.join(", ")}.`);return new Set(e.$set.map(a=>zr(a,t)))}if(i==="$map"){if(!Array.isArray(e.$map))throw new Error(`Malformed $map field on ${e}`);if(!t)throw new Error(`Received a Map which is no longer supported as a Convex type, with entries: ${e.$map.join(", ")}.`);const a=new Map;for(const s of e.$map){if(!Array.isArray(s)||s.length!==2)throw new Error(`Malformed pair in $map ${e}`);const f=zr(s[0],t),c=zr(s[1],t);a.set(f,c)}return a}}const r={};for(const[i,a]of Object.entries(e))Cc(i),r[i]=zr(a,t);return r}function Li(e,t=!1){return zr(e,t)}function Kr(e){return JSON.stringify(e,(t,n)=>n===void 0?"undefined":typeof n=="bigint"?`${n.toString()}n`:n)}function fr(e,t,n,r,i){var f;if(e===void 0){const c=n&&` (present at path ${n} in original object ${Kr(t)})`;throw new Error(`undefined is not a valid Convex value${c}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(e===null)return e;if(typeof e=="bigint"){if(e<ui||Hu<e)throw new Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:Kk(e)}}if(typeof e=="number")if(Zb(e)){const c=new ArrayBuffer(8);return new DataView(c).setFloat64(0,e,Kb),{$float:Wa(new Uint8Array(c))}}else return e;if(typeof e=="boolean"||typeof e=="string")return e;if(e instanceof ArrayBuffer)return{$bytes:Wa(new Uint8Array(e))};if(Array.isArray(e))return e.map((c,u)=>fr(c,t,n+`[${u}]`,!1,i));if(e instanceof Set){if(!i)throw new Error(Ef(n,"Set",[...e],t));return{$set:[...e].map((c,u)=>fr(c,t,n+`.keys()[${u}]`,!1,i))}}if(e instanceof Map){if(!i)throw new Error(Ef(n,"Map",[...e],t));return{$map:[...e].map(([c,u],l)=>{const d=fr(c,t,n+`.keys()[${l}]`,!1,i),h=fr(u,t,n+`.values()[${l}]`,!1,i);return[d,h]})}}if(!Gb(e)){const c=(f=e==null?void 0:e.constructor)==null?void 0:f.name,u=c?`${c} `:"";throw new Error(Ef(n,u,e,t))}const a={},s=Object.entries(e);s.sort(([c,u],[l,d])=>c===l?0:c<l?-1:1);for(const[c,u]of s)u!==void 0?(Cc(c),a[c]=fr(u,t,n+`.${c}`,!1,i)):r&&(Cc(c),a[c]=Jk(u,t,n+`.${c}`));return a}function Ef(e,t,n,r){return e?`${t}${Kr(n)} is not a supported Convex type (present at path ${e} in original object ${Kr(r)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${Kr(n)} is not a supported Convex type.`}function Jk(e,t,n){if(e===void 0)return{$undefined:null};if(t===void 0)throw new Error(`Programming error. Current value is ${Kr(e)} but original value is undefined`);return fr(e,t,n,!1,!1)}function Uo(e,t=!1){return fr(e,e,"",!1,t)}var Jb;const Qk=Symbol.for("ConvexError");class Ho extends Error{constructor(t){super(typeof t=="string"?t:Kr(t)),this.name="ConvexError",this[Jb]=!0,this.data=t}}Jb=Qk;const eM="color:rgb(0, 145, 255)";function tM(e){switch(e){case"query":return"Q";case"mutation":return"M";case"action":return"A";case"any":return"?"}}function Vo(e,t,n,r){const i=tM(t);if(typeof r=="object"&&(r=`ConvexError ${JSON.stringify(r.errorData,null,2)}`),e==="info"){const a=r.match(/^\[.*?\] /);if(a===null){console.error(`[CONVEX ${i}(${n})] Could not parse console.log`);return}const s=r.slice(1,a[0].length-2),f=r.slice(a[0].length);console.log(`%c[CONVEX ${i}(${n})] [${s}]`,eM,f)}else console.error(`[CONVEX ${i}(${n})] ${r}`)}const Qb=Symbol.for("functionName");function Yo(e){if(typeof e=="string")return e;const t=e[Qb];if(!t)throw new Error(`${e} is not a functionReference`);return t}function ey(e=[]){const t={get(n,r){if(typeof r=="string"){const i=[...e,r];return ey(i)}else if(r===Qb){if(e.length<2){const s=["api",...e].join(".");throw new Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${s}\``)}const i=e.slice(0,-1).join("/"),a=e[e.length-1];return a==="default"?i:i+":"+a}else return r===Symbol.toStringTag?"FunctionReference":void 0}};return new Proxy({},t)}ey();const Wo=560;let Xo=globalThis.fetch;class nM{constructor(t){Uk(t),this.address=`${t}/api`,this.debug=!0}backendUrl(){return this.address}setAuth(t){this.clearAuth(),this.auth=t}setAdminAuth(t){this.clearAuth(),this.adminAuth=t}clearAuth(){this.auth=void 0,this.adminAuth=void 0}setDebug(t){this.debug=t}async query(t,...n){const r=zo(n[0]),i=Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Uo(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${qo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const f=await Xo(`${this.address}/query`,{body:a,method:"POST",headers:s,credentials:"include"});if(!f.ok&&f.status!==Wo)throw new Error(await f.text());const c=await f.json();if(this.debug)for(const u of c.logLines??[])Vo("info","query",i,u);switch(c.status){case"success":return Li(c.value,!0);case"error":throw c.errorData!==void 0?Go(c.errorData,new Ho(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async mutation(t,...n){const r=zo(n[0]),i=Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Uo(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${qo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const f=await Xo(`${this.address}/mutation`,{body:a,method:"POST",headers:s,credentials:"include"});if(!f.ok&&f.status!==Wo)throw new Error(await f.text());const c=await f.json();if(this.debug)for(const u of c.logLines??[])Vo("info","mutation",i,u);switch(c.status){case"success":return Li(c.value,!0);case"error":throw c.errorData!==void 0?Go(c.errorData,new Ho(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async action(t,...n){const r=zo(n[0]),i=Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:[Uo(r)]}),s={"Content-Type":"application/json","Convex-Client":`npm-${qo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const f=await Xo(`${this.address}/action`,{body:a,method:"POST",headers:s,credentials:"include"});if(!f.ok&&f.status!==Wo)throw new Error(await f.text());const c=await f.json();if(this.debug)for(const u of c.logLines??[])Vo("info","action",i,u);switch(c.status){case"success":return Li(c.value,!0);case"error":throw c.errorData!==void 0?Go(c.errorData,new Ho(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}async function(t,...n){const r=zo(n[0]),i=typeof t=="string"?t:Yo(t),a=JSON.stringify({path:i,format:"convex_encoded_json",args:Uo(r)}),s={"Content-Type":"application/json","Convex-Client":`npm-${qo}`};this.adminAuth?s.Authorization=`Convex ${this.adminAuth}`:this.auth&&(s.Authorization=`Bearer ${this.auth}`);const f=await Xo(`${this.address}/function`,{body:a,method:"POST",headers:s,credentials:"include"});if(!f.ok&&f.status!==Wo)throw new Error(await f.text());const c=await f.json();if(this.debug)for(const u of c.logLines??[])Vo("info","any",i,u);switch(c.status){case"success":return Li(c.value,!0);case"error":throw c.errorData!==void 0?Go(c.errorData,new Ho(c.errorMessage)):new Error(c.errorMessage);default:throw new Error(`Invalid response: ${JSON.stringify(c)}`)}}}function Go(e,t){return t.data=Li(e),t}function rM(e){let t,n,r,i,a,s,f,c,u,l,d,h,p,m,g,b,w,y,x,_,v,k,S,C,D;return{c(){t=Q("div"),n=Se(),r=Q("div"),i=Q("div"),a=Q("div"),s=Se(),f=Q("div"),c=Se(),u=Q("div"),l=Q("div"),d=Se(),h=Q("div"),p=Se(),m=Q("div"),g=Se(),b=Q("div"),w=Se(),y=Q("div"),x=Se(),_=Q("div"),v=Q("div"),k=Se(),S=Q("div"),C=Se(),D=Q("div"),this.h()},l(A){t=ee(A,"DIV",{id:!0}),te(t).forEach(q),n=ke(A),r=ee(A,"DIV",{class:!0});var M=te(r);i=ee(M,"DIV",{class:!0});var I=te(i);a=ee(I,"DIV",{id:!0}),te(a).forEach(q),s=ke(I),f=ee(I,"DIV",{id:!0}),te(f).forEach(q),I.forEach(q),c=ke(M),u=ee(M,"DIV",{});var N=te(u);l=ee(N,"DIV",{id:!0}),te(l).forEach(q),d=ke(N),h=ee(N,"DIV",{id:!0}),te(h).forEach(q),p=ke(N),m=ee(N,"DIV",{id:!0}),te(m).forEach(q),g=ke(N),b=ee(N,"DIV",{id:!0}),te(b).forEach(q),w=ke(N),y=ee(N,"DIV",{id:!0}),te(y).forEach(q),N.forEach(q),x=ke(M),_=ee(M,"DIV",{});var P=te(_);v=ee(P,"DIV",{id:!0}),te(v).forEach(q),k=ke(P),S=ee(P,"DIV",{id:!0}),te(S).forEach(q),C=ke(P),D=ee(P,"DIV",{id:!0}),te(D).forEach(q),P.forEach(q),M.forEach(q),this.h()},h(){B(t,"id","alert"),B(a,"id","login"),B(f,"id","dropdown-1"),B(i,"class","col-span-2"),B(l,"id","chart-1"),B(h,"id","chart-2"),B(m,"id","slider-1"),B(b,"id","slider-2"),B(y,"id","slider-3"),B(v,"id","chart-3"),B(S,"id","dropdown-2"),B(D,"id","chart-4"),B(r,"class","grid grid-cols-2")},m(A,M){xe(A,t,M),xe(A,n,M),xe(A,r,M),G(r,i),G(i,a),G(i,s),G(i,f),G(r,c),G(r,u),G(u,l),G(u,d),G(u,h),G(u,p),G(u,m),G(u,g),G(u,b),G(u,w),G(u,y),G(r,x),G(r,_),G(_,v),G(_,k),G(_,S),G(_,C),G(_,D)},p:Ne,i:Ne,o:Ne,d(A){A&&q(t),A&&q(n),A&&q(r)}}}function iM(e,t,n){let r;ta(e,nl,u=>n(1,r=u));let i=nM;const a=new i("https://rightful-anteater-150.convex.cloud");a.mutation("saveParams"),a.query("getParams");let s=V5(Pk,"utf8");console.log(s),at(nl,r=new Dy,r);let f=new Gx(r),c;return dy(async()=>{(s.backends??[]).forEach(u=>{u.type==="matching"?u.matching=Fk:br(u.name)(rl)&&(u.query=rl[u.name].query)}),(s.views??[]).forEach(u=>{u.type==="Login"&&(u.magic=f,u.exportFunc="saveToConvex",u.importFunc="getFromConvex",u.client=a)}),c=new Dk(f,s),await c.init()}),[]}class hM extends bt{constructor(t){super(),yt(this,t,iM,rM,_t,{})}}export{hM as default};
